if(function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function i(e){var t=e.length,i=Q.type(e);return"function"!==i&&!Q.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===i||0===t||"number"==typeof t&&t>0&&t-1 in e))}function n(e,t,i){if(Q.isFunction(t))return Q.grep(e,function(e,n){return!!t.call(e,n,e)!==i});if(t.nodeType)return Q.grep(e,function(e){return e===t!==i});if("string"==typeof t){if(se.test(t))return Q.filter(t,e,i);t=Q.filter(t,e)}return Q.grep(e,function(e){return q.call(t,e)>=0!==i})}function r(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function o(e){var t=fe[e]={};return Q.each(e.match(pe)||[],function(e,i){t[i]=!0}),t}function a(){X.removeEventListener("DOMContentLoaded",a,!1),e.removeEventListener("load",a,!1),Q.ready()}function s(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=Q.expando+s.uid++}function l(e,t,i){var n;if(void 0===i&&1===e.nodeType)if(n="data-"+t.replace(_e,"-$1").toLowerCase(),i=e.getAttribute(n),"string"==typeof i){try{i="true"===i||"false"!==i&&("null"===i?null:+i+""===i?+i:be.test(i)?Q.parseJSON(i):i)}catch(e){}ye.set(e,t,i)}else i=void 0;return i}function c(){return!0}function u(){return!1}function d(){try{return X.activeElement}catch(e){}}function h(e,t){return Q.nodeName(e,"table")&&Q.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function p(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function f(e){var t=Oe.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function m(e,t){for(var i=0,n=e.length;i<n;i++)ve.set(e[i],"globalEval",!t||ve.get(t[i],"globalEval"))}function g(e,t){var i,n,r,o,a,s,l,c;if(1===t.nodeType){if(ve.hasData(e)&&(o=ve.access(e),a=ve.set(t,o),c=o.events)){delete a.handle,a.events={};for(r in c)for(i=0,n=c[r].length;i<n;i++)Q.event.add(t,r,c[r][i])}ye.hasData(e)&&(s=ye.access(e),l=Q.extend({},s),ye.set(t,l))}}function v(e,t){var i=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&Q.nodeName(e,t)?Q.merge([e],i):i}function y(e,t){var i=t.nodeName.toLowerCase();"input"===i&&Ae.test(e.type)?t.checked=e.checked:"input"!==i&&"textarea"!==i||(t.defaultValue=e.defaultValue)}function b(t,i){var n,r=Q(i.createElement(t)).appendTo(i.body),o=e.getDefaultComputedStyle&&(n=e.getDefaultComputedStyle(r[0]))?n.display:Q.css(r[0],"display");return r.detach(),o}function _(e){var t=X,i=Fe[e];return i||(i=b(e,t),"none"!==i&&i||(He=(He||Q("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=He[0].contentDocument,t.write(),t.close(),i=b(e,t),He.detach()),Fe[e]=i),i}function w(e,t,i){var n,r,o,a,s=e.style;return i=i||Be(e),i&&(a=i.getPropertyValue(t)||i[t]),i&&(""!==a||Q.contains(e.ownerDocument,e)||(a=Q.style(e,t)),ze.test(a)&&Ue.test(t)&&(n=s.width,r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=i.width,s.width=n,s.minWidth=r,s.maxWidth=o)),void 0!==a?a+"":a}function x(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function E(e,t){if(t in e)return t;for(var i=t[0].toUpperCase()+t.slice(1),n=t,r=Je.length;r--;)if(t=Je[r]+i,t in e)return t;return n}function A(e,t,i){var n=We.exec(t);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):t}function C(e,t,i,n,r){for(var o=i===(n?"border":"content")?4:"width"===t?1:0,a=0;o<4;o+=2)"margin"===i&&(a+=Q.css(e,i+xe[o],!0,r)),n?("content"===i&&(a-=Q.css(e,"padding"+xe[o],!0,r)),"margin"!==i&&(a-=Q.css(e,"border"+xe[o]+"Width",!0,r))):(a+=Q.css(e,"padding"+xe[o],!0,r),"padding"!==i&&(a+=Q.css(e,"border"+xe[o]+"Width",!0,r)));return a}function k(e,t,i){var n=!0,r="width"===t?e.offsetWidth:e.offsetHeight,o=Be(e),a="border-box"===Q.css(e,"boxSizing",!1,o);if(r<=0||null==r){if(r=w(e,t,o),(r<0||null==r)&&(r=e.style[t]),ze.test(r))return r;n=a&&(Z.boxSizingReliable()||r===e.style[t]),r=parseFloat(r)||0}return r+C(e,t,i||(a?"border":"content"),n,o)+"px"}function $(e,t){for(var i,n,r,o=[],a=0,s=e.length;a<s;a++)n=e[a],n.style&&(o[a]=ve.get(n,"olddisplay"),i=n.style.display,t?(o[a]||"none"!==i||(n.style.display=""),""===n.style.display&&Ee(n)&&(o[a]=ve.access(n,"olddisplay",_(n.nodeName)))):(r=Ee(n),"none"===i&&r||ve.set(n,"olddisplay",r?i:Q.css(n,"display"))));for(a=0;a<s;a++)n=e[a],n.style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?o[a]||"":"none"));return e}function T(e,t,i,n,r){return new T.prototype.init(e,t,i,n,r)}function L(){return setTimeout(function(){Ze=void 0}),Ze=Q.now()}function D(e,t){var i,n=0,r={height:e};for(t=t?1:0;n<4;n+=2-t)i=xe[n],r["margin"+i]=r["padding"+i]=e;return t&&(r.opacity=r.width=e),r}function M(e,t,i){for(var n,r=(it[t]||[]).concat(it["*"]),o=0,a=r.length;o<a;o++)if(n=r[o].call(i,t,e))return n}function S(e,t,i){var n,r,o,a,s,l,c,u,d=this,h={},p=e.style,f=e.nodeType&&Ee(e),m=ve.get(e,"fxshow");i.queue||(s=Q._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,Q.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(i.overflow=[p.overflow,p.overflowX,p.overflowY],c=Q.css(e,"display"),u="none"===c?ve.get(e,"olddisplay")||_(e.nodeName):c,"inline"===u&&"none"===Q.css(e,"float")&&(p.display="inline-block")),i.overflow&&(p.overflow="hidden",d.always(function(){p.overflow=i.overflow[0],p.overflowX=i.overflow[1],p.overflowY=i.overflow[2]}));for(n in t)if(r=t[n],Ke.exec(r)){if(delete t[n],o=o||"toggle"===r,r===(f?"hide":"show")){if("show"!==r||!m||void 0===m[n])continue;f=!0}h[n]=m&&m[n]||Q.style(e,n)}else c=void 0;if(Q.isEmptyObject(h))"inline"===("none"===c?_(e.nodeName):c)&&(p.display=c);else{m?"hidden"in m&&(f=m.hidden):m=ve.access(e,"fxshow",{}),o&&(m.hidden=!f),f?Q(e).show():d.done(function(){Q(e).hide()}),d.done(function(){var t;ve.remove(e,"fxshow");for(t in h)Q.style(e,t,h[t])});for(n in h)a=M(f?m[n]:0,n,d),n in m||(m[n]=a.start,f&&(a.end=a.start,a.start="width"===n||"height"===n?1:0))}}function P(e,t){var i,n,r,o,a;for(i in e)if(n=Q.camelCase(i),r=t[n],o=e[i],Q.isArray(o)&&(r=o[1],o=e[i]=o[0]),i!==n&&(e[n]=o,delete e[i]),a=Q.cssHooks[n],a&&"expand"in a){o=a.expand(o),delete e[n];for(i in o)i in e||(e[i]=o[i],t[i]=r)}else t[n]=r}function N(e,t,i){var n,r,o=0,a=tt.length,s=Q.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=Ze||L(),i=Math.max(0,c.startTime+c.duration-t),n=i/c.duration||0,o=1-n,a=0,l=c.tweens.length;a<l;a++)c.tweens[a].run(o);return s.notifyWith(e,[c,o,i]),o<1&&l?i:(s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:Q.extend({},t),opts:Q.extend(!0,{specialEasing:{}},i),originalProperties:t,originalOptions:i,startTime:Ze||L(),duration:i.duration,tweens:[],createTween:function(t,i){var n=Q.Tween(e,c.opts,t,i,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(n),n},stop:function(t){var i=0,n=t?c.tweens.length:0;if(r)return this;for(r=!0;i<n;i++)c.tweens[i].run(1);return t?s.resolveWith(e,[c,t]):s.rejectWith(e,[c,t]),this}}),u=c.props;for(P(u,c.opts.specialEasing);o<a;o++)if(n=tt[o].call(c,e,u,c.opts))return n;return Q.map(u,M,c),Q.isFunction(c.opts.start)&&c.opts.start.call(e,c),Q.fx.timer(Q.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function I(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var n,r=0,o=t.toLowerCase().match(pe)||[];if(Q.isFunction(i))for(;n=o[r++];)"+"===n[0]?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(i)):(e[n]=e[n]||[]).push(i)}}function O(e,t,i,n){function r(s){var l;return o[s]=!0,Q.each(e[s]||[],function(e,s){var c=s(t,i,n);return"string"!=typeof c||a||o[c]?a?!(l=c):void 0:(t.dataTypes.unshift(c),r(c),!1)}),l}var o={},a=e===bt;return r(t.dataTypes[0])||!o["*"]&&r("*")}function R(e,t){var i,n,r=Q.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((r[i]?e:n||(n={}))[i]=t[i]);return n&&Q.extend(!0,e,n),e}function j(e,t,i){for(var n,r,o,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=e.mimeType||t.getResponseHeader("Content-Type"));if(n)for(r in s)if(s[r]&&s[r].test(n)){l.unshift(r);break}if(l[0]in i)o=l[0];else{for(r in i){if(!l[0]||e.converters[r+" "+l[0]]){o=r;break}a||(a=r)}o=o||a}if(o)return o!==l[0]&&l.unshift(o),i[o]}function H(e,t,i,n){var r,o,a,s,l,c={},u=e.dataTypes.slice();if(u[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(o=u.shift();o;)if(e.responseFields[o]&&(i[e.responseFields[o]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(a=c[l+" "+o]||c["* "+o],!a)for(r in c)if(s=r.split(" "),s[1]===o&&(a=c[l+" "+s[0]]||c["* "+s[0]])){a===!0?a=c[r]:c[r]!==!0&&(o=s[0],u.unshift(s[1]));break}if(a!==!0)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}function F(e,t,i,n){var r;if(Q.isArray(t))Q.each(t,function(t,r){i||At.test(e)?n(e,r):F(e+"["+("object"==typeof r?t:"")+"]",r,i,n)});else if(i||"object"!==Q.type(t))n(e,t);else for(r in t)F(e+"["+r+"]",t[r],i,n)}function U(e){return Q.isWindow(e)?e:9===e.nodeType&&e.defaultView}var z=[],B=z.slice,G=z.concat,W=z.push,q=z.indexOf,V={},Y=V.toString,J=V.hasOwnProperty,Z={},X=e.document,K="2.1.3",Q=function(e,t){return new Q.fn.init(e,t)},ee=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,te=/^-ms-/,ie=/-([\da-z])/gi,ne=function(e,t){return t.toUpperCase()};Q.fn=Q.prototype={jquery:K,constructor:Q,selector:"",length:0,toArray:function(){return B.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:B.call(this)},pushStack:function(e){var t=Q.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return Q.each(this,e,t)},map:function(e){return this.pushStack(Q.map(this,function(t,i){return e.call(t,i,t)}))},slice:function(){return this.pushStack(B.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(e<0?t:0);return this.pushStack(i>=0&&i<t?[this[i]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:W,sort:z.sort,splice:z.splice},Q.extend=Q.fn.extend=function(){var e,t,i,n,r,o,a=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||Q.isFunction(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(e=arguments[s]))for(t in e)i=a[t],n=e[t],a!==n&&(c&&n&&(Q.isPlainObject(n)||(r=Q.isArray(n)))?(r?(r=!1,o=i&&Q.isArray(i)?i:[]):o=i&&Q.isPlainObject(i)?i:{},a[t]=Q.extend(c,o,n)):void 0!==n&&(a[t]=n));return a},Q.extend({expando:"jQuery"+(K+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===Q.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!Q.isArray(e)&&e-parseFloat(e)+1>=0},isPlainObject:function(e){return"object"===Q.type(e)&&!e.nodeType&&!Q.isWindow(e)&&!(e.constructor&&!J.call(e.constructor.prototype,"isPrototypeOf"))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?V[Y.call(e)]||"object":typeof e},globalEval:function(e){var t,i=eval;e=Q.trim(e),e&&(1===e.indexOf("use strict")?(t=X.createElement("script"),t.text=e,X.head.appendChild(t).parentNode.removeChild(t)):i(e))},camelCase:function(e){return e.replace(te,"ms-").replace(ie,ne)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r,o=0,a=e.length,s=i(e);if(n){if(s)for(;o<a&&(r=t.apply(e[o],n),r!==!1);o++);else for(o in e)if(r=t.apply(e[o],n),r===!1)break}else if(s)for(;o<a&&(r=t.call(e[o],o,e[o]),r!==!1);o++);else for(o in e)if(r=t.call(e[o],o,e[o]),r===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(ee,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(i(Object(e))?Q.merge(n,"string"==typeof e?[e]:e):W.call(n,e)),n},inArray:function(e,t,i){return null==t?-1:q.call(t,e,i)},merge:function(e,t){for(var i=+t.length,n=0,r=e.length;n<i;n++)e[r++]=t[n];return e.length=r,e},grep:function(e,t,i){for(var n,r=[],o=0,a=e.length,s=!i;o<a;o++)n=!t(e[o],o),n!==s&&r.push(e[o]);return r},map:function(e,t,n){var r,o=0,a=e.length,s=i(e),l=[];if(s)for(;o<a;o++)r=t(e[o],o,n),null!=r&&l.push(r);else for(o in e)r=t(e[o],o,n),null!=r&&l.push(r);return G.apply([],l)},guid:1,proxy:function(e,t){var i,n,r;if("string"==typeof t&&(i=e[t],t=e,e=i),Q.isFunction(e))return n=B.call(arguments,2),r=function(){return e.apply(t||this,n.concat(B.call(arguments)))},r.guid=e.guid=e.guid||Q.guid++,r},now:Date.now,support:Z}),Q.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){V["[object "+t+"]"]=t.toLowerCase()});var re=function(e){function t(e,t,i,n){var r,o,a,s,l,c,d,p,f,m;if((t?t.ownerDocument||t:F)!==S&&M(t),t=t||S,i=i||[],s=t.nodeType,"string"!=typeof e||!e||1!==s&&9!==s&&11!==s)return i;if(!n&&N){if(11!==s&&(r=ye.exec(e)))if(a=r[1]){if(9===s){if(o=t.getElementById(a),!o||!o.parentNode)return i;if(o.id===a)return i.push(o),i}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&j(t,o)&&o.id===a)return i.push(o),i}else{if(r[2])return K.apply(i,t.getElementsByTagName(e)),i;if((a=r[3])&&w.getElementsByClassName)return K.apply(i,t.getElementsByClassName(a)),i}if(w.qsa&&(!I||!I.test(e))){if(p=d=H,f=t,m=1!==s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(c=C(e),(d=t.getAttribute("id"))?p=d.replace(_e,"\\$&"):t.setAttribute("id",p),p="[id='"+p+"'] ",l=c.length;l--;)c[l]=p+h(c[l]);f=be.test(e)&&u(t.parentNode)||t,m=c.join(",")}if(m)try{return K.apply(i,f.querySelectorAll(m)),i}catch(e){}finally{d||t.removeAttribute("id")}}}return $(e.replace(le,"$1"),t,i,n)}function i(){function e(i,n){return t.push(i+" ")>x.cacheLength&&delete e[t.shift()],e[i+" "]=n}var t=[];return e}function n(e){return e[H]=!0,e}function r(e){var t=S.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var i=e.split("|"),n=e.length;n--;)x.attrHandle[i[n]]=t}function a(e,t){var i=t&&e,n=i&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||V)-(~e.sourceIndex||V);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function s(e){return function(t){var i=t.nodeName.toLowerCase();return"input"===i&&t.type===e}}function l(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}function c(e){return n(function(t){return t=+t,n(function(i,n){for(var r,o=e([],i.length,t),a=o.length;a--;)i[r=o[a]]&&(i[r]=!(n[r]=i[r]))})})}function u(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function d(){}function h(e){for(var t=0,i=e.length,n="";t<i;t++)n+=e[t].value;return n}function p(e,t,i){var n=t.dir,r=i&&"parentNode"===n,o=z++;return t.first?function(t,i,o){for(;t=t[n];)if(1===t.nodeType||r)return e(t,i,o)}:function(t,i,a){var s,l,c=[U,o];if(a){for(;t=t[n];)if((1===t.nodeType||r)&&e(t,i,a))return!0}else for(;t=t[n];)if(1===t.nodeType||r){if(l=t[H]||(t[H]={}),(s=l[n])&&s[0]===U&&s[1]===o)return c[2]=s[2];if(l[n]=c,c[2]=e(t,i,a))return!0}}}function f(e){return e.length>1?function(t,i,n){for(var r=e.length;r--;)if(!e[r](t,i,n))return!1;return!0}:e[0]}function m(e,i,n){for(var r=0,o=i.length;r<o;r++)t(e,i[r],n);return n}function g(e,t,i,n,r){for(var o,a=[],s=0,l=e.length,c=null!=t;s<l;s++)(o=e[s])&&(i&&!i(o,n,r)||(a.push(o),c&&t.push(s)));return a}function v(e,t,i,r,o,a){return r&&!r[H]&&(r=v(r)),o&&!o[H]&&(o=v(o,a)),n(function(n,a,s,l){var c,u,d,h=[],p=[],f=a.length,v=n||m(t||"*",s.nodeType?[s]:s,[]),y=!e||!n&&t?v:g(v,h,e,s,l),b=i?o||(n?e:f||r)?[]:a:y;if(i&&i(y,b,s,l),r)for(c=g(b,p),r(c,[],s,l),u=c.length;u--;)(d=c[u])&&(b[p[u]]=!(y[p[u]]=d));if(n){if(o||e){if(o){for(c=[],u=b.length;u--;)(d=b[u])&&c.push(y[u]=d);o(null,b=[],c,l)}for(u=b.length;u--;)(d=b[u])&&(c=o?ee(n,d):h[u])>-1&&(n[c]=!(a[c]=d))}}else b=g(b===a?b.splice(f,b.length):b),o?o(null,a,b,l):K.apply(a,b)})}function y(e){for(var t,i,n,r=e.length,o=x.relative[e[0].type],a=o||x.relative[" "],s=o?1:0,l=p(function(e){return e===t},a,!0),c=p(function(e){return ee(t,e)>-1},a,!0),u=[function(e,i,n){var r=!o&&(n||i!==T)||((t=i).nodeType?l(e,i,n):c(e,i,n));return t=null,r}];s<r;s++)if(i=x.relative[e[s].type])u=[p(f(u),i)];else{if(i=x.filter[e[s].type].apply(null,e[s].matches),i[H]){for(n=++s;n<r&&!x.relative[e[n].type];n++);return v(s>1&&f(u),s>1&&h(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(le,"$1"),i,s<n&&y(e.slice(s,n)),n<r&&y(e=e.slice(n)),n<r&&h(e))}u.push(i)}return f(u)}function b(e,i){var r=i.length>0,o=e.length>0,a=function(n,a,s,l,c){var u,d,h,p=0,f="0",m=n&&[],v=[],y=T,b=n||o&&x.find.TAG("*",c),_=U+=null==y?1:Math.random()||.1,w=b.length;for(c&&(T=a!==S&&a);f!==w&&null!=(u=b[f]);f++){if(o&&u){for(d=0;h=e[d++];)if(h(u,a,s)){l.push(u);break}c&&(U=_)}r&&((u=!h&&u)&&p--,n&&m.push(u))}if(p+=f,r&&f!==p){for(d=0;h=i[d++];)h(m,v,a,s);if(n){if(p>0)for(;f--;)m[f]||v[f]||(v[f]=Z.call(l));v=g(v)}K.apply(l,v),c&&!n&&v.length>0&&p+i.length>1&&t.uniqueSort(l)}return c&&(U=_,T=y),m};return r?n(a):a}var _,w,x,E,A,C,k,$,T,L,D,M,S,P,N,I,O,R,j,H="sizzle"+1*new Date,F=e.document,U=0,z=0,B=i(),G=i(),W=i(),q=function(e,t){return e===t&&(D=!0),0},V=1<<31,Y={}.hasOwnProperty,J=[],Z=J.pop,X=J.push,K=J.push,Q=J.slice,ee=function(e,t){for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ie="[\\x20\\t\\r\\n\\f]",ne="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",re=ne.replace("w","w#"),oe="\\["+ie+"*("+ne+")(?:"+ie+"*([*^$|!~]?=)"+ie+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+re+"))|)"+ie+"*\\]",ae=":("+ne+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+oe+")*)|.*)\\)|)",se=new RegExp(ie+"+","g"),le=new RegExp("^"+ie+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ie+"+$","g"),ce=new RegExp("^"+ie+"*,"+ie+"*"),ue=new RegExp("^"+ie+"*([>+~]|"+ie+")"+ie+"*"),de=new RegExp("="+ie+"*([^\\]'\"]*?)"+ie+"*\\]","g"),he=new RegExp(ae),pe=new RegExp("^"+re+"$"),fe={ID:new RegExp("^#("+ne+")"),CLASS:new RegExp("^\\.("+ne+")"),TAG:new RegExp("^("+ne.replace("w","w*")+")"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+ae),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ie+"*(even|odd|(([+-]|)(\\d*)n|)"+ie+"*(?:([+-]|)"+ie+"*(\\d+)|))"+ie+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ie+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ie+"*((?:-\\d)?\\d*)"+ie+"*\\)|)(?=[^-]|$)","i")},me=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,ve=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,be=/[+~]/,_e=/'|\\/g,we=new RegExp("\\\\([\\da-f]{1,6}"+ie+"?|("+ie+")|.)","ig"),xe=function(e,t,i){var n="0x"+t-65536;return n!==n||i?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},Ee=function(){M()};try{K.apply(J=Q.call(F.childNodes),F.childNodes),J[F.childNodes.length].nodeType}catch(e){K={apply:J.length?function(e,t){X.apply(e,Q.call(t))}:function(e,t){for(var i=e.length,n=0;e[i++]=t[n++];);e.length=i-1}}}w=t.support={},A=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},M=t.setDocument=function(e){var t,i,n=e?e.ownerDocument||e:F;return n!==S&&9===n.nodeType&&n.documentElement?(S=n,P=n.documentElement,i=n.defaultView,i&&i!==i.top&&(i.addEventListener?i.addEventListener("unload",Ee,!1):i.attachEvent&&i.attachEvent("onunload",Ee)),N=!A(n),w.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),w.getElementsByTagName=r(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),w.getElementsByClassName=ve.test(n.getElementsByClassName),w.getById=r(function(e){return P.appendChild(e).id=H,!n.getElementsByName||!n.getElementsByName(H).length}),w.getById?(x.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&N){var i=t.getElementById(e);return i&&i.parentNode?[i]:[]}},x.filter.ID=function(e){var t=e.replace(we,xe);return function(e){return e.getAttribute("id")===t}}):(delete x.find.ID,x.filter.ID=function(e){var t=e.replace(we,xe);return function(e){var i="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return i&&i.value===t}}),x.find.TAG=w.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):w.qsa?t.querySelectorAll(e):void 0}:function(e,t){var i,n=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;i=o[r++];)1===i.nodeType&&n.push(i);return n}return o},x.find.CLASS=w.getElementsByClassName&&function(e,t){if(N)return t.getElementsByClassName(e)},O=[],I=[],(w.qsa=ve.test(n.querySelectorAll))&&(r(function(e){P.appendChild(e).innerHTML="<a id='"+H+"'></a><select id='"+H+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&I.push("[*^$]="+ie+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||I.push("\\["+ie+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+H+"-]").length||I.push("~="),e.querySelectorAll(":checked").length||I.push(":checked"),e.querySelectorAll("a#"+H+"+*").length||I.push(".#.+[+~]")}),r(function(e){var t=n.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&I.push("name"+ie+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||I.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),I.push(",.*:")})),(w.matchesSelector=ve.test(R=P.matches||P.webkitMatchesSelector||P.mozMatchesSelector||P.oMatchesSelector||P.msMatchesSelector))&&r(function(e){w.disconnectedMatch=R.call(e,"div"),R.call(e,"[s!='']:x"),O.push("!=",ae)}),I=I.length&&new RegExp(I.join("|")),O=O.length&&new RegExp(O.join("|")),t=ve.test(P.compareDocumentPosition),j=t||ve.test(P.contains)?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},q=t?function(e,t){if(e===t)return D=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i?i:(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&i||!w.sortDetached&&t.compareDocumentPosition(e)===i?e===n||e.ownerDocument===F&&j(F,e)?-1:t===n||t.ownerDocument===F&&j(F,t)?1:L?ee(L,e)-ee(L,t):0:4&i?-1:1)}:function(e,t){if(e===t)return D=!0,0;var i,r=0,o=e.parentNode,s=t.parentNode,l=[e],c=[t];if(!o||!s)return e===n?-1:t===n?1:o?-1:s?1:L?ee(L,e)-ee(L,t):0;if(o===s)return a(e,t);for(i=e;i=i.parentNode;)l.unshift(i);for(i=t;i=i.parentNode;)c.unshift(i);for(;l[r]===c[r];)r++;return r?a(l[r],c[r]):l[r]===F?-1:c[r]===F?1:0},n):S},t.matches=function(e,i){return t(e,null,null,i)},t.matchesSelector=function(e,i){if((e.ownerDocument||e)!==S&&M(e),i=i.replace(de,"='$1']"),w.matchesSelector&&N&&(!O||!O.test(i))&&(!I||!I.test(i)))try{var n=R.call(e,i);if(n||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return t(i,S,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==S&&M(e),j(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==S&&M(e);var i=x.attrHandle[t.toLowerCase()],n=i&&Y.call(x.attrHandle,t.toLowerCase())?i(e,t,!N):void 0;return void 0!==n?n:w.attributes||!N?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,i=[],n=0,r=0;if(D=!w.detectDuplicates,L=!w.sortStable&&e.slice(0),e.sort(q),D){for(;t=e[r++];)t===e[r]&&(n=i.push(r));for(;n--;)e.splice(i[n],1)}return L=null,e},E=t.getText=function(e){var t,i="",n=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=E(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[n++];)i+=E(t);return i},x=t.selectors={cacheLength:50,createPseudo:n,match:fe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(we,xe),e[3]=(e[3]||e[4]||e[5]||"").replace(we,xe),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,i=!e[6]&&e[2];return fe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&he.test(i)&&(t=C(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(we,xe).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=B[e+" "];return t||(t=new RegExp("(^|"+ie+")"+e+"("+ie+"|$)"))&&B(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,i,n){return function(r){var o=t.attr(r,e);return null==o?"!="===i:!i||(o+="","="===i?o===n:"!="===i?o!==n:"^="===i?n&&0===o.indexOf(n):"*="===i?n&&o.indexOf(n)>-1:"$="===i?n&&o.slice(-n.length)===n:"~="===i?(" "+o.replace(se," ")+" ").indexOf(n)>-1:"|="===i&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,i,n,r){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===n&&0===r?function(e){return!!e.parentNode}:function(t,i,l){var c,u,d,h,p,f,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!l&&!s;if(g){if(o){for(;m;){for(d=t;d=d[m];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[a?g.firstChild:g.lastChild],a&&y){for(u=g[H]||(g[H]={}),c=u[e]||[],p=c[0]===U&&c[1],h=c[0]===U&&c[2],d=p&&g.childNodes[p];d=++p&&d&&d[m]||(h=p=0)||f.pop();)if(1===d.nodeType&&++h&&d===t){u[e]=[U,p,h];break}}else if(y&&(c=(t[H]||(t[H]={}))[e])&&c[0]===U)h=c[1];else for(;(d=++p&&d&&d[m]||(h=p=0)||f.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++h||(y&&((d[H]||(d[H]={}))[e]=[U,h]),d!==t)););return h-=r,h===n||h%n===0&&h/n>=0}}},PSEUDO:function(e,i){var r,o=x.pseudos[e]||x.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[H]?o(i):o.length>1?(r=[e,e,"",i],x.setFilters.hasOwnProperty(e.toLowerCase())?n(function(e,t){for(var n,r=o(e,i),a=r.length;a--;)n=ee(e,r[a]),e[n]=!(t[n]=r[a])}):function(e){return o(e,0,r)}):o}},pseudos:{not:n(function(e){var t=[],i=[],r=k(e.replace(le,"$1"));return r[H]?n(function(e,t,i,n){for(var o,a=r(e,null,n,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,n,o){return t[0]=e,r(t,null,o,i),t[0]=null,!i.pop()}}),has:n(function(e){return function(i){return t(e,i).length>0}}),contains:n(function(e){return e=e.replace(we,xe),function(t){return(t.textContent||t.innerText||E(t)).indexOf(e)>-1}}),lang:n(function(e){return pe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(we,xe).toLowerCase(),function(t){var i;do if(i=N?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return i=i.toLowerCase(),i===e||0===i.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===P},focus:function(e){return e===S.activeElement&&(!S.hasFocus||S.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!x.pseudos.empty(e)},header:function(e){return ge.test(e.nodeName)},input:function(e){return me.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,i){return[i<0?i+t:i]}),even:c(function(e,t){for(var i=0;i<t;i+=2)e.push(i);return e}),odd:c(function(e,t){for(var i=1;i<t;i+=2)e.push(i);return e}),lt:c(function(e,t,i){for(var n=i<0?i+t:i;--n>=0;)e.push(n);return e}),gt:c(function(e,t,i){for(var n=i<0?i+t:i;++n<t;)e.push(n);return e})}},x.pseudos.nth=x.pseudos.eq;for(_ in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[_]=s(_);for(_ in{submit:!0,reset:!0})x.pseudos[_]=l(_);return d.prototype=x.filters=x.pseudos,x.setFilters=new d,C=t.tokenize=function(e,i){var n,r,o,a,s,l,c,u=G[e+" "];if(u)return i?0:u.slice(0);for(s=e,l=[],c=x.preFilter;s;){n&&!(r=ce.exec(s))||(r&&(s=s.slice(r[0].length)||s),l.push(o=[])),n=!1,(r=ue.exec(s))&&(n=r.shift(),o.push({value:n,type:r[0].replace(le," ")}),s=s.slice(n.length));for(a in x.filter)!(r=fe[a].exec(s))||c[a]&&!(r=c[a](r))||(n=r.shift(),o.push({value:n,type:a,matches:r}),s=s.slice(n.length));if(!n)break}return i?s.length:s?t.error(e):G(e,l).slice(0)},k=t.compile=function(e,t){var i,n=[],r=[],o=W[e+" "];if(!o){for(t||(t=C(e)),i=t.length;i--;)o=y(t[i]),o[H]?n.push(o):r.push(o);o=W(e,b(r,n)),o.selector=e}return o},$=t.select=function(e,t,i,n){var r,o,a,s,l,c="function"==typeof e&&e,d=!n&&C(e=c.selector||e);if(i=i||[],1===d.length){if(o=d[0]=d[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&w.getById&&9===t.nodeType&&N&&x.relative[o[1].type]){if(t=(x.find.ID(a.matches[0].replace(we,xe),t)||[])[0],!t)return i;c&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(r=fe.needsContext.test(e)?0:o.length;r--&&(a=o[r],!x.relative[s=a.type]);)if((l=x.find[s])&&(n=l(a.matches[0].replace(we,xe),be.test(o[0].type)&&u(t.parentNode)||t))){if(o.splice(r,1),e=n.length&&h(o),!e)return K.apply(i,n),i;break}}return(c||k(e,d))(n,t,!N,i,be.test(e)&&u(t.parentNode)||t),i},w.sortStable=H.split("").sort(q).join("")===H,w.detectDuplicates=!!D,M(),w.sortDetached=r(function(e){return 1&e.compareDocumentPosition(S.createElement("div"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,i){if(!i)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),w.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,i){if(!i&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||o(te,function(e,t,i){var n;if(!i)return e[t]===!0?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null}),t}(e);Q.find=re,Q.expr=re.selectors,Q.expr[":"]=Q.expr.pseudos,Q.unique=re.uniqueSort,Q.text=re.getText,Q.isXMLDoc=re.isXML,Q.contains=re.contains;var oe=Q.expr.match.needsContext,ae=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,se=/^.[^:#\[\.,]*$/;Q.filter=function(e,t,i){var n=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?Q.find.matchesSelector(n,e)?[n]:[]:Q.find.matches(e,Q.grep(t,function(e){return 1===e.nodeType}))},Q.fn.extend({find:function(e){var t,i=this.length,n=[],r=this;if("string"!=typeof e)return this.pushStack(Q(e).filter(function(){
for(t=0;t<i;t++)if(Q.contains(r[t],this))return!0}));for(t=0;t<i;t++)Q.find(e,r[t],n);return n=this.pushStack(i>1?Q.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(n(this,e||[],!1))},not:function(e){return this.pushStack(n(this,e||[],!0))},is:function(e){return!!n(this,"string"==typeof e&&oe.test(e)?Q(e):e||[],!1).length}});var le,ce=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ue=Q.fn.init=function(e,t){var i,n;if(!e)return this;if("string"==typeof e){if(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:ce.exec(e),!i||!i[1]&&t)return!t||t.jquery?(t||le).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof Q?t[0]:t,Q.merge(this,Q.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:X,!0)),ae.test(i[1])&&Q.isPlainObject(t))for(i in t)Q.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return n=X.getElementById(i[2]),n&&n.parentNode&&(this.length=1,this[0]=n),this.context=X,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):Q.isFunction(e)?"undefined"!=typeof le.ready?le.ready(e):e(Q):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),Q.makeArray(e,this))};ue.prototype=Q.fn,le=Q(X);var de=/^(?:parents|prev(?:Until|All))/,he={children:!0,contents:!0,next:!0,prev:!0};Q.extend({dir:function(e,t,i){for(var n=[],r=void 0!==i;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&Q(e).is(i))break;n.push(e)}return n},sibling:function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i}}),Q.fn.extend({has:function(e){var t=Q(e,this),i=t.length;return this.filter(function(){for(var e=0;e<i;e++)if(Q.contains(this,t[e]))return!0})},closest:function(e,t){for(var i,n=0,r=this.length,o=[],a=oe.test(e)||"string"!=typeof e?Q(e,t||this.context):0;n<r;n++)for(i=this[n];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(a?a.index(i)>-1:1===i.nodeType&&Q.find.matchesSelector(i,e))){o.push(i);break}return this.pushStack(o.length>1?Q.unique(o):o)},index:function(e){return e?"string"==typeof e?q.call(Q(e),this[0]):q.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(Q.unique(Q.merge(this.get(),Q(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),Q.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Q.dir(e,"parentNode")},parentsUntil:function(e,t,i){return Q.dir(e,"parentNode",i)},next:function(e){return r(e,"nextSibling")},prev:function(e){return r(e,"previousSibling")},nextAll:function(e){return Q.dir(e,"nextSibling")},prevAll:function(e){return Q.dir(e,"previousSibling")},nextUntil:function(e,t,i){return Q.dir(e,"nextSibling",i)},prevUntil:function(e,t,i){return Q.dir(e,"previousSibling",i)},siblings:function(e){return Q.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return Q.sibling(e.firstChild)},contents:function(e){return e.contentDocument||Q.merge([],e.childNodes)}},function(e,t){Q.fn[e]=function(i,n){var r=Q.map(this,t,i);return"Until"!==e.slice(-5)&&(n=i),n&&"string"==typeof n&&(r=Q.filter(n,r)),this.length>1&&(he[e]||Q.unique(r),de.test(e)&&r.reverse()),this.pushStack(r)}});var pe=/\S+/g,fe={};Q.Callbacks=function(e){e="string"==typeof e?fe[e]||o(e):Q.extend({},e);var t,i,n,r,a,s,l=[],c=!e.once&&[],u=function(o){for(t=e.memory&&o,i=!0,s=r||0,r=0,a=l.length,n=!0;l&&s<a;s++)if(l[s].apply(o[0],o[1])===!1&&e.stopOnFalse){t=!1;break}n=!1,l&&(c?c.length&&u(c.shift()):t?l=[]:d.disable())},d={add:function(){if(l){var i=l.length;!function t(i){Q.each(i,function(i,n){var r=Q.type(n);"function"===r?e.unique&&d.has(n)||l.push(n):n&&n.length&&"string"!==r&&t(n)})}(arguments),n?a=l.length:t&&(r=i,u(t))}return this},remove:function(){return l&&Q.each(arguments,function(e,t){for(var i;(i=Q.inArray(t,l,i))>-1;)l.splice(i,1),n&&(i<=a&&a--,i<=s&&s--)}),this},has:function(e){return e?Q.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],a=0,this},disable:function(){return l=c=t=void 0,this},disabled:function(){return!l},lock:function(){return c=void 0,t||d.disable(),this},locked:function(){return!c},fireWith:function(e,t){return!l||i&&!c||(t=t||[],t=[e,t.slice?t.slice():t],n?c.push(t):u(t)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!i}};return d},Q.extend({Deferred:function(e){var t=[["resolve","done",Q.Callbacks("once memory"),"resolved"],["reject","fail",Q.Callbacks("once memory"),"rejected"],["notify","progress",Q.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return Q.Deferred(function(i){Q.each(t,function(t,o){var a=Q.isFunction(e[t])&&e[t];r[o[1]](function(){var e=a&&a.apply(this,arguments);e&&Q.isFunction(e.promise)?e.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[o[0]+"With"](this===n?i.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?Q.extend(e,n):n}},r={};return n.pipe=n.then,Q.each(t,function(e,o){var a=o[2],s=o[3];n[o[1]]=a.add,s&&a.add(function(){i=s},t[1^e][2].disable,t[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?n:this,arguments),this},r[o[0]+"With"]=a.fireWith}),n.promise(r),e&&e.call(r,r),r},when:function(e){var t,i,n,r=0,o=B.call(arguments),a=o.length,s=1!==a||e&&Q.isFunction(e.promise)?a:0,l=1===s?e:Q.Deferred(),c=function(e,i,n){return function(r){i[e]=this,n[e]=arguments.length>1?B.call(arguments):r,n===t?l.notifyWith(i,n):--s||l.resolveWith(i,n)}};if(a>1)for(t=new Array(a),i=new Array(a),n=new Array(a);r<a;r++)o[r]&&Q.isFunction(o[r].promise)?o[r].promise().done(c(r,n,o)).fail(l.reject).progress(c(r,i,t)):--s;return s||l.resolveWith(n,o),l.promise()}});var me;Q.fn.ready=function(e){return Q.ready.promise().done(e),this},Q.extend({isReady:!1,readyWait:1,holdReady:function(e){e?Q.readyWait++:Q.ready(!0)},ready:function(e){(e===!0?--Q.readyWait:Q.isReady)||(Q.isReady=!0,e!==!0&&--Q.readyWait>0||(me.resolveWith(X,[Q]),Q.fn.triggerHandler&&(Q(X).triggerHandler("ready"),Q(X).off("ready"))))}}),Q.ready.promise=function(t){return me||(me=Q.Deferred(),"complete"===X.readyState?setTimeout(Q.ready):(X.addEventListener("DOMContentLoaded",a,!1),e.addEventListener("load",a,!1))),me.promise(t)},Q.ready.promise();var ge=Q.access=function(e,t,i,n,r,o,a){var s=0,l=e.length,c=null==i;if("object"===Q.type(i)){r=!0;for(s in i)Q.access(e,t,s,i[s],!0,o,a)}else if(void 0!==n&&(r=!0,Q.isFunction(n)||(a=!0),c&&(a?(t.call(e,n),t=null):(c=t,t=function(e,t,i){return c.call(Q(e),i)})),t))for(;s<l;s++)t(e[s],i,a?n:n.call(e[s],s,t(e[s],i)));return r?e:c?t.call(e):l?t(e[0],i):o};Q.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},s.uid=1,s.accepts=Q.acceptData,s.prototype={key:function(e){if(!s.accepts(e))return 0;var t={},i=e[this.expando];if(!i){i=s.uid++;try{t[this.expando]={value:i},Object.defineProperties(e,t)}catch(n){t[this.expando]=i,Q.extend(e,t)}}return this.cache[i]||(this.cache[i]={}),i},set:function(e,t,i){var n,r=this.key(e),o=this.cache[r];if("string"==typeof t)o[t]=i;else if(Q.isEmptyObject(o))Q.extend(this.cache[r],t);else for(n in t)o[n]=t[n];return o},get:function(e,t){var i=this.cache[this.key(e)];return void 0===t?i:i[t]},access:function(e,t,i){var n;return void 0===t||t&&"string"==typeof t&&void 0===i?(n=this.get(e,t),void 0!==n?n:this.get(e,Q.camelCase(t))):(this.set(e,t,i),void 0!==i?i:t)},remove:function(e,t){var i,n,r,o=this.key(e),a=this.cache[o];if(void 0===t)this.cache[o]={};else{Q.isArray(t)?n=t.concat(t.map(Q.camelCase)):(r=Q.camelCase(t),t in a?n=[t,r]:(n=r,n=n in a?[n]:n.match(pe)||[])),i=n.length;for(;i--;)delete a[n[i]]}},hasData:function(e){return!Q.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var ve=new s,ye=new s,be=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,_e=/([A-Z])/g;Q.extend({hasData:function(e){return ye.hasData(e)||ve.hasData(e)},data:function(e,t,i){return ye.access(e,t,i)},removeData:function(e,t){ye.remove(e,t)},_data:function(e,t,i){return ve.access(e,t,i)},_removeData:function(e,t){ve.remove(e,t)}}),Q.fn.extend({data:function(e,t){var i,n,r,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(r=ye.get(o),1===o.nodeType&&!ve.get(o,"hasDataAttrs"))){for(i=a.length;i--;)a[i]&&(n=a[i].name,0===n.indexOf("data-")&&(n=Q.camelCase(n.slice(5)),l(o,n,r[n])));ve.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each(function(){ye.set(this,e)}):ge(this,function(t){var i,n=Q.camelCase(e);if(o&&void 0===t){if(i=ye.get(o,e),void 0!==i)return i;if(i=ye.get(o,n),void 0!==i)return i;if(i=l(o,n,void 0),void 0!==i)return i}else this.each(function(){var i=ye.get(this,n);ye.set(this,n,t),e.indexOf("-")!==-1&&void 0!==i&&ye.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){ye.remove(this,e)})}}),Q.extend({queue:function(e,t,i){var n;if(e)return t=(t||"fx")+"queue",n=ve.get(e,t),i&&(!n||Q.isArray(i)?n=ve.access(e,t,Q.makeArray(i)):n.push(i)),n||[]},dequeue:function(e,t){t=t||"fx";var i=Q.queue(e,t),n=i.length,r=i.shift(),o=Q._queueHooks(e,t),a=function(){Q.dequeue(e,t)};"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===t&&i.unshift("inprogress"),delete o.stop,r.call(e,a,o)),!n&&o&&o.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return ve.get(e,i)||ve.access(e,i,{empty:Q.Callbacks("once memory").add(function(){ve.remove(e,[t+"queue",i])})})}}),Q.fn.extend({queue:function(e,t){var i=2;return"string"!=typeof e&&(t=e,e="fx",i--),arguments.length<i?Q.queue(this[0],e):void 0===t?this:this.each(function(){var i=Q.queue(this,e,t);Q._queueHooks(this,e),"fx"===e&&"inprogress"!==i[0]&&Q.dequeue(this,e)})},dequeue:function(e){return this.each(function(){Q.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,n=1,r=Q.Deferred(),o=this,a=this.length,s=function(){--n||r.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)i=ve.get(o[a],e+"queueHooks"),i&&i.empty&&(n++,i.empty.add(s));return s(),r.promise(t)}});var we=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,xe=["Top","Right","Bottom","Left"],Ee=function(e,t){return e=t||e,"none"===Q.css(e,"display")||!Q.contains(e.ownerDocument,e)},Ae=/^(?:checkbox|radio)$/i;!function(){var e=X.createDocumentFragment(),t=e.appendChild(X.createElement("div")),i=X.createElement("input");i.setAttribute("type","radio"),i.setAttribute("checked","checked"),i.setAttribute("name","t"),t.appendChild(i),Z.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",Z.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var Ce="undefined";Z.focusinBubbles="onfocusin"in e;var ke=/^key/,$e=/^(?:mouse|pointer|contextmenu)|click/,Te=/^(?:focusinfocus|focusoutblur)$/,Le=/^([^.]*)(?:\.(.+)|)$/;Q.event={global:{},add:function(e,t,i,n,r){var o,a,s,l,c,u,d,h,p,f,m,g=ve.get(e);if(g)for(i.handler&&(o=i,i=o.handler,r=o.selector),i.guid||(i.guid=Q.guid++),(l=g.events)||(l=g.events={}),(a=g.handle)||(a=g.handle=function(t){return typeof Q!==Ce&&Q.event.triggered!==t.type?Q.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(pe)||[""],c=t.length;c--;)s=Le.exec(t[c])||[],p=m=s[1],f=(s[2]||"").split(".").sort(),p&&(d=Q.event.special[p]||{},p=(r?d.delegateType:d.bindType)||p,d=Q.event.special[p]||{},u=Q.extend({type:p,origType:m,data:n,handler:i,guid:i.guid,selector:r,needsContext:r&&Q.expr.match.needsContext.test(r),namespace:f.join(".")},o),(h=l[p])||(h=l[p]=[],h.delegateCount=0,d.setup&&d.setup.call(e,n,f,a)!==!1||e.addEventListener&&e.addEventListener(p,a,!1)),d.add&&(d.add.call(e,u),u.handler.guid||(u.handler.guid=i.guid)),r?h.splice(h.delegateCount++,0,u):h.push(u),Q.event.global[p]=!0)},remove:function(e,t,i,n,r){var o,a,s,l,c,u,d,h,p,f,m,g=ve.hasData(e)&&ve.get(e);if(g&&(l=g.events)){for(t=(t||"").match(pe)||[""],c=t.length;c--;)if(s=Le.exec(t[c])||[],p=m=s[1],f=(s[2]||"").split(".").sort(),p){for(d=Q.event.special[p]||{},p=(n?d.delegateType:d.bindType)||p,h=l[p]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=h.length;o--;)u=h[o],!r&&m!==u.origType||i&&i.guid!==u.guid||s&&!s.test(u.namespace)||n&&n!==u.selector&&("**"!==n||!u.selector)||(h.splice(o,1),u.selector&&h.delegateCount--,d.remove&&d.remove.call(e,u));a&&!h.length&&(d.teardown&&d.teardown.call(e,f,g.handle)!==!1||Q.removeEvent(e,p,g.handle),delete l[p])}else for(p in l)Q.event.remove(e,p+t[c],i,n,!0);Q.isEmptyObject(l)&&(delete g.handle,ve.remove(e,"events"))}},trigger:function(t,i,n,r){var o,a,s,l,c,u,d,h=[n||X],p=J.call(t,"type")?t.type:t,f=J.call(t,"namespace")?t.namespace.split("."):[];if(a=s=n=n||X,3!==n.nodeType&&8!==n.nodeType&&!Te.test(p+Q.event.triggered)&&(p.indexOf(".")>=0&&(f=p.split("."),p=f.shift(),f.sort()),c=p.indexOf(":")<0&&"on"+p,t=t[Q.expando]?t:new Q.Event(p,"object"==typeof t&&t),t.isTrigger=r?2:3,t.namespace=f.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),i=null==i?[t]:Q.makeArray(i,[t]),d=Q.event.special[p]||{},r||!d.trigger||d.trigger.apply(n,i)!==!1)){if(!r&&!d.noBubble&&!Q.isWindow(n)){for(l=d.delegateType||p,Te.test(l+p)||(a=a.parentNode);a;a=a.parentNode)h.push(a),s=a;s===(n.ownerDocument||X)&&h.push(s.defaultView||s.parentWindow||e)}for(o=0;(a=h[o++])&&!t.isPropagationStopped();)t.type=o>1?l:d.bindType||p,u=(ve.get(a,"events")||{})[t.type]&&ve.get(a,"handle"),u&&u.apply(a,i),u=c&&a[c],u&&u.apply&&Q.acceptData(a)&&(t.result=u.apply(a,i),t.result===!1&&t.preventDefault());return t.type=p,r||t.isDefaultPrevented()||d._default&&d._default.apply(h.pop(),i)!==!1||!Q.acceptData(n)||c&&Q.isFunction(n[p])&&!Q.isWindow(n)&&(s=n[c],s&&(n[c]=null),Q.event.triggered=p,n[p](),Q.event.triggered=void 0,s&&(n[c]=s)),t.result}},dispatch:function(e){e=Q.event.fix(e);var t,i,n,r,o,a=[],s=B.call(arguments),l=(ve.get(this,"events")||{})[e.type]||[],c=Q.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){for(a=Q.event.handlers.call(this,e,l),t=0;(r=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,i=0;(o=r.handlers[i++])&&!e.isImmediatePropagationStopped();)e.namespace_re&&!e.namespace_re.test(o.namespace)||(e.handleObj=o,e.data=o.data,n=((Q.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,s),void 0!==n&&(e.result=n)===!1&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var i,n,r,o,a=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!==this;l=l.parentNode||this)if(l.disabled!==!0||"click"!==e.type){for(n=[],i=0;i<s;i++)o=t[i],r=o.selector+" ",void 0===n[r]&&(n[r]=o.needsContext?Q(r,this).index(l)>=0:Q.find(r,this,null,[l]).length),n[r]&&n.push(o);n.length&&a.push({elem:l,handlers:n})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var i,n,r,o=t.button;return null==e.pageX&&null!=t.clientX&&(i=e.target.ownerDocument||X,n=i.documentElement,r=i.body,e.pageX=t.clientX+(n&&n.scrollLeft||r&&r.scrollLeft||0)-(n&&n.clientLeft||r&&r.clientLeft||0),e.pageY=t.clientY+(n&&n.scrollTop||r&&r.scrollTop||0)-(n&&n.clientTop||r&&r.clientTop||0)),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[Q.expando])return e;var t,i,n,r=e.type,o=e,a=this.fixHooks[r];for(a||(this.fixHooks[r]=a=$e.test(r)?this.mouseHooks:ke.test(r)?this.keyHooks:{}),n=a.props?this.props.concat(a.props):this.props,e=new Q.Event(o),t=n.length;t--;)i=n[t],e[i]=o[i];return e.target||(e.target=X),3===e.target.nodeType&&(e.target=e.target.parentNode),a.filter?a.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==d()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===d()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&Q.nodeName(this,"input"))return this.click(),!1},_default:function(e){return Q.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,i,n){var r=Q.extend(new Q.Event,i,{type:e,isSimulated:!0,originalEvent:{}});n?Q.event.trigger(r,null,t):Q.event.dispatch.call(t,r),r.isDefaultPrevented()&&i.preventDefault()}},Q.removeEvent=function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i,!1)},Q.Event=function(e,t){return this instanceof Q.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?c:u):this.type=e,t&&Q.extend(this,t),this.timeStamp=e&&e.timeStamp||Q.now(),void(this[Q.expando]=!0)):new Q.Event(e,t)},Q.Event.prototype={isDefaultPrevented:u,isPropagationStopped:u,isImmediatePropagationStopped:u,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=c,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=c,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=c,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},Q.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){Q.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,n=this,r=e.relatedTarget,o=e.handleObj;return r&&(r===n||Q.contains(n,r))||(e.type=o.origType,i=o.handler.apply(this,arguments),e.type=t),i}}}),Z.focusinBubbles||Q.each({focus:"focusin",blur:"focusout"},function(e,t){var i=function(e){Q.event.simulate(t,e.target,Q.event.fix(e),!0)};Q.event.special[t]={setup:function(){var n=this.ownerDocument||this,r=ve.access(n,t);r||n.addEventListener(e,i,!0),ve.access(n,t,(r||0)+1)},teardown:function(){var n=this.ownerDocument||this,r=ve.access(n,t)-1;r?ve.access(n,t,r):(n.removeEventListener(e,i,!0),ve.remove(n,t))}}}),Q.fn.extend({on:function(e,t,i,n,r){var o,a;if("object"==typeof e){"string"!=typeof t&&(i=i||t,t=void 0);for(a in e)this.on(a,t,i,e[a],r);return this}if(null==i&&null==n?(n=t,i=t=void 0):null==n&&("string"==typeof t?(n=i,i=void 0):(n=i,i=t,t=void 0)),n===!1)n=u;else if(!n)return this;return 1===r&&(o=n,n=function(e){return Q().off(e),o.apply(this,arguments)},n.guid=o.guid||(o.guid=Q.guid++)),this.each(function(){Q.event.add(this,e,n,i,t)})},one:function(e,t,i,n){return this.on(e,t,i,n,1)},off:function(e,t,i){var n,r;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,Q(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return t!==!1&&"function"!=typeof t||(i=t,t=void 0),i===!1&&(i=u),this.each(function(){Q.event.remove(this,e,i,t)})},trigger:function(e,t){return this.each(function(){Q.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0];if(i)return Q.event.trigger(e,t,i,!0)}});var De=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Me=/<([\w:]+)/,Se=/<|&#?\w+;/,Pe=/<(?:script|style|link)/i,Ne=/checked\s*(?:[^=]|=\s*.checked.)/i,Ie=/^$|\/(?:java|ecma)script/i,Oe=/^true\/(.*)/,Re=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,je={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};je.optgroup=je.option,je.tbody=je.tfoot=je.colgroup=je.caption=je.thead,je.th=je.td,Q.extend({clone:function(e,t,i){var n,r,o,a,s=e.cloneNode(!0),l=Q.contains(e.ownerDocument,e);if(!(Z.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||Q.isXMLDoc(e)))for(a=v(s),o=v(e),n=0,r=o.length;n<r;n++)y(o[n],a[n]);if(t)if(i)for(o=o||v(e),a=a||v(s),n=0,r=o.length;n<r;n++)g(o[n],a[n]);else g(e,s);return a=v(s,"script"),a.length>0&&m(a,!l&&v(e,"script")),s},buildFragment:function(e,t,i,n){for(var r,o,a,s,l,c,u=t.createDocumentFragment(),d=[],h=0,p=e.length;h<p;h++)if(r=e[h],r||0===r)if("object"===Q.type(r))Q.merge(d,r.nodeType?[r]:r);else if(Se.test(r)){for(o=o||u.appendChild(t.createElement("div")),a=(Me.exec(r)||["",""])[1].toLowerCase(),s=je[a]||je._default,o.innerHTML=s[1]+r.replace(De,"<$1></$2>")+s[2],c=s[0];c--;)o=o.lastChild;Q.merge(d,o.childNodes),o=u.firstChild,o.textContent=""}else d.push(t.createTextNode(r));for(u.textContent="",h=0;r=d[h++];)if((!n||Q.inArray(r,n)===-1)&&(l=Q.contains(r.ownerDocument,r),o=v(u.appendChild(r),"script"),l&&m(o),i))for(c=0;r=o[c++];)Ie.test(r.type||"")&&i.push(r);return u},cleanData:function(e){for(var t,i,n,r,o=Q.event.special,a=0;void 0!==(i=e[a]);a++){if(Q.acceptData(i)&&(r=i[ve.expando],r&&(t=ve.cache[r]))){if(t.events)for(n in t.events)o[n]?Q.event.remove(i,n):Q.removeEvent(i,n,t.handle);ve.cache[r]&&delete ve.cache[r]}delete ye.cache[i[ye.expando]]}}}),Q.fn.extend({text:function(e){return ge(this,function(e){return void 0===e?Q.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=h(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=h(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var i,n=e?Q.filter(e,this):this,r=0;null!=(i=n[r]);r++)t||1!==i.nodeType||Q.cleanData(v(i)),i.parentNode&&(t&&Q.contains(i.ownerDocument,i)&&m(v(i,"script")),i.parentNode.removeChild(i));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(Q.cleanData(v(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return Q.clone(this,e,t)})},html:function(e){return ge(this,function(e){var t=this[0]||{},i=0,n=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Pe.test(e)&&!je[(Me.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(De,"<$1></$2>");try{for(;i<n;i++)t=this[i]||{},1===t.nodeType&&(Q.cleanData(v(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,Q.cleanData(v(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=G.apply([],e);var i,n,r,o,a,s,l=0,c=this.length,u=this,d=c-1,h=e[0],m=Q.isFunction(h);if(m||c>1&&"string"==typeof h&&!Z.checkClone&&Ne.test(h))return this.each(function(i){var n=u.eq(i);m&&(e[0]=h.call(this,i,n.html())),n.domManip(e,t)});if(c&&(i=Q.buildFragment(e,this[0].ownerDocument,!1,this),n=i.firstChild,1===i.childNodes.length&&(i=n),n)){for(r=Q.map(v(i,"script"),p),o=r.length;l<c;l++)a=i,l!==d&&(a=Q.clone(a,!0,!0),o&&Q.merge(r,v(a,"script"))),t.call(this[l],a,l);if(o)for(s=r[r.length-1].ownerDocument,Q.map(r,f),l=0;l<o;l++)a=r[l],Ie.test(a.type||"")&&!ve.access(a,"globalEval")&&Q.contains(s,a)&&(a.src?Q._evalUrl&&Q._evalUrl(a.src):Q.globalEval(a.textContent.replace(Re,"")))}return this}}),Q.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){Q.fn[e]=function(e){for(var i,n=[],r=Q(e),o=r.length-1,a=0;a<=o;a++)i=a===o?this:this.clone(!0),Q(r[a])[t](i),W.apply(n,i.get());return this.pushStack(n)}});var He,Fe={},Ue=/^margin/,ze=new RegExp("^("+we+")(?!px)[a-z%]+$","i"),Be=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)};!function(){function t(){a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",a.innerHTML="",r.appendChild(o);var t=e.getComputedStyle(a,null);i="1%"!==t.top,n="4px"===t.width,r.removeChild(o)}var i,n,r=X.documentElement,o=X.createElement("div"),a=X.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",Z.clearCloneStyle="content-box"===a.style.backgroundClip,o.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",o.appendChild(a),e.getComputedStyle&&Q.extend(Z,{pixelPosition:function(){return t(),i},boxSizingReliable:function(){return null==n&&t(),n},reliableMarginRight:function(){var t,i=a.appendChild(X.createElement("div"));return i.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",a.style.width="1px",r.appendChild(o),t=!parseFloat(e.getComputedStyle(i,null).marginRight),r.removeChild(o),a.removeChild(i),t}}))}(),Q.swap=function(e,t,i,n){var r,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];r=i.apply(e,n||[]);for(o in t)e.style[o]=a[o];return r};var Ge=/^(none|table(?!-c[ea]).+)/,We=new RegExp("^("+we+")(.*)$","i"),qe=new RegExp("^([+-])=("+we+")","i"),Ve={position:"absolute",visibility:"hidden",display:"block"},Ye={letterSpacing:"0",fontWeight:"400"},Je=["Webkit","O","Moz","ms"];Q.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=w(e,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,i,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,a,s=Q.camelCase(t),l=e.style;return t=Q.cssProps[s]||(Q.cssProps[s]=E(l,s)),a=Q.cssHooks[t]||Q.cssHooks[s],void 0===i?a&&"get"in a&&void 0!==(r=a.get(e,!1,n))?r:l[t]:(o=typeof i,"string"===o&&(r=qe.exec(i))&&(i=(r[1]+1)*r[2]+parseFloat(Q.css(e,t)),o="number"),null!=i&&i===i&&("number"!==o||Q.cssNumber[s]||(i+="px"),Z.clearCloneStyle||""!==i||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(i=a.set(e,i,n))||(l[t]=i)),void 0)}},css:function(e,t,i,n){var r,o,a,s=Q.camelCase(t);return t=Q.cssProps[s]||(Q.cssProps[s]=E(e.style,s)),a=Q.cssHooks[t]||Q.cssHooks[s],a&&"get"in a&&(r=a.get(e,!0,i)),void 0===r&&(r=w(e,t,n)),"normal"===r&&t in Ye&&(r=Ye[t]),""===i||i?(o=parseFloat(r),i===!0||Q.isNumeric(o)?o||0:r):r}}),Q.each(["height","width"],function(e,t){Q.cssHooks[t]={get:function(e,i,n){if(i)return Ge.test(Q.css(e,"display"))&&0===e.offsetWidth?Q.swap(e,Ve,function(){return k(e,t,n)}):k(e,t,n)},set:function(e,i,n){var r=n&&Be(e);return A(e,i,n?C(e,t,n,"border-box"===Q.css(e,"boxSizing",!1,r),r):0)}}}),Q.cssHooks.marginRight=x(Z.reliableMarginRight,function(e,t){if(t)return Q.swap(e,{display:"inline-block"},w,[e,"marginRight"])}),Q.each({margin:"",padding:"",border:"Width"},function(e,t){Q.cssHooks[e+t]={expand:function(i){for(var n=0,r={},o="string"==typeof i?i.split(" "):[i];n<4;n++)r[e+xe[n]+t]=o[n]||o[n-2]||o[0];return r}},Ue.test(e)||(Q.cssHooks[e+t].set=A)}),Q.fn.extend({css:function(e,t){return ge(this,function(e,t,i){var n,r,o={},a=0;if(Q.isArray(t)){for(n=Be(e),r=t.length;a<r;a++)o[t[a]]=Q.css(e,t[a],!1,n);return o}return void 0!==i?Q.style(e,t,i):Q.css(e,t)},e,t,arguments.length>1)},show:function(){return $(this,!0)},hide:function(){return $(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Ee(this)?Q(this).show():Q(this).hide()})}}),Q.Tween=T,T.prototype={constructor:T,init:function(e,t,i,n,r,o){this.elem=e,this.prop=i,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=o||(Q.cssNumber[i]?"":"px")},cur:function(){var e=T.propHooks[this.prop];return e&&e.get?e.get(this):T.propHooks._default.get(this)},run:function(e){var t,i=T.propHooks[this.prop];return this.options.duration?this.pos=t=Q.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):T.propHooks._default.set(this),this}},T.prototype.init.prototype=T.prototype,T.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=Q.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){Q.fx.step[e.prop]?Q.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[Q.cssProps[e.prop]]||Q.cssHooks[e.prop])?Q.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},T.propHooks.scrollTop=T.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Q.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},Q.fx=T.prototype.init,Q.fx.step={};var Ze,Xe,Ke=/^(?:toggle|show|hide)$/,Qe=new RegExp("^(?:([+-])=|)("+we+")([a-z%]*)$","i"),et=/queueHooks$/,tt=[S],it={"*":[function(e,t){var i=this.createTween(e,t),n=i.cur(),r=Qe.exec(t),o=r&&r[3]||(Q.cssNumber[e]?"":"px"),a=(Q.cssNumber[e]||"px"!==o&&+n)&&Qe.exec(Q.css(i.elem,e)),s=1,l=20;if(a&&a[3]!==o){o=o||a[3],r=r||[],a=+n||1;do s=s||".5",a/=s,Q.style(i.elem,e,a+o);while(s!==(s=i.cur()/n)&&1!==s&&--l)}return r&&(a=i.start=+a||+n||0,i.unit=o,i.end=r[1]?a+(r[1]+1)*r[2]:+r[2]),i}]};Q.Animation=Q.extend(N,{tweener:function(e,t){Q.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var i,n=0,r=e.length;n<r;n++)i=e[n],it[i]=it[i]||[],it[i].unshift(t)},prefilter:function(e,t){t?tt.unshift(e):tt.push(e)}}),Q.speed=function(e,t,i){var n=e&&"object"==typeof e?Q.extend({},e):{complete:i||!i&&t||Q.isFunction(e)&&e,duration:e,easing:i&&t||t&&!Q.isFunction(t)&&t};return n.duration=Q.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in Q.fx.speeds?Q.fx.speeds[n.duration]:Q.fx.speeds._default,null!=n.queue&&n.queue!==!0||(n.queue="fx"),n.old=n.complete,n.complete=function(){Q.isFunction(n.old)&&n.old.call(this),n.queue&&Q.dequeue(this,n.queue)},n},Q.fn.extend({fadeTo:function(e,t,i,n){return this.filter(Ee).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(e,t,i,n){var r=Q.isEmptyObject(e),o=Q.speed(t,i,n),a=function(){var t=N(this,Q.extend({},e),o);(r||ve.get(this,"finish"))&&t.stop(!0)};return a.finish=a,r||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,t,i){var n=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",o=Q.timers,a=ve.get(this);if(r)a[r]&&a[r].stop&&n(a[r]);else for(r in a)a[r]&&a[r].stop&&et.test(r)&&n(a[r]);for(r=o.length;r--;)o[r].elem!==this||null!=e&&o[r].queue!==e||(o[r].anim.stop(i),t=!1,o.splice(r,1));!t&&i||Q.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,i=ve.get(this),n=i[e+"queue"],r=i[e+"queueHooks"],o=Q.timers,a=n?n.length:0;for(i.finish=!0,Q.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));
for(t=0;t<a;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete i.finish})}}),Q.each(["toggle","show","hide"],function(e,t){var i=Q.fn[t];Q.fn[t]=function(e,n,r){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(D(t,!0),e,n,r)}}),Q.each({slideDown:D("show"),slideUp:D("hide"),slideToggle:D("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){Q.fn[e]=function(e,i,n){return this.animate(t,e,i,n)}}),Q.timers=[],Q.fx.tick=function(){var e,t=0,i=Q.timers;for(Ze=Q.now();t<i.length;t++)e=i[t],e()||i[t]!==e||i.splice(t--,1);i.length||Q.fx.stop(),Ze=void 0},Q.fx.timer=function(e){Q.timers.push(e),e()?Q.fx.start():Q.timers.pop()},Q.fx.interval=13,Q.fx.start=function(){Xe||(Xe=setInterval(Q.fx.tick,Q.fx.interval))},Q.fx.stop=function(){clearInterval(Xe),Xe=null},Q.fx.speeds={slow:600,fast:200,_default:400},Q.fn.delay=function(e,t){return e=Q.fx?Q.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,i){var n=setTimeout(t,e);i.stop=function(){clearTimeout(n)}})},function(){var e=X.createElement("input"),t=X.createElement("select"),i=t.appendChild(X.createElement("option"));e.type="checkbox",Z.checkOn=""!==e.value,Z.optSelected=i.selected,t.disabled=!0,Z.optDisabled=!i.disabled,e=X.createElement("input"),e.value="t",e.type="radio",Z.radioValue="t"===e.value}();var nt,rt,ot=Q.expr.attrHandle;Q.fn.extend({attr:function(e,t){return ge(this,Q.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){Q.removeAttr(this,e)})}}),Q.extend({attr:function(e,t,i){var n,r,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===Ce?Q.prop(e,t,i):(1===o&&Q.isXMLDoc(e)||(t=t.toLowerCase(),n=Q.attrHooks[t]||(Q.expr.match.bool.test(t)?rt:nt)),void 0===i?n&&"get"in n&&null!==(r=n.get(e,t))?r:(r=Q.find.attr(e,t),null==r?void 0:r):null!==i?n&&"set"in n&&void 0!==(r=n.set(e,i,t))?r:(e.setAttribute(t,i+""),i):void Q.removeAttr(e,t))},removeAttr:function(e,t){var i,n,r=0,o=t&&t.match(pe);if(o&&1===e.nodeType)for(;i=o[r++];)n=Q.propFix[i]||i,Q.expr.match.bool.test(i)&&(e[n]=!1),e.removeAttribute(i)},attrHooks:{type:{set:function(e,t){if(!Z.radioValue&&"radio"===t&&Q.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}}}),rt={set:function(e,t,i){return t===!1?Q.removeAttr(e,i):e.setAttribute(i,i),i}},Q.each(Q.expr.match.bool.source.match(/\w+/g),function(e,t){var i=ot[t]||Q.find.attr;ot[t]=function(e,t,n){var r,o;return n||(o=ot[t],ot[t]=r,r=null!=i(e,t,n)?t.toLowerCase():null,ot[t]=o),r}});var at=/^(?:input|select|textarea|button)$/i;Q.fn.extend({prop:function(e,t){return ge(this,Q.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[Q.propFix[e]||e]})}}),Q.extend({propFix:{for:"htmlFor",class:"className"},prop:function(e,t,i){var n,r,o,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return o=1!==a||!Q.isXMLDoc(e),o&&(t=Q.propFix[t]||t,r=Q.propHooks[t]),void 0!==i?r&&"set"in r&&void 0!==(n=r.set(e,i,t))?n:e[t]=i:r&&"get"in r&&null!==(n=r.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||at.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),Z.optSelected||(Q.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),Q.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Q.propFix[this.toLowerCase()]=this});var st=/[\t\r\n\f]/g;Q.fn.extend({addClass:function(e){var t,i,n,r,o,a,s="string"==typeof e&&e,l=0,c=this.length;if(Q.isFunction(e))return this.each(function(t){Q(this).addClass(e.call(this,t,this.className))});if(s)for(t=(e||"").match(pe)||[];l<c;l++)if(i=this[l],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(st," "):" ")){for(o=0;r=t[o++];)n.indexOf(" "+r+" ")<0&&(n+=r+" ");a=Q.trim(n),i.className!==a&&(i.className=a)}return this},removeClass:function(e){var t,i,n,r,o,a,s=0===arguments.length||"string"==typeof e&&e,l=0,c=this.length;if(Q.isFunction(e))return this.each(function(t){Q(this).removeClass(e.call(this,t,this.className))});if(s)for(t=(e||"").match(pe)||[];l<c;l++)if(i=this[l],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(st," "):"")){for(o=0;r=t[o++];)for(;n.indexOf(" "+r+" ")>=0;)n=n.replace(" "+r+" "," ");a=e?Q.trim(n):"",i.className!==a&&(i.className=a)}return this},toggleClass:function(e,t){var i=typeof e;return"boolean"==typeof t&&"string"===i?t?this.addClass(e):this.removeClass(e):Q.isFunction(e)?this.each(function(i){Q(this).toggleClass(e.call(this,i,this.className,t),t)}):this.each(function(){if("string"===i)for(var t,n=0,r=Q(this),o=e.match(pe)||[];t=o[n++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else i!==Ce&&"boolean"!==i||(this.className&&ve.set(this,"__className__",this.className),this.className=this.className||e===!1?"":ve.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",i=0,n=this.length;i<n;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(st," ").indexOf(t)>=0)return!0;return!1}});var lt=/\r/g;Q.fn.extend({val:function(e){var t,i,n,r=this[0];{if(arguments.length)return n=Q.isFunction(e),this.each(function(i){var r;1===this.nodeType&&(r=n?e.call(this,i,Q(this).val()):e,null==r?r="":"number"==typeof r?r+="":Q.isArray(r)&&(r=Q.map(r,function(e){return null==e?"":e+""})),t=Q.valHooks[this.type]||Q.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))});if(r)return t=Q.valHooks[r.type]||Q.valHooks[r.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(i=t.get(r,"value"))?i:(i=r.value,"string"==typeof i?i.replace(lt,""):null==i?"":i)}}}),Q.extend({valHooks:{option:{get:function(e){var t=Q.find.attr(e,"value");return null!=t?t:Q.trim(Q.text(e))}},select:{get:function(e){for(var t,i,n=e.options,r=e.selectedIndex,o="select-one"===e.type||r<0,a=o?null:[],s=o?r+1:n.length,l=r<0?s:o?r:0;l<s;l++)if(i=n[l],(i.selected||l===r)&&(Z.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!Q.nodeName(i.parentNode,"optgroup"))){if(t=Q(i).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var i,n,r=e.options,o=Q.makeArray(t),a=r.length;a--;)n=r[a],(n.selected=Q.inArray(n.value,o)>=0)&&(i=!0);return i||(e.selectedIndex=-1),o}}}}),Q.each(["radio","checkbox"],function(){Q.valHooks[this]={set:function(e,t){if(Q.isArray(t))return e.checked=Q.inArray(Q(e).val(),t)>=0}},Z.checkOn||(Q.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),Q.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){Q.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}}),Q.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)}});var ct=Q.now(),ut=/\?/;Q.parseJSON=function(e){return JSON.parse(e+"")},Q.parseXML=function(e){var t,i;if(!e||"string"!=typeof e)return null;try{i=new DOMParser,t=i.parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||Q.error("Invalid XML: "+e),t};var dt=/#.*$/,ht=/([?&])_=[^&]*/,pt=/^(.*?):[ \t]*([^\r\n]*)$/gm,ft=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,mt=/^(?:GET|HEAD)$/,gt=/^\/\//,vt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,yt={},bt={},_t="*/".concat("*"),wt=e.location.href,xt=vt.exec(wt.toLowerCase())||[];Q.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:wt,type:"GET",isLocal:ft.test(xt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":_t,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":Q.parseJSON,"text xml":Q.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?R(R(e,Q.ajaxSettings),t):R(Q.ajaxSettings,e)},ajaxPrefilter:I(yt),ajaxTransport:I(bt),ajax:function(e,t){function i(e,t,i,a){var l,u,v,y,_,x=t;2!==b&&(b=2,s&&clearTimeout(s),n=void 0,o=a||"",w.readyState=e>0?4:0,l=e>=200&&e<300||304===e,i&&(y=j(d,w,i)),y=H(d,y,w,l),l?(d.ifModified&&(_=w.getResponseHeader("Last-Modified"),_&&(Q.lastModified[r]=_),_=w.getResponseHeader("etag"),_&&(Q.etag[r]=_)),204===e||"HEAD"===d.type?x="nocontent":304===e?x="notmodified":(x=y.state,u=y.data,v=y.error,l=!v)):(v=x,!e&&x||(x="error",e<0&&(e=0))),w.status=e,w.statusText=(t||x)+"",l?f.resolveWith(h,[u,x,w]):f.rejectWith(h,[w,x,v]),w.statusCode(g),g=void 0,c&&p.trigger(l?"ajaxSuccess":"ajaxError",[w,d,l?u:v]),m.fireWith(h,[w,x]),c&&(p.trigger("ajaxComplete",[w,d]),--Q.active||Q.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,r,o,a,s,l,c,u,d=Q.ajaxSetup({},t),h=d.context||d,p=d.context&&(h.nodeType||h.jquery)?Q(h):Q.event,f=Q.Deferred(),m=Q.Callbacks("once memory"),g=d.statusCode||{},v={},y={},b=0,_="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!a)for(a={};t=pt.exec(o);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?o:null},setRequestHeader:function(e,t){var i=e.toLowerCase();return b||(e=y[i]=y[i]||e,v[e]=t),this},overrideMimeType:function(e){return b||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(b<2)for(t in e)g[t]=[g[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||_;return n&&n.abort(t),i(0,t),this}};if(f.promise(w).complete=m.add,w.success=w.done,w.error=w.fail,d.url=((e||d.url||wt)+"").replace(dt,"").replace(gt,xt[1]+"//"),d.type=t.method||t.type||d.method||d.type,d.dataTypes=Q.trim(d.dataType||"*").toLowerCase().match(pe)||[""],null==d.crossDomain&&(l=vt.exec(d.url.toLowerCase()),d.crossDomain=!(!l||l[1]===xt[1]&&l[2]===xt[2]&&(l[3]||("http:"===l[1]?"80":"443"))===(xt[3]||("http:"===xt[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=Q.param(d.data,d.traditional)),O(yt,d,t,w),2===b)return w;c=Q.event&&d.global,c&&0===Q.active++&&Q.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!mt.test(d.type),r=d.url,d.hasContent||(d.data&&(r=d.url+=(ut.test(r)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=ht.test(r)?r.replace(ht,"$1_="+ct++):r+(ut.test(r)?"&":"?")+"_="+ct++)),d.ifModified&&(Q.lastModified[r]&&w.setRequestHeader("If-Modified-Since",Q.lastModified[r]),Q.etag[r]&&w.setRequestHeader("If-None-Match",Q.etag[r])),(d.data&&d.hasContent&&d.contentType!==!1||t.contentType)&&w.setRequestHeader("Content-Type",d.contentType),w.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+_t+"; q=0.01":""):d.accepts["*"]);for(u in d.headers)w.setRequestHeader(u,d.headers[u]);if(d.beforeSend&&(d.beforeSend.call(h,w,d)===!1||2===b))return w.abort();_="abort";for(u in{success:1,error:1,complete:1})w[u](d[u]);if(n=O(bt,d,t,w)){w.readyState=1,c&&p.trigger("ajaxSend",[w,d]),d.async&&d.timeout>0&&(s=setTimeout(function(){w.abort("timeout")},d.timeout));try{b=1,n.send(v,i)}catch(e){if(!(b<2))throw e;i(-1,e)}}else i(-1,"No Transport");return w},getJSON:function(e,t,i){return Q.get(e,t,i,"json")},getScript:function(e,t){return Q.get(e,void 0,t,"script")}}),Q.each(["get","post"],function(e,t){Q[t]=function(e,i,n,r){return Q.isFunction(i)&&(r=r||n,n=i,i=void 0),Q.ajax({url:e,type:t,dataType:r,data:i,success:n})}}),Q._evalUrl=function(e){return Q.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},Q.fn.extend({wrapAll:function(e){var t;return Q.isFunction(e)?this.each(function(t){Q(this).wrapAll(e.call(this,t))}):(this[0]&&(t=Q(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return Q.isFunction(e)?this.each(function(t){Q(this).wrapInner(e.call(this,t))}):this.each(function(){var t=Q(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=Q.isFunction(e);return this.each(function(i){Q(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(){return this.parent().each(function(){Q.nodeName(this,"body")||Q(this).replaceWith(this.childNodes)}).end()}}),Q.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},Q.expr.filters.visible=function(e){return!Q.expr.filters.hidden(e)};var Et=/%20/g,At=/\[\]$/,Ct=/\r?\n/g,kt=/^(?:submit|button|image|reset|file)$/i,$t=/^(?:input|select|textarea|keygen)/i;Q.param=function(e,t){var i,n=[],r=function(e,t){t=Q.isFunction(t)?t():null==t?"":t,n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=Q.ajaxSettings&&Q.ajaxSettings.traditional),Q.isArray(e)||e.jquery&&!Q.isPlainObject(e))Q.each(e,function(){r(this.name,this.value)});else for(i in e)F(i,e[i],t,r);return n.join("&").replace(Et,"+")},Q.fn.extend({serialize:function(){return Q.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=Q.prop(this,"elements");return e?Q.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!Q(this).is(":disabled")&&$t.test(this.nodeName)&&!kt.test(e)&&(this.checked||!Ae.test(e))}).map(function(e,t){var i=Q(this).val();return null==i?null:Q.isArray(i)?Q.map(i,function(e){return{name:t.name,value:e.replace(Ct,"\r\n")}}):{name:t.name,value:i.replace(Ct,"\r\n")}}).get()}}),Q.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var Tt=0,Lt={},Dt={0:200,1223:204},Mt=Q.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in Lt)Lt[e]()}),Z.cors=!!Mt&&"withCredentials"in Mt,Z.ajax=Mt=!!Mt,Q.ajaxTransport(function(e){var t;if(Z.cors||Mt&&!e.crossDomain)return{send:function(i,n){var r,o=e.xhr(),a=++Tt;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(r in e.xhrFields)o[r]=e.xhrFields[r];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(r in i)o.setRequestHeader(r,i[r]);t=function(e){return function(){t&&(delete Lt[a],t=o.onload=o.onerror=null,"abort"===e?o.abort():"error"===e?n(o.status,o.statusText):n(Dt[o.status]||o.status,o.statusText,"string"==typeof o.responseText?{text:o.responseText}:void 0,o.getAllResponseHeaders()))}},o.onload=t(),o.onerror=t("error"),t=Lt[a]=t("abort");try{o.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}}),Q.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return Q.globalEval(e),e}}}),Q.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),Q.ajaxTransport("script",function(e){if(e.crossDomain){var t,i;return{send:function(n,r){t=Q("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",i=function(e){t.remove(),i=null,e&&r("error"===e.type?404:200,e.type)}),X.head.appendChild(t[0])},abort:function(){i&&i()}}}});var St=[],Pt=/(=)\?(?=&|$)|\?\?/;Q.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=St.pop()||Q.expando+"_"+ct++;return this[e]=!0,e}}),Q.ajaxPrefilter("json jsonp",function(t,i,n){var r,o,a,s=t.jsonp!==!1&&(Pt.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Pt.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=Q.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Pt,"$1"+r):t.jsonp!==!1&&(t.url+=(ut.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return a||Q.error(r+" was not called"),a[0]},t.dataTypes[0]="json",o=e[r],e[r]=function(){a=arguments},n.always(function(){e[r]=o,t[r]&&(t.jsonpCallback=i.jsonpCallback,St.push(r)),a&&Q.isFunction(o)&&o(a[0]),a=o=void 0}),"script"}),Q.parseHTML=function(e,t,i){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(i=t,t=!1),t=t||X;var n=ae.exec(e),r=!i&&[];return n?[t.createElement(n[1])]:(n=Q.buildFragment([e],t,r),r&&r.length&&Q(r).remove(),Q.merge([],n.childNodes))};var Nt=Q.fn.load;Q.fn.load=function(e,t,i){if("string"!=typeof e&&Nt)return Nt.apply(this,arguments);var n,r,o,a=this,s=e.indexOf(" ");return s>=0&&(n=Q.trim(e.slice(s)),e=e.slice(0,s)),Q.isFunction(t)?(i=t,t=void 0):t&&"object"==typeof t&&(r="POST"),a.length>0&&Q.ajax({url:e,type:r,dataType:"html",data:t}).done(function(e){o=arguments,a.html(n?Q("<div>").append(Q.parseHTML(e)).find(n):e)}).complete(i&&function(e,t){a.each(i,o||[e.responseText,t,e])}),this},Q.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){Q.fn[t]=function(e){return this.on(t,e)}}),Q.expr.filters.animated=function(e){return Q.grep(Q.timers,function(t){return e===t.elem}).length};var It=e.document.documentElement;Q.offset={setOffset:function(e,t,i){var n,r,o,a,s,l,c,u=Q.css(e,"position"),d=Q(e),h={};"static"===u&&(e.style.position="relative"),s=d.offset(),o=Q.css(e,"top"),l=Q.css(e,"left"),c=("absolute"===u||"fixed"===u)&&(o+l).indexOf("auto")>-1,c?(n=d.position(),a=n.top,r=n.left):(a=parseFloat(o)||0,r=parseFloat(l)||0),Q.isFunction(t)&&(t=t.call(e,i,s)),null!=t.top&&(h.top=t.top-s.top+a),null!=t.left&&(h.left=t.left-s.left+r),"using"in t?t.using.call(e,h):d.css(h)}},Q.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){Q.offset.setOffset(this,e,t)});var t,i,n=this[0],r={top:0,left:0},o=n&&n.ownerDocument;if(o)return t=o.documentElement,Q.contains(t,n)?(typeof n.getBoundingClientRect!==Ce&&(r=n.getBoundingClientRect()),i=U(o),{top:r.top+i.pageYOffset-t.clientTop,left:r.left+i.pageXOffset-t.clientLeft}):r},position:function(){if(this[0]){var e,t,i=this[0],n={top:0,left:0};return"fixed"===Q.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),Q.nodeName(e[0],"html")||(n=e.offset()),n.top+=Q.css(e[0],"borderTopWidth",!0),n.left+=Q.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-Q.css(i,"marginTop",!0),left:t.left-n.left-Q.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||It;e&&!Q.nodeName(e,"html")&&"static"===Q.css(e,"position");)e=e.offsetParent;return e||It})}}),Q.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var n="pageYOffset"===i;Q.fn[t]=function(r){return ge(this,function(t,r,o){var a=U(t);return void 0===o?a?a[i]:t[r]:void(a?a.scrollTo(n?e.pageXOffset:o,n?o:e.pageYOffset):t[r]=o)},t,r,arguments.length,null)}}),Q.each(["top","left"],function(e,t){Q.cssHooks[t]=x(Z.pixelPosition,function(e,i){if(i)return i=w(e,t),ze.test(i)?Q(e).position()[t]+"px":i})}),Q.each({Height:"height",Width:"width"},function(e,t){Q.each({padding:"inner"+e,content:t,"":"outer"+e},function(i,n){Q.fn[n]=function(n,r){var o=arguments.length&&(i||"boolean"!=typeof n),a=i||(n===!0||r===!0?"margin":"border");return ge(this,function(t,i,n){var r;return Q.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===n?Q.css(t,i,a):Q.style(t,i,n,a)},t,o?n:void 0,o,null)}})}),Q.fn.size=function(){return this.length},Q.fn.andSelf=Q.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return Q});var Ot=e.jQuery,Rt=e.$;return Q.noConflict=function(t){return e.$===Q&&(e.$=Rt),t&&e.jQuery===Q&&(e.jQuery=Ot),Q},typeof t===Ce&&(e.jQuery=e.$=Q),Q}),function(e,t,i){"use strict";function n(e,t){return t=t||Error,function(){var i,n,r=arguments[0],o="["+(e?e+":":"")+r+"] ",a=arguments[1],s=arguments;for(i=o+a.replace(/\{\d+\}/g,function(e){var t=+e.slice(1,-1);return t+2<s.length?he(s[t+2]):e}),i=i+"\nhttp://errors.angularjs.org/1.3.14/"+(e?e+"/":"")+r,n=2;n<arguments.length;n++)i=i+(2==n?"?":"&")+"p"+(n-2)+"="+encodeURIComponent(he(arguments[n]));return new t(i)}}function r(e){if(null==e||C(e))return!1;var t=e.length;return!(e.nodeType!==vn||!t)||(_(e)||un(e)||0===t||"number"==typeof t&&t>0&&t-1 in e)}function o(e,t,i){var n,a;if(e)if(E(e))for(n in e)"prototype"==n||"length"==n||"name"==n||e.hasOwnProperty&&!e.hasOwnProperty(n)||t.call(i,e[n],n,e);else if(un(e)||r(e)){var s="object"!=typeof e;for(n=0,a=e.length;n<a;n++)(s||n in e)&&t.call(i,e[n],n,e)}else if(e.forEach&&e.forEach!==o)e.forEach(t,i,e);else for(n in e)e.hasOwnProperty(n)&&t.call(i,e[n],n,e);return e}function a(e){return Object.keys(e).sort()}function s(e,t,i){for(var n=a(e),r=0;r<n.length;r++)t.call(i,e[n[r]],n[r]);return n}function l(e){return function(t,i){e(i,t)}}function c(){return++ln}function u(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function d(e){for(var t=e.$$hashKey,i=1,n=arguments.length;i<n;i++){var r=arguments[i];if(r)for(var o=Object.keys(r),a=0,s=o.length;a<s;a++){var l=o[a];e[l]=r[l]}}return u(e,t),e}function h(e){return parseInt(e,10)}function p(e,t){return d(Object.create(e),t)}function f(){}function m(e){return e}function g(e){return function(){return e}}function v(e){return"undefined"==typeof e}function y(e){return"undefined"!=typeof e}function b(e){return null!==e&&"object"==typeof e}function _(e){return"string"==typeof e}function w(e){return"number"==typeof e}function x(e){return"[object Date]"===on.call(e)}function E(e){return"function"==typeof e}function A(e){return"[object RegExp]"===on.call(e)}function C(e){return e&&e.window===e}function k(e){return e&&e.$evalAsync&&e.$watch}function $(e){return"[object File]"===on.call(e)}function T(e){return"[object FormData]"===on.call(e)}function L(e){return"[object Blob]"===on.call(e)}function D(e){return"boolean"==typeof e}function M(e){return e&&E(e.then)}function S(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function P(e){var t,i={},n=e.split(",");for(t=0;t<n.length;t++)i[n[t]]=!0;return i}function N(e){return qi(e.nodeName||e[0]&&e[0].nodeName)}function I(e,t){var i=e.indexOf(t);return i>=0&&e.splice(i,1),t}function O(e,t,i,n){if(C(e)||k(e))throw an("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");if(t){if(e===t)throw an("cpi","Can't copy! Source and destination are identical.");if(i=i||[],n=n||[],b(e)){var r=i.indexOf(e);if(r!==-1)return n[r];i.push(e),n.push(t)}var a;if(un(e)){t.length=0;for(var s=0;s<e.length;s++)a=O(e[s],null,i,n),b(e[s])&&(i.push(e[s]),n.push(a)),t.push(a)}else{var l=t.$$hashKey;un(t)?t.length=0:o(t,function(e,i){delete t[i]});for(var c in e)e.hasOwnProperty(c)&&(a=O(e[c],null,i,n),b(e[c])&&(i.push(e[c]),n.push(a)),t[c]=a);u(t,l)}}else if(t=e,e)if(un(e))t=O(e,[],i,n);else if(x(e))t=new Date(e.getTime());else if(A(e))t=new RegExp(e.source,e.toString().match(/[^\/]*$/)[0]),t.lastIndex=e.lastIndex;else if(b(e)){var d=Object.create(Object.getPrototypeOf(e));t=O(e,d,i,n)}return t}function R(e,t){if(un(e)){t=t||[];for(var i=0,n=e.length;i<n;i++)t[i]=e[i]}else if(b(e)){t=t||{};for(var r in e)"$"===r.charAt(0)&&"$"===r.charAt(1)||(t[r]=e[r])}return t||e}function j(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var n,r,o,a=typeof e,s=typeof t;if(a==s&&"object"==a){if(!un(e)){if(x(e))return!!x(t)&&j(e.getTime(),t.getTime());if(A(e)&&A(t))return e.toString()==t.toString();if(k(e)||k(t)||C(e)||C(t)||un(t))return!1;o={};for(r in e)if("$"!==r.charAt(0)&&!E(e[r])){if(!j(e[r],t[r]))return!1;o[r]=!0}for(r in t)if(!o.hasOwnProperty(r)&&"$"!==r.charAt(0)&&t[r]!==i&&!E(t[r]))return!1;return!0}if(!un(t))return!1;if((n=e.length)==t.length){for(r=0;r<n;r++)if(!j(e[r],t[r]))return!1;return!0}}return!1}function H(e,t,i){return e.concat(tn.call(t,i))}function F(e,t){return tn.call(e,t||0)}function U(e,t){var i=arguments.length>2?F(arguments,2):[];return!E(t)||t instanceof RegExp?t:i.length?function(){return arguments.length?t.apply(e,H(i,arguments,0)):t.apply(e,i)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function z(e,n){var r=n;return"string"==typeof e&&"$"===e.charAt(0)&&"$"===e.charAt(1)?r=i:C(n)?r="$WINDOW":n&&t===n?r="$DOCUMENT":k(n)&&(r="$SCOPE"),r}function B(e,t){return"undefined"==typeof e?i:(w(t)||(t=t?2:null),JSON.stringify(e,z,t))}function G(e){return _(e)?JSON.parse(e):e}function W(e){e=Ki(e).clone();try{e.empty()}catch(e){}var t=Ki("<div>").append(e).html();try{return e[0].nodeType===yn?qi(t):t.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(e,t){return"<"+qi(t)})}catch(e){return qi(t)}}function q(e){try{return decodeURIComponent(e)}catch(e){}}function V(e){var t,i,n={};return o((e||"").split("&"),function(e){if(e&&(t=e.replace(/\+/g,"%20").split("="),i=q(t[0]),y(i))){var r=!y(t[1])||q(t[1]);Vi.call(n,i)?un(n[i])?n[i].push(r):n[i]=[n[i],r]:n[i]=r}}),n}function Y(e){var t=[];return o(e,function(e,i){un(e)?o(e,function(e){t.push(Z(i,!0)+(e===!0?"":"="+Z(e,!0)))}):t.push(Z(i,!0)+(e===!0?"":"="+Z(e,!0)))}),t.length?t.join("&"):""}function J(e){return Z(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function Z(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}function X(e,t){var i,n,r=fn.length;for(e=Ki(e),n=0;n<r;++n)if(i=fn[n]+t,_(i=e.attr(i)))return i;return null}function K(e,t){var i,n,r={};o(fn,function(t){var r=t+"app";!i&&e.hasAttribute&&e.hasAttribute(r)&&(i=e,n=e.getAttribute(r))}),o(fn,function(t){var r,o=t+"app";!i&&(r=e.querySelector("["+o.replace(":","\\:")+"]"))&&(i=r,n=r.getAttribute(o))}),i&&(r.strictDi=null!==X(i,"strict-di"),t(i,n?[n]:[],r))}function Q(i,n,r){b(r)||(r={});var a={strictDi:!1};r=d(a,r);var s=function(){if(i=Ki(i),i.injector()){var e=i[0]===t?"document":W(i);throw an("btstrpd","App Already Bootstrapped with this Element '{0}'",e.replace(/</,"&lt;").replace(/>/,"&gt;"))}n=n||[],n.unshift(["$provide",function(e){e.value("$rootElement",i)}]),r.debugInfoEnabled&&n.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),n.unshift("ng");var o=Ge(n,r.strictDi);return o.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,i,n){e.$apply(function(){t.data("$injector",n),i(t)(e)})}]),o},l=/^NG_ENABLE_DEBUG_INFO!/,c=/^NG_DEFER_BOOTSTRAP!/;return e&&l.test(e.name)&&(r.debugInfoEnabled=!0,e.name=e.name.replace(l,"")),e&&!c.test(e.name)?s():(e.name=e.name.replace(c,""),sn.resumeBootstrap=function(e){return o(e,function(e){n.push(e)}),s()},void(E(sn.resumeDeferredBootstrap)&&sn.resumeDeferredBootstrap()))}function ee(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()}function te(e){var t=sn.element(e).injector();if(!t)throw an("test","no injector found for element argument to getTestability");return t.get("$$testability")}function ie(e,t){return t=t||"_",e.replace(mn,function(e,i){return(i?t:"")+e.toLowerCase()})}function ne(){var t;gn||(Qi=e.jQuery,Qi&&Qi.fn.on?(Ki=Qi,d(Qi.fn,{scope:On.scope,isolateScope:On.isolateScope,controller:On.controller,injector:On.injector,inheritedData:On.inheritedData}),t=Qi.cleanData,Qi.cleanData=function(e){var i;if(cn)cn=!1;else for(var n,r=0;null!=(n=e[r]);r++)i=Qi._data(n,"events"),i&&i.$destroy&&Qi(n).triggerHandler("$destroy");t(e)}):Ki=_e,sn.element=Ki,gn=!0)}function re(e,t,i){if(!e)throw an("areq","Argument '{0}' is {1}",t||"?",i||"required");return e}function oe(e,t,i){return i&&un(e)&&(e=e[e.length-1]),re(E(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function ae(e,t){if("hasOwnProperty"===e)throw an("badname","hasOwnProperty is not a valid {0} name",t)}function se(e,t,i){if(!t)return e;for(var n,r=t.split("."),o=e,a=r.length,s=0;s<a;s++)n=r[s],e&&(e=(o=e)[n]);return!i&&E(e)?U(o,e):e}function le(e){var t=e[0],i=e[e.length-1],n=[t];do{if(t=t.nextSibling,!t)break;n.push(t)}while(t!==i);return Ki(n)}function ce(){return Object.create(null)}function ue(e){function t(e,t,i){return e[t]||(e[t]=i())}var i=n("$injector"),r=n("ng"),o=t(e,"angular",Object);return o.$$minErr=o.$$minErr||n,t(o,"module",function(){var e={};return function(n,o,a){var s=function(e,t){if("hasOwnProperty"===e)throw r("badname","hasOwnProperty is not a valid {0} name",t)};return s(n,"module"),o&&e.hasOwnProperty(n)&&(e[n]=null),t(e,n,function(){function e(e,i,n,r){return r||(r=t),function(){return r[n||"push"]([e,i,arguments]),c}}if(!o)throw i("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",n);var t=[],r=[],s=[],l=e("$injector","invoke","push",r),c={_invokeQueue:t,_configBlocks:r,_runBlocks:s,requires:o,name:n,provider:e("$provide","provider"),factory:e("$provide","factory"),service:e("$provide","service"),value:e("$provide","value"),constant:e("$provide","constant","unshift"),animation:e("$animateProvider","register"),filter:e("$filterProvider","register"),controller:e("$controllerProvider","register"),directive:e("$compileProvider","directive"),config:l,run:function(e){return s.push(e),this}};return a&&l(a),c})}})}function de(e){var t=[];return JSON.stringify(e,function(e,i){if(i=z(e,i),b(i)){if(t.indexOf(i)>=0)return"<<already seen>>";t.push(i)}return i})}function he(e){return"function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof e?"undefined":"string"!=typeof e?de(e):e}function pe(t){d(t,{bootstrap:Q,copy:O,extend:d,equals:j,element:Ki,forEach:o,injector:Ge,noop:f,bind:U,toJson:B,fromJson:G,identity:m,isUndefined:v,isDefined:y,isString:_,isFunction:E,isObject:b,isNumber:w,isElement:S,isArray:un,version:xn,isDate:x,lowercase:qi,uppercase:Yi,callbacks:{counter:0},getTestability:te,$$minErr:n,$$csp:pn,reloadWithDebugInfo:ee}),en=ue(e);try{en("ngLocale")}catch(e){en("ngLocale",[]).provider("$locale",gt)}en("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:Yt}),e.provider("$compile",Xe).directive({a:Tr,input:Wr,textarea:Wr,form:Pr,script:Io,select:jo,style:Fo,option:Ho,ngBind:Yr,ngBindHtml:Zr,ngBindTemplate:Jr,ngClass:Kr,ngClassEven:eo,ngClassOdd:Qr,ngCloak:to,ngController:io,ngForm:Nr,ngHide:Lo,ngIf:oo,ngInclude:ao,ngInit:lo,ngNonBindable:Eo,ngPluralize:Ao,ngRepeat:Co,ngShow:To,ngStyle:Do,ngSwitch:Mo,ngSwitchWhen:So,ngSwitchDefault:Po,ngOptions:Ro,ngTransclude:No,ngModel:_o,ngList:co,ngChange:Xr,pattern:zo,ngPattern:zo,required:Uo,ngRequired:Uo,minlength:Go,ngMinlength:Go,maxlength:Bo,ngMaxlength:Bo,ngValue:Vr,ngModelOptions:xo}).directive({ngInclude:so}).directive(Lr).directive(no),e.provider({$anchorScroll:We,$animate:qn,$browser:Ye,$cacheFactory:Je,$controller:tt,$document:it,$exceptionHandler:nt,$filter:ai,$interpolate:ft,$interval:mt,$http:ut,$httpBackend:ht,$location:Dt,$log:Mt,$parse:zt,$rootScope:Vt,$q:Bt,$$q:Gt,$sce:Kt,$sceDelegate:Xt,$sniffer:Qt,$templateCache:Ze,$templateRequest:ei,$$testability:ti,$timeout:ii,$window:oi,$$rAF:qt,$$asyncCallback:qe,$$jqLite:He})}])}function fe(){return++An}function me(e){return e.replace($n,function(e,t,i,n){return n?i.toUpperCase():i}).replace(Tn,"Moz$1")}function ge(e){return!Sn.test(e)}function ve(e){var t=e.nodeType;return t===vn||!t||t===_n}function ye(e,t){var i,n,r,a,s=t.createDocumentFragment(),l=[];if(ge(e))l.push(t.createTextNode(e));else{for(i=i||s.appendChild(t.createElement("div")),n=(Pn.exec(e)||["",""])[1].toLowerCase(),r=In[n]||In._default,i.innerHTML=r[1]+e.replace(Nn,"<$1></$2>")+r[2],a=r[0];a--;)i=i.lastChild;l=H(l,i.childNodes),i=s.firstChild,i.textContent=""}return s.textContent="",s.innerHTML="",o(l,function(e){
s.appendChild(e)}),s}function be(e,i){i=i||t;var n;return(n=Mn.exec(e))?[i.createElement(n[1])]:(n=ye(e,i))?n.childNodes:[]}function _e(e){if(e instanceof _e)return e;var t;if(_(e)&&(e=dn(e),t=!0),!(this instanceof _e)){if(t&&"<"!=e.charAt(0))throw Dn("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new _e(e)}t?De(this,be(e)):De(this,e)}function we(e){return e.cloneNode(!0)}function xe(e,t){if(t||Ae(e),e.querySelectorAll)for(var i=e.querySelectorAll("*"),n=0,r=i.length;n<r;n++)Ae(i[n])}function Ee(e,t,i,n){if(y(n))throw Dn("offargs","jqLite#off() does not support the `selector` argument");var r=Ce(e),a=r&&r.events,s=r&&r.handle;if(s)if(t)o(t.split(" "),function(t){if(y(i)){var n=a[t];if(I(n||[],i),n&&n.length>0)return}kn(e,t,s),delete a[t]});else for(t in a)"$destroy"!==t&&kn(e,t,s),delete a[t]}function Ae(e,t){var n=e.ng339,r=n&&En[n];if(r){if(t)return void delete r.data[t];r.handle&&(r.events.$destroy&&r.handle({},"$destroy"),Ee(e)),delete En[n],e.ng339=i}}function Ce(e,t){var n=e.ng339,r=n&&En[n];return t&&!r&&(e.ng339=n=fe(),r=En[n]={events:{},data:{},handle:i}),r}function ke(e,t,i){if(ve(e)){var n=y(i),r=!n&&t&&!b(t),o=!t,a=Ce(e,!r),s=a&&a.data;if(n)s[t]=i;else{if(o)return s;if(r)return s&&s[t];d(s,t)}}}function $e(e,t){return!!e.getAttribute&&(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1}function Te(e,t){t&&e.setAttribute&&o(t.split(" "),function(t){e.setAttribute("class",dn((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+dn(t)+" "," ")))})}function Le(e,t){if(t&&e.setAttribute){var i=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");o(t.split(" "),function(e){e=dn(e),i.indexOf(" "+e+" ")===-1&&(i+=e+" ")}),e.setAttribute("class",dn(i))}}function De(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var i=t.length;if("number"==typeof i&&t.window!==t){if(i)for(var n=0;n<i;n++)e[e.length++]=t[n]}else e[e.length++]=t}}function Me(e,t){return Se(e,"$"+(t||"ngController")+"Controller")}function Se(e,t,n){e.nodeType==_n&&(e=e.documentElement);for(var r=un(t)?t:[t];e;){for(var o=0,a=r.length;o<a;o++)if((n=Ki.data(e,r[o]))!==i)return n;e=e.parentNode||e.nodeType===wn&&e.host}}function Pe(e){for(xe(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function Ne(e,t){t||xe(e);var i=e.parentNode;i&&i.removeChild(e)}function Ie(t,i){i=i||e,"complete"===i.document.readyState?i.setTimeout(t):Ki(i).on("load",t)}function Oe(e,t){var i=Rn[t.toLowerCase()];return i&&jn[N(e)]&&i}function Re(e,t){var i=e.nodeName;return("INPUT"===i||"TEXTAREA"===i)&&Hn[t]}function je(e,t){var i=function(i,n){i.isDefaultPrevented=function(){return i.defaultPrevented};var r=t[n||i.type],o=r?r.length:0;if(o){if(v(i.immediatePropagationStopped)){var a=i.stopImmediatePropagation;i.stopImmediatePropagation=function(){i.immediatePropagationStopped=!0,i.stopPropagation&&i.stopPropagation(),a&&a.call(i)}}i.isImmediatePropagationStopped=function(){return i.immediatePropagationStopped===!0},o>1&&(r=R(r));for(var s=0;s<o;s++)i.isImmediatePropagationStopped()||r[s].call(e,i)}};return i.elem=e,i}function He(){this.$get=function(){return d(_e,{hasClass:function(e,t){return e.attr&&(e=e[0]),$e(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),Le(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),Te(e,t)}})}}function Fe(e,t){var i=e&&e.$$hashKey;if(i)return"function"==typeof i&&(i=e.$$hashKey()),i;var n=typeof e;return i="function"==n||"object"==n&&null!==e?e.$$hashKey=n+":"+(t||c)():n+":"+e}function Ue(e,t){if(t){var i=0;this.nextUid=function(){return++i}}o(e,this.put,this)}function ze(e){var t=e.toString().replace(Bn,""),i=t.match(Fn);return i?"function("+(i[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function Be(e,t,i){var n,r,a,s;if("function"==typeof e){if(!(n=e.$inject)){if(n=[],e.length){if(t)throw _(i)&&i||(i=e.name||ze(e)),Gn("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",i);r=e.toString().replace(Bn,""),a=r.match(Fn),o(a[1].split(Un),function(e){e.replace(zn,function(e,t,i){n.push(i)})})}e.$inject=n}}else un(e)?(s=e.length-1,oe(e[s],"fn"),n=e.slice(0,s)):oe(e,"fn",!0);return n}function Ge(e,t){function n(e){return function(t,i){return b(t)?void o(t,l(e)):e(t,i)}}function r(e,t){if(ae(e,"service"),(E(t)||un(t))&&(t=k.instantiate(t)),!t.$get)throw Gn("pget","Provider '{0}' must define $get factory method.",e);return C[e+w]=t}function a(e,t){return function(){var i=T.invoke(t,this);if(v(i))throw Gn("undef","Provider '{0}' must return a value from $get factory method.",e);return i}}function s(e,t,i){return r(e,{$get:i!==!1?a(e,t):t})}function c(e,t){return s(e,["$injector",function(e){return e.instantiate(t)}])}function u(e,t){return s(e,g(t),!1)}function d(e,t){ae(e,"constant"),C[e]=t,$[e]=t}function h(e,t){var i=k.get(e+w),n=i.$get;i.$get=function(){var e=T.invoke(n,i);return T.invoke(t,null,{$delegate:e})}}function p(e){var t,i=[];return o(e,function(e){function n(e){var t,i;for(t=0,i=e.length;t<i;t++){var n=e[t],r=k.get(n[0]);r[n[1]].apply(r,n[2])}}if(!A.get(e)){A.put(e,!0);try{_(e)?(t=en(e),i=i.concat(p(t.requires)).concat(t._runBlocks),n(t._invokeQueue),n(t._configBlocks)):E(e)?i.push(k.invoke(e)):un(e)?i.push(k.invoke(e)):oe(e,"module")}catch(t){throw un(e)&&(e=e[e.length-1]),t.message&&t.stack&&t.stack.indexOf(t.message)==-1&&(t=t.message+"\n"+t.stack),Gn("modulerr","Failed to instantiate module {0} due to:\n{1}",e,t.stack||t.message||t)}}}),i}function m(e,i){function n(t,n){if(e.hasOwnProperty(t)){if(e[t]===y)throw Gn("cdep","Circular dependency found: {0}",t+" <- "+x.join(" <- "));return e[t]}try{return x.unshift(t),e[t]=y,e[t]=i(t,n)}catch(i){throw e[t]===y&&delete e[t],i}finally{x.shift()}}function r(e,i,r,o){"string"==typeof r&&(o=r,r=null);var a,s,l,c=[],u=Ge.$$annotate(e,t,o);for(s=0,a=u.length;s<a;s++){if(l=u[s],"string"!=typeof l)throw Gn("itkn","Incorrect injection token! Expected service name as string, got {0}",l);c.push(r&&r.hasOwnProperty(l)?r[l]:n(l,o))}return un(e)&&(e=e[a]),e.apply(i,c)}function o(e,t,i){var n=Object.create((un(e)?e[e.length-1]:e).prototype||null),o=r(e,n,t,i);return b(o)||E(o)?o:n}return{invoke:r,instantiate:o,get:n,annotate:Ge.$$annotate,has:function(t){return C.hasOwnProperty(t+w)||e.hasOwnProperty(t)}}}t=t===!0;var y={},w="Provider",x=[],A=new Ue([],(!0)),C={$provide:{provider:n(r),factory:n(s),service:n(c),value:n(u),constant:n(d),decorator:h}},k=C.$injector=m(C,function(e,t){throw sn.isString(t)&&x.push(t),Gn("unpr","Unknown provider: {0}",x.join(" <- "))}),$={},T=$.$injector=m($,function(e,t){var n=k.get(e+w,t);return T.invoke(n.$get,n,i,e)});return o(p(e),function(e){T.invoke(e||f)}),T}function We(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,i,n){function r(e){var t=null;return Array.prototype.some.call(e,function(e){if("a"===N(e))return t=e,!0}),t}function o(){var e=s.yOffset;if(E(e))e=e();else if(S(e)){var i=e[0],n=t.getComputedStyle(i);e="fixed"!==n.position?0:i.getBoundingClientRect().bottom}else w(e)||(e=0);return e}function a(e){if(e){e.scrollIntoView();var i=o();if(i){var n=e.getBoundingClientRect().top;t.scrollBy(0,n-i)}}else t.scrollTo(0,0)}function s(){var e,t=i.hash();t?(e=l.getElementById(t))?a(e):(e=r(l.getElementsByName(t)))?a(e):"top"===t&&a(null):a(null)}var l=t.document;return e&&n.$watch(function(){return i.hash()},function(e,t){e===t&&""===e||Ie(function(){n.$evalAsync(s)})}),s}]}function qe(){this.$get=["$$rAF","$timeout",function(e,t){return e.supported?function(t){return e(t)}:function(e){return t(e,0,!1)}}]}function Ve(e,t,n,r){function a(e){try{e.apply(null,F(arguments,1))}finally{if(E--,0===E)for(;A.length;)try{A.pop()()}catch(e){n.error(e)}}}function s(e){var t=e.indexOf("#");return t===-1?"":e.substr(t+1)}function l(e,t){!function i(){o(k,function(e){e()}),C=t(i,e)}()}function c(){u(),d()}function u(){$=e.history.state,$=v($)?null:$,j($,N)&&($=N),N=$}function d(){L===p.url()&&T===$||(L=p.url(),T=$,o(S,function(e){e(p.url(),$)}))}function h(e){try{return decodeURIComponent(e)}catch(t){return e}}var p=this,m=t[0],g=e.location,y=e.history,b=e.setTimeout,w=e.clearTimeout,x={};p.isMock=!1;var E=0,A=[];p.$$completeOutstandingRequest=a,p.$$incOutstandingRequestCount=function(){E++},p.notifyWhenNoOutstandingRequests=function(e){o(k,function(e){e()}),0===E?e():A.push(e)};var C,k=[];p.addPollFn=function(e){return v(C)&&l(100,b),k.push(e),e};var $,T,L=g.href,D=t.find("base"),M=null;u(),T=$,p.url=function(t,i,n){if(v(n)&&(n=null),g!==e.location&&(g=e.location),y!==e.history&&(y=e.history),t){var o=T===n;if(L===t&&(!r.history||o))return p;var a=L&&wt(L)===wt(t);return L=t,T=n,!r.history||a&&o?(a||(M=t),i?g.replace(t):a?g.hash=s(t):g.href=t):(y[i?"replaceState":"pushState"](n,"",t),u(),T=$),p}return M||g.href.replace(/%27/g,"'")},p.state=function(){return $};var S=[],P=!1,N=null;p.onUrlChange=function(t){return P||(r.history&&Ki(e).on("popstate",c),Ki(e).on("hashchange",c),P=!0),S.push(t),t},p.$$checkUrlChange=d,p.baseHref=function(){var e=D.attr("href");return e?e.replace(/^(https?\:)?\/\/[^\/]*/,""):""};var I={},O="",R=p.baseHref();p.cookies=function(e,t){var r,o,a,s,l;if(!e){if(m.cookie!==O)for(O=m.cookie,o=O.split("; "),I={},s=0;s<o.length;s++)a=o[s],l=a.indexOf("="),l>0&&(e=h(a.substring(0,l)),I[e]===i&&(I[e]=h(a.substring(l+1))));return I}t===i?m.cookie=encodeURIComponent(e)+"=;path="+R+";expires=Thu, 01 Jan 1970 00:00:00 GMT":_(t)&&(r=(m.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+";path="+R).length+1,r>4096&&n.warn("Cookie '"+e+"' possibly not set or overflowed because it was too large ("+r+" > 4096 bytes)!"))},p.defer=function(e,t){var i;return E++,i=b(function(){delete x[i],a(e)},t||0),x[i]=!0,i},p.defer.cancel=function(e){return!!x[e]&&(delete x[e],w(e),a(f),!0)}}function Ye(){this.$get=["$window","$log","$sniffer","$document",function(e,t,i,n){return new Ve(e,n,t,i)}]}function Je(){this.$get=function(){function e(e,i){function r(e){e!=h&&(p?p==e&&(p=e.n):p=e,o(e.n,e.p),o(e,h),h=e,h.n=null)}function o(e,t){e!=t&&(e&&(e.p=t),t&&(t.n=e))}if(e in t)throw n("$cacheFactory")("iid","CacheId '{0}' is already taken!",e);var a=0,s=d({},i,{id:e}),l={},c=i&&i.capacity||Number.MAX_VALUE,u={},h=null,p=null;return t[e]={put:function(e,t){if(c<Number.MAX_VALUE){var i=u[e]||(u[e]={key:e});r(i)}if(!v(t))return e in l||a++,l[e]=t,a>c&&this.remove(p.key),t},get:function(e){if(c<Number.MAX_VALUE){var t=u[e];if(!t)return;r(t)}return l[e]},remove:function(e){if(c<Number.MAX_VALUE){var t=u[e];if(!t)return;t==h&&(h=t.p),t==p&&(p=t.n),o(t.n,t.p),delete u[e]}delete l[e],a--},removeAll:function(){l={},a=0,u={},h=p=null},destroy:function(){l=null,s=null,u=null,delete t[e]},info:function(){return d({},s,{size:a})}}}var t={};return e.info=function(){var e={};return o(t,function(t,i){e[i]=t.info()}),e},e.get=function(e){return t[e]},e}}function Ze(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function Xe(e,n){function r(e,t){var i=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,n={};return o(e,function(e,r){var o=e.match(i);if(!o)throw Vn("iscp","Invalid isolate scope definition for directive '{0}'. Definition: {... {1}: '{2}' ...}",t,r,e);n[r]={mode:o[1][0],collection:"*"===o[2],optional:"?"===o[3],attrName:o[4]||r}}),n}var a={},s="Directive",c=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,u=/(([\w\-]+)(?:\:([^;]+))?;?)/,h=P("ngSrc,ngSrcset,src,srcset"),v=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,w=/^(on[a-z]+|formaction)$/;this.directive=function t(i,n){return ae(i,"directive"),_(i)?(re(n,"directiveFactory"),a.hasOwnProperty(i)||(a[i]=[],e.factory(i+s,["$injector","$exceptionHandler",function(e,t){var n=[];return o(a[i],function(o,a){try{var s=e.invoke(o);E(s)?s={compile:g(s)}:!s.compile&&s.link&&(s.compile=g(s.link)),s.priority=s.priority||0,s.index=a,s.name=s.name||i,s.require=s.require||s.controller&&s.name,s.restrict=s.restrict||"EA",b(s.scope)&&(s.$$isolateBindings=r(s.scope,s.name)),n.push(s)}catch(e){t(e)}}),n}])),a[i].push(n)):o(i,l(t)),this},this.aHrefSanitizationWhitelist=function(e){return y(e)?(n.aHrefSanitizationWhitelist(e),this):n.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return y(e)?(n.imgSrcSanitizationWhitelist(e),this):n.imgSrcSanitizationWhitelist()};var x=!0;this.debugInfoEnabled=function(e){return y(e)?(x=e,this):x},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(e,n,r,l,g,y,A,C,$,T,L){function D(e,t){try{e.addClass(t)}catch(e){}}function M(e,t,i,n,r){e instanceof Ki||(e=Ki(e)),o(e,function(t,i){t.nodeType==yn&&t.nodeValue.match(/\S+/)&&(e[i]=Ki(t).wrap("<span></span>").parent()[0])});var a=P(e,t,e,i,n,r);M.$$addScopeClass(e);var s=null;return function(t,i,n){re(t,"scope"),n=n||{};var r=n.parentBoundTranscludeFn,o=n.transcludeControllers,l=n.futureParentElement;r&&r.$$boundTransclude&&(r=r.$$boundTransclude),s||(s=S(l));var c;if(c="html"!==s?Ki(K(s,Ki("<div>").append(e).html())):i?On.clone.call(e):e,o)for(var u in o)c.data("$"+u+"Controller",o[u].instance);return M.$$addScopeInfo(c,t),i&&i(c,t),a&&a(t,c,c,r),c}}function S(e){var t=e&&e[0];return t&&"foreignobject"!==N(t)&&t.toString().match(/SVG/)?"svg":"html"}function P(e,t,n,r,o,a){function s(e,n,r,o){var a,s,l,c,u,d,h,p,g;if(f){var v=n.length;for(g=new Array(v),u=0;u<m.length;u+=3)h=m[u],g[h]=n[h]}else g=n;for(u=0,d=m.length;u<d;)l=g[m[u++]],a=m[u++],s=m[u++],a?(a.scope?(c=e.$new(),M.$$addScopeInfo(Ki(l),c)):c=e,p=a.transcludeOnThisElement?O(e,a.transclude,o,a.elementTranscludeOnThisElement):!a.templateOnThisElement&&o?o:!o&&t?O(e,t):null,a(s,c,l,r,p)):s&&s(e,l.childNodes,i,o)}for(var l,c,u,d,h,p,f,m=[],g=0;g<e.length;g++)l=new ae,c=R(e[g],[],l,0===g?r:i,o),u=c.length?z(c,e[g],l,t,n,null,[],[],a):null,u&&u.scope&&M.$$addScopeClass(l.$$element),h=u&&u.terminal||!(d=e[g].childNodes)||!d.length?null:P(d,u?(u.transcludeOnThisElement||!u.templateOnThisElement)&&u.transclude:t),(u||h)&&(m.push(g,u,h),p=!0,f=f||u),a=null;return p?s:null}function O(e,t,i,n){var r=function(n,r,o,a,s){return n||(n=e.$new(!1,s),n.$$transcluded=!0),t(n,r,{parentBoundTranscludeFn:i,transcludeControllers:o,futureParentElement:a})};return r}function R(e,t,i,n,r){var o,a,s=e.nodeType,l=i.$attr;switch(s){case vn:G(t,Ke(N(e)),"E",n,r);for(var d,h,p,f,m,g,v=e.attributes,y=0,w=v&&v.length;y<w;y++){var x=!1,E=!1;d=v[y],h=d.name,m=dn(d.value),f=Ke(h),(g=de.test(f))&&(h=h.replace(Yn,"").substr(8).replace(/_(.)/g,function(e,t){return t.toUpperCase()}));var A=f.replace(/(Start|End)$/,"");q(A)&&f===A+"Start"&&(x=h,E=h.substr(0,h.length-5)+"end",h=h.substr(0,h.length-6)),p=Ke(h.toLowerCase()),l[p]=h,!g&&i.hasOwnProperty(p)||(i[p]=m,Oe(e,p)&&(i[p]=!0)),ee(e,t,m,p,g),G(t,p,"A",n,r,x,E)}if(a=e.className,b(a)&&(a=a.animVal),_(a)&&""!==a)for(;o=u.exec(a);)p=Ke(o[2]),G(t,p,"C",n,r)&&(i[p]=dn(o[3])),a=a.substr(o.index+o[0].length);break;case yn:X(t,e.nodeValue);break;case bn:try{o=c.exec(e.nodeValue),o&&(p=Ke(o[1]),G(t,p,"M",n,r)&&(i[p]=dn(o[2])))}catch(e){}}return t.sort(J),t}function H(e,t,i){var n=[],r=0;if(t&&e.hasAttribute&&e.hasAttribute(t)){do{if(!e)throw Vn("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,i);e.nodeType==vn&&(e.hasAttribute(t)&&r++,e.hasAttribute(i)&&r--),n.push(e),e=e.nextSibling}while(r>0)}else n.push(e);return Ki(n)}function U(e,t,i){return function(n,r,o,a,s){return r=H(r[0],t,i),e(n,r,o,a,s)}}function z(e,a,s,l,c,u,d,h,p){function f(e,t,i,n){e&&(i&&(e=U(e,i,n)),e.require=C.require,e.directiveName=$,(N===C||C.$$isolateScope)&&(e=ne(e,{isolateScope:!0})),d.push(e)),t&&(i&&(t=U(t,i,n)),t.require=C.require,t.directiveName=$,(N===C||C.$$isolateScope)&&(t=ne(t,{isolateScope:!0})),h.push(t))}function m(e,t,i,n){var r,a,s="data",l=!1,c=i;if(_(t)){if(a=t.match(v),t=t.substring(a[0].length),a[3]&&(a[1]?a[3]=null:a[1]=a[3]),"^"===a[1]?s="inheritedData":"^^"===a[1]&&(s="inheritedData",c=i.parent()),"?"===a[2]&&(l=!0),r=null,n&&"data"===s&&(r=n[t])&&(r=r.instance),r=r||c[s]("$"+t+"Controller"),!r&&!l)throw Vn("ctreq","Controller '{0}', required by directive '{1}', can't be found!",t,e);return r||null}return un(t)&&(r=[],o(t,function(t){r.push(m(e,t,i,n))})),r}function w(e,t,r,l,c){function u(e,t,n){var r;return k(e)||(n=t,t=e,e=i),q&&(r=w),n||(n=q?E.parent():E),c(e,t,r,n,L)}var p,f,v,b,_,w,x,E,C;if(a===r?(C=s,E=s.$$element):(E=Ki(r),C=new ae(E,s)),N&&(_=t.$new(!0)),c&&(x=u,x.$$boundTransclude=c),P&&(A={},w={},o(P,function(e){var i,n={$scope:e===N||e.$$isolateScope?_:t,$element:E,$attrs:C,$transclude:x};b=e.controller,"@"==b&&(b=C[e.name]),i=y(b,n,!0,e.controllerAs),w[e.name]=i,q||E.data("$"+e.name+"Controller",i.instance),A[e.name]=i})),N){M.$$addScopeInfo(E,_,!0,!(I&&(I===N||I===N.$$originalDirective))),M.$$addScopeClass(E,!0);var $=A&&A[N.name],T=_;$&&$.identifier&&N.bindToController===!0&&(T=$.instance),o(_.$$isolateBindings=N.$$isolateBindings,function(e,i){var r,o,a,s,l=e.attrName,c=e.optional,u=e.mode;switch(u){case"@":C.$observe(l,function(e){T[i]=e}),C.$$observers[l].$$scope=t,C[l]&&(T[i]=n(C[l])(t));break;case"=":if(c&&!C[l])return;o=g(C[l]),s=o.literal?j:function(e,t){return e===t||e!==e&&t!==t},a=o.assign||function(){throw r=T[i]=o(t),Vn("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",C[l],N.name)},r=T[i]=o(t);var d=function(e){return s(e,T[i])||(s(e,r)?a(t,e=T[i]):T[i]=e),r=e};d.$stateful=!0;var h;h=e.collection?t.$watchCollection(C[l],d):t.$watch(g(C[l],d),null,o.literal),_.$on("$destroy",h);break;case"&":o=g(C[l]),T[i]=function(e){return o(t,e)}}})}for(A&&(o(A,function(e){e()}),A=null),p=0,f=d.length;p<f;p++)v=d[p],oe(v,v.isolateScope?_:t,E,C,v.require&&m(v.directiveName,v.require,E,w),x);var L=t;for(N&&(N.template||null===N.templateUrl)&&(L=_),e&&e(L,r.childNodes,i,c),p=h.length-1;p>=0;p--)v=h[p],oe(v,v.isolateScope?_:t,E,C,v.require&&m(v.directiveName,v.require,E,w),x)}p=p||{};for(var x,A,C,$,T,L,D,S=-Number.MAX_VALUE,P=p.controllerDirectives,N=p.newIsolateScopeDirective,I=p.templateDirective,O=p.nonTlbTranscludeDirective,z=!1,G=!1,q=p.hasElementTranscludeDirective,J=s.$$element=Ki(a),X=u,Q=l,ee=0,ie=e.length;ee<ie;ee++){C=e[ee];var re=C.$$start,se=C.$$end;if(re&&(J=H(a,re,se)),T=i,S>C.priority)break;if((D=C.scope)&&(C.templateUrl||(b(D)?(Z("new/isolated scope",N||x,C,J),N=C):Z("new/isolated scope",N,C,J)),x=x||C),$=C.name,!C.templateUrl&&C.controller&&(D=C.controller,P=P||{},Z("'"+$+"' controller",P[$],C,J),P[$]=C),(D=C.transclude)&&(z=!0,C.$$tlb||(Z("transclusion",O,C,J),O=C),"element"==D?(q=!0,S=C.priority,T=J,J=s.$$element=Ki(t.createComment(" "+$+": "+s[$]+" ")),a=J[0],te(c,F(T),a),Q=M(T,l,S,X&&X.name,{nonTlbTranscludeDirective:O})):(T=Ki(we(a)).contents(),J.empty(),Q=M(T,l))),C.template)if(G=!0,Z("template",I,C,J),I=C,D=E(C.template)?C.template(J,s):C.template,D=ue(D),C.replace){if(X=C,T=ge(D)?[]:et(K(C.templateNamespace,dn(D))),a=T[0],1!=T.length||a.nodeType!==vn)throw Vn("tplrt","Template for directive '{0}' must have exactly one root element. {1}",$,"");te(c,J,a);var le={$attr:{}},ce=R(a,[],le),de=e.splice(ee+1,e.length-(ee+1));N&&B(ce),e=e.concat(ce).concat(de),V(s,le),ie=e.length}else J.html(D);if(C.templateUrl)G=!0,Z("template",I,C,J),I=C,C.replace&&(X=C),w=Y(e.splice(ee,e.length-ee),J,s,c,z&&Q,d,h,{controllerDirectives:P,newIsolateScopeDirective:N,templateDirective:I,nonTlbTranscludeDirective:O}),ie=e.length;else if(C.compile)try{L=C.compile(J,s,Q),E(L)?f(null,L,re,se):L&&f(L.pre,L.post,re,se)}catch(e){r(e,W(J))}C.terminal&&(w.terminal=!0,S=Math.max(S,C.priority))}return w.scope=x&&x.scope===!0,w.transcludeOnThisElement=z,w.elementTranscludeOnThisElement=q,w.templateOnThisElement=G,w.transclude=Q,p.hasElementTranscludeDirective=q,w}function B(e){for(var t=0,i=e.length;t<i;t++)e[t]=p(e[t],{$$isolateScope:!0})}function G(t,n,o,l,c,u,d){if(n===c)return null;var h=null;if(a.hasOwnProperty(n))for(var f,m=e.get(n+s),g=0,v=m.length;g<v;g++)try{f=m[g],(l===i||l>f.priority)&&f.restrict.indexOf(o)!=-1&&(u&&(f=p(f,{$$start:u,$$end:d})),t.push(f),h=f)}catch(e){r(e)}return h}function q(t){if(a.hasOwnProperty(t))for(var i,n=e.get(t+s),r=0,o=n.length;r<o;r++)if(i=n[r],i.multiElement)return!0;return!1}function V(e,t){var i=t.$attr,n=e.$attr,r=e.$$element;o(e,function(n,r){"$"!=r.charAt(0)&&(t[r]&&t[r]!==n&&(n+=("style"===r?";":" ")+t[r]),e.$set(r,n,!0,i[r]))}),o(t,function(t,o){"class"==o?(D(r,t),e.class=(e.class?e.class+" ":"")+t):"style"==o?(r.attr("style",r.attr("style")+";"+t),e.style=(e.style?e.style+";":"")+t):"$"==o.charAt(0)||e.hasOwnProperty(o)||(e[o]=t,n[o]=i[o])})}function Y(e,t,i,n,r,a,s,c){var u,d,h=[],f=t[0],m=e.shift(),g=p(m,{templateUrl:null,transclude:null,replace:null,$$originalDirective:m}),v=E(m.templateUrl)?m.templateUrl(t,i):m.templateUrl,y=m.templateNamespace;return t.empty(),l($.getTrustedResourceUrl(v)).then(function(l){var p,_,w,x;if(l=ue(l),m.replace){if(w=ge(l)?[]:et(K(y,dn(l))),p=w[0],1!=w.length||p.nodeType!==vn)throw Vn("tplrt","Template for directive '{0}' must have exactly one root element. {1}",m.name,v);_={$attr:{}},te(n,t,p);var E=R(p,[],_);b(m.scope)&&B(E),e=E.concat(e),V(i,_)}else p=f,t.html(l);for(e.unshift(g),u=z(e,p,i,r,t,m,a,s,c),o(n,function(e,i){e==p&&(n[i]=t[0])}),d=P(t[0].childNodes,r);h.length;){var A=h.shift(),C=h.shift(),k=h.shift(),$=h.shift(),T=t[0];if(!A.$$destroyed){if(C!==f){var L=C.className;c.hasElementTranscludeDirective&&m.replace||(T=we(p)),te(k,Ki(C),T),D(Ki(T),L)}x=u.transcludeOnThisElement?O(A,u.transclude,$):$,u(d,A,T,n,x)}}h=null}),function(e,t,i,n,r){var o=r;t.$$destroyed||(h?h.push(t,i,n,o):(u.transcludeOnThisElement&&(o=O(t,u.transclude,r)),u(d,t,i,n,o)))}}function J(e,t){var i=t.priority-e.priority;return 0!==i?i:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function Z(e,t,i,n){if(t)throw Vn("multidir","Multiple directives [{0}, {1}] asking for {2} on: {3}",t.name,i.name,e,W(n))}function X(e,t){var i=n(t,!0);i&&e.push({priority:0,compile:function(e){var t=e.parent(),n=!!t.length;return n&&M.$$addBindingClass(t),function(e,t){var r=t.parent();n||M.$$addBindingClass(r),M.$$addBindingInfo(r,i.expressions),e.$watch(i,function(e){t[0].nodeValue=e})}}})}function K(e,i){switch(e=qi(e||"html")){case"svg":case"math":var n=t.createElement("div");return n.innerHTML="<"+e+">"+i+"</"+e+">",n.childNodes[0].childNodes;default:return i}}function Q(e,t){if("srcdoc"==t)return $.HTML;var i=N(e);return"xlinkHref"==t||"form"==i&&"action"==t||"img"!=i&&("src"==t||"ngSrc"==t)?$.RESOURCE_URL:void 0}function ee(e,t,i,r,o){var a=Q(e,r);o=h[r]||o;var s=n(i,!0,a,o);if(s){if("multiple"===r&&"select"===N(e))throw Vn("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",W(e));t.push({priority:100,compile:function(){return{pre:function(e,t,l){var c=l.$$observers||(l.$$observers={});if(w.test(r))throw Vn("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var u=l[r];u!==i&&(s=u&&n(u,!0,a,o),i=u),s&&(l[r]=s(e),(c[r]||(c[r]=[])).$$inter=!0,(l.$$observers&&l.$$observers[r].$$scope||e).$watch(s,function(e,t){"class"===r&&e!=t?l.$updateClass(e,t):l.$set(r,e)}))}}}})}}function te(e,i,n){var r,o,a=i[0],s=i.length,l=a.parentNode;if(e)for(r=0,o=e.length;r<o;r++)if(e[r]==a){e[r++]=n;for(var c=r,u=c+s-1,d=e.length;c<d;c++,u++)u<d?e[c]=e[u]:delete e[c];e.length-=s-1,e.context===a&&(e.context=n);break}l&&l.replaceChild(n,a);var h=t.createDocumentFragment();h.appendChild(a),Ki(n).data(Ki(a).data()),Qi?(cn=!0,Qi.cleanData([a])):delete Ki.cache[a[Ki.expando]];for(var p=1,f=i.length;p<f;p++){var m=i[p];Ki(m).remove(),h.appendChild(m),delete i[p]}i[0]=n,i.length=1}function ne(e,t){return d(function(){return e.apply(null,arguments)},e,t)}function oe(e,t,i,n,o,a){try{e(t,i,n,o,a)}catch(e){r(e,W(i))}}var ae=function(e,t){if(t){var i,n,r,o=Object.keys(t);for(i=0,n=o.length;i<n;i++)r=o[i],this[r]=t[r]}else this.$attr={};this.$$element=e};ae.prototype={$normalize:Ke,$addClass:function(e){e&&e.length>0&&T.addClass(this.$$element,e)},$removeClass:function(e){e&&e.length>0&&T.removeClass(this.$$element,e)},$updateClass:function(e,t){var i=Qe(e,t);i&&i.length&&T.addClass(this.$$element,i);var n=Qe(t,e);n&&n.length&&T.removeClass(this.$$element,n)},$set:function(e,t,n,a){var s,l=this.$$element[0],c=Oe(l,e),u=Re(l,e),d=e;if(c?(this.$$element.prop(e,t),a=c):u&&(this[u]=t,d=u),this[e]=t,a?this.$attr[e]=a:(a=this.$attr[e],a||(this.$attr[e]=a=ie(e,"-"))),s=N(this.$$element),"a"===s&&"href"===e||"img"===s&&"src"===e)this[e]=t=L(t,"src"===e);else if("img"===s&&"srcset"===e){for(var h="",p=dn(t),f=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,m=/\s/.test(p)?f:/(,)/,g=p.split(m),v=Math.floor(g.length/2),y=0;y<v;y++){var b=2*y;h+=L(dn(g[b]),!0),h+=" "+dn(g[b+1])}var _=dn(g[2*y]).split(/\s/);h+=L(dn(_[0]),!0),2===_.length&&(h+=" "+dn(_[1])),this[e]=t=h}n!==!1&&(null===t||t===i?this.$$element.removeAttr(a):this.$$element.attr(a,t));var w=this.$$observers;w&&o(w[d],function(e){try{e(t)}catch(e){r(e)}})},$observe:function(e,t){var i=this,n=i.$$observers||(i.$$observers=ce()),r=n[e]||(n[e]=[]);return r.push(t),A.$evalAsync(function(){!r.$$inter&&i.hasOwnProperty(e)&&t(i[e])}),function(){I(r,t)}}};var se=n.startSymbol(),le=n.endSymbol(),ue="{{"==se||"}}"==le?m:function(e){return e.replace(/\{\{/g,se).replace(/}}/g,le)},de=/^ngAttr[A-Z]/;return M.$$addBindingInfo=x?function(e,t){var i=e.data("$binding")||[];un(t)?i=i.concat(t):i.push(t),e.data("$binding",i)}:f,M.$$addBindingClass=x?function(e){D(e,"ng-binding")}:f,M.$$addScopeInfo=x?function(e,t,i,n){var r=i?n?"$isolateScopeNoTemplate":"$isolateScope":"$scope";e.data(r,t)}:f,M.$$addScopeClass=x?function(e,t){D(e,t?"ng-isolate-scope":"ng-scope")}:f,M}]}function Ke(e){return me(e.replace(Yn,""))}function Qe(e,t){var i="",n=e.split(/\s+/),r=t.split(/\s+/);e:for(var o=0;o<n.length;o++){for(var a=n[o],s=0;s<r.length;s++)if(a==r[s])continue e;i+=(i.length>0?" ":"")+a}return i}function et(e){e=Ki(e);var t=e.length;if(t<=1)return e;for(;t--;){var i=e[t];i.nodeType===bn&&nn.call(e,t,1)}return e}function tt(){var e={},t=!1,r=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(t,i){ae(t,"controller"),b(t)?d(e,t):e[t]=i},this.allowGlobals=function(){t=!0},this.$get=["$injector","$window",function(o,a){function s(e,t,i,r){if(!e||!b(e.$scope))throw n("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",r,t);e.$scope[t]=i}return function(n,l,c,u){var h,p,f,m;if(c=c===!0,u&&_(u)&&(m=u),_(n)){if(p=n.match(r),!p)throw Jn("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",n);f=p[1],m=m||p[3],n=e.hasOwnProperty(f)?e[f]:se(l.$scope,f,!0)||(t?se(a,f,!0):i),oe(n,f,!0)}if(c){var g=(un(n)?n[n.length-1]:n).prototype;return h=Object.create(g||null),m&&s(l,m,h,f||n.name),d(function(){return o.invoke(n,h,l,f),h},{instance:h,identifier:m})}return h=o.instantiate(n,l,f),m&&s(l,m,h,f||n.name),h}}]}function it(){this.$get=["$window",function(e){return Ki(e.document)}]}function nt(){this.$get=["$log",function(e){return function(t,i){e.error.apply(e,arguments)}}]}function rt(e,t){if(_(e)){var i=e.replace(er,"").trim();if(i){var n=t("Content-Type");(n&&0===n.indexOf(Zn)||ot(i))&&(e=G(i))}}return e}function ot(e){var t=e.match(Kn);return t&&Qn[t[0]].test(e)}function at(e){var t,i,n,r=ce();return e?(o(e.split("\n"),function(e){n=e.indexOf(":"),t=qi(dn(e.substr(0,n))),i=dn(e.substr(n+1)),t&&(r[t]=r[t]?r[t]+", "+i:i)}),r):r}function st(e){var t=b(e)?e:i;return function(i){if(t||(t=at(e)),i){var n=t[qi(i)];return void 0===n&&(n=null),n}return t}}function lt(e,t,i,n){return E(n)?n(e,t,i):(o(n,function(n){e=n(e,t,i)}),e)}function ct(e){return 200<=e&&e<300}function ut(){var e=this.defaults={transformResponse:[rt],transformRequest:[function(e){return!b(e)||$(e)||L(e)||T(e)?e:B(e)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:R(Xn),put:R(Xn),patch:R(Xn)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},t=!1;this.useApplyAsync=function(e){return y(e)?(t=!!e,this):t};var r=this.interceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(a,l,c,u,h,p){function f(t){function r(e){var t=d({},e);return e.data?t.data=lt(e.data,e.headers,e.status,l.transformResponse):t.data=e.data,ct(e.status)?t:h.reject(t)}function a(e){var t,i={};return o(e,function(e,n){E(e)?(t=e(),null!=t&&(i[n]=t)):i[n]=e}),i}function s(t){var i,n,r,o=e.headers,s=d({},t.headers);o=d({},o.common,o[qi(t.method)]);e:for(i in o){n=qi(i);for(r in s)if(qi(r)===n)continue e;s[i]=o[i]}return a(s)}if(!sn.isObject(t))throw n("$http")("badreq","Http request configuration must be an object.  Received: {0}",t);var l=d({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse},t);l.headers=s(t),l.method=Yi(l.method);var c=function(t){var n=t.headers,a=lt(t.data,st(n),i,t.transformRequest);return v(a)&&o(n,function(e,t){"content-type"===qi(t)&&delete n[t]}),v(t.withCredentials)&&!v(e.withCredentials)&&(t.withCredentials=e.withCredentials),w(t,a).then(r,r)},u=[c,i],p=h.when(l);for(o(k,function(e){(e.request||e.requestError)&&u.unshift(e.request,e.requestError),(e.response||e.responseError)&&u.push(e.response,e.responseError)});u.length;){var f=u.shift(),m=u.shift();p=p.then(f,m)}return p.success=function(e){return p.then(function(t){e(t.data,t.status,t.headers,l)}),p},p.error=function(e){return p.then(null,function(t){e(t.data,t.status,t.headers,l)}),p},p}function m(e){o(arguments,function(e){f[e]=function(t,i){return f(d(i||{},{method:e,url:t}))}})}function g(e){o(arguments,function(e){f[e]=function(t,i,n){return f(d(n||{},{method:e,url:t,data:i}))}})}function w(n,r){function o(e,i,n,r){function o(){s(i,e,n,r)}p&&(ct(e)?p.put(x,[e,i,at(n),r]):p.remove(x)),t?u.$applyAsync(o):(o(),u.$$phase||u.$apply())}function s(e,t,i,r){t=Math.max(t,0),(ct(t)?g.resolve:g.reject)({data:e,status:t,headers:st(i),config:n,statusText:r})}function c(e){s(e.data,e.status,R(e.headers()),e.statusText)}function d(){var e=f.pendingRequests.indexOf(n);e!==-1&&f.pendingRequests.splice(e,1)}var p,m,g=h.defer(),_=g.promise,w=n.headers,x=A(n.url,n.params);if(f.pendingRequests.push(n),_.then(d,d),!n.cache&&!e.cache||n.cache===!1||"GET"!==n.method&&"JSONP"!==n.method||(p=b(n.cache)?n.cache:b(e.cache)?e.cache:C),p&&(m=p.get(x),y(m)?M(m)?m.then(c,c):un(m)?s(m[1],m[0],R(m[2]),m[3]):s(m,200,{},"OK"):p.put(x,_)),v(m)){var E=ri(n.url)?l.cookies()[n.xsrfCookieName||e.xsrfCookieName]:i;E&&(w[n.xsrfHeaderName||e.xsrfHeaderName]=E),a(n.method,x,r,o,w,n.timeout,n.withCredentials,n.responseType)}return _}function A(e,t){if(!t)return e;var i=[];return s(t,function(e,t){null===e||v(e)||(un(e)||(e=[e]),o(e,function(e){b(e)&&(e=x(e)?e.toISOString():B(e)),i.push(Z(t)+"="+Z(e))}))}),i.length>0&&(e+=(e.indexOf("?")==-1?"?":"&")+i.join("&")),e}var C=c("$http"),k=[];return o(r,function(e){k.unshift(_(e)?p.get(e):p.invoke(e))}),f.pendingRequests=[],m("get","delete","head","jsonp"),g("post","put","patch"),f.defaults=e,f}]}function dt(){return new e.XMLHttpRequest}function ht(){this.$get=["$browser","$window","$document",function(e,t,i){return pt(e,dt,e.defer,t.angular.callbacks,i[0])}]}function pt(e,t,n,r,a){function s(e,t,i){var n=a.createElement("script"),o=null;return n.type="text/javascript",n.src=e,n.async=!0,o=function(e){kn(n,"load",o),kn(n,"error",o),a.body.removeChild(n),n=null;var s=-1,l="unknown";e&&("load"!==e.type||r[t].called||(e={type:"error"}),l=e.type,s="error"===e.type?404:200),i&&i(s,l)},Cn(n,"load",o),Cn(n,"error",o),a.body.appendChild(n),o}return function(a,l,c,u,d,h,p,m){function g(){_&&_(),w&&w.abort()}function v(t,r,o,a,s){E!==i&&n.cancel(E),_=w=null,t(r,o,a,s),e.$$completeOutstandingRequest(f)}if(e.$$incOutstandingRequestCount(),l=l||e.url(),"jsonp"==qi(a)){var b="_"+(r.counter++).toString(36);r[b]=function(e){r[b].data=e,r[b].called=!0};var _=s(l.replace("JSON_CALLBACK","angular.callbacks."+b),b,function(e,t){v(u,e,r[b].data,"",t),
r[b]=f})}else{var w=t();w.open(a,l,!0),o(d,function(e,t){y(e)&&w.setRequestHeader(t,e)}),w.onload=function(){var e=w.statusText||"",t="response"in w?w.response:w.responseText,i=1223===w.status?204:w.status;0===i&&(i=t?200:"file"==ni(l).protocol?404:0),v(u,i,t,w.getAllResponseHeaders(),e)};var x=function(){v(u,-1,null,null,"")};if(w.onerror=x,w.onabort=x,p&&(w.withCredentials=!0),m)try{w.responseType=m}catch(e){if("json"!==m)throw e}w.send(c||null)}if(h>0)var E=n(g,h);else M(h)&&h.then(g)}}function ft(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(i,n,r){function o(e){return"\\\\\\"+e}function a(o,a,h,p){function f(i){return i.replace(c,e).replace(u,t)}function m(e){try{return e=L(e),p&&!y(e)?e:D(e)}catch(e){var t=tr("interr","Can't interpolate: {0}\n{1}",o,e.toString());n(t)}}p=!!p;for(var g,b,_,w=0,x=[],A=[],C=o.length,k=[],$=[];w<C;){if((g=o.indexOf(e,w))==-1||(b=o.indexOf(t,g+s))==-1){w!==C&&k.push(f(o.substring(w)));break}w!==g&&k.push(f(o.substring(w,g))),_=o.substring(g+s,b),x.push(_),A.push(i(_,m)),w=b+l,$.push(k.length),k.push("")}if(h&&k.length>1)throw tr("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",o);if(!a||x.length){var T=function(e){for(var t=0,i=x.length;t<i;t++){if(p&&v(e[t]))return;k[$[t]]=e[t]}return k.join("")},L=function(e){return h?r.getTrusted(h,e):r.valueOf(e)},D=function(e){if(null==e)return"";switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=B(e)}return e};return d(function(e){var t=0,i=x.length,r=new Array(i);try{for(;t<i;t++)r[t]=A[t](e);return T(r)}catch(e){var a=tr("interr","Can't interpolate: {0}\n{1}",o,e.toString());n(a)}},{exp:o,expressions:x,$$watchDelegate:function(e,t,i){var n;return e.$watchGroup(A,function(i,r){var o=T(i);E(t)&&t.call(this,o,i!==r?n:o,e),n=o},i)}})}}var s=e.length,l=t.length,c=new RegExp(e.replace(/./g,o),"g"),u=new RegExp(t.replace(/./g,o),"g");return a.startSymbol=function(){return e},a.endSymbol=function(){return t},a}]}function mt(){this.$get=["$rootScope","$window","$q","$$q",function(e,t,i,n){function r(r,a,s,l){var c=t.setInterval,u=t.clearInterval,d=0,h=y(l)&&!l,p=(h?n:i).defer(),f=p.promise;return s=y(s)?s:0,f.then(null,null,r),f.$$intervalId=c(function(){p.notify(d++),s>0&&d>=s&&(p.resolve(d),u(f.$$intervalId),delete o[f.$$intervalId]),h||e.$apply()},a),o[f.$$intervalId]=p,f}var o={};return r.cancel=function(e){return!!(e&&e.$$intervalId in o)&&(o[e.$$intervalId].reject("canceled"),t.clearInterval(e.$$intervalId),delete o[e.$$intervalId],!0)},r}]}function gt(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"¤",posSuf:"",negPre:"(¤",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),SHORTMONTH:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),DAY:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),SHORTDAY:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a",short:"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a"},pluralCat:function(e){return 1===e?"one":"other"}}}}function vt(e){for(var t=e.split("/"),i=t.length;i--;)t[i]=J(t[i]);return t.join("/")}function yt(e,t){var i=ni(e);t.$$protocol=i.protocol,t.$$host=i.hostname,t.$$port=h(i.port)||nr[i.protocol]||null}function bt(e,t){var i="/"!==e.charAt(0);i&&(e="/"+e);var n=ni(e);t.$$path=decodeURIComponent(i&&"/"===n.pathname.charAt(0)?n.pathname.substring(1):n.pathname),t.$$search=V(n.search),t.$$hash=decodeURIComponent(n.hash),t.$$path&&"/"!=t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function _t(e,t){if(0===t.indexOf(e))return t.substr(e.length)}function wt(e){var t=e.indexOf("#");return t==-1?e:e.substr(0,t)}function xt(e){return e.replace(/(#.+)|#$/,"$1")}function Et(e){return e.substr(0,wt(e).lastIndexOf("/")+1)}function At(e){return e.substring(0,e.indexOf("/",e.indexOf("//")+2))}function Ct(e,t){this.$$html5=!0,t=t||"";var n=Et(e);yt(e,this),this.$$parse=function(e){var t=_t(n,e);if(!_(t))throw rr("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',e,n);bt(t,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=Y(this.$$search),t=this.$$hash?"#"+J(this.$$hash):"";this.$$url=vt(this.$$path)+(e?"?"+e:"")+t,this.$$absUrl=n+this.$$url.substr(1)},this.$$parseLinkUrl=function(r,o){if(o&&"#"===o[0])return this.hash(o.slice(1)),!0;var a,s,l;return(a=_t(e,r))!==i?(s=a,l=(a=_t(t,a))!==i?n+(_t("/",a)||a):e+s):(a=_t(n,r))!==i?l=n+a:n==r+"/"&&(l=n),l&&this.$$parse(l),!!l}}function kt(e,t){var i=Et(e);yt(e,this),this.$$parse=function(n){function r(e,t,i){var n,r=/^\/[A-Z]:(\/.*)/;return 0===t.indexOf(i)&&(t=t.replace(i,"")),r.exec(t)?e:(n=r.exec(e),n?n[1]:e)}var o,a=_t(e,n)||_t(i,n);"#"===a.charAt(0)?(o=_t(t,a),v(o)&&(o=a)):o=this.$$html5?a:"",bt(o,this),this.$$path=r(this.$$path,o,e),this.$$compose()},this.$$compose=function(){var i=Y(this.$$search),n=this.$$hash?"#"+J(this.$$hash):"";this.$$url=vt(this.$$path)+(i?"?"+i:"")+n,this.$$absUrl=e+(this.$$url?t+this.$$url:"")},this.$$parseLinkUrl=function(t,i){return wt(e)==wt(t)&&(this.$$parse(t),!0)}}function $t(e,t){this.$$html5=!0,kt.apply(this,arguments);var i=Et(e);this.$$parseLinkUrl=function(n,r){if(r&&"#"===r[0])return this.hash(r.slice(1)),!0;var o,a;return e==wt(n)?o=n:(a=_t(i,n))?o=e+t+a:i===n+"/"&&(o=i),o&&this.$$parse(o),!!o},this.$$compose=function(){var i=Y(this.$$search),n=this.$$hash?"#"+J(this.$$hash):"";this.$$url=vt(this.$$path)+(i?"?"+i:"")+n,this.$$absUrl=e+t+this.$$url}}function Tt(e){return function(){return this[e]}}function Lt(e,t){return function(i){return v(i)?this[e]:(this[e]=t(i),this.$$compose(),this)}}function Dt(){var e="",t={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return y(t)?(e=t,this):e},this.html5Mode=function(e){return D(e)?(t.enabled=e,this):b(e)?(D(e.enabled)&&(t.enabled=e.enabled),D(e.requireBase)&&(t.requireBase=e.requireBase),D(e.rewriteLinks)&&(t.rewriteLinks=e.rewriteLinks),this):t},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(i,n,r,o,a){function s(e,t,i){var r=c.url(),o=c.$$state;try{n.url(e,t,i),c.$$state=n.state()}catch(e){throw c.url(r),c.$$state=o,e}}function l(e,t){i.$broadcast("$locationChangeSuccess",c.absUrl(),e,c.$$state,t)}var c,u,d,h=n.baseHref(),p=n.url();if(t.enabled){if(!h&&t.requireBase)throw rr("nobase","$location in HTML5 mode requires a <base> tag to be present!");d=At(p)+(h||"/"),u=r.history?Ct:$t}else d=wt(p),u=kt;c=new u(d,"#"+e),c.$$parseLinkUrl(p,p),c.$$state=n.state();var f=/^\s*(javascript|mailto):/i;o.on("click",function(e){if(t.rewriteLinks&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!=e.which&&2!=e.button){for(var r=Ki(e.target);"a"!==N(r[0]);)if(r[0]===o[0]||!(r=r.parent())[0])return;var s=r.prop("href"),l=r.attr("href")||r.attr("xlink:href");b(s)&&"[object SVGAnimatedString]"===s.toString()&&(s=ni(s.animVal).href),f.test(s)||!s||r.attr("target")||e.isDefaultPrevented()||c.$$parseLinkUrl(s,l)&&(e.preventDefault(),c.absUrl()!=n.url()&&(i.$apply(),a.angular["ff-684208-preventDefault"]=!0))}}),xt(c.absUrl())!=xt(p)&&n.url(c.absUrl(),!0);var m=!0;return n.onUrlChange(function(e,t){i.$evalAsync(function(){var n,r=c.absUrl(),o=c.$$state;c.$$parse(e),c.$$state=t,n=i.$broadcast("$locationChangeStart",e,r,t,o).defaultPrevented,c.absUrl()===e&&(n?(c.$$parse(r),c.$$state=o,s(r,!1,o)):(m=!1,l(r,o)))}),i.$$phase||i.$digest()}),i.$watch(function(){var e=xt(n.url()),t=xt(c.absUrl()),o=n.state(),a=c.$$replace,u=e!==t||c.$$html5&&r.history&&o!==c.$$state;(m||u)&&(m=!1,i.$evalAsync(function(){var t=c.absUrl(),n=i.$broadcast("$locationChangeStart",t,e,c.$$state,o).defaultPrevented;c.absUrl()===t&&(n?(c.$$parse(e),c.$$state=o):(u&&s(t,a,o===c.$$state?null:c.$$state),l(e,o)))})),c.$$replace=!1}),c}]}function Mt(){var e=!0,t=this;this.debugEnabled=function(t){return y(t)?(e=t,this):e},this.$get=["$window",function(i){function n(e){return e instanceof Error&&(e.stack?e=e.message&&e.stack.indexOf(e.message)===-1?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function r(e){var t=i.console||{},r=t[e]||t.log||f,a=!1;try{a=!!r.apply}catch(e){}return a?function(){var e=[];return o(arguments,function(t){e.push(n(t))}),r.apply(t,e)}:function(e,t){r(e,null==t?"":t)}}return{log:r("log"),info:r("info"),warn:r("warn"),error:r("error"),debug:function(){var i=r("debug");return function(){e&&i.apply(t,arguments)}}()}}]}function St(e,t){if("__defineGetter__"===e||"__defineSetter__"===e||"__lookupGetter__"===e||"__lookupSetter__"===e||"__proto__"===e)throw ar("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",t);return e}function Pt(e,t){if(e){if(e.constructor===e)throw ar("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e.window===e)throw ar("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",t);if(e.children&&(e.nodeName||e.prop&&e.attr&&e.find))throw ar("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",t);if(e===Object)throw ar("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",t)}return e}function Nt(e,t){if(e){if(e.constructor===e)throw ar("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e===sr||e===lr||e===cr)throw ar("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",t)}}function It(e){return e.constant}function Ot(e,t,i,n,r){Pt(e,r),Pt(t,r);for(var o,a=i.split("."),s=0;a.length>1;s++){o=St(a.shift(),r);var l=0===s&&t&&t[o]||e[o];l||(l={},e[o]=l),e=Pt(l,r)}return o=St(a.shift(),r),Pt(e[o],r),e[o]=n,n}function Rt(e){return"constructor"==e}function jt(e,t,n,r,o,a,s){St(e,a),St(t,a),St(n,a),St(r,a),St(o,a);var l=function(e){return Pt(e,a)},c=s||Rt(e)?l:m,u=s||Rt(t)?l:m,d=s||Rt(n)?l:m,h=s||Rt(r)?l:m,p=s||Rt(o)?l:m;return function(a,s){var l=s&&s.hasOwnProperty(e)?s:a;return null==l?l:(l=c(l[e]),t?null==l?i:(l=u(l[t]),n?null==l?i:(l=d(l[n]),r?null==l?i:(l=h(l[r]),o?null==l?i:l=p(l[o]):l):l):l):l)}}function Ht(e,t){return function(i,n){return e(i,n,Pt,t)}}function Ft(e,t,n){var r=t.expensiveChecks,a=r?gr:mr,s=a[e];if(s)return s;var l=e.split("."),c=l.length;if(t.csp)s=c<6?jt(l[0],l[1],l[2],l[3],l[4],n,r):function(e,t){var o,a=0;do o=jt(l[a++],l[a++],l[a++],l[a++],l[a++],n,r)(e,t),t=i,e=o;while(a<c);return o};else{var u="";r&&(u+="s = eso(s, fe);\nl = eso(l, fe);\n");var d=r;o(l,function(e,t){St(e,n);var i=(t?"s":'((l&&l.hasOwnProperty("'+e+'"))?l:s)')+"."+e;(r||Rt(e))&&(i="eso("+i+", fe)",d=!0),u+="if(s == null) return undefined;\ns="+i+";\n"}),u+="return s;";var h=new Function("s","l","eso","fe",u);h.toString=g(u),d&&(h=Ht(h,n)),s=h}return s.sharedGetter=!0,s.assign=function(t,i,n){return Ot(t,n,e,i,e)},a[e]=s,s}function Ut(e){return E(e.valueOf)?e.valueOf():vr.call(e)}function zt(){var e=ce(),t=ce();this.$get=["$filter","$sniffer",function(i,n){function r(e){var t=e;return e.sharedGetter&&(t=function(t,i){return e(t,i)},t.literal=e.literal,t.constant=e.constant,t.assign=e.assign),t}function a(e,t){for(var i=0,n=e.length;i<n;i++){var r=e[i];r.constant||(r.inputs?a(r.inputs,t):t.indexOf(r)===-1&&t.push(r))}return t}function s(e,t){return null==e||null==t?e===t:("object"!=typeof e||(e=Ut(e),"object"!=typeof e))&&(e===t||e!==e&&t!==t)}function l(e,t,i,n){var r,o=n.$$inputs||(n.$$inputs=a(n.inputs,[]));if(1===o.length){var l=s;return o=o[0],e.$watch(function(e){var t=o(e);return s(t,l)||(r=n(e),l=t&&Ut(t)),r},t,i)}for(var c=[],u=0,d=o.length;u<d;u++)c[u]=s;return e.$watch(function(e){for(var t=!1,i=0,a=o.length;i<a;i++){var l=o[i](e);(t||(t=!s(l,c[i])))&&(c[i]=l&&Ut(l))}return t&&(r=n(e)),r},t,i)}function c(e,t,i,n){var r,o;return r=e.$watch(function(e){return n(e)},function(e,i,n){o=e,E(t)&&t.apply(this,arguments),y(e)&&n.$$postDigest(function(){y(o)&&r()})},i)}function u(e,t,i,n){function r(e){var t=!0;return o(e,function(e){y(e)||(t=!1)}),t}var a,s;return a=e.$watch(function(e){return n(e)},function(e,i,n){s=e,E(t)&&t.call(this,e,i,n),r(e)&&n.$$postDigest(function(){r(s)&&a()})},i)}function d(e,t,i,n){var r;return r=e.$watch(function(e){return n(e)},function(e,i,n){E(t)&&t.apply(this,arguments),r()},i)}function h(e,t){if(!t)return e;var i=e.$$watchDelegate,n=i!==u&&i!==c,r=n?function(i,n){var r=e(i,n);return t(r,i,n)}:function(i,n){var r=e(i,n),o=t(r,i,n);return y(r)?o:r};return e.$$watchDelegate&&e.$$watchDelegate!==l?r.$$watchDelegate=e.$$watchDelegate:t.$stateful||(r.$$watchDelegate=l,r.inputs=[e]),r}var p={csp:n.csp,expensiveChecks:!1},m={csp:n.csp,expensiveChecks:!0};return function(n,o,a){var s,g,v;switch(typeof n){case"string":v=n=n.trim();var y=a?t:e;if(s=y[v],!s){":"===n.charAt(0)&&":"===n.charAt(1)&&(g=!0,n=n.substring(2));var b=a?m:p,_=new pr(b),w=new fr(_,i,b);s=w.parse(n),s.constant?s.$$watchDelegate=d:g?(s=r(s),s.$$watchDelegate=s.literal?u:c):s.inputs&&(s.$$watchDelegate=l),y[v]=s}return h(s,o);case"function":return h(n,o);default:return h(f,o)}}}]}function Bt(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return Wt(function(t){e.$evalAsync(t)},t)}]}function Gt(){this.$get=["$browser","$exceptionHandler",function(e,t){return Wt(function(t){e.defer(t)},t)}]}function Wt(e,t){function r(e,t,i){function n(t){return function(i){r||(r=!0,t.call(e,i))}}var r=!1;return[n(t),n(i)]}function a(){this.$$state={status:0}}function s(e,t){return function(i){t.call(e,i)}}function l(e){var n,r,o;o=e.pending,e.processScheduled=!1,e.pending=i;for(var a=0,s=o.length;a<s;++a){r=o[a][0],n=o[a][e.status];try{E(n)?r.resolve(n(e.value)):1===e.status?r.resolve(e.value):r.reject(e.value)}catch(e){r.reject(e),t(e)}}}function c(t){!t.processScheduled&&t.pending&&(t.processScheduled=!0,e(function(){l(t)}))}function u(){this.promise=new a,this.resolve=s(this,this.resolve),this.reject=s(this,this.reject),this.notify=s(this,this.notify)}function d(e){var t=new u,i=0,n=un(e)?[]:{};return o(e,function(e,r){i++,v(e).then(function(e){n.hasOwnProperty(r)||(n[r]=e,--i||t.resolve(n))},function(e){n.hasOwnProperty(r)||t.reject(e)})}),0===i&&t.resolve(n),t.promise}var h=n("$q",TypeError),p=function(){return new u};a.prototype={then:function(e,t,i){var n=new u;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([n,e,t,i]),this.$$state.status>0&&c(this.$$state),n.promise},catch:function(e){return this.then(null,e)},finally:function(e,t){return this.then(function(t){return g(t,!0,e)},function(t){return g(t,!1,e)},t)}},u.prototype={resolve:function(e){this.promise.$$state.status||(e===this.promise?this.$$reject(h("qcycle","Expected promise to be resolved with value other than itself '{0}'",e)):this.$$resolve(e))},$$resolve:function(e){var i,n;n=r(this,this.$$resolve,this.$$reject);try{(b(e)||E(e))&&(i=e&&e.then),E(i)?(this.promise.$$state.status=-1,i.call(e,n[0],n[1],this.notify)):(this.promise.$$state.value=e,this.promise.$$state.status=1,c(this.promise.$$state))}catch(e){n[1](e),t(e)}},reject:function(e){this.promise.$$state.status||this.$$reject(e)},$$reject:function(e){this.promise.$$state.value=e,this.promise.$$state.status=2,c(this.promise.$$state)},notify:function(i){var n=this.promise.$$state.pending;this.promise.$$state.status<=0&&n&&n.length&&e(function(){for(var e,r,o=0,a=n.length;o<a;o++){r=n[o][0],e=n[o][3];try{r.notify(E(e)?e(i):i)}catch(e){t(e)}}})}};var f=function(e){var t=new u;return t.reject(e),t.promise},m=function(e,t){var i=new u;return t?i.resolve(e):i.reject(e),i.promise},g=function(e,t,i){var n=null;try{E(i)&&(n=i())}catch(e){return m(e,!1)}return M(n)?n.then(function(){return m(e,t)},function(e){return m(e,!1)}):m(e,t)},v=function(e,t,i,n){var r=new u;return r.resolve(e),r.promise.then(t,i,n)},y=function e(t){function i(e){r.resolve(e)}function n(e){r.reject(e)}if(!E(t))throw h("norslvr","Expected resolverFn, got '{0}'",t);if(!(this instanceof e))return new e(t);var r=new u;return t(i,n),r.promise};return y.defer=p,y.reject=f,y.when=v,y.all=d,y}function qt(){this.$get=["$window","$timeout",function(e,t){var i=e.requestAnimationFrame||e.webkitRequestAnimationFrame,n=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,r=!!i,o=r?function(e){var t=i(e);return function(){n(t)}}:function(e){var i=t(e,16.66,!1);return function(){t.cancel(i)}};return o.supported=r,o}]}function Vt(){var e=10,t=n("$rootScope"),i=null,a=null;this.digestTtl=function(t){return arguments.length&&(e=t),e},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(n,s,l,u){function d(){this.$id=c(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$isolateBindings=null}function h(e){if(w.$$phase)throw t("inprog","{0} already in progress",w.$$phase);w.$$phase=e}function p(){w.$$phase=null}function m(e,t,i){do e.$$listenerCount[i]-=t,0===e.$$listenerCount[i]&&delete e.$$listenerCount[i];while(e=e.$parent)}function g(){}function y(){for(;C.length;)try{C.shift()()}catch(e){s(e)}a=null}function _(){null===a&&(a=u.defer(function(){w.$apply(y)}))}d.prototype={constructor:d,$new:function(e,t){function i(){n.$$destroyed=!0}var n;return t=t||this,e?(n=new d,n.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=function(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$id=c(),this.$$ChildScope=null},this.$$ChildScope.prototype=this),n=new this.$$ChildScope),n.$parent=t,n.$$prevSibling=t.$$childTail,t.$$childHead?(t.$$childTail.$$nextSibling=n,t.$$childTail=n):t.$$childHead=t.$$childTail=n,(e||t!=this)&&n.$on("$destroy",i),n},$watch:function(e,t,n){var r=l(e);if(r.$$watchDelegate)return r.$$watchDelegate(this,t,n,r);var o=this,a=o.$$watchers,s={fn:t,last:g,get:r,exp:e,eq:!!n};return i=null,E(t)||(s.fn=f),a||(a=o.$$watchers=[]),a.unshift(s),function(){I(a,s),i=null}},$watchGroup:function(e,t){function i(){l=!1,c?(c=!1,t(r,r,s)):t(r,n,s)}var n=new Array(e.length),r=new Array(e.length),a=[],s=this,l=!1,c=!0;if(!e.length){var u=!0;return s.$evalAsync(function(){u&&t(r,r,s)}),function(){u=!1}}return 1===e.length?this.$watch(e[0],function(e,i,o){r[0]=e,n[0]=i,t(r,e===i?r:n,o)}):(o(e,function(e,t){var o=s.$watch(e,function(e,o){r[t]=e,n[t]=o,l||(l=!0,s.$evalAsync(i))});a.push(o)}),function(){for(;a.length;)a.shift()()})},$watchCollection:function(e,t){function i(e){o=e;var t,i,n,s,l;if(!v(o)){if(b(o))if(r(o)){a!==p&&(a=p,g=a.length=0,d++),t=o.length,g!==t&&(d++,a.length=g=t);for(var c=0;c<t;c++)l=a[c],s=o[c],n=l!==l&&s!==s,n||l===s||(d++,a[c]=s)}else{a!==f&&(a=f={},g=0,d++),t=0;for(i in o)o.hasOwnProperty(i)&&(t++,s=o[i],l=a[i],i in a?(n=l!==l&&s!==s,n||l===s||(d++,a[i]=s)):(g++,a[i]=s,d++));if(g>t){d++;for(i in a)o.hasOwnProperty(i)||(g--,delete a[i])}}else a!==o&&(a=o,d++);return d}}function n(){if(m?(m=!1,t(o,o,c)):t(o,s,c),u)if(b(o))if(r(o)){s=new Array(o.length);for(var e=0;e<o.length;e++)s[e]=o[e]}else{s={};for(var i in o)Vi.call(o,i)&&(s[i]=o[i])}else s=o}i.$stateful=!0;var o,a,s,c=this,u=t.length>1,d=0,h=l(e,i),p=[],f={},m=!0,g=0;return this.$watch(h,n)},$digest:function(){var n,r,o,l,c,d,f,m,v,b,_=e,C=this,k=[];h("$digest"),u.$$checkUrlChange(),this===w&&null!==a&&(u.defer.cancel(a),y()),i=null;do{for(d=!1,m=C;x.length;){try{b=x.shift(),b.scope.$eval(b.expression,b.locals)}catch(e){s(e)}i=null}e:do{if(l=m.$$watchers)for(c=l.length;c--;)try{if(n=l[c])if((r=n.get(m))===(o=n.last)||(n.eq?j(r,o):"number"==typeof r&&"number"==typeof o&&isNaN(r)&&isNaN(o))){if(n===i){d=!1;break e}}else d=!0,i=n,n.last=n.eq?O(r,null):r,n.fn(r,o===g?r:o,m),_<5&&(v=4-_,k[v]||(k[v]=[]),k[v].push({msg:E(n.exp)?"fn: "+(n.exp.name||n.exp.toString()):n.exp,newVal:r,oldVal:o}))}catch(e){s(e)}if(!(f=m.$$childHead||m!==C&&m.$$nextSibling))for(;m!==C&&!(f=m.$$nextSibling);)m=m.$parent}while(m=f);if((d||x.length)&&!_--)throw p(),t("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",e,k)}while(d||x.length);for(p();A.length;)try{A.shift()()}catch(e){s(e)}},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;if(this.$broadcast("$destroy"),this.$$destroyed=!0,this!==w){for(var t in this.$$listenerCount)m(this,this.$$listenerCount[t],t);e.$$childHead==this&&(e.$$childHead=this.$$nextSibling),e.$$childTail==this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=f,this.$on=this.$watch=this.$watchGroup=function(){return f},this.$$listeners={},this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=this.$$watchers=null}}},$eval:function(e,t){return l(e)(this,t)},$evalAsync:function(e,t){w.$$phase||x.length||u.defer(function(){x.length&&w.$digest()}),x.push({scope:this,expression:e,locals:t})},$$postDigest:function(e){A.push(e)},$apply:function(e){try{return h("$apply"),this.$eval(e)}catch(e){s(e)}finally{p();try{w.$digest()}catch(e){throw s(e),e}}},$applyAsync:function(e){function t(){i.$eval(e)}var i=this;e&&C.push(t),_()},$on:function(e,t){var i=this.$$listeners[e];i||(this.$$listeners[e]=i=[]),i.push(t);var n=this;do n.$$listenerCount[e]||(n.$$listenerCount[e]=0),n.$$listenerCount[e]++;while(n=n.$parent);var r=this;return function(){var n=i.indexOf(t);n!==-1&&(i[n]=null,m(r,1,e))}},$emit:function(e,t){var i,n,r,o=[],a=this,l=!1,c={name:e,targetScope:a,stopPropagation:function(){l=!0},preventDefault:function(){c.defaultPrevented=!0},defaultPrevented:!1},u=H([c],arguments,1);do{for(i=a.$$listeners[e]||o,c.currentScope=a,n=0,r=i.length;n<r;n++)if(i[n])try{i[n].apply(null,u)}catch(e){s(e)}else i.splice(n,1),n--,r--;if(l)return c.currentScope=null,c;a=a.$parent}while(a);return c.currentScope=null,c},$broadcast:function(e,t){var i=this,n=i,r=i,o={name:e,targetScope:i,preventDefault:function(){o.defaultPrevented=!0},defaultPrevented:!1};if(!i.$$listenerCount[e])return o;for(var a,l,c,u=H([o],arguments,1);n=r;){for(o.currentScope=n,a=n.$$listeners[e]||[],l=0,c=a.length;l<c;l++)if(a[l])try{a[l].apply(null,u)}catch(e){s(e)}else a.splice(l,1),l--,c--;if(!(r=n.$$listenerCount[e]&&n.$$childHead||n!==i&&n.$$nextSibling))for(;n!==i&&!(r=n.$$nextSibling);)n=n.$parent}return o.currentScope=null,o}};var w=new d,x=w.$$asyncQueue=[],A=w.$$postDigestQueue=[],C=w.$$applyAsyncQueue=[];return w}]}function Yt(){var e=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return y(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return y(e)?(t=e,this):t},this.$get=function(){return function(i,n){var r,o=n?t:e;return r=ni(i).href,""===r||r.match(o)?i:"unsafe:"+r}}}function Jt(e){if("self"===e)return e;if(_(e)){if(e.indexOf("***")>-1)throw yr("iwcard","Illegal sequence *** in string matcher.  String: {0}",e);return e=hn(e).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+e+"$")}if(A(e))return new RegExp("^"+e.source+"$");throw yr("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function Zt(e){var t=[];return y(e)&&o(e,function(e){t.push(Jt(e))}),t}function Xt(){this.SCE_CONTEXTS=br;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=Zt(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=Zt(e)),t},this.$get=["$injector",function(n){function r(e,t){return"self"===e?ri(t):!!e.exec(t.href)}function o(i){var n,o,a=ni(i.toString()),s=!1;for(n=0,o=e.length;n<o;n++)if(r(e[n],a)){s=!0;break}if(s)for(n=0,o=t.length;n<o;n++)if(r(t[n],a)){s=!1;break}return s}function a(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}function s(e,t){var n=h.hasOwnProperty(e)?h[e]:null;if(!n)throw yr("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t);if(null===t||t===i||""===t)return t;if("string"!=typeof t)throw yr("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e);return new n(t)}function l(e){return e instanceof d?e.$$unwrapTrustedValue():e}function c(e,t){if(null===t||t===i||""===t)return t;var n=h.hasOwnProperty(e)?h[e]:null;if(n&&t instanceof n)return t.$$unwrapTrustedValue();if(e===br.RESOURCE_URL){if(o(t))return t;throw yr("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",t.toString())}if(e===br.HTML)return u(t);throw yr("unsafe","Attempting to use an unsafe value in a safe context.")}var u=function(e){throw yr("unsafe","Attempting to use an unsafe value in a safe context.")};n.has("$sanitize")&&(u=n.get("$sanitize"));var d=a(),h={};return h[br.HTML]=a(d),h[br.CSS]=a(d),h[br.URL]=a(d),h[br.JS]=a(d),h[br.RESOURCE_URL]=a(h[br.URL]),{trustAs:s,getTrusted:c,valueOf:l}}]}function Kt(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(t,i){if(e&&Xi<8)throw yr("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var n=R(br);n.isEnabled=function(){return e},n.trustAs=i.trustAs,n.getTrusted=i.getTrusted,n.valueOf=i.valueOf,e||(n.trustAs=n.getTrusted=function(e,t){return t},n.valueOf=m),n.parseAs=function(e,i){var r=t(i);return r.literal&&r.constant?r:t(i,function(t){return n.getTrusted(e,t)})};var r=n.parseAs,a=n.getTrusted,s=n.trustAs;return o(br,function(e,t){var i=qi(t);n[me("parse_as_"+i)]=function(t){return r(e,t)},n[me("get_trusted_"+i)]=function(t){return a(e,t)},n[me("trust_as_"+i)]=function(t){return s(e,t)}}),n}]}function Qt(){this.$get=["$window","$document",function(e,t){var i,n,r={},o=h((/android (\d+)/.exec(qi((e.navigator||{}).userAgent))||[])[1]),a=/Boxee/i.test((e.navigator||{}).userAgent),s=t[0]||{},l=/^(Moz|webkit|ms)(?=[A-Z])/,c=s.body&&s.body.style,u=!1,d=!1;if(c){for(var p in c)if(n=l.exec(p)){i=n[0],i=i.substr(0,1).toUpperCase()+i.substr(1);break}i||(i="WebkitOpacity"in c&&"webkit"),u=!!("transition"in c||i+"Transition"in c),d=!!("animation"in c||i+"Animation"in c),!o||u&&d||(u=_(s.body.style.webkitTransition),d=_(s.body.style.webkitAnimation))}return{history:!(!e.history||!e.history.pushState||o<4||a),hasEvent:function(e){if("input"===e&&Xi<=11)return!1;if(v(r[e])){var t=s.createElement("div");r[e]="on"+e in t}return r[e]},csp:pn(),vendorPrefix:i,transitions:u,animations:d,android:o}}]}function ei(){this.$get=["$templateCache","$http","$q",function(e,t,i){function n(r,o){function a(e){if(!o)throw Vn("tpload","Failed to load template: {0}",r);return i.reject(e)}n.totalPendingRequests++;var s=t.defaults&&t.defaults.transformResponse;un(s)?s=s.filter(function(e){return e!==rt}):s===rt&&(s=null);var l={cache:e,transformResponse:s};return t.get(r,l).finally(function(){n.totalPendingRequests--}).then(function(e){return e.data},a)}return n.totalPendingRequests=0,n}]}function ti(){this.$get=["$rootScope","$browser","$location",function(e,t,i){var n={};return n.findBindings=function(e,t,i){var n=e.getElementsByClassName("ng-binding"),r=[];return o(n,function(e){var n=sn.element(e).data("$binding");n&&o(n,function(n){if(i){var o=new RegExp("(^|\\s)"+hn(t)+"(\\s|\\||$)");o.test(n)&&r.push(e)}else n.indexOf(t)!=-1&&r.push(e)})}),r},n.findModels=function(e,t,i){for(var n=["ng-","data-ng-","ng\\:"],r=0;r<n.length;++r){var o=i?"=":"*=",a="["+n[r]+"model"+o+'"'+t+'"]',s=e.querySelectorAll(a);if(s.length)return s}},n.getLocation=function(){return i.url()},n.setLocation=function(t){t!==i.url()&&(i.url(t),e.$digest())},n.whenStable=function(e){t.notifyWhenNoOutstandingRequests(e)},n}]}function ii(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,i,n,r){function o(o,s,l){var c,u=y(l)&&!l,d=(u?n:i).defer(),h=d.promise;return c=t.defer(function(){try{d.resolve(o())}catch(e){d.reject(e),r(e)}finally{delete a[h.$$timeoutId]}u||e.$apply()},s),h.$$timeoutId=c,a[c]=d,h}var a={};return o.cancel=function(e){return!!(e&&e.$$timeoutId in a)&&(a[e.$$timeoutId].reject("canceled"),delete a[e.$$timeoutId],t.defer.cancel(e.$$timeoutId))},o}]}function ni(e){var t=e;return Xi&&(_r.setAttribute("href",t),t=_r.href),_r.setAttribute("href",t),{href:_r.href,protocol:_r.protocol?_r.protocol.replace(/:$/,""):"",host:_r.host,search:_r.search?_r.search.replace(/^\?/,""):"",hash:_r.hash?_r.hash.replace(/^#/,""):"",hostname:_r.hostname,port:_r.port,pathname:"/"===_r.pathname.charAt(0)?_r.pathname:"/"+_r.pathname}}function ri(e){var t=_(e)?ni(e):e;return t.protocol===wr.protocol&&t.host===wr.host}function oi(){this.$get=g(e)}function ai(e){function t(n,r){if(b(n)){var a={};return o(n,function(e,i){a[i]=t(i,e)}),a}return e.factory(n+i,r)}var i="Filter";this.register=t,this.$get=["$injector",function(e){return function(t){return e.get(t+i)}}],t("currency",ui),t("date",wi),t("filter",si),t("json",xi),t("limitTo",Ei),t("lowercase",kr),t("number",di),t("orderBy",Ai),t("uppercase",$r)}function si(){return function(e,t,i){if(!un(e))return e;var n,r;switch(typeof t){case"function":n=t;break;case"boolean":case"number":case"string":r=!0;case"object":n=li(t,i,r);break;default:return e}return e.filter(n)}}function li(e,t,i){var n,r=b(e)&&"$"in e;return t===!0?t=j:E(t)||(t=function(e,t){return!b(e)&&!b(t)&&(e=qi(""+e),t=qi(""+t),e.indexOf(t)!==-1)}),n=function(n){return r&&!b(n)?ci(n,e.$,t,!1):ci(n,e,t,i)}}function ci(e,t,i,n,r){var o=typeof e,a=typeof t;if("string"===a&&"!"===t.charAt(0))return!ci(e,t.substring(1),i,n);if(un(e))return e.some(function(e){return ci(e,t,i,n)});switch(o){case"object":var s;if(n){for(s in e)if("$"!==s.charAt(0)&&ci(e[s],t,i,!0))return!0;return!r&&ci(e,t,i,!1)}if("object"===a){for(s in t){var l=t[s];if(!E(l)){var c="$"===s,u=c?e:e[s];if(!ci(u,l,i,c,c))return!1}}return!0}return i(e,t);case"function":return!1;default:return i(e,t)}}function ui(e){var t=e.NUMBER_FORMATS;return function(e,i,n){return v(i)&&(i=t.CURRENCY_SYM),v(n)&&(n=t.PATTERNS[1].maxFrac),null==e?e:hi(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,n).replace(/\u00A4/g,i)}}function di(e){var t=e.NUMBER_FORMATS;return function(e,i){return null==e?e:hi(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,i)}}function hi(e,t,i,n,r){if(!isFinite(e)||b(e))return"";var o=e<0;e=Math.abs(e);var a=e+"",s="",l=[],c=!1;if(a.indexOf("e")!==-1){var u=a.match(/([\d\.]+)e(-?)(\d+)/);u&&"-"==u[2]&&u[3]>r+1?e=0:(s=a,c=!0)}if(c)r>0&&e<1&&(s=e.toFixed(r),e=parseFloat(s));else{var d=(a.split(xr)[1]||"").length;v(r)&&(r=Math.min(Math.max(t.minFrac,d),t.maxFrac)),e=+(Math.round(+(e.toString()+"e"+r)).toString()+"e"+-r);var h=(""+e).split(xr),p=h[0];h=h[1]||"";var f,m=0,g=t.lgSize,y=t.gSize;if(p.length>=g+y)for(m=p.length-g,f=0;f<m;f++)(m-f)%y===0&&0!==f&&(s+=i),s+=p.charAt(f);for(f=m;f<p.length;f++)(p.length-f)%g===0&&0!==f&&(s+=i),s+=p.charAt(f);for(;h.length<r;)h+="0";r&&"0"!==r&&(s+=n+h.substr(0,r))}return 0===e&&(o=!1),l.push(o?t.negPre:t.posPre,s,o?t.negSuf:t.posSuf),l.join("")}function pi(e,t,i){var n="";for(e<0&&(n="-",
e=-e),e=""+e;e.length<t;)e="0"+e;return i&&(e=e.substr(e.length-t)),n+e}function fi(e,t,i,n){return i=i||0,function(r){var o=r["get"+e]();return(i>0||o>-i)&&(o+=i),0===o&&i==-12&&(o=12),pi(o,t,n)}}function mi(e,t){return function(i,n){var r=i["get"+e](),o=Yi(t?"SHORT"+e:e);return n[o][r]}}function gi(e){var t=-1*e.getTimezoneOffset(),i=t>=0?"+":"";return i+=pi(Math[t>0?"floor":"ceil"](t/60),2)+pi(Math.abs(t%60),2)}function vi(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(t<=4?5:12)-t)}function yi(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))}function bi(e){return function(t){var i=vi(t.getFullYear()),n=yi(t),r=+n-+i,o=1+Math.round(r/6048e5);return pi(o,e)}}function _i(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]}function wi(e){function t(e){var t;if(t=e.match(i)){var n=new Date(0),r=0,o=0,a=t[8]?n.setUTCFullYear:n.setFullYear,s=t[8]?n.setUTCHours:n.setHours;t[9]&&(r=h(t[9]+t[10]),o=h(t[9]+t[11])),a.call(n,h(t[1]),h(t[2])-1,h(t[3]));var l=h(t[4]||0)-r,c=h(t[5]||0)-o,u=h(t[6]||0),d=Math.round(1e3*parseFloat("0."+(t[7]||0)));return s.call(n,l,c,u,d),n}return e}var i=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(i,n,r){var a,s,l="",c=[];if(n=n||"mediumDate",n=e.DATETIME_FORMATS[n]||n,_(i)&&(i=Cr.test(i)?h(i):t(i)),w(i)&&(i=new Date(i)),!x(i))return i;for(;n;)s=Ar.exec(n),s?(c=H(c,s,1),n=c.pop()):(c.push(n),n=null);return r&&"UTC"===r&&(i=new Date(i.getTime()),i.setMinutes(i.getMinutes()+i.getTimezoneOffset())),o(c,function(t){a=Er[t],l+=a?a(i,e.DATETIME_FORMATS):t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}}function xi(){return function(e,t){return v(t)&&(t=2),B(e,t)}}function Ei(){return function(e,t){return w(e)&&(e=e.toString()),un(e)||_(e)?(t=Math.abs(Number(t))===1/0?Number(t):h(t),t?t>0?e.slice(0,t):e.slice(t):_(e)?"":[]):e}}function Ai(e){return function(t,i,n){function o(e,t){for(var n=0;n<i.length;n++){var r=i[n](e,t);if(0!==r)return r}return 0}function a(e,t){return t?function(t,i){return e(i,t)}:e}function s(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}function l(e){return null===e?"null":"function"==typeof e.valueOf&&(e=e.valueOf(),s(e))?e:"function"==typeof e.toString&&(e=e.toString(),s(e))?e:""}function c(e,t){var i=typeof e,n=typeof t;return i===n&&"object"===i&&(e=l(e),t=l(t)),i===n?("string"===i&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t?0:e<t?-1:1):i<n?-1:1}return r(t)?(i=un(i)?i:[i],0===i.length&&(i=["+"]),i=i.map(function(t){var i=!1,n=t||m;if(_(t)){if("+"!=t.charAt(0)&&"-"!=t.charAt(0)||(i="-"==t.charAt(0),t=t.substring(1)),""===t)return a(c,i);if(n=e(t),n.constant){var r=n();return a(function(e,t){return c(e[r],t[r])},i)}}return a(function(e,t){return c(n(e),n(t))},i)}),tn.call(t).sort(a(o,n))):t}}function Ci(e){return E(e)&&(e={link:e}),e.restrict=e.restrict||"AC",g(e)}function ki(e,t){e.$name=t}function $i(e,t,n,r,a){var s=this,l=[],c=s.$$parentForm=e.parent().controller("form")||Dr;s.$error={},s.$$success={},s.$pending=i,s.$name=a(t.name||t.ngForm||"")(n),s.$dirty=!1,s.$pristine=!0,s.$valid=!0,s.$invalid=!1,s.$submitted=!1,c.$addControl(s),s.$rollbackViewValue=function(){o(l,function(e){e.$rollbackViewValue()})},s.$commitViewValue=function(){o(l,function(e){e.$commitViewValue()})},s.$addControl=function(e){ae(e.$name,"input"),l.push(e),e.$name&&(s[e.$name]=e)},s.$$renameControl=function(e,t){var i=e.$name;s[i]===e&&delete s[i],s[t]=e,e.$name=t},s.$removeControl=function(e){e.$name&&s[e.$name]===e&&delete s[e.$name],o(s.$pending,function(t,i){s.$setValidity(i,null,e)}),o(s.$error,function(t,i){s.$setValidity(i,null,e)}),o(s.$$success,function(t,i){s.$setValidity(i,null,e)}),I(l,e)},zi({ctrl:this,$element:e,set:function(e,t,i){var n=e[t];if(n){var r=n.indexOf(i);r===-1&&n.push(i)}else e[t]=[i]},unset:function(e,t,i){var n=e[t];n&&(I(n,i),0===n.length&&delete e[t])},parentForm:c,$animate:r}),s.$setDirty=function(){r.removeClass(e,po),r.addClass(e,fo),s.$dirty=!0,s.$pristine=!1,c.$setDirty()},s.$setPristine=function(){r.setClass(e,po,fo+" "+Mr),s.$dirty=!1,s.$pristine=!0,s.$submitted=!1,o(l,function(e){e.$setPristine()})},s.$setUntouched=function(){o(l,function(e){e.$setUntouched()})},s.$setSubmitted=function(){r.addClass(e,Mr),s.$submitted=!0,c.$setSubmitted()}}function Ti(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:t.toString()})}function Li(e,t,i,n,r,o){Di(e,t,i,n,r,o),Ti(n)}function Di(e,t,i,n,r,o){var a=qi(t[0].type);if(!r.android){var s=!1;t.on("compositionstart",function(e){s=!0}),t.on("compositionend",function(){s=!1,l()})}var l=function(e){if(c&&(o.defer.cancel(c),c=null),!s){var r=t.val(),l=e&&e.type;"password"===a||i.ngTrim&&"false"===i.ngTrim||(r=dn(r)),(n.$viewValue!==r||""===r&&n.$$hasNativeValidators)&&n.$setViewValue(r,l)}};if(r.hasEvent("input"))t.on("input",l);else{var c,u=function(e,t,i){c||(c=o.defer(function(){c=null,t&&t.value===i||l(e)}))};t.on("keydown",function(e){var t=e.keyCode;91===t||15<t&&t<19||37<=t&&t<=40||u(e,this,this.value)}),r.hasEvent("paste")&&t.on("paste cut",u)}t.on("change",l),n.$render=function(){t.val(n.$isEmpty(n.$viewValue)?"":n.$viewValue)}}function Mi(e,t){if(x(e))return e;if(_(e)){Ur.lastIndex=0;var i=Ur.exec(e);if(i){var n=+i[1],r=+i[2],o=0,a=0,s=0,l=0,c=vi(n),u=7*(r-1);return t&&(o=t.getHours(),a=t.getMinutes(),s=t.getSeconds(),l=t.getMilliseconds()),new Date(n,0,c.getDate()+u,o,a,s,l)}}return NaN}function Si(e,t){return function(i,n){var r,a;if(x(i))return i;if(_(i)){if('"'==i.charAt(0)&&'"'==i.charAt(i.length-1)&&(i=i.substring(1,i.length-1)),Ir.test(i))return new Date(i);if(e.lastIndex=0,r=e.exec(i))return r.shift(),a=n?{yyyy:n.getFullYear(),MM:n.getMonth()+1,dd:n.getDate(),HH:n.getHours(),mm:n.getMinutes(),ss:n.getSeconds(),sss:n.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},o(r,function(e,i){i<t.length&&(a[t[i]]=+e)}),new Date(a.yyyy,a.MM-1,a.dd,a.HH,a.mm,a.ss||0,1e3*a.sss||0)}return NaN}}function Pi(e,t,n,r){return function(o,a,s,l,c,u,d){function h(e){return e&&!(e.getTime&&e.getTime()!==e.getTime())}function p(e){return y(e)?x(e)?e:n(e):i}Ni(o,a,s,l),Di(o,a,s,l,c,u);var f,m=l&&l.$options&&l.$options.timezone;if(l.$$parserName=e,l.$parsers.push(function(e){if(l.$isEmpty(e))return null;if(t.test(e)){var r=n(e,f);return"UTC"===m&&r.setMinutes(r.getMinutes()-r.getTimezoneOffset()),r}return i}),l.$formatters.push(function(e){if(e&&!x(e))throw yo("datefmt","Expected `{0}` to be a date",e);if(h(e)){if(f=e,f&&"UTC"===m){var t=6e4*f.getTimezoneOffset();f=new Date(f.getTime()+t)}return d("date")(e,r,m)}return f=null,""}),y(s.min)||s.ngMin){var g;l.$validators.min=function(e){return!h(e)||v(g)||n(e)>=g},s.$observe("min",function(e){g=p(e),l.$validate()})}if(y(s.max)||s.ngMax){var b;l.$validators.max=function(e){return!h(e)||v(b)||n(e)<=b},s.$observe("max",function(e){b=p(e),l.$validate()})}}}function Ni(e,t,n,r){var o=t[0],a=r.$$hasNativeValidators=b(o.validity);a&&r.$parsers.push(function(e){var n=t.prop(Wi)||{};return n.badInput&&!n.typeMismatch?i:e})}function Ii(e,t,n,r,o,a){if(Ni(e,t,n,r),Di(e,t,n,r,o,a),r.$$parserName="number",r.$parsers.push(function(e){return r.$isEmpty(e)?null:jr.test(e)?parseFloat(e):i}),r.$formatters.push(function(e){if(!r.$isEmpty(e)){if(!w(e))throw yo("numfmt","Expected `{0}` to be a number",e);e=e.toString()}return e}),y(n.min)||n.ngMin){var s;r.$validators.min=function(e){return r.$isEmpty(e)||v(s)||e>=s},n.$observe("min",function(e){y(e)&&!w(e)&&(e=parseFloat(e,10)),s=w(e)&&!isNaN(e)?e:i,r.$validate()})}if(y(n.max)||n.ngMax){var l;r.$validators.max=function(e){return r.$isEmpty(e)||v(l)||e<=l},n.$observe("max",function(e){y(e)&&!w(e)&&(e=parseFloat(e,10)),l=w(e)&&!isNaN(e)?e:i,r.$validate()})}}function Oi(e,t,i,n,r,o){Di(e,t,i,n,r,o),Ti(n),n.$$parserName="url",n.$validators.url=function(e,t){var i=e||t;return n.$isEmpty(i)||Or.test(i)}}function Ri(e,t,i,n,r,o){Di(e,t,i,n,r,o),Ti(n),n.$$parserName="email",n.$validators.email=function(e,t){var i=e||t;return n.$isEmpty(i)||Rr.test(i)}}function ji(e,t,i,n){v(i.name)&&t.attr("name",c());var r=function(e){t[0].checked&&n.$setViewValue(i.value,e&&e.type)};t.on("click",r),n.$render=function(){var e=i.value;t[0].checked=e==n.$viewValue},i.$observe("value",n.$render)}function Hi(e,t,i,r,o){var a;if(y(r)){if(a=e(r),!a.constant)throw n("ngModel")("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",i,r);return a(t)}return o}function Fi(e,t,i,n,r,o,a,s){var l=Hi(s,e,"ngTrueValue",i.ngTrueValue,!0),c=Hi(s,e,"ngFalseValue",i.ngFalseValue,!1),u=function(e){n.$setViewValue(t[0].checked,e&&e.type)};t.on("click",u),n.$render=function(){t[0].checked=n.$viewValue},n.$isEmpty=function(e){return e===!1},n.$formatters.push(function(e){return j(e,l)}),n.$parsers.push(function(e){return e?l:c})}function Ui(e,t){return e="ngClass"+e,["$animate",function(i){function n(e,t){var i=[];e:for(var n=0;n<e.length;n++){for(var r=e[n],o=0;o<t.length;o++)if(r==t[o])continue e;i.push(r)}return i}function r(e){if(un(e))return e;if(_(e))return e.split(" ");if(b(e)){var t=[];return o(e,function(e,i){e&&(t=t.concat(i.split(" ")))}),t}return e}return{restrict:"AC",link:function(a,s,l){function c(e){var t=d(e,1);l.$addClass(t)}function u(e){var t=d(e,-1);l.$removeClass(t)}function d(e,t){var i=s.data("$classCounts")||{},n=[];return o(e,function(e){(t>0||i[e])&&(i[e]=(i[e]||0)+t,i[e]===+(t>0)&&n.push(e))}),s.data("$classCounts",i),n.join(" ")}function h(e,t){var r=n(t,e),o=n(e,t);r=d(r,1),o=d(o,-1),r&&r.length&&i.addClass(s,r),o&&o.length&&i.removeClass(s,o)}function p(e){if(t===!0||a.$index%2===t){var i=r(e||[]);if(f){if(!j(e,f)){var n=r(f);h(n,i)}}else c(i)}f=R(e)}var f;a.$watch(l[e],p,!0),l.$observe("class",function(t){p(a.$eval(l[e]))}),"ngClass"!==e&&a.$watch("$index",function(i,n){var o=1&i;if(o!==(1&n)){var s=r(a.$eval(l[e]));o===t?c(s):u(s)}})}}}]}function zi(e){function t(e,t,l){t===i?n("$pending",e,l):r("$pending",e,l),D(t)?t?(d(s.$error,e,l),u(s.$$success,e,l)):(u(s.$error,e,l),d(s.$$success,e,l)):(d(s.$error,e,l),d(s.$$success,e,l)),s.$pending?(o(vo,!0),s.$valid=s.$invalid=i,a("",null)):(o(vo,!1),s.$valid=Bi(s.$error),s.$invalid=!s.$valid,a("",s.$valid));var c;c=s.$pending&&s.$pending[e]?i:!s.$error[e]&&(!!s.$$success[e]||null),a(e,c),h.$setValidity(e,c,s)}function n(e,t,i){s[e]||(s[e]={}),u(s[e],t,i)}function r(e,t,n){s[e]&&d(s[e],t,n),Bi(s[e])&&(s[e]=i)}function o(e,t){t&&!c[e]?(p.addClass(l,e),c[e]=!0):!t&&c[e]&&(p.removeClass(l,e),c[e]=!1)}function a(e,t){e=e?"-"+ie(e,"-"):"",o(uo+e,t===!0),o(ho+e,t===!1)}var s=e.ctrl,l=e.$element,c={},u=e.set,d=e.unset,h=e.parentForm,p=e.$animate;c[ho]=!(c[uo]=l.hasClass(uo)),s.$setValidity=t}function Bi(e){if(e)for(var t in e)return!1;return!0}var Gi=/^\/(.+)\/([a-z]*)$/,Wi="validity",qi=function(e){return _(e)?e.toLowerCase():e},Vi=Object.prototype.hasOwnProperty,Yi=function(e){return _(e)?e.toUpperCase():e},Ji=function(e){return _(e)?e.replace(/[A-Z]/g,function(e){return String.fromCharCode(32|e.charCodeAt(0))}):e},Zi=function(e){return _(e)?e.replace(/[a-z]/g,function(e){return String.fromCharCode(e.charCodeAt(0)&-33)}):e};"i"!=="I".toLowerCase()&&(qi=Ji,Yi=Zi);var Xi,Ki,Qi,en,tn=[].slice,nn=[].splice,rn=[].push,on=Object.prototype.toString,an=n("ng"),sn=e.angular||(e.angular={}),ln=0;Xi=t.documentMode,f.$inject=[],m.$inject=[];var cn,un=Array.isArray,dn=function(e){return _(e)?e.trim():e},hn=function(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},pn=function(){if(y(pn.isActive_))return pn.isActive_;var e=!(!t.querySelector("[ng-csp]")&&!t.querySelector("[data-ng-csp]"));if(!e)try{new Function("")}catch(t){e=!0}return pn.isActive_=e},fn=["ng-","data-ng-","ng:","x-ng-"],mn=/[A-Z]/g,gn=!1,vn=1,yn=3,bn=8,_n=9,wn=11,xn={full:"1.3.14",major:1,minor:3,dot:14,codeName:"instantaneous-browserification"};_e.expando="ng339";var En=_e.cache={},An=1,Cn=function(e,t,i){e.addEventListener(t,i,!1)},kn=function(e,t,i){e.removeEventListener(t,i,!1)};_e._data=function(e){return this.cache[e[this.expando]]||{}};var $n=/([\:\-\_]+(.))/g,Tn=/^moz([A-Z])/,Ln={mouseleave:"mouseout",mouseenter:"mouseover"},Dn=n("jqLite"),Mn=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Sn=/<|&#?\w+;/,Pn=/<([\w:]+)/,Nn=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,In={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};In.optgroup=In.option,In.tbody=In.tfoot=In.colgroup=In.caption=In.thead,In.th=In.td;var On=_e.prototype={ready:function(i){function n(){r||(r=!0,i())}var r=!1;"complete"===t.readyState?setTimeout(n):(this.on("DOMContentLoaded",n),_e(e).on("load",n))},toString:function(){var e=[];return o(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return Ki(e>=0?this[e]:this[this.length+e])},length:0,push:rn,sort:[].sort,splice:[].splice},Rn={};o("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(e){Rn[qi(e)]=e});var jn={};o("input,select,option,textarea,button,form,details".split(","),function(e){jn[e]=!0});var Hn={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};o({data:ke,removeData:Ae},function(e,t){_e[t]=e}),o({data:ke,inheritedData:Se,scope:function(e){return Ki.data(e,"$scope")||Se(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return Ki.data(e,"$isolateScope")||Ki.data(e,"$isolateScopeNoTemplate")},controller:Me,injector:function(e){return Se(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:$e,css:function(e,t,i){return t=me(t),y(i)?void(e.style[t]=i):e.style[t]},attr:function(e,t,n){var r=qi(t);if(Rn[r]){if(!y(n))return e[t]||(e.attributes.getNamedItem(t)||f).specified?r:i;n?(e[t]=!0,e.setAttribute(t,r)):(e[t]=!1,e.removeAttribute(r))}else if(y(n))e.setAttribute(t,n);else if(e.getAttribute){var o=e.getAttribute(t,2);return null===o?i:o}},prop:function(e,t,i){return y(i)?void(e[t]=i):e[t]},text:function(){function e(e,t){if(v(t)){var i=e.nodeType;return i===vn||i===yn?e.textContent:""}e.textContent=t}return e.$dv="",e}(),val:function(e,t){if(v(t)){if(e.multiple&&"select"===N(e)){var i=[];return o(e.options,function(e){e.selected&&i.push(e.value||e.text)}),0===i.length?null:i}return e.value}e.value=t},html:function(e,t){return v(t)?e.innerHTML:(xe(e,!0),void(e.innerHTML=t))},empty:Pe},function(e,t){_e.prototype[t]=function(t,n){var r,o,a=this.length;if(e!==Pe&&(2==e.length&&e!==$e&&e!==Me?t:n)===i){if(b(t)){for(r=0;r<a;r++)if(e===ke)e(this[r],t);else for(o in t)e(this[r],o,t[o]);return this}for(var s=e.$dv,l=s===i?Math.min(a,1):a,c=0;c<l;c++){var u=e(this[c],t,n);s=s?s+u:u}return s}for(r=0;r<a;r++)e(this[r],t,n);return this}}),o({removeData:Ae,on:function e(t,i,n,r){if(y(r))throw Dn("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(ve(t)){var o=Ce(t,!0),a=o.events,s=o.handle;s||(s=o.handle=je(t,a));for(var l=i.indexOf(" ")>=0?i.split(" "):[i],c=l.length;c--;){i=l[c];var u=a[i];u||(a[i]=[],"mouseenter"===i||"mouseleave"===i?e(t,Ln[i],function(e){var t=this,n=e.relatedTarget;n&&(n===t||t.contains(n))||s(e,i)}):"$destroy"!==i&&Cn(t,i,s),u=a[i]),u.push(n)}}},off:Ee,one:function(e,t,i){e=Ki(e),e.on(t,function n(){e.off(t,i),e.off(t,n)}),e.on(t,i)},replaceWith:function(e,t){var i,n=e.parentNode;xe(e),o(new _e(t),function(t){i?n.insertBefore(t,i.nextSibling):n.replaceChild(t,e),i=t})},children:function(e){var t=[];return o(e.childNodes,function(e){e.nodeType===vn&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var i=e.nodeType;if(i===vn||i===wn){t=new _e(t);for(var n=0,r=t.length;n<r;n++){var o=t[n];e.appendChild(o)}}},prepend:function(e,t){if(e.nodeType===vn){var i=e.firstChild;o(new _e(t),function(t){e.insertBefore(t,i)})}},wrap:function(e,t){t=Ki(t).eq(0).clone()[0];var i=e.parentNode;i&&i.replaceChild(t,e),t.appendChild(e)},remove:Ne,detach:function(e){Ne(e,!0)},after:function(e,t){var i=e,n=e.parentNode;t=new _e(t);for(var r=0,o=t.length;r<o;r++){var a=t[r];n.insertBefore(a,i.nextSibling),i=a}},addClass:Le,removeClass:Te,toggleClass:function(e,t,i){t&&o(t.split(" "),function(t){var n=i;v(n)&&(n=!$e(e,t)),(n?Le:Te)(e,t)})},parent:function(e){var t=e.parentNode;return t&&t.nodeType!==wn?t:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:we,triggerHandler:function(e,t,i){var n,r,a,s=t.type||t,l=Ce(e),c=l&&l.events,u=c&&c[s];u&&(n={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:f,type:s,target:e},t.type&&(n=d(n,t)),r=R(u),a=i?[n].concat(i):[n],o(r,function(t){n.isImmediatePropagationStopped()||t.apply(e,a)}))}},function(e,t){_e.prototype[t]=function(t,i,n){for(var r,o=0,a=this.length;o<a;o++)v(r)?(r=e(this[o],t,i,n),y(r)&&(r=Ki(r))):De(r,e(this[o],t,i,n));return y(r)?r:this},_e.prototype.bind=_e.prototype.on,_e.prototype.unbind=_e.prototype.off}),Ue.prototype={put:function(e,t){this[Fe(e,this.nextUid)]=t},get:function(e){return this[Fe(e,this.nextUid)]},remove:function(e){var t=this[e=Fe(e,this.nextUid)];return delete this[e],t}};var Fn=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,Un=/,/,zn=/^\s*(_?)(\S+?)\1\s*$/,Bn=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Gn=n("$injector");Ge.$$annotate=Be;var Wn=n("$animate"),qn=["$provide",function(e){this.$$selectors={},this.register=function(t,i){var n=t+"-animation";if(t&&"."!=t.charAt(0))throw Wn("notcsel","Expecting class selector starting with '.' got '{0}'.",t);this.$$selectors[t.substr(1)]=n,e.factory(n,i)},this.classNameFilter=function(e){return 1===arguments.length&&(this.$$classNameFilter=e instanceof RegExp?e:null),this.$$classNameFilter},this.$get=["$$q","$$asyncCallback","$rootScope",function(e,t,i){function n(t){var n,r=e.defer();return r.promise.$$cancelFn=function(){n&&n()},i.$$postDigest(function(){n=t(function(){r.resolve()})}),r.promise}function r(e,t){var i=[],n=[],r=ce();return o((e.attr("class")||"").split(/\s+/),function(e){r[e]=!0}),o(t,function(e,t){var o=r[t];e===!1&&o?n.push(t):e!==!0||o||i.push(t)}),i.length+n.length>0&&[i.length?i:null,n.length?n:null]}function a(e,t,i){for(var n=0,r=t.length;n<r;++n){var o=t[n];e[o]=i}}function s(){return c||(c=e.defer(),t(function(){c.resolve(),c=null})),c.promise}function l(e,t){if(sn.isObject(t)){var i=d(t.from||{},t.to||{});e.css(i)}}var c;return{animate:function(e,t,i){return l(e,{from:t,to:i}),s()},enter:function(e,t,i,n){return l(e,n),i?i.after(e):t.prepend(e),s()},leave:function(e,t){return e.remove(),s()},move:function(e,t,i,n){return this.enter(e,t,i,n)},addClass:function(e,t,i){return this.setClass(e,t,[],i)},$$addClassImmediately:function(e,t,i){return e=Ki(e),t=_(t)?t:un(t)?t.join(" "):"",o(e,function(e){Le(e,t)}),l(e,i),s()},removeClass:function(e,t,i){return this.setClass(e,[],t,i)},$$removeClassImmediately:function(e,t,i){return e=Ki(e),t=_(t)?t:un(t)?t.join(" "):"",o(e,function(e){Te(e,t)}),l(e,i),s()},setClass:function(e,t,i,o){var s=this,l="$$animateClasses",c=!1;e=Ki(e);var u=e.data(l);u?o&&u.options&&(u.options=sn.extend(u.options||{},o)):(u={classes:{},options:o},c=!0);var d=u.classes;return t=un(t)?t:t.split(" "),i=un(i)?i:i.split(" "),a(d,t,!0),a(d,i,!1),c&&(u.promise=n(function(t){var i=e.data(l);if(e.removeData(l),i){var n=r(e,i.classes);n&&s.$$setClassImmediately(e,n[0],n[1],i.options)}t()}),e.data(l,u)),u.promise},$$setClassImmediately:function(e,t,i,n){return t&&this.$$addClassImmediately(e,t),i&&this.$$removeClassImmediately(e,i),l(e,n),s()},enabled:f,cancel:f}}]}],Vn=n("$compile");Xe.$inject=["$provide","$$sanitizeUriProvider"];var Yn=/^((?:x|data)[\:\-_])/i,Jn=n("$controller"),Zn="application/json",Xn={"Content-Type":Zn+";charset=utf-8"},Kn=/^\[|^\{(?!\{)/,Qn={"[":/]$/,"{":/}$/},er=/^\)\]\}',?\n/,tr=n("$interpolate"),ir=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,nr={http:80,https:443,ftp:21},rr=n("$location"),or={$$html5:!1,$$replace:!1,absUrl:Tt("$$absUrl"),url:function(e){if(v(e))return this.$$url;var t=ir.exec(e);return(t[1]||""===e)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:Tt("$$protocol"),host:Tt("$$host"),port:Tt("$$port"),path:Lt("$$path",function(e){return e=null!==e?e.toString():"","/"==e.charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(_(e)||w(e))e=e.toString(),this.$$search=V(e);else{if(!b(e))throw rr("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");e=O(e,{}),o(e,function(t,i){null==t&&delete e[i]}),this.$$search=e}break;default:v(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:Lt("$$hash",function(e){return null!==e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};o([$t,kt,Ct],function(e){e.prototype=Object.create(or),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==Ct||!this.$$html5)throw rr("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=v(t)?null:t,this}});var ar=n("$parse"),sr=Function.prototype.call,lr=Function.prototype.apply,cr=Function.prototype.bind,ur=ce();o({null:function(){return null},true:function(){return!0},false:function(){return!1},undefined:function(){}},function(e,t){e.constant=e.literal=e.sharedGetter=!0,ur[t]=e}),ur.this=function(e){return e},ur.this.sharedGetter=!0;var dr=d(ce(),{"+":function(e,t,n,r){return n=n(e,t),r=r(e,t),y(n)?y(r)?n+r:n:y(r)?r:i},"-":function(e,t,i,n){return i=i(e,t),n=n(e,t),(y(i)?i:0)-(y(n)?n:0)},"*":function(e,t,i,n){return i(e,t)*n(e,t)},"/":function(e,t,i,n){return i(e,t)/n(e,t)},"%":function(e,t,i,n){return i(e,t)%n(e,t)},"===":function(e,t,i,n){return i(e,t)===n(e,t)},"!==":function(e,t,i,n){return i(e,t)!==n(e,t)},"==":function(e,t,i,n){return i(e,t)==n(e,t)},"!=":function(e,t,i,n){return i(e,t)!=n(e,t)},"<":function(e,t,i,n){return i(e,t)<n(e,t)},">":function(e,t,i,n){return i(e,t)>n(e,t)},"<=":function(e,t,i,n){return i(e,t)<=n(e,t)},">=":function(e,t,i,n){return i(e,t)>=n(e,t)},"&&":function(e,t,i,n){return i(e,t)&&n(e,t)},"||":function(e,t,i,n){return i(e,t)||n(e,t)},"!":function(e,t,i){return!i(e,t)},"=":!0,"|":!0}),hr={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},pr=function(e){this.options=e};pr.prototype={constructor:pr,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;){var t=this.text.charAt(this.index);if('"'===t||"'"===t)this.readString(t);else if(this.isNumber(t)||"."===t&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(t))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var i=t+this.peek(),n=i+this.peek(2),r=dr[t],o=dr[i],a=dr[n];if(r||o||a){var s=a?n:o?i:t;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(e,t){return t.indexOf(e)!==-1},peek:function(e){var t=e||1;return this.index+t<this.text.length&&this.text.charAt(this.index+t)},isNumber:function(e){return"0"<=e&&e<="9"&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"\t"===e||"\n"===e||"\v"===e||" "===e},isIdent:function(e){return"a"<=e&&e<="z"||"A"<=e&&e<="Z"||"_"===e||"$"===e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,i){i=i||this.index;var n=y(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,i)+"]":" "+i;throw ar("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,n,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var i=qi(this.text.charAt(this.index));if("."==i||this.isNumber(i))e+=i;else{var n=this.peek();if("e"==i&&this.isExpOperator(n))e+=i;else if(this.isExpOperator(i)&&n&&this.isNumber(n)&&"e"==e.charAt(e.length-1))e+=i;else{if(!this.isExpOperator(i)||n&&this.isNumber(n)||"e"!=e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){for(var e=this.index;this.index<this.text.length;){var t=this.text.charAt(this.index);if(!this.isIdent(t)&&!this.isNumber(t))break;this.index++}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var i="",n=e,r=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(n+=o,r){if("u"===o){var a=this.text.substring(this.index+1,this.index+5);a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,i+=String.fromCharCode(parseInt(a,16))}else{var s=hr[o];i+=s||o}r=!1}else if("\\"===o)r=!0;else{if(o===e)return this.index++,void this.tokens.push({index:t,text:n,constant:!0,value:i});i+=o}this.index++}this.throwError("Unterminated quote",t)}};var fr=function(e,t,i){this.lexer=e,this.$filter=t,this.options=i};fr.ZERO=d(function(){return 0},{sharedGetter:!0,constant:!0}),fr.prototype={constructor:fr,parse:function(e){this.text=e,this.tokens=this.lexer.lex(e);var t=this.statements();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t.literal=!!t.literal,t.constant=!!t.constant,t},primary:function(){var e;this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.peek().identifier&&this.peek().text in ur?e=ur[this.consume().text]:this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());for(var t,i;t=this.expect("(","[",".");)"("===t.text?(e=this.functionCall(e,i),i=null):"["===t.text?(i=e,e=this.objectIndex(e)):"."===t.text?(i=e,e=this.fieldAccess(e)):this.throwError("IMPOSSIBLE");return e},throwError:function(e,t){throw ar("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},peekToken:function(){if(0===this.tokens.length)throw ar("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,i,n){return this.peekAhead(0,e,t,i,n)},peekAhead:function(e,t,i,n,r){if(this.tokens.length>e){var o=this.tokens[e],a=o.text;if(a===t||a===i||a===n||a===r||!t&&!i&&!n&&!r)return o}return!1},expect:function(e,t,i,n){var r=this.peek(e,t,i,n);return!!r&&(this.tokens.shift(),r)},consume:function(e){if(0===this.tokens.length)throw ar("ueoe","Unexpected end of expression: {0}",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},unaryFn:function(e,t){var i=dr[e];return d(function(e,n){return i(e,n,t)},{constant:t.constant,inputs:[t]})},binaryFn:function(e,t,i,n){var r=dr[t];return d(function(t,n){return r(t,n,e,i)},{constant:e.constant&&i.constant,inputs:!n&&[e,i]})},identifier:function(){for(var e=this.consume().text;this.peek(".")&&this.peekAhead(1).identifier&&!this.peekAhead(2,"(");)e+=this.consume().text+this.consume().text;return Ft(e,this.options,this.text)},constant:function(){var e=this.consume().value;return d(function(){return e},{constant:!0,literal:!0})},statements:function(){for(var e=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&e.push(this.filterChain()),!this.expect(";"))return 1===e.length?e[0]:function(t,i){for(var n,r=0,o=e.length;r<o;r++)n=e[r](t,i);return n}},filterChain:function(){for(var e,t=this.expression();e=this.expect("|");)t=this.filter(t);return t},filter:function(e){var t,n,r=this.$filter(this.consume().text);if(this.peek(":"))for(t=[],n=[];this.expect(":");)t.push(this.expression());var o=[e].concat(t||[]);return d(function(o,a){var s=e(o,a);if(n){n[0]=s;for(var l=t.length;l--;)n[l+1]=t[l](o,a);return r.apply(i,n)}return r(s)},{constant:!r.$stateful&&o.every(It),inputs:!r.$stateful&&o})},expression:function(){return this.assignment()},assignment:function(){var e,t,i=this.ternary();return(t=this.expect("="))?(i.assign||this.throwError("implies assignment but ["+this.text.substring(0,t.index)+"] can not be assigned to",t),e=this.ternary(),d(function(t,n){return i.assign(t,e(t,n),n)},{inputs:[i,e]})):i},ternary:function(){var e,t,i=this.logicalOR();if((t=this.expect("?"))&&(e=this.assignment(),this.consume(":"))){var n=this.assignment();return d(function(t,r){return i(t,r)?e(t,r):n(t,r)},{constant:i.constant&&e.constant&&n.constant})}return i},logicalOR:function(){for(var e,t=this.logicalAND();e=this.expect("||");)t=this.binaryFn(t,e.text,this.logicalAND(),!0);return t},logicalAND:function(){for(var e,t=this.equality();e=this.expect("&&");)t=this.binaryFn(t,e.text,this.equality(),!0);return t},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t=this.binaryFn(t,e.text,this.relational());return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t=this.binaryFn(t,e.text,this.additive());return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t=this.binaryFn(t,e.text,this.multiplicative());return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t=this.binaryFn(t,e.text,this.unary());return t},unary:function(){var e;return this.expect("+")?this.primary():(e=this.expect("-"))?this.binaryFn(fr.ZERO,e.text,this.unary()):(e=this.expect("!"))?this.unaryFn(e.text,this.unary()):this.primary()},fieldAccess:function(e){var t=this.identifier();return d(function(n,r,o){var a=o||e(n,r);return null==a?i:t(a)},{assign:function(i,n,r){var o=e(i,r);return o||e.assign(i,o={},r),t.assign(o,n)}})},objectIndex:function(e){var t=this.text,n=this.expression();return this.consume("]"),d(function(r,o){var a,s=e(r,o),l=n(r,o);return St(l,t),s?a=Pt(s[l],t):i},{assign:function(i,r,o){var a=St(n(i,o),t),s=Pt(e(i,o),t);return s||e.assign(i,s={},o),s[a]=r}})},functionCall:function(e,t){var n=[];if(")"!==this.peekToken().text)do n.push(this.expression());while(this.expect(","));this.consume(")");var r=this.text,o=n.length?[]:null;return function(a,s){var l=t?t(a,s):y(t)?i:a,c=e(a,s,l)||f;if(o)for(var u=n.length;u--;)o[u]=Pt(n[u](a,s),r);Pt(l,r),Nt(c,r);var d=c.apply?c.apply(l,o):c(o[0],o[1],o[2],o[3],o[4]);return o&&(o.length=0),Pt(d,r)}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),d(function(t,i){for(var n=[],r=0,o=e.length;r<o;r++)n.push(e[r](t,i));return n},{literal:!0,constant:e.every(It),inputs:e})},object:function(){var e=[],t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;var i=this.consume();i.constant?e.push(i.value):i.identifier?e.push(i.text):this.throwError("invalid key",i),this.consume(":"),t.push(this.expression())}while(this.expect(","));return this.consume("}"),d(function(i,n){for(var r={},o=0,a=t.length;o<a;o++)r[e[o]]=t[o](i,n);return r},{literal:!0,constant:t.every(It),inputs:t})}};var mr=ce(),gr=ce(),vr=Object.prototype.valueOf,yr=n("$sce"),br={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Vn=n("$compile"),_r=t.createElement("a"),wr=ni(e.location.href);ai.$inject=["$provide"],ui.$inject=["$locale"],di.$inject=["$locale"];var xr=".",Er={yyyy:fi("FullYear",4),yy:fi("FullYear",2,0,!0),y:fi("FullYear",1),MMMM:mi("Month"),MMM:mi("Month",!0),MM:fi("Month",2,1),M:fi("Month",1,1),dd:fi("Date",2),d:fi("Date",1),HH:fi("Hours",2),H:fi("Hours",1),hh:fi("Hours",2,-12),h:fi("Hours",1,-12),mm:fi("Minutes",2),m:fi("Minutes",1),
ss:fi("Seconds",2),s:fi("Seconds",1),sss:fi("Milliseconds",3),EEEE:mi("Day"),EEE:mi("Day",!0),a:_i,Z:gi,ww:bi(2),w:bi(1)},Ar=/((?:[^yMdHhmsaZEw']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|w+))(.*)/,Cr=/^\-?\d+$/;wi.$inject=["$locale"];var kr=g(qi),$r=g(Yi);Ai.$inject=["$parse"];var Tr=g({restrict:"E",compile:function(e,t){if(!t.href&&!t.xlinkHref&&!t.name)return function(e,t){if("a"===t[0].nodeName.toLowerCase()){var i="[object SVGAnimatedString]"===on.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(i)||e.preventDefault()})}}}}),Lr={};o(Rn,function(e,t){if("multiple"!=e){var i=Ke("ng-"+t);Lr[i]=function(){return{restrict:"A",priority:100,link:function(e,n,r){e.$watch(r[i],function(e){r.$set(t,!!e)})}}}}}),o(Hn,function(e,t){Lr[t]=function(){return{priority:100,link:function(e,i,n){if("ngPattern"===t&&"/"==n.ngPattern.charAt(0)){var r=n.ngPattern.match(Gi);if(r)return void n.$set("ngPattern",new RegExp(r[1],r[2]))}e.$watch(n[t],function(e){n.$set(t,e)})}}}}),o(["src","srcset","href"],function(e){var t=Ke("ng-"+e);Lr[t]=function(){return{priority:99,link:function(i,n,r){var o=e,a=e;"href"===e&&"[object SVGAnimatedString]"===on.call(n.prop("href"))&&(a="xlinkHref",r.$attr[a]="xlink:href",o=null),r.$observe(t,function(t){return t?(r.$set(a,t),void(Xi&&o&&n.prop(o,r[a]))):void("href"===e&&r.$set(a,null))})}}}});var Dr={$addControl:f,$$renameControl:ki,$removeControl:f,$setValidity:f,$setDirty:f,$setPristine:f,$setSubmitted:f},Mr="ng-submitted";$i.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var Sr=function(e){return["$timeout",function(t){var n={name:"form",restrict:e?"EAC":"E",controller:$i,compile:function(e){return e.addClass(po).addClass(uo),{pre:function(e,n,r,o){if(!("action"in r)){var a=function(t){e.$apply(function(){o.$commitViewValue(),o.$setSubmitted()}),t.preventDefault()};Cn(n[0],"submit",a),n.on("$destroy",function(){t(function(){kn(n[0],"submit",a)},0,!1)})}var s=o.$$parentForm,l=o.$name;l&&(Ot(e,null,l,o,l),r.$observe(r.name?"name":"ngForm",function(t){l!==t&&(Ot(e,null,l,i,l),l=t,Ot(e,null,l,o,l),s.$$renameControl(o,l))})),n.on("$destroy",function(){s.$removeControl(o),l&&Ot(e,null,l,i,l),d(o,Dr)})}}}};return n}]},Pr=Sr(),Nr=Sr(!0),Ir=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,Or=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,Rr=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,jr=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,Hr=/^(\d{4})-(\d{2})-(\d{2})$/,Fr=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Ur=/^(\d{4})-W(\d\d)$/,zr=/^(\d{4})-(\d\d)$/,Br=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Gr={text:Li,date:Pi("date",Hr,Si(Hr,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":Pi("datetimelocal",Fr,Si(Fr,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:Pi("time",Br,Si(Br,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:Pi("week",Ur,Mi,"yyyy-Www"),month:Pi("month",zr,Si(zr,["yyyy","MM"]),"yyyy-MM"),number:Ii,url:Oi,email:Ri,radio:ji,checkbox:Fi,hidden:f,button:f,submit:f,reset:f,file:f},Wr=["$browser","$sniffer","$filter","$parse",function(e,t,i,n){return{restrict:"E",require:["?ngModel"],link:{pre:function(r,o,a,s){s[0]&&(Gr[qi(a.type)]||Gr.text)(r,o,a,s[0],t,e,i,n)}}}}],qr=/^(true|false|\d+)$/,Vr=function(){return{restrict:"A",priority:100,compile:function(e,t){return qr.test(t.ngValue)?function(e,t,i){i.$set("value",e.$eval(i.ngValue))}:function(e,t,i){e.$watch(i.ngValue,function(e){i.$set("value",e)})}}}},Yr=["$compile",function(e){return{restrict:"AC",compile:function(t){return e.$$addBindingClass(t),function(t,n,r){e.$$addBindingInfo(n,r.ngBind),n=n[0],t.$watch(r.ngBind,function(e){n.textContent=e===i?"":e})}}}}],Jr=["$interpolate","$compile",function(e,t){return{compile:function(n){return t.$$addBindingClass(n),function(n,r,o){var a=e(r.attr(o.$attr.ngBindTemplate));t.$$addBindingInfo(r,a.expressions),r=r[0],o.$observe("ngBindTemplate",function(e){r.textContent=e===i?"":e})}}}}],Zr=["$sce","$parse","$compile",function(e,t,i){return{restrict:"A",compile:function(n,r){var o=t(r.ngBindHtml),a=t(r.ngBindHtml,function(e){return(e||"").toString()});return i.$$addBindingClass(n),function(t,n,r){i.$$addBindingInfo(n,r.ngBindHtml),t.$watch(a,function(){n.html(e.getTrustedHtml(o(t))||"")})}}}}],Xr=g({restrict:"A",require:"ngModel",link:function(e,t,i,n){n.$viewChangeListeners.push(function(){e.$eval(i.ngChange)})}}),Kr=Ui("",!0),Qr=Ui("Odd",0),eo=Ui("Even",1),to=Ci({compile:function(e,t){t.$set("ngCloak",i),e.removeClass("ng-cloak")}}),io=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],no={},ro={blur:!0,focus:!0};o("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=Ke("ng-"+e);no[t]=["$parse","$rootScope",function(i,n){return{restrict:"A",compile:function(r,o){var a=i(o[t],null,!0);return function(t,i){i.on(e,function(i){var r=function(){a(t,{$event:i})};ro[e]&&n.$$phase?t.$evalAsync(r):t.$apply(r)})}}}}]});var oo=["$animate",function(e){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(i,n,r,o,a){var s,l,c;i.$watch(r.ngIf,function(i){i?l||a(function(i,o){l=o,i[i.length++]=t.createComment(" end ngIf: "+r.ngIf+" "),s={clone:i},e.enter(i,n.parent(),n)}):(c&&(c.remove(),c=null),l&&(l.$destroy(),l=null),s&&(c=le(s.clone),e.leave(c).then(function(){c=null}),s=null))})}}}],ao=["$templateRequest","$anchorScroll","$animate","$sce",function(e,t,i,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:sn.noop,compile:function(r,o){var a=o.ngInclude||o.src,s=o.onload||"",l=o.autoscroll;return function(r,o,c,u,d){var h,p,f,m=0,g=function(){p&&(p.remove(),p=null),h&&(h.$destroy(),h=null),f&&(i.leave(f).then(function(){p=null}),p=f,f=null)};r.$watch(n.parseAsResourceUrl(a),function(n){var a=function(){!y(l)||l&&!r.$eval(l)||t()},c=++m;n?(e(n,!0).then(function(e){if(c===m){var t=r.$new();u.template=e;var l=d(t,function(e){g(),i.enter(e,null,o).then(a)});h=t,f=l,h.$emit("$includeContentLoaded",n),r.$eval(s)}},function(){c===m&&(g(),r.$emit("$includeContentError",n))}),r.$emit("$includeContentRequested",n)):(g(),u.template=null)})}}}}],so=["$compile",function(e){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(i,n,r,o){return/SVG/.test(n[0].toString())?(n.empty(),void e(ye(o.template,t).childNodes)(i,function(e){n.append(e)},{futureParentElement:n})):(n.html(o.template),void e(n.contents())(i))}}}],lo=Ci({priority:450,compile:function(){return{pre:function(e,t,i){e.$eval(i.ngInit)}}}}),co=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,n,r){var a=t.attr(n.$attr.ngList)||", ",s="false"!==n.ngTrim,l=s?dn(a):a,c=function(e){if(!v(e)){var t=[];return e&&o(e.split(l),function(e){e&&t.push(s?dn(e):e)}),t}};r.$parsers.push(c),r.$formatters.push(function(e){return un(e)?e.join(a):i}),r.$isEmpty=function(e){return!e||!e.length}}}},uo="ng-valid",ho="ng-invalid",po="ng-pristine",fo="ng-dirty",mo="ng-untouched",go="ng-touched",vo="ng-pending",yo=new n("ngModel"),bo=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(e,t,n,r,a,s,l,c,u,d){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=i,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=i,this.$name=d(n.name||"",!1)(e);var h,p=a(n.ngModel),m=p.assign,g=p,b=m,_=null,x=this;this.$$setOptions=function(e){if(x.$options=e,e&&e.getterSetter){var t=a(n.ngModel+"()"),i=a(n.ngModel+"($$$p)");g=function(e){var i=p(e);return E(i)&&(i=t(e)),i},b=function(e,t){E(p(e))?i(e,{$$$p:x.$modelValue}):m(e,x.$modelValue)}}else if(!p.assign)throw yo("nonassign","Expression '{0}' is non-assignable. Element: {1}",n.ngModel,W(r))},this.$render=f,this.$isEmpty=function(e){return v(e)||""===e||null===e||e!==e};var A=r.inheritedData("$formController")||Dr,C=0;zi({ctrl:this,$element:r,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]},parentForm:A,$animate:s}),this.$setPristine=function(){x.$dirty=!1,x.$pristine=!0,s.removeClass(r,fo),s.addClass(r,po)},this.$setDirty=function(){x.$dirty=!0,x.$pristine=!1,s.removeClass(r,po),s.addClass(r,fo),A.$setDirty()},this.$setUntouched=function(){x.$touched=!1,x.$untouched=!0,s.setClass(r,mo,go)},this.$setTouched=function(){x.$touched=!0,x.$untouched=!1,s.setClass(r,go,mo)},this.$rollbackViewValue=function(){l.cancel(_),x.$viewValue=x.$$lastCommittedViewValue,x.$render()},this.$validate=function(){if(!w(x.$modelValue)||!isNaN(x.$modelValue)){var e=x.$$lastCommittedViewValue,t=x.$$rawModelValue,n=x.$valid,r=x.$modelValue,o=x.$options&&x.$options.allowInvalid;x.$$runValidators(t,e,function(e){o||n===e||(x.$modelValue=e?t:i,x.$modelValue!==r&&x.$$writeModelToScope())})}},this.$$runValidators=function(e,t,n){function r(){var e=x.$$parserName||"parse";return h!==i?(h||(o(x.$validators,function(e,t){l(t,null)}),o(x.$asyncValidators,function(e,t){l(t,null)})),l(e,h),h):(l(e,null),!0)}function a(){var i=!0;return o(x.$validators,function(n,r){var o=n(e,t);i=i&&o,l(r,o)}),!!i||(o(x.$asyncValidators,function(e,t){l(t,null)}),!1)}function s(){var n=[],r=!0;o(x.$asyncValidators,function(o,a){var s=o(e,t);if(!M(s))throw yo("$asyncValidators","Expected asynchronous validator to return a promise but got '{0}' instead.",s);l(a,i),n.push(s.then(function(){l(a,!0)},function(e){r=!1,l(a,!1)}))}),n.length?u.all(n).then(function(){c(r)},f):c(!0)}function l(e,t){d===C&&x.$setValidity(e,t)}function c(e){d===C&&n(e)}C++;var d=C;return r()&&a()?void s():void c(!1)},this.$commitViewValue=function(){var e=x.$viewValue;l.cancel(_),(x.$$lastCommittedViewValue!==e||""===e&&x.$$hasNativeValidators)&&(x.$$lastCommittedViewValue=e,x.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){function t(){x.$modelValue!==a&&x.$$writeModelToScope()}var n=x.$$lastCommittedViewValue,r=n;if(h=!v(r)||i)for(var o=0;o<x.$parsers.length;o++)if(r=x.$parsers[o](r),v(r)){h=!1;break}w(x.$modelValue)&&isNaN(x.$modelValue)&&(x.$modelValue=g(e));var a=x.$modelValue,s=x.$options&&x.$options.allowInvalid;x.$$rawModelValue=r,s&&(x.$modelValue=r,t()),x.$$runValidators(r,x.$$lastCommittedViewValue,function(e){s||(x.$modelValue=e?r:i,t())})},this.$$writeModelToScope=function(){b(e,x.$modelValue),o(x.$viewChangeListeners,function(e){try{e()}catch(e){t(e)}})},this.$setViewValue=function(e,t){x.$viewValue=e,x.$options&&!x.$options.updateOnDefault||x.$$debounceViewValueCommit(t)},this.$$debounceViewValueCommit=function(t){var i,n=0,r=x.$options;r&&y(r.debounce)&&(i=r.debounce,w(i)?n=i:w(i[t])?n=i[t]:w(i.default)&&(n=i.default)),l.cancel(_),n?_=l(function(){x.$commitViewValue()},n):c.$$phase?x.$commitViewValue():e.$apply(function(){x.$commitViewValue()})},e.$watch(function(){var t=g(e);if(t!==x.$modelValue){x.$modelValue=x.$$rawModelValue=t,h=i;for(var n=x.$formatters,r=n.length,o=t;r--;)o=n[r](o);x.$viewValue!==o&&(x.$viewValue=x.$$lastCommittedViewValue=o,x.$render(),x.$$runValidators(t,o,f))}return t})}],_o=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:bo,priority:1,compile:function(t){return t.addClass(po).addClass(mo).addClass(uo),{pre:function(e,t,i,n){var r=n[0],o=n[1]||Dr;r.$$setOptions(n[2]&&n[2].$options),o.$addControl(r),i.$observe("name",function(e){r.$name!==e&&o.$$renameControl(r,e)}),e.$on("$destroy",function(){o.$removeControl(r)})},post:function(t,i,n,r){var o=r[0];o.$options&&o.$options.updateOn&&i.on(o.$options.updateOn,function(e){o.$$debounceViewValueCommit(e&&e.type)}),i.on("blur",function(i){o.$touched||(e.$$phase?t.$evalAsync(o.$setTouched):t.$apply(o.$setTouched))})}}}}}],wo=/(\s+|^)default(\s+|$)/,xo=function(){return{restrict:"A",controller:["$scope","$attrs",function(e,t){var n=this;this.$options=e.$eval(t.ngModelOptions),this.$options.updateOn!==i?(this.$options.updateOnDefault=!1,this.$options.updateOn=dn(this.$options.updateOn.replace(wo,function(){return n.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},Eo=Ci({terminal:!0,priority:1e3}),Ao=["$locale","$interpolate",function(e,t){var i=/{}/g,n=/^when(Minus)?(.+)$/;return{restrict:"EA",link:function(r,a,s){function l(e){a.text(e||"")}var c,u=s.count,d=s.$attr.when&&a.attr(s.$attr.when),h=s.offset||0,p=r.$eval(d)||{},f={},m=t.startSymbol(),g=t.endSymbol(),v=m+u+"-"+h+g,y=sn.noop;o(s,function(e,t){var i=n.exec(t);if(i){var r=(i[1]?"-":"")+qi(i[2]);p[r]=a.attr(s.$attr[t])}}),o(p,function(e,n){f[n]=t(e.replace(i,v))}),r.$watch(u,function(t){var i=parseFloat(t),n=isNaN(i);n||i in p||(i=e.pluralCat(i-h)),i===c||n&&isNaN(c)||(y(),y=r.$watch(f[i],l),c=i)})}}}],Co=["$parse","$animate",function(e,a){var s="$$NG_REMOVED",l=n("ngRepeat"),c=function(e,t,i,n,r,o,a){e[i]=n,r&&(e[r]=o),e.$index=t,e.$first=0===t,e.$last=t===a-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0===(1&t))},u=function(e){return e.clone[0]},d=function(e){return e.clone[e.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(n,h){var p=h.ngRepeat,f=t.createComment(" end ngRepeat: "+p+" "),m=p.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!m)throw l("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",p);var g=m[1],v=m[2],y=m[3],b=m[4];if(m=g.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/),!m)throw l("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",g);var _=m[3]||m[1],w=m[2];if(y&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(y)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(y)))throw l("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",y);var x,E,A,C,k={$id:Fe};return b?x=e(b):(A=function(e,t){return Fe(t)},C=function(e){return e}),function(e,t,n,h,m){x&&(E=function(t,i,n){return w&&(k[w]=t),k[_]=i,k.$index=n,x(e,k)});var g=ce();e.$watchCollection(v,function(n){var h,v,b,x,k,$,T,L,D,M,S,P,N=t[0],I=ce();if(y&&(e[y]=n),r(n))D=n,L=E||A;else{L=E||C,D=[];for(var O in n)n.hasOwnProperty(O)&&"$"!=O.charAt(0)&&D.push(O);D.sort()}for(x=D.length,S=new Array(x),h=0;h<x;h++)if(k=n===D?h:D[h],$=n[k],T=L(k,$,h),g[T])M=g[T],delete g[T],I[T]=M,S[h]=M;else{if(I[T])throw o(S,function(e){e&&e.scope&&(g[e.id]=e)}),l("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",p,T,$);S[h]={id:T,scope:i,clone:i},I[T]=!0}for(var R in g){if(M=g[R],P=le(M.clone),a.leave(P),P[0].parentNode)for(h=0,v=P.length;h<v;h++)P[h][s]=!0;M.scope.$destroy()}for(h=0;h<x;h++)if(k=n===D?h:D[h],$=n[k],M=S[h],M.scope){b=N;do b=b.nextSibling;while(b&&b[s]);u(M)!=b&&a.move(le(M.clone),null,Ki(N)),N=d(M),c(M.scope,h,_,$,w,k,x)}else m(function(e,t){M.scope=t;var i=f.cloneNode(!1);e[e.length++]=i,a.enter(e,null,Ki(N)),N=i,M.clone=e,I[M.id]=M,c(M.scope,h,_,$,w,k,x)});g=I})}}}}],ko="ng-hide",$o="ng-hide-animate",To=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,i,n){t.$watch(n.ngShow,function(t){e[t?"removeClass":"addClass"](i,ko,{tempClasses:$o})})}}}],Lo=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,i,n){t.$watch(n.ngHide,function(t){e[t?"addClass":"removeClass"](i,ko,{tempClasses:$o})})}}}],Do=Ci(function(e,t,i){e.$watchCollection(i.ngStyle,function(e,i){i&&e!==i&&o(i,function(e,i){t.css(i,"")}),e&&t.css(e)})}),Mo=["$animate",function(e){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(i,n,r,a){var s=r.ngSwitch||r.on,l=[],c=[],u=[],d=[],h=function(e,t){return function(){e.splice(t,1)}};i.$watch(s,function(i){var n,r;for(n=0,r=u.length;n<r;++n)e.cancel(u[n]);for(u.length=0,n=0,r=d.length;n<r;++n){var s=le(c[n].clone);d[n].$destroy();var p=u[n]=e.leave(s);p.then(h(u,n))}c.length=0,d.length=0,(l=a.cases["!"+i]||a.cases["?"])&&o(l,function(i){i.transclude(function(n,r){d.push(r);var o=i.element;n[n.length++]=t.createComment(" end ngSwitchWhen: ");var a={clone:n};c.push(a),e.enter(n,o.parent(),o)})})})}}}],So=Ci({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,i,n,r){n.cases["!"+i.ngSwitchWhen]=n.cases["!"+i.ngSwitchWhen]||[],n.cases["!"+i.ngSwitchWhen].push({transclude:r,element:t})}}),Po=Ci({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,i,n,r){n.cases["?"]=n.cases["?"]||[],n.cases["?"].push({transclude:r,element:t})}}),No=Ci({restrict:"EAC",link:function(e,t,i,r,o){if(!o)throw n("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",W(t));o(function(e){t.empty(),t.append(e)})}}),Io=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,i){if("text/ng-template"==i.type){var n=i.id,r=t[0].text;e.put(n,r)}}}}],Oo=n("ngOptions"),Ro=g({restrict:"A",terminal:!0}),jo=["$compile","$parse",function(e,n){var r=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,s={$setViewValue:f};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(e,t,i){var n,r,o=this,a={},l=s;o.databound=i.ngModel,o.init=function(e,t,i){l=e,n=t,r=i},o.addOption=function(t,i){ae(t,'"option value"'),a[t]=!0,l.$viewValue==t&&(e.val(t),r.parent()&&r.remove()),i&&i[0].hasAttribute("selected")&&(i[0].selected=!0)},o.removeOption=function(e){this.hasOption(e)&&(delete a[e],l.$viewValue===e&&this.renderUnknownOption(e))},o.renderUnknownOption=function(t){var i="? "+Fe(t)+" ?";r.val(i),e.prepend(r),e.val(i),r.prop("selected",!0)},o.hasOption=function(e){return a.hasOwnProperty(e)},t.$on("$destroy",function(){o.renderUnknownOption=f})}],link:function(s,l,c,u){function d(e,t,i,n){i.$render=function(){var e=i.$viewValue;n.hasOption(e)?(C.parent()&&C.remove(),t.val(e),""===e&&f.prop("selected",!0)):v(e)&&f?t.val(""):n.renderUnknownOption(e)},t.on("change",function(){e.$apply(function(){C.parent()&&C.remove(),i.$setViewValue(t.val())})})}function h(e,t,i){var n;i.$render=function(){var e=new Ue(i.$viewValue);o(t.find("option"),function(t){t.selected=y(e.get(t.value))})},e.$watch(function(){j(n,i.$viewValue)||(n=R(i.$viewValue),i.$render())}),t.on("change",function(){e.$apply(function(){var e=[];o(t.find("option"),function(t){t.selected&&e.push(t.value)}),i.$setViewValue(e)})})}function p(t,s,l){function c(e,i,n){return j[$]=n,D&&(j[D]=i),e(t,j)}function u(){t.$apply(function(){var e,i=P(t)||[];if(b)e=[],o(s.val(),function(t){t=I?O[t]:t,e.push(d(t,i[t]))});else{var n=I?O[s.val()]:s.val();e=d(n,i[n])}l.$setViewValue(e),v()})}function d(e,t){if("?"===e)return i;if(""===e)return null;var n=L?L:S;return c(n,e,t)}function h(){var e,i=P(t);if(i&&un(i)){e=new Array(i.length);for(var n=0,r=i.length;n<r;n++)e[n]=c(k,n,i[n]);return e}if(i){e={};for(var o in i)i.hasOwnProperty(o)&&(e[o]=c(k,o,i[o]))}return e}function p(e){var t;if(b)if(I&&un(e)){t=new Ue([]);for(var i=0;i<e.length;i++)t.put(c(I,null,e[i]),!0)}else t=new Ue(e);else I&&(e=c(I,null,e));return function(i,n){var r;return r=I?I:L?L:S,b?y(t.remove(c(r,i,n))):e===c(r,i,n)}}function f(){x||(t.$$postDigest(v),x=!0)}function g(e,t,i){e[t]=e[t]||0,e[t]+=i?1:-1}function v(){x=!1;var e,i,n,r,u,d,h,f,v,_,C,$,T,L,S,N,H,F={"":[]},U=[""],z=l.$viewValue,B=P(t)||[],G=D?a(B):B,W={},q=p(z),V=!1;for(O={},$=0;_=G.length,$<_;$++)h=$,D&&(h=G[$],"$"===h.charAt(0))||(f=B[h],e=c(M,h,f)||"",(i=F[e])||(i=F[e]=[],U.push(e)),T=q(h,f),V=V||T,N=c(k,h,f),N=y(N)?N:"",H=I?I(t,j):D?G[$]:$,I&&(O[H]=h),i.push({id:H,label:N,selected:T}));for(b||(w||null===z?F[""].unshift({id:"",label:"",selected:!V}):V||F[""].unshift({id:"?",label:"",selected:!0})),C=0,v=U.length;C<v;C++){for(e=U[C],i=F[e],R.length<=C?(r={element:A.clone().attr("label",e),label:i.label},u=[r],R.push(u),s.append(r.element)):(u=R[C],r=u[0],r.label!=e&&r.element.attr("label",r.label=e)),L=null,$=0,_=i.length;$<_;$++)n=i[$],(d=u[$+1])?(L=d.element,d.label!==n.label&&(g(W,d.label,!1),g(W,n.label,!0),L.text(d.label=n.label),L.prop("label",d.label)),d.id!==n.id&&L.val(d.id=n.id),L[0].selected!==n.selected&&(L.prop("selected",d.selected=n.selected),Xi&&L.prop("selected",d.selected))):(""===n.id&&w?S=w:(S=E.clone()).val(n.id).prop("selected",n.selected).attr("selected",n.selected).prop("label",n.label).text(n.label),u.push(d={element:S,label:n.label,id:n.id,selected:n.selected}),g(W,n.label,!0),L?L.after(S):r.element.append(S),L=S);for($++;u.length>$;)n=u.pop(),g(W,n.label,!1),n.element.remove()}for(;R.length>C;){for(i=R.pop(),$=1;$<i.length;++$)g(W,i[$].label,!1);i[0].element.remove()}o(W,function(e,t){e>0?m.addOption(t):e<0&&m.removeOption(t)})}var C;if(!(C=_.match(r)))throw Oo("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",_,W(s));var k=n(C[2]||C[1]),$=C[4]||C[6],T=/ as /.test(C[0])&&C[1],L=T?n(T):null,D=C[5],M=n(C[3]||""),S=n(C[2]?C[1]:$),P=n(C[7]),N=C[8],I=N?n(C[8]):null,O={},R=[[{element:s,label:""}]],j={};w&&(e(w)(t),w.removeClass("ng-scope"),w.remove()),s.empty(),s.on("change",u),l.$render=v,t.$watchCollection(P,f),t.$watchCollection(h,f),b&&t.$watchCollection(function(){return l.$modelValue},f)}if(u[1]){for(var f,m=u[0],g=u[1],b=c.multiple,_=c.ngOptions,w=!1,x=!1,E=Ki(t.createElement("option")),A=Ki(t.createElement("optgroup")),C=E.clone(),k=0,$=l.children(),T=$.length;k<T;k++)if(""===$[k].value){f=w=$.eq(k);break}m.init(g,w,C),b&&(g.$isEmpty=function(e){return!e||0===e.length}),_?p(s,l,g):b?h(s,l,g):d(s,l,g,m)}}}}],Ho=["$interpolate",function(e){var t={addOption:f,removeOption:f};return{restrict:"E",priority:100,compile:function(i,n){if(v(n.value)){var r=e(i.text(),!0);r||n.$set("value",i.text())}return function(e,i,n){var o="$selectController",a=i.parent(),s=a.data(o)||a.parent().data(o);s&&s.databound||(s=t),r?e.$watch(r,function(e,t){n.$set("value",e),t!==e&&s.removeOption(t),s.addOption(e,i)}):s.addOption(n.value,i),i.on("$destroy",function(){s.removeOption(n.value)})}}}}],Fo=g({restrict:"E",terminal:!1}),Uo=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,i,n){n&&(i.required=!0,n.$validators.required=function(e,t){return!i.required||!n.$isEmpty(t)},i.$observe("required",function(){n.$validate()}))}}},zo=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,r,o){if(o){var a,s=r.ngPattern||r.pattern;r.$observe("pattern",function(e){if(_(e)&&e.length>0&&(e=new RegExp("^"+e+"$")),e&&!e.test)throw n("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",s,e,W(t));a=e||i,o.$validate()}),o.$validators.pattern=function(e){return o.$isEmpty(e)||v(a)||a.test(e)}}}}},Bo=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,i,n){if(n){var r=-1;i.$observe("maxlength",function(e){var t=h(e);r=isNaN(t)?-1:t,n.$validate()}),n.$validators.maxlength=function(e,t){return r<0||n.$isEmpty(t)||t.length<=r}}}}},Go=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,i,n){if(n){var r=0;i.$observe("minlength",function(e){r=h(e)||0,n.$validate()}),n.$validators.minlength=function(e,t){return n.$isEmpty(t)||t.length>=r}}}}};return e.angular.bootstrap?void console.log("WARNING: Tried to load angular more than once."):(ne(),pe(sn),void Ki(t).ready(function(){K(t,Q)}))}(window,document),!window.angular.$$csp()&&window.angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}</style>'),!function(e,t,i){var n=e.L,r={};r.version="0.7.7","object"==typeof module&&"object"==typeof module.exports?module.exports=r:"function"==typeof define&&define.amd&&define(r),r.noConflict=function(){return e.L=n,this},e.L=r,r.Util={extend:function(e){var t,i,n,r,o=Array.prototype.slice.call(arguments,1);for(i=0,n=o.length;n>i;i++){r=o[i]||{};for(t in r)r.hasOwnProperty(t)&&(e[t]=r[t])}return e},bind:function(e,t){var i=arguments.length>2?Array.prototype.slice.call(arguments,2):null;return function(){return e.apply(t,i||arguments)}},stamp:function(){var e=0,t="_leaflet_id";return function(i){return i[t]=i[t]||++e,i[t]}}(),invokeEach:function(e,t,i){var n,r;if("object"==typeof e){r=Array.prototype.slice.call(arguments,3);for(n in e)t.apply(i,[n,e[n]].concat(r));return!0}return!1},limitExecByInterval:function(e,t,i){var n,r;return function o(){var a=arguments;return n?void(r=!0):(n=!0,setTimeout(function(){n=!1,r&&(o.apply(i,a),r=!1)},t),void e.apply(i,a))}},falseFn:function(){return!1},formatNum:function(e,t){var i=Math.pow(10,t||5);return Math.round(e*i)/i},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},splitWords:function(e){return r.Util.trim(e).split(/\s+/)},setOptions:function(e,t){return e.options=r.extend({},e.options,t),e.options},getParamString:function(e,t,i){var n=[];for(var r in e)n.push(encodeURIComponent(i?r.toUpperCase():r)+"="+encodeURIComponent(e[r]));return(t&&-1!==t.indexOf("?")?"&":"?")+n.join("&")},template:function(e,t){return e.replace(/\{ *([\w_]+) *\}/g,function(e,n){var r=t[n];if(r===i)throw new Error("No value provided for variable "+e);return"function"==typeof r&&(r=r(t)),r})},isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},emptyImageUrl:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="},function(){function t(t){var i,n,r=["webkit","moz","o","ms"];for(i=0;i<r.length&&!n;i++)n=e[r[i]+t];return n}function i(t){var i=+new Date,r=Math.max(0,16-(i-n));return n=i+r,e.setTimeout(t,r)}var n=0,o=e.requestAnimationFrame||t("RequestAnimationFrame")||i,a=e.cancelAnimationFrame||t("CancelAnimationFrame")||t("CancelRequestAnimationFrame")||function(t){e.clearTimeout(t)};r.Util.requestAnimFrame=function(t,n,a,s){return t=r.bind(t,n),a&&o===i?void t():o.call(e,t,s)},r.Util.cancelAnimFrame=function(t){t&&a.call(e,t)}}(),r.extend=r.Util.extend,r.bind=r.Util.bind,r.stamp=r.Util.stamp,r.setOptions=r.Util.setOptions,r.Class=function(){},r.Class.extend=function(e){var t=function(){this.initialize&&this.initialize.apply(this,arguments),this._initHooks&&this.callInitHooks()},i=function(){};i.prototype=this.prototype;var n=new i;n.constructor=t,t.prototype=n;for(var o in this)this.hasOwnProperty(o)&&"prototype"!==o&&(t[o]=this[o]);e.statics&&(r.extend(t,e.statics),delete e.statics),e.includes&&(r.Util.extend.apply(null,[n].concat(e.includes)),delete e.includes),e.options&&n.options&&(e.options=r.extend({},n.options,e.options)),r.extend(n,e),n._initHooks=[];var a=this;return t.__super__=a.prototype,n.callInitHooks=function(){if(!this._initHooksCalled){a.prototype.callInitHooks&&a.prototype.callInitHooks.call(this),this._initHooksCalled=!0;for(var e=0,t=n._initHooks.length;t>e;e++)n._initHooks[e].call(this)}},t},r.Class.include=function(e){r.extend(this.prototype,e)},r.Class.mergeOptions=function(e){r.extend(this.prototype.options,e)},r.Class.addInitHook=function(e){var t=Array.prototype.slice.call(arguments,1),i="function"==typeof e?e:function(){this[e].apply(this,t)};this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(i)};var o="_leaflet_events";r.Mixin={},r.Mixin.Events={addEventListener:function(e,t,i){if(r.Util.invokeEach(e,this.addEventListener,this,t,i))return this;var n,a,s,l,c,u,d,h=this[o]=this[o]||{},p=i&&i!==this&&r.stamp(i);for(e=r.Util.splitWords(e),n=0,a=e.length;a>n;n++)s={action:t,context:i||this},l=e[n],p?(c=l+"_idx",u=c+"_len",d=h[c]=h[c]||{},d[p]||(d[p]=[],h[u]=(h[u]||0)+1),d[p].push(s)):(h[l]=h[l]||[],h[l].push(s));return this},hasEventListeners:function(e){var t=this[o];return!!t&&(e in t&&t[e].length>0||e+"_idx"in t&&t[e+"_idx_len"]>0)},removeEventListener:function(e,t,i){if(!this[o])return this;if(!e)return this.clearAllEventListeners();if(r.Util.invokeEach(e,this.removeEventListener,this,t,i))return this;var n,a,s,l,c,u,d,h,p,f=this[o],m=i&&i!==this&&r.stamp(i);for(e=r.Util.splitWords(e),n=0,a=e.length;a>n;n++)if(s=e[n],u=s+"_idx",d=u+"_len",h=f[u],t){if(l=m&&h?h[m]:f[s]){for(c=l.length-1;c>=0;c--)l[c].action!==t||i&&l[c].context!==i||(p=l.splice(c,1),p[0].action=r.Util.falseFn);i&&h&&0===l.length&&(delete h[m],f[d]--)}}else delete f[s],delete f[u],delete f[d];return this},clearAllEventListeners:function(){return delete this[o],this},fireEvent:function(e,t){if(!this.hasEventListeners(e))return this;var i,n,a,s,l,c=r.Util.extend({},t,{type:e,target:this}),u=this[o];if(u[e])for(i=u[e].slice(),n=0,a=i.length;a>n;n++)i[n].action.call(i[n].context,c);s=u[e+"_idx"];for(l in s)if(i=s[l].slice())for(n=0,a=i.length;a>n;n++)i[n].action.call(i[n].context,c);return this},addOneTimeEventListener:function(e,t,i){if(r.Util.invokeEach(e,this.addOneTimeEventListener,this,t,i))return this;var n=r.bind(function(){this.removeEventListener(e,t,i).removeEventListener(e,n,i)},this);return this.addEventListener(e,t,i).addEventListener(e,n,i)}},r.Mixin.Events.on=r.Mixin.Events.addEventListener,r.Mixin.Events.off=r.Mixin.Events.removeEventListener,r.Mixin.Events.once=r.Mixin.Events.addOneTimeEventListener,r.Mixin.Events.fire=r.Mixin.Events.fireEvent,function(){var n="ActiveXObject"in e,o=n&&!t.addEventListener,a=navigator.userAgent.toLowerCase(),s=-1!==a.indexOf("webkit"),l=-1!==a.indexOf("chrome"),c=-1!==a.indexOf("phantom"),u=-1!==a.indexOf("android"),d=-1!==a.search("android [23]"),h=-1!==a.indexOf("gecko"),p=typeof orientation!=i+"",f=!e.PointerEvent&&e.MSPointerEvent,m=e.PointerEvent&&e.navigator.pointerEnabled||f,g="devicePixelRatio"in e&&e.devicePixelRatio>1||"matchMedia"in e&&e.matchMedia("(min-resolution:144dpi)")&&e.matchMedia("(min-resolution:144dpi)").matches,v=t.documentElement,y=n&&"transition"in v.style,b="WebKitCSSMatrix"in e&&"m11"in new e.WebKitCSSMatrix&&!d,_="MozPerspective"in v.style,w="OTransition"in v.style,x=!e.L_DISABLE_3D&&(y||b||_||w)&&!c,E=!e.L_NO_TOUCH&&!c&&(m||"ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch);r.Browser={ie:n,ielt9:o,webkit:s,gecko:h&&!s&&!e.opera&&!n,android:u,android23:d,chrome:l,ie3d:y,webkit3d:b,gecko3d:_,opera3d:w,any3d:x,mobile:p,mobileWebkit:p&&s,mobileWebkit3d:p&&b,mobileOpera:p&&e.opera,touch:E,msPointer:f,pointer:m,retina:g}}(),r.Point=function(e,t,i){this.x=i?Math.round(e):e,this.y=i?Math.round(t):t},r.Point.prototype={clone:function(){return new r.Point(this.x,this.y)},add:function(e){return this.clone()._add(r.point(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(r.point(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},distanceTo:function(e){e=r.point(e);var t=e.x-this.x,i=e.y-this.y;return Math.sqrt(t*t+i*i)},equals:function(e){return e=r.point(e),e.x===this.x&&e.y===this.y},contains:function(e){return e=r.point(e),
Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+r.Util.formatNum(this.x)+", "+r.Util.formatNum(this.y)+")"}},r.point=function(e,t,n){return e instanceof r.Point?e:r.Util.isArray(e)?new r.Point(e[0],e[1]):e===i||null===e?e:new r.Point(e,t,n)},r.Bounds=function(e,t){if(e)for(var i=t?[e,t]:e,n=0,r=i.length;r>n;n++)this.extend(i[n])},r.Bounds.prototype={extend:function(e){return e=r.point(e),this.min||this.max?(this.min.x=Math.min(e.x,this.min.x),this.max.x=Math.max(e.x,this.max.x),this.min.y=Math.min(e.y,this.min.y),this.max.y=Math.max(e.y,this.max.y)):(this.min=e.clone(),this.max=e.clone()),this},getCenter:function(e){return new r.Point((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return new r.Point(this.min.x,this.max.y)},getTopRight:function(){return new r.Point(this.max.x,this.min.y)},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var t,i;return e="number"==typeof e[0]||e instanceof r.Point?r.point(e):r.bounds(e),e instanceof r.Bounds?(t=e.min,i=e.max):t=i=e,t.x>=this.min.x&&i.x<=this.max.x&&t.y>=this.min.y&&i.y<=this.max.y},intersects:function(e){e=r.bounds(e);var t=this.min,i=this.max,n=e.min,o=e.max,a=o.x>=t.x&&n.x<=i.x,s=o.y>=t.y&&n.y<=i.y;return a&&s},isValid:function(){return!(!this.min||!this.max)}},r.bounds=function(e,t){return!e||e instanceof r.Bounds?e:new r.Bounds(e,t)},r.Transformation=function(e,t,i,n){this._a=e,this._b=t,this._c=i,this._d=n},r.Transformation.prototype={transform:function(e,t){return this._transform(e.clone(),t)},_transform:function(e,t){return t=t||1,e.x=t*(this._a*e.x+this._b),e.y=t*(this._c*e.y+this._d),e},untransform:function(e,t){return t=t||1,new r.Point((e.x/t-this._b)/this._a,(e.y/t-this._d)/this._c)}},r.DomUtil={get:function(e){return"string"==typeof e?t.getElementById(e):e},getStyle:function(e,i){var n=e.style[i];if(!n&&e.currentStyle&&(n=e.currentStyle[i]),(!n||"auto"===n)&&t.defaultView){var r=t.defaultView.getComputedStyle(e,null);n=r?r[i]:null}return"auto"===n?null:n},getViewportOffset:function(e){var i,n=0,o=0,a=e,s=t.body,l=t.documentElement;do{if(n+=a.offsetTop||0,o+=a.offsetLeft||0,n+=parseInt(r.DomUtil.getStyle(a,"borderTopWidth"),10)||0,o+=parseInt(r.DomUtil.getStyle(a,"borderLeftWidth"),10)||0,i=r.DomUtil.getStyle(a,"position"),a.offsetParent===s&&"absolute"===i)break;if("fixed"===i){n+=s.scrollTop||l.scrollTop||0,o+=s.scrollLeft||l.scrollLeft||0;break}if("relative"===i&&!a.offsetLeft){var c=r.DomUtil.getStyle(a,"width"),u=r.DomUtil.getStyle(a,"max-width"),d=a.getBoundingClientRect();("none"!==c||"none"!==u)&&(o+=d.left+a.clientLeft),n+=d.top+(s.scrollTop||l.scrollTop||0);break}a=a.offsetParent}while(a);a=e;do{if(a===s)break;n-=a.scrollTop||0,o-=a.scrollLeft||0,a=a.parentNode}while(a);return new r.Point(o,n)},documentIsLtr:function(){return r.DomUtil._docIsLtrCached||(r.DomUtil._docIsLtrCached=!0,r.DomUtil._docIsLtr="ltr"===r.DomUtil.getStyle(t.body,"direction")),r.DomUtil._docIsLtr},create:function(e,i,n){var r=t.createElement(e);return r.className=i,n&&n.appendChild(r),r},hasClass:function(e,t){if(e.classList!==i)return e.classList.contains(t);var n=r.DomUtil._getClass(e);return n.length>0&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(n)},addClass:function(e,t){if(e.classList!==i)for(var n=r.Util.splitWords(t),o=0,a=n.length;a>o;o++)e.classList.add(n[o]);else if(!r.DomUtil.hasClass(e,t)){var s=r.DomUtil._getClass(e);r.DomUtil._setClass(e,(s?s+" ":"")+t)}},removeClass:function(e,t){e.classList!==i?e.classList.remove(t):r.DomUtil._setClass(e,r.Util.trim((" "+r.DomUtil._getClass(e)+" ").replace(" "+t+" "," ")))},_setClass:function(e,t){e.className.baseVal===i?e.className=t:e.className.baseVal=t},_getClass:function(e){return e.className.baseVal===i?e.className:e.className.baseVal},setOpacity:function(e,t){if("opacity"in e.style)e.style.opacity=t;else if("filter"in e.style){var i=!1,n="DXImageTransform.Microsoft.Alpha";try{i=e.filters.item(n)}catch(e){if(1===t)return}t=Math.round(100*t),i?(i.Enabled=100!==t,i.Opacity=t):e.style.filter+=" progid:"+n+"(opacity="+t+")"}},testProp:function(e){for(var i=t.documentElement.style,n=0;n<e.length;n++)if(e[n]in i)return e[n];return!1},getTranslateString:function(e){var t=r.Browser.webkit3d,i="translate"+(t?"3d":"")+"(",n=(t?",0":"")+")";return i+e.x+"px,"+e.y+"px"+n},getScaleString:function(e,t){var i=r.DomUtil.getTranslateString(t.add(t.multiplyBy(-1*e))),n=" scale("+e+") ";return i+n},setPosition:function(e,t,i){e._leaflet_pos=t,!i&&r.Browser.any3d?e.style[r.DomUtil.TRANSFORM]=r.DomUtil.getTranslateString(t):(e.style.left=t.x+"px",e.style.top=t.y+"px")},getPosition:function(e){return e._leaflet_pos}},r.DomUtil.TRANSFORM=r.DomUtil.testProp(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]),r.DomUtil.TRANSITION=r.DomUtil.testProp(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),r.DomUtil.TRANSITION_END="webkitTransition"===r.DomUtil.TRANSITION||"OTransition"===r.DomUtil.TRANSITION?r.DomUtil.TRANSITION+"End":"transitionend",function(){if("onselectstart"in t)r.extend(r.DomUtil,{disableTextSelection:function(){r.DomEvent.on(e,"selectstart",r.DomEvent.preventDefault)},enableTextSelection:function(){r.DomEvent.off(e,"selectstart",r.DomEvent.preventDefault)}});else{var i=r.DomUtil.testProp(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);r.extend(r.DomUtil,{disableTextSelection:function(){if(i){var e=t.documentElement.style;this._userSelect=e[i],e[i]="none"}},enableTextSelection:function(){i&&(t.documentElement.style[i]=this._userSelect,delete this._userSelect)}})}r.extend(r.DomUtil,{disableImageDrag:function(){r.DomEvent.on(e,"dragstart",r.DomEvent.preventDefault)},enableImageDrag:function(){r.DomEvent.off(e,"dragstart",r.DomEvent.preventDefault)}})}(),r.LatLng=function(e,t,n){if(e=parseFloat(e),t=parseFloat(t),isNaN(e)||isNaN(t))throw new Error("Invalid LatLng object: ("+e+", "+t+")");this.lat=e,this.lng=t,n!==i&&(this.alt=parseFloat(n))},r.extend(r.LatLng,{DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,MAX_MARGIN:1e-9}),r.LatLng.prototype={equals:function(e){if(!e)return!1;e=r.latLng(e);var t=Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng));return t<=r.LatLng.MAX_MARGIN},toString:function(e){return"LatLng("+r.Util.formatNum(this.lat,e)+", "+r.Util.formatNum(this.lng,e)+")"},distanceTo:function(e){e=r.latLng(e);var t=6378137,i=r.LatLng.DEG_TO_RAD,n=(e.lat-this.lat)*i,o=(e.lng-this.lng)*i,a=this.lat*i,s=e.lat*i,l=Math.sin(n/2),c=Math.sin(o/2),u=l*l+c*c*Math.cos(a)*Math.cos(s);return 2*t*Math.atan2(Math.sqrt(u),Math.sqrt(1-u))},wrap:function(e,t){var i=this.lng;return e=e||-180,t=t||180,i=(i+t)%(t-e)+(e>i||i===t?t:e),new r.LatLng(this.lat,i)}},r.latLng=function(e,t){return e instanceof r.LatLng?e:r.Util.isArray(e)?"number"==typeof e[0]||"string"==typeof e[0]?new r.LatLng(e[0],e[1],e[2]):null:e===i||null===e?e:"object"==typeof e&&"lat"in e?new r.LatLng(e.lat,"lng"in e?e.lng:e.lon):t===i?null:new r.LatLng(e,t)},r.LatLngBounds=function(e,t){if(e)for(var i=t?[e,t]:e,n=0,r=i.length;r>n;n++)this.extend(i[n])},r.LatLngBounds.prototype={extend:function(e){if(!e)return this;var t=r.latLng(e);return e=null!==t?t:r.latLngBounds(e),e instanceof r.LatLng?this._southWest||this._northEast?(this._southWest.lat=Math.min(e.lat,this._southWest.lat),this._southWest.lng=Math.min(e.lng,this._southWest.lng),this._northEast.lat=Math.max(e.lat,this._northEast.lat),this._northEast.lng=Math.max(e.lng,this._northEast.lng)):(this._southWest=new r.LatLng(e.lat,e.lng),this._northEast=new r.LatLng(e.lat,e.lng)):e instanceof r.LatLngBounds&&(this.extend(e._southWest),this.extend(e._northEast)),this},pad:function(e){var t=this._southWest,i=this._northEast,n=Math.abs(t.lat-i.lat)*e,o=Math.abs(t.lng-i.lng)*e;return new r.LatLngBounds(new r.LatLng(t.lat-n,t.lng-o),new r.LatLng(i.lat+n,i.lng+o))},getCenter:function(){return new r.LatLng((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new r.LatLng(this.getNorth(),this.getWest())},getSouthEast:function(){return new r.LatLng(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){e="number"==typeof e[0]||e instanceof r.LatLng?r.latLng(e):r.latLngBounds(e);var t,i,n=this._southWest,o=this._northEast;return e instanceof r.LatLngBounds?(t=e.getSouthWest(),i=e.getNorthEast()):t=i=e,t.lat>=n.lat&&i.lat<=o.lat&&t.lng>=n.lng&&i.lng<=o.lng},intersects:function(e){e=r.latLngBounds(e);var t=this._southWest,i=this._northEast,n=e.getSouthWest(),o=e.getNorthEast(),a=o.lat>=t.lat&&n.lat<=i.lat,s=o.lng>=t.lng&&n.lng<=i.lng;return a&&s},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e){return!!e&&(e=r.latLngBounds(e),this._southWest.equals(e.getSouthWest())&&this._northEast.equals(e.getNorthEast()))},isValid:function(){return!(!this._southWest||!this._northEast)}},r.latLngBounds=function(e,t){return!e||e instanceof r.LatLngBounds?e:new r.LatLngBounds(e,t)},r.Projection={},r.Projection.SphericalMercator={MAX_LATITUDE:85.0511287798,project:function(e){var t=r.LatLng.DEG_TO_RAD,i=this.MAX_LATITUDE,n=Math.max(Math.min(i,e.lat),-i),o=e.lng*t,a=n*t;return a=Math.log(Math.tan(Math.PI/4+a/2)),new r.Point(o,a)},unproject:function(e){var t=r.LatLng.RAD_TO_DEG,i=e.x*t,n=(2*Math.atan(Math.exp(e.y))-Math.PI/2)*t;return new r.LatLng(n,i)}},r.Projection.LonLat={project:function(e){return new r.Point(e.lng,e.lat)},unproject:function(e){return new r.LatLng(e.y,e.x)}},r.CRS={latLngToPoint:function(e,t){var i=this.projection.project(e),n=this.scale(t);return this.transformation._transform(i,n)},pointToLatLng:function(e,t){var i=this.scale(t),n=this.transformation.untransform(e,i);return this.projection.unproject(n)},project:function(e){return this.projection.project(e)},scale:function(e){return 256*Math.pow(2,e)},getSize:function(e){var t=this.scale(e);return r.point(t,t)}},r.CRS.Simple=r.extend({},r.CRS,{projection:r.Projection.LonLat,transformation:new r.Transformation(1,0,(-1),0),scale:function(e){return Math.pow(2,e)}}),r.CRS.EPSG3857=r.extend({},r.CRS,{code:"EPSG:3857",projection:r.Projection.SphericalMercator,transformation:new r.Transformation(.5/Math.PI,.5,-.5/Math.PI,.5),project:function(e){var t=this.projection.project(e),i=6378137;return t.multiplyBy(i)}}),r.CRS.EPSG900913=r.extend({},r.CRS.EPSG3857,{code:"EPSG:900913"}),r.CRS.EPSG4326=r.extend({},r.CRS,{code:"EPSG:4326",projection:r.Projection.LonLat,transformation:new r.Transformation(1/360,.5,-1/360,.5)}),r.Map=r.Class.extend({includes:r.Mixin.Events,options:{crs:r.CRS.EPSG3857,fadeAnimation:r.DomUtil.TRANSITION&&!r.Browser.android23,trackResize:!0,markerZoomAnimation:r.DomUtil.TRANSITION&&r.Browser.any3d},initialize:function(e,t){t=r.setOptions(this,t),this._initContainer(e),this._initLayout(),this._onResize=r.bind(this._onResize,this),this._initEvents(),t.maxBounds&&this.setMaxBounds(t.maxBounds),t.center&&t.zoom!==i&&this.setView(r.latLng(t.center),t.zoom,{reset:!0}),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._tileLayersNum=0,this.callInitHooks(),this._addLayers(t.layers)},setView:function(e,t){return t=t===i?this.getZoom():t,this._resetView(r.latLng(e),this._limitZoom(t)),this},setZoom:function(e,t){return this._loaded?this.setView(this.getCenter(),e,{zoom:t}):(this._zoom=this._limitZoom(e),this)},zoomIn:function(e,t){return this.setZoom(this._zoom+(e||1),t)},zoomOut:function(e,t){return this.setZoom(this._zoom-(e||1),t)},setZoomAround:function(e,t,i){var n=this.getZoomScale(t),o=this.getSize().divideBy(2),a=e instanceof r.Point?e:this.latLngToContainerPoint(e),s=a.subtract(o).multiplyBy(1-1/n),l=this.containerPointToLatLng(o.add(s));return this.setView(l,t,{zoom:i})},fitBounds:function(e,t){t=t||{},e=e.getBounds?e.getBounds():r.latLngBounds(e);var i=r.point(t.paddingTopLeft||t.padding||[0,0]),n=r.point(t.paddingBottomRight||t.padding||[0,0]),o=this.getBoundsZoom(e,!1,i.add(n));o=t.maxZoom?Math.min(t.maxZoom,o):o;var a=n.subtract(i).divideBy(2),s=this.project(e.getSouthWest(),o),l=this.project(e.getNorthEast(),o),c=this.unproject(s.add(l).divideBy(2).add(a),o);return this.setView(c,o,t)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,t){return this.setView(e,this._zoom,{pan:t})},panBy:function(e){return this.fire("movestart"),this._rawPanBy(r.point(e)),this.fire("move"),this.fire("moveend")},setMaxBounds:function(e){return e=r.latLngBounds(e),this.options.maxBounds=e,e?(this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds,this)):this.off("moveend",this._panInsideMaxBounds,this)},panInsideBounds:function(e,t){var i=this.getCenter(),n=this._limitCenter(i,this._zoom,e);return i.equals(n)?this:this.panTo(n,t)},addLayer:function(e){var t=r.stamp(e);return this._layers[t]?this:(this._layers[t]=e,!e.options||isNaN(e.options.maxZoom)&&isNaN(e.options.minZoom)||(this._zoomBoundLayers[t]=e,this._updateZoomLevels()),this.options.zoomAnimation&&r.TileLayer&&e instanceof r.TileLayer&&(this._tileLayersNum++,this._tileLayersToLoad++,e.on("load",this._onTileLayerLoad,this)),this._loaded&&this._layerAdd(e),this)},removeLayer:function(e){var t=r.stamp(e);return this._layers[t]?(this._loaded&&e.onRemove(this),delete this._layers[t],this._loaded&&this.fire("layerremove",{layer:e}),this._zoomBoundLayers[t]&&(delete this._zoomBoundLayers[t],this._updateZoomLevels()),this.options.zoomAnimation&&r.TileLayer&&e instanceof r.TileLayer&&(this._tileLayersNum--,this._tileLayersToLoad--,e.off("load",this._onTileLayerLoad,this)),this):this},hasLayer:function(e){return!!e&&r.stamp(e)in this._layers},eachLayer:function(e,t){for(var i in this._layers)e.call(t,this._layers[i]);return this},invalidateSize:function(e){if(!this._loaded)return this;e=r.extend({animate:!1,pan:!0},e===!0?{animate:!0}:e);var t=this.getSize();this._sizeChanged=!0,this._initialCenter=null;var i=this.getSize(),n=t.divideBy(2).round(),o=i.divideBy(2).round(),a=n.subtract(o);return a.x||a.y?(e.animate&&e.pan?this.panBy(a):(e.pan&&this._rawPanBy(a),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(r.bind(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:t,newSize:i})):this},addHandler:function(e,t){if(!t)return this;var i=this[e]=new t(this);return this._handlers.push(i),this.options[e]&&i.enable(),this},remove:function(){this._loaded&&this.fire("unload"),this._initEvents("off");try{delete this._container._leaflet}catch(e){this._container._leaflet=i}return this._clearPanes(),this._clearControlPos&&this._clearControlPos(),this._clearHandlers(),this},getCenter:function(){return this._checkIfLoaded(),this._initialCenter&&!this._moved()?this._initialCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds(),t=this.unproject(e.getBottomLeft()),i=this.unproject(e.getTopRight());return new r.LatLngBounds(t,i)},getMinZoom:function(){return this.options.minZoom===i?this._layersMinZoom===i?0:this._layersMinZoom:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===i?this._layersMaxZoom===i?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,t,i){e=r.latLngBounds(e);var n,o=this.getMinZoom()-(t?1:0),a=this.getMaxZoom(),s=this.getSize(),l=e.getNorthWest(),c=e.getSouthEast(),u=!0;i=r.point(i||[0,0]);do o++,n=this.project(c,o).subtract(this.project(l,o)).add(i),u=t?n.x<s.x||n.y<s.y:s.contains(n);while(u&&a>=o);return u&&t?null:t?o:o-1},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new r.Point(this._container.clientWidth,this._container.clientHeight),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(){var e=this._getTopLeftPoint();return new r.Bounds(e,e.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._initialTopLeftPoint},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e){var t=this.options.crs;return t.scale(e)/t.scale(this._zoom)},getScaleZoom:function(e){return this._zoom+Math.log(e)/Math.LN2},project:function(e,t){return t=t===i?this._zoom:t,this.options.crs.latLngToPoint(r.latLng(e),t)},unproject:function(e,t){return t=t===i?this._zoom:t,this.options.crs.pointToLatLng(r.point(e),t)},layerPointToLatLng:function(e){var t=r.point(e).add(this.getPixelOrigin());return this.unproject(t)},latLngToLayerPoint:function(e){var t=this.project(r.latLng(e))._round();return t._subtract(this.getPixelOrigin())},containerPointToLayerPoint:function(e){return r.point(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return r.point(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var t=this.containerPointToLayerPoint(r.point(e));return this.layerPointToLatLng(t)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(r.latLng(e)))},mouseEventToContainerPoint:function(e){return r.DomEvent.getMousePosition(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var t=this._container=r.DomUtil.get(e);if(!t)throw new Error("Map container not found.");if(t._leaflet)throw new Error("Map container is already initialized.");t._leaflet=!0},_initLayout:function(){var e=this._container;r.DomUtil.addClass(e,"leaflet-container"+(r.Browser.touch?" leaflet-touch":"")+(r.Browser.retina?" leaflet-retina":"")+(r.Browser.ielt9?" leaflet-oldie":"")+(this.options.fadeAnimation?" leaflet-fade-anim":""));var t=r.DomUtil.getStyle(e,"position");"absolute"!==t&&"relative"!==t&&"fixed"!==t&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._mapPane=e.mapPane=this._createPane("leaflet-map-pane",this._container),this._tilePane=e.tilePane=this._createPane("leaflet-tile-pane",this._mapPane),e.objectsPane=this._createPane("leaflet-objects-pane",this._mapPane),e.shadowPane=this._createPane("leaflet-shadow-pane"),e.overlayPane=this._createPane("leaflet-overlay-pane"),e.markerPane=this._createPane("leaflet-marker-pane"),e.popupPane=this._createPane("leaflet-popup-pane");var t=" leaflet-zoom-hide";this.options.markerZoomAnimation||(r.DomUtil.addClass(e.markerPane,t),r.DomUtil.addClass(e.shadowPane,t),r.DomUtil.addClass(e.popupPane,t))},_createPane:function(e,t){return r.DomUtil.create("div",e,t||this._panes.objectsPane)},_clearPanes:function(){this._container.removeChild(this._mapPane)},_addLayers:function(e){e=e?r.Util.isArray(e)?e:[e]:[];for(var t=0,i=e.length;i>t;t++)this.addLayer(e[t])},_resetView:function(e,t,i,n){var o=this._zoom!==t;n||(this.fire("movestart"),o&&this.fire("zoomstart")),this._zoom=t,this._initialCenter=e,this._initialTopLeftPoint=this._getNewTopLeftPoint(e),i?this._initialTopLeftPoint._add(this._getMapPanePos()):r.DomUtil.setPosition(this._mapPane,new r.Point(0,0)),this._tileLayersToLoad=this._tileLayersNum;var a=!this._loaded;this._loaded=!0,this.fire("viewreset",{hard:!i}),a&&(this.fire("load"),this.eachLayer(this._layerAdd,this)),this.fire("move"),(o||n)&&this.fire("zoomend"),this.fire("moveend",{hard:!i})},_rawPanBy:function(e){r.DomUtil.setPosition(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_updateZoomLevels:function(){var e,t=1/0,n=-(1/0),r=this._getZoomSpan();for(e in this._zoomBoundLayers){var o=this._zoomBoundLayers[e];isNaN(o.options.minZoom)||(t=Math.min(t,o.options.minZoom)),isNaN(o.options.maxZoom)||(n=Math.max(n,o.options.maxZoom))}e===i?this._layersMaxZoom=this._layersMinZoom=i:(this._layersMaxZoom=n,this._layersMinZoom=t),r!==this._getZoomSpan()&&this.fire("zoomlevelschange")},_panInsideMaxBounds:function(){this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){if(r.DomEvent){t=t||"on",r.DomEvent[t](this._container,"click",this._onMouseClick,this);var i,n,o=["dblclick","mousedown","mouseup","mouseenter","mouseleave","mousemove","contextmenu"];for(i=0,n=o.length;n>i;i++)r.DomEvent[t](this._container,o[i],this._fireMouseEvent,this);this.options.trackResize&&r.DomEvent[t](e,"resize",this._onResize,this)}},_onResize:function(){r.Util.cancelAnimFrame(this._resizeRequest),this._resizeRequest=r.Util.requestAnimFrame(function(){this.invalidateSize({debounceMoveend:!0})},this,!1,this._container)},_onMouseClick:function(e){!this._loaded||!e._simulated&&(this.dragging&&this.dragging.moved()||this.boxZoom&&this.boxZoom.moved())||r.DomEvent._skipped(e)||(this.fire("preclick"),this._fireMouseEvent(e))},_fireMouseEvent:function(e){if(this._loaded&&!r.DomEvent._skipped(e)){var t=e.type;if(t="mouseenter"===t?"mouseover":"mouseleave"===t?"mouseout":t,this.hasEventListeners(t)){"contextmenu"===t&&r.DomEvent.preventDefault(e);var i=this.mouseEventToContainerPoint(e),n=this.containerPointToLayerPoint(i),o=this.layerPointToLatLng(n);this.fire(t,{latlng:o,layerPoint:n,containerPoint:i,originalEvent:e})}}},_onTileLayerLoad:function(){this._tileLayersToLoad--,this._tileLayersNum&&!this._tileLayersToLoad&&this.fire("tilelayersload")},_clearHandlers:function(){for(var e=0,t=this._handlers.length;t>e;e++)this._handlers[e].disable()},whenReady:function(e,t){return this._loaded?e.call(t||this,this):this.on("load",e,t),this},_layerAdd:function(e){e.onAdd(this),this.fire("layeradd",{layer:e})},_getMapPanePos:function(){return r.DomUtil.getPosition(this._mapPane)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(){return this.getPixelOrigin().subtract(this._getMapPanePos())},_getNewTopLeftPoint:function(e,t){var i=this.getSize()._divideBy(2);return this.project(e,t)._subtract(i)._round()},_latLngToNewLayerPoint:function(e,t,i){var n=this._getNewTopLeftPoint(i,t).add(this._getMapPanePos());return this.project(e,t)._subtract(n)},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,t,i){if(!i)return e;var n=this.project(e,t),o=this.getSize().divideBy(2),a=new r.Bounds(n.subtract(o),n.add(o)),s=this._getBoundsOffset(a,i,t);return this.unproject(n.add(s),t)},_limitOffset:function(e,t){if(!t)return e;var i=this.getPixelBounds(),n=new r.Bounds(i.min.add(e),i.max.add(e));return e.add(this._getBoundsOffset(n,t))},_getBoundsOffset:function(e,t,i){var n=this.project(t.getNorthWest(),i).subtract(e.min),o=this.project(t.getSouthEast(),i).subtract(e.max),a=this._rebound(n.x,-o.x),s=this._rebound(n.y,-o.y);return new r.Point(a,s)},_rebound:function(e,t){return e+t>0?Math.round(e-t)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(t))},_limitZoom:function(e){var t=this.getMinZoom(),i=this.getMaxZoom();return Math.max(t,Math.min(i,e))}}),r.map=function(e,t){return new r.Map(e,t)},r.Projection.Mercator={MAX_LATITUDE:85.0840591556,R_MINOR:6356752.314245179,R_MAJOR:6378137,project:function(e){var t=r.LatLng.DEG_TO_RAD,i=this.MAX_LATITUDE,n=Math.max(Math.min(i,e.lat),-i),o=this.R_MAJOR,a=this.R_MINOR,s=e.lng*t*o,l=n*t,c=a/o,u=Math.sqrt(1-c*c),d=u*Math.sin(l);d=Math.pow((1-d)/(1+d),.5*u);var h=Math.tan(.5*(.5*Math.PI-l))/d;return l=-o*Math.log(h),new r.Point(s,l)},unproject:function(e){for(var t,i=r.LatLng.RAD_TO_DEG,n=this.R_MAJOR,o=this.R_MINOR,a=e.x*i/n,s=o/n,l=Math.sqrt(1-s*s),c=Math.exp(-e.y/n),u=Math.PI/2-2*Math.atan(c),d=15,h=1e-7,p=d,f=.1;Math.abs(f)>h&&--p>0;)t=l*Math.sin(u),f=Math.PI/2-2*Math.atan(c*Math.pow((1-t)/(1+t),.5*l))-u,u+=f;return new r.LatLng(u*i,a)}},r.CRS.EPSG3395=r.extend({},r.CRS,{code:"EPSG:3395",projection:r.Projection.Mercator,transformation:function(){var e=r.Projection.Mercator,t=e.R_MAJOR,i=.5/(Math.PI*t);return new r.Transformation(i,.5,(-i),.5)}()}),r.TileLayer=r.Class.extend({includes:r.Mixin.Events,options:{minZoom:0,maxZoom:18,tileSize:256,subdomains:"abc",errorTileUrl:"",attribution:"",zoomOffset:0,opacity:1,unloadInvisibleTiles:r.Browser.mobile,updateWhenIdle:r.Browser.mobile},initialize:function(e,t){t=r.setOptions(this,t),t.detectRetina&&r.Browser.retina&&t.maxZoom>0&&(t.tileSize=Math.floor(t.tileSize/2),t.zoomOffset++,t.minZoom>0&&t.minZoom--,this.options.maxZoom--),t.bounds&&(t.bounds=r.latLngBounds(t.bounds)),this._url=e;var i=this.options.subdomains;"string"==typeof i&&(this.options.subdomains=i.split(""))},onAdd:function(e){this._map=e,this._animated=e._zoomAnimated,this._initContainer(),e.on({viewreset:this._reset,moveend:this._update},this),this._animated&&e.on({zoomanim:this._animateZoom,zoomend:this._endZoomAnim},this),this.options.updateWhenIdle||(this._limitedUpdate=r.Util.limitExecByInterval(this._update,150,this),e.on("move",this._limitedUpdate,this)),this._reset(),this._update()},addTo:function(e){return e.addLayer(this),this},onRemove:function(e){this._container.parentNode.removeChild(this._container),e.off({viewreset:this._reset,moveend:this._update},this),this._animated&&e.off({zoomanim:this._animateZoom,zoomend:this._endZoomAnim},this),this.options.updateWhenIdle||e.off("move",this._limitedUpdate,this),this._container=null,this._map=null},bringToFront:function(){var e=this._map._panes.tilePane;return this._container&&(e.appendChild(this._container),this._setAutoZIndex(e,Math.max)),this},bringToBack:function(){var e=this._map._panes.tilePane;return this._container&&(e.insertBefore(this._container,e.firstChild),this._setAutoZIndex(e,Math.min)),this},getAttribution:function(){return this.options.attribution},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},setUrl:function(e,t){return this._url=e,t||this.redraw(),this},redraw:function(){return this._map&&(this._reset({hard:!0}),this._update()),this},_updateZIndex:function(){this._container&&this.options.zIndex!==i&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e,t){var i,n,r,o=e.children,a=-t(1/0,-(1/0));for(n=0,r=o.length;r>n;n++)o[n]!==this._container&&(i=parseInt(o[n].style.zIndex,10),isNaN(i)||(a=t(a,i)));this.options.zIndex=this._container.style.zIndex=(isFinite(a)?a:0)+t(1,-1)},_updateOpacity:function(){var e,t=this._tiles;if(r.Browser.ielt9)for(e in t)r.DomUtil.setOpacity(t[e],this.options.opacity);else r.DomUtil.setOpacity(this._container,this.options.opacity)},_initContainer:function(){var e=this._map._panes.tilePane;if(!this._container){if(this._container=r.DomUtil.create("div","leaflet-layer"),this._updateZIndex(),this._animated){var t="leaflet-tile-container";this._bgBuffer=r.DomUtil.create("div",t,this._container),this._tileContainer=r.DomUtil.create("div",t,this._container)}else this._tileContainer=this._container;e.appendChild(this._container),this.options.opacity<1&&this._updateOpacity()}},_reset:function(e){for(var t in this._tiles)this.fire("tileunload",{tile:this._tiles[t]});this._tiles={},this._tilesToLoad=0,this.options.reuseTiles&&(this._unusedTiles=[]),this._tileContainer.innerHTML="",this._animated&&e&&e.hard&&this._clearBgBuffer(),this._initContainer()},_getTileSize:function(){var e=this._map,t=e.getZoom()+this.options.zoomOffset,i=this.options.maxNativeZoom,n=this.options.tileSize;return i&&t>i&&(n=Math.round(e.getZoomScale(t)/e.getZoomScale(i)*n)),n},_update:function(){if(this._map){var e=this._map,t=e.getPixelBounds(),i=e.getZoom(),n=this._getTileSize();if(!(i>this.options.maxZoom||i<this.options.minZoom)){var o=r.bounds(t.min.divideBy(n)._floor(),t.max.divideBy(n)._floor());this._addTilesFromCenterOut(o),(this.options.unloadInvisibleTiles||this.options.reuseTiles)&&this._removeOtherTiles(o)}}},_addTilesFromCenterOut:function(e){var i,n,o,a=[],s=e.getCenter();for(i=e.min.y;i<=e.max.y;i++)for(n=e.min.x;n<=e.max.x;n++)o=new r.Point(n,i),this._tileShouldBeLoaded(o)&&a.push(o);var l=a.length;if(0!==l){a.sort(function(e,t){return e.distanceTo(s)-t.distanceTo(s)});var c=t.createDocumentFragment();for(this._tilesToLoad||this.fire("loading"),this._tilesToLoad+=l,n=0;l>n;n++)this._addTile(a[n],c);this._tileContainer.appendChild(c)}},_tileShouldBeLoaded:function(e){if(e.x+":"+e.y in this._tiles)return!1;var t=this.options;if(!t.continuousWorld){var i=this._getWrapTileNum();if(t.noWrap&&(e.x<0||e.x>=i.x)||e.y<0||e.y>=i.y)return!1}if(t.bounds){var n=this._getTileSize(),r=e.multiplyBy(n),o=r.add([n,n]),a=this._map.unproject(r),s=this._map.unproject(o);if(t.continuousWorld||t.noWrap||(a=a.wrap(),s=s.wrap()),!t.bounds.intersects([a,s]))return!1}return!0},_removeOtherTiles:function(e){var t,i,n,r;for(r in this._tiles)t=r.split(":"),i=parseInt(t[0],10),n=parseInt(t[1],10),(i<e.min.x||i>e.max.x||n<e.min.y||n>e.max.y)&&this._removeTile(r)},_removeTile:function(e){var t=this._tiles[e];this.fire("tileunload",{tile:t,url:t.src}),this.options.reuseTiles?(r.DomUtil.removeClass(t,"leaflet-tile-loaded"),this._unusedTiles.push(t)):t.parentNode===this._tileContainer&&this._tileContainer.removeChild(t),r.Browser.android||(t.onload=null,t.src=r.Util.emptyImageUrl),delete this._tiles[e]},_addTile:function(e,t){var i=this._getTilePos(e),n=this._getTile();r.DomUtil.setPosition(n,i,r.Browser.chrome),this._tiles[e.x+":"+e.y]=n,this._loadTile(n,e),n.parentNode!==this._tileContainer&&t.appendChild(n)},_getZoomForUrl:function(){var e=this.options,t=this._map.getZoom();return e.zoomReverse&&(t=e.maxZoom-t),t+=e.zoomOffset,e.maxNativeZoom?Math.min(t,e.maxNativeZoom):t},_getTilePos:function(e){var t=this._map.getPixelOrigin(),i=this._getTileSize();return e.multiplyBy(i).subtract(t)},getTileUrl:function(e){return r.Util.template(this._url,r.extend({s:this._getSubdomain(e),z:e.z,x:e.x,y:e.y},this.options))},_getWrapTileNum:function(){var e=this._map.options.crs,t=e.getSize(this._map.getZoom());return t.divideBy(this._getTileSize())._floor()},_adjustTilePoint:function(e){var t=this._getWrapTileNum();this.options.continuousWorld||this.options.noWrap||(e.x=(e.x%t.x+t.x)%t.x),this.options.tms&&(e.y=t.y-e.y-1),e.z=this._getZoomForUrl()},_getSubdomain:function(e){var t=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[t]},_getTile:function(){if(this.options.reuseTiles&&this._unusedTiles.length>0){var e=this._unusedTiles.pop();return this._resetTile(e),e}return this._createTile()},_resetTile:function(){},_createTile:function(){var e=r.DomUtil.create("img","leaflet-tile");return e.style.width=e.style.height=this._getTileSize()+"px",e.galleryimg="no",e.onselectstart=e.onmousemove=r.Util.falseFn,r.Browser.ielt9&&this.options.opacity!==i&&r.DomUtil.setOpacity(e,this.options.opacity),r.Browser.mobileWebkit3d&&(e.style.WebkitBackfaceVisibility="hidden"),e},_loadTile:function(e,t){e._layer=this,e.onload=this._tileOnLoad,e.onerror=this._tileOnError,this._adjustTilePoint(t),e.src=this.getTileUrl(t),this.fire("tileloadstart",{tile:e,url:e.src})},_tileLoaded:function(){this._tilesToLoad--,this._animated&&r.DomUtil.addClass(this._tileContainer,"leaflet-zoom-animated"),this._tilesToLoad||(this.fire("load"),this._animated&&(clearTimeout(this._clearBgBufferTimer),this._clearBgBufferTimer=setTimeout(r.bind(this._clearBgBuffer,this),500)))},_tileOnLoad:function(){var e=this._layer;this.src!==r.Util.emptyImageUrl&&(r.DomUtil.addClass(this,"leaflet-tile-loaded"),e.fire("tileload",{tile:this,url:this.src
})),e._tileLoaded()},_tileOnError:function(){var e=this._layer;e.fire("tileerror",{tile:this,url:this.src});var t=e.options.errorTileUrl;t&&(this.src=t),e._tileLoaded()}}),r.tileLayer=function(e,t){return new r.TileLayer(e,t)},r.TileLayer.WMS=r.TileLayer.extend({defaultWmsParams:{service:"WMS",request:"GetMap",version:"1.1.1",layers:"",styles:"",format:"image/jpeg",transparent:!1},initialize:function(e,t){this._url=e;var i=r.extend({},this.defaultWmsParams),n=t.tileSize||this.options.tileSize;t.detectRetina&&r.Browser.retina?i.width=i.height=2*n:i.width=i.height=n;for(var o in t)this.options.hasOwnProperty(o)||"crs"===o||(i[o]=t[o]);this.wmsParams=i,r.setOptions(this,t)},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var t=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[t]=this._crs.code,r.TileLayer.prototype.onAdd.call(this,e)},getTileUrl:function(e){var t=this._map,i=this.options.tileSize,n=e.multiplyBy(i),o=n.add([i,i]),a=this._crs.project(t.unproject(n,e.z)),s=this._crs.project(t.unproject(o,e.z)),l=this._wmsVersion>=1.3&&this._crs===r.CRS.EPSG4326?[s.y,a.x,a.y,s.x].join(","):[a.x,s.y,s.x,a.y].join(","),c=r.Util.template(this._url,{s:this._getSubdomain(e)});return c+r.Util.getParamString(this.wmsParams,c,!0)+"&BBOX="+l},setParams:function(e,t){return r.extend(this.wmsParams,e),t||this.redraw(),this}}),r.tileLayer.wms=function(e,t){return new r.TileLayer.WMS(e,t)},r.TileLayer.Canvas=r.TileLayer.extend({options:{async:!1},initialize:function(e){r.setOptions(this,e)},redraw:function(){this._map&&(this._reset({hard:!0}),this._update());for(var e in this._tiles)this._redrawTile(this._tiles[e]);return this},_redrawTile:function(e){this.drawTile(e,e._tilePoint,this._map._zoom)},_createTile:function(){var e=r.DomUtil.create("canvas","leaflet-tile");return e.width=e.height=this.options.tileSize,e.onselectstart=e.onmousemove=r.Util.falseFn,e},_loadTile:function(e,t){e._layer=this,e._tilePoint=t,this._redrawTile(e),this.options.async||this.tileDrawn(e)},drawTile:function(){},tileDrawn:function(e){this._tileOnLoad.call(e)}}),r.tileLayer.canvas=function(e){return new r.TileLayer.Canvas(e)},r.ImageOverlay=r.Class.extend({includes:r.Mixin.Events,options:{opacity:1},initialize:function(e,t,i){this._url=e,this._bounds=r.latLngBounds(t),r.setOptions(this,i)},onAdd:function(e){this._map=e,this._image||this._initImage(),e._panes.overlayPane.appendChild(this._image),e.on("viewreset",this._reset,this),e.options.zoomAnimation&&r.Browser.any3d&&e.on("zoomanim",this._animateZoom,this),this._reset()},onRemove:function(e){e.getPanes().overlayPane.removeChild(this._image),e.off("viewreset",this._reset,this),e.options.zoomAnimation&&e.off("zoomanim",this._animateZoom,this)},addTo:function(e){return e.addLayer(this),this},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},bringToFront:function(){return this._image&&this._map._panes.overlayPane.appendChild(this._image),this},bringToBack:function(){var e=this._map._panes.overlayPane;return this._image&&e.insertBefore(this._image,e.firstChild),this},setUrl:function(e){this._url=e,this._image.src=this._url},getAttribution:function(){return this.options.attribution},_initImage:function(){this._image=r.DomUtil.create("img","leaflet-image-layer"),this._map.options.zoomAnimation&&r.Browser.any3d?r.DomUtil.addClass(this._image,"leaflet-zoom-animated"):r.DomUtil.addClass(this._image,"leaflet-zoom-hide"),this._updateOpacity(),r.extend(this._image,{galleryimg:"no",onselectstart:r.Util.falseFn,onmousemove:r.Util.falseFn,onload:r.bind(this._onImageLoad,this),src:this._url})},_animateZoom:function(e){var t=this._map,i=this._image,n=t.getZoomScale(e.zoom),o=this._bounds.getNorthWest(),a=this._bounds.getSouthEast(),s=t._latLngToNewLayerPoint(o,e.zoom,e.center),l=t._latLngToNewLayerPoint(a,e.zoom,e.center)._subtract(s),c=s._add(l._multiplyBy(.5*(1-1/n)));i.style[r.DomUtil.TRANSFORM]=r.DomUtil.getTranslateString(c)+" scale("+n+") "},_reset:function(){var e=this._image,t=this._map.latLngToLayerPoint(this._bounds.getNorthWest()),i=this._map.latLngToLayerPoint(this._bounds.getSouthEast())._subtract(t);r.DomUtil.setPosition(e,t),e.style.width=i.x+"px",e.style.height=i.y+"px"},_onImageLoad:function(){this.fire("load")},_updateOpacity:function(){r.DomUtil.setOpacity(this._image,this.options.opacity)}}),r.imageOverlay=function(e,t,i){return new r.ImageOverlay(e,t,i)},r.Icon=r.Class.extend({options:{className:""},initialize:function(e){r.setOptions(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,t){var i=this._getIconUrl(e);if(!i){if("icon"===e)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var n;return n=t&&"IMG"===t.tagName?this._createImg(i,t):this._createImg(i),this._setIconStyles(n,e),n},_setIconStyles:function(e,t){var i,n=this.options,o=r.point(n[t+"Size"]);i="shadow"===t?r.point(n.shadowAnchor||n.iconAnchor):r.point(n.iconAnchor),!i&&o&&(i=o.divideBy(2,!0)),e.className="leaflet-marker-"+t+" "+n.className,i&&(e.style.marginLeft=-i.x+"px",e.style.marginTop=-i.y+"px"),o&&(e.style.width=o.x+"px",e.style.height=o.y+"px")},_createImg:function(e,i){return i=i||t.createElement("img"),i.src=e,i},_getIconUrl:function(e){return r.Browser.retina&&this.options[e+"RetinaUrl"]?this.options[e+"RetinaUrl"]:this.options[e+"Url"]}}),r.icon=function(e){return new r.Icon(e)},r.Icon.Default=r.Icon.extend({options:{iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]},_getIconUrl:function(e){var t=e+"Url";if(this.options[t])return this.options[t];r.Browser.retina&&"icon"===e&&(e+="-2x");var i=r.Icon.Default.imagePath;if(!i)throw new Error("Couldn't autodetect L.Icon.Default.imagePath, set it manually.");return i+"/marker-"+e+".png"}}),r.Icon.Default.imagePath=function(){var e,i,n,r,o,a=t.getElementsByTagName("script"),s=/[\/^]leaflet[\-\._]?([\w\-\._]*)\.js\??/;for(e=0,i=a.length;i>e;e++)if(n=a[e].src,r=n.match(s))return o=n.split(s)[0],(o?o+"/":"")+"images"}(),r.Marker=r.Class.extend({includes:r.Mixin.Events,options:{icon:new r.Icon.Default,title:"",alt:"",clickable:!0,draggable:!1,keyboard:!0,zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250},initialize:function(e,t){r.setOptions(this,t),this._latlng=r.latLng(e)},onAdd:function(e){this._map=e,e.on("viewreset",this.update,this),this._initIcon(),this.update(),this.fire("add"),e.options.zoomAnimation&&e.options.markerZoomAnimation&&e.on("zoomanim",this._animateZoom,this)},addTo:function(e){return e.addLayer(this),this},onRemove:function(e){this.dragging&&this.dragging.disable(),this._removeIcon(),this._removeShadow(),this.fire("remove"),e.off({viewreset:this.update,zoomanim:this._animateZoom},this),this._map=null},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=r.latLng(e),this.update(),this.fire("move",{latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update(),this},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup),this},update:function(){return this._icon&&this._setPos(this._map.latLngToLayerPoint(this._latlng).round()),this},_initIcon:function(){var e=this.options,t=this._map,i=t.options.zoomAnimation&&t.options.markerZoomAnimation,n=i?"leaflet-zoom-animated":"leaflet-zoom-hide",o=e.icon.createIcon(this._icon),a=!1;o!==this._icon&&(this._icon&&this._removeIcon(),a=!0,e.title&&(o.title=e.title),e.alt&&(o.alt=e.alt)),r.DomUtil.addClass(o,n),e.keyboard&&(o.tabIndex="0"),this._icon=o,this._initInteraction(),e.riseOnHover&&r.DomEvent.on(o,"mouseover",this._bringToFront,this).on(o,"mouseout",this._resetZIndex,this);var s=e.icon.createShadow(this._shadow),l=!1;s!==this._shadow&&(this._removeShadow(),l=!0),s&&r.DomUtil.addClass(s,n),this._shadow=s,e.opacity<1&&this._updateOpacity();var c=this._map._panes;a&&c.markerPane.appendChild(this._icon),s&&l&&c.shadowPane.appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&r.DomEvent.off(this._icon,"mouseover",this._bringToFront).off(this._icon,"mouseout",this._resetZIndex),this._map._panes.markerPane.removeChild(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&this._map._panes.shadowPane.removeChild(this._shadow),this._shadow=null},_setPos:function(e){r.DomUtil.setPosition(this._icon,e),this._shadow&&r.DomUtil.setPosition(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon.style.zIndex=this._zIndex+e},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(t)},_initInteraction:function(){if(this.options.clickable){var e=this._icon,t=["dblclick","mousedown","mouseover","mouseout","contextmenu"];r.DomUtil.addClass(e,"leaflet-clickable"),r.DomEvent.on(e,"click",this._onMouseClick,this),r.DomEvent.on(e,"keypress",this._onKeyPress,this);for(var i=0;i<t.length;i++)r.DomEvent.on(e,t[i],this._fireMouseEvent,this);r.Handler.MarkerDrag&&(this.dragging=new r.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_onMouseClick:function(e){var t=this.dragging&&this.dragging.moved();(this.hasEventListeners(e.type)||t)&&r.DomEvent.stopPropagation(e),t||(this.dragging&&this.dragging._enabled||!this._map.dragging||!this._map.dragging.moved())&&this.fire(e.type,{originalEvent:e,latlng:this._latlng})},_onKeyPress:function(e){13===e.keyCode&&this.fire("click",{originalEvent:e,latlng:this._latlng})},_fireMouseEvent:function(e){this.fire(e.type,{originalEvent:e,latlng:this._latlng}),"contextmenu"===e.type&&this.hasEventListeners(e.type)&&r.DomEvent.preventDefault(e),"mousedown"!==e.type?r.DomEvent.stopPropagation(e):r.DomEvent.preventDefault(e)},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){r.DomUtil.setOpacity(this._icon,this.options.opacity),this._shadow&&r.DomUtil.setOpacity(this._shadow,this.options.opacity)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)}}),r.marker=function(e,t){return new r.Marker(e,t)},r.DivIcon=r.Icon.extend({options:{iconSize:[12,12],className:"leaflet-div-icon",html:!1},createIcon:function(e){var i=e&&"DIV"===e.tagName?e:t.createElement("div"),n=this.options;return n.html!==!1?i.innerHTML=n.html:i.innerHTML="",n.bgPos&&(i.style.backgroundPosition=-n.bgPos.x+"px "+-n.bgPos.y+"px"),this._setIconStyles(i,"icon"),i},createShadow:function(){return null}}),r.divIcon=function(e){return new r.DivIcon(e)},r.Map.mergeOptions({closePopupOnClick:!0}),r.Popup=r.Class.extend({includes:r.Mixin.Events,options:{minWidth:50,maxWidth:300,autoPan:!0,closeButton:!0,offset:[0,7],autoPanPadding:[5,5],keepInView:!1,className:"",zoomAnimation:!0},initialize:function(e,t){r.setOptions(this,e),this._source=t,this._animated=r.Browser.any3d&&this.options.zoomAnimation,this._isOpen=!1},onAdd:function(e){this._map=e,this._container||this._initLayout();var t=e.options.fadeAnimation;t&&r.DomUtil.setOpacity(this._container,0),e._panes.popupPane.appendChild(this._container),e.on(this._getEvents(),this),this.update(),t&&r.DomUtil.setOpacity(this._container,1),this.fire("open"),e.fire("popupopen",{popup:this}),this._source&&this._source.fire("popupopen",{popup:this})},addTo:function(e){return e.addLayer(this),this},openOn:function(e){return e.openPopup(this),this},onRemove:function(e){e._panes.popupPane.removeChild(this._container),r.Util.falseFn(this._container.offsetWidth),e.off(this._getEvents(),this),e.options.fadeAnimation&&r.DomUtil.setOpacity(this._container,0),this._map=null,this.fire("close"),e.fire("popupclose",{popup:this}),this._source&&this._source.fire("popupclose",{popup:this})},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=r.latLng(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},_getEvents:function(){var e={viewreset:this._updatePosition};return this._animated&&(e.zoomanim=this._zoomAnimation),("closeOnClick"in this.options?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this._close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var e,t="leaflet-popup",i=t+" "+this.options.className+" leaflet-zoom-"+(this._animated?"animated":"hide"),n=this._container=r.DomUtil.create("div",i);this.options.closeButton&&(e=this._closeButton=r.DomUtil.create("a",t+"-close-button",n),e.href="#close",e.innerHTML="&#215;",r.DomEvent.disableClickPropagation(e),r.DomEvent.on(e,"click",this._onCloseButtonClick,this));var o=this._wrapper=r.DomUtil.create("div",t+"-content-wrapper",n);r.DomEvent.disableClickPropagation(o),this._contentNode=r.DomUtil.create("div",t+"-content",o),r.DomEvent.disableScrollPropagation(this._contentNode),r.DomEvent.on(o,"contextmenu",r.DomEvent.stopPropagation),this._tipContainer=r.DomUtil.create("div",t+"-tip-container",n),this._tip=r.DomUtil.create("div",t+"-tip",this._tipContainer)},_updateContent:function(){if(this._content){if("string"==typeof this._content)this._contentNode.innerHTML=this._content;else{for(;this._contentNode.hasChildNodes();)this._contentNode.removeChild(this._contentNode.firstChild);this._contentNode.appendChild(this._content)}this.fire("contentupdate")}},_updateLayout:function(){var e=this._contentNode,t=e.style;t.width="",t.whiteSpace="nowrap";var i=e.offsetWidth;i=Math.min(i,this.options.maxWidth),i=Math.max(i,this.options.minWidth),t.width=i+1+"px",t.whiteSpace="",t.height="";var n=e.offsetHeight,o=this.options.maxHeight,a="leaflet-popup-scrolled";o&&n>o?(t.height=o+"px",r.DomUtil.addClass(e,a)):r.DomUtil.removeClass(e,a),this._containerWidth=this._container.offsetWidth},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),t=this._animated,i=r.point(this.options.offset);t&&r.DomUtil.setPosition(this._container,e),this._containerBottom=-i.y-(t?0:e.y),this._containerLeft=-Math.round(this._containerWidth/2)+i.x+(t?0:e.x),this._container.style.bottom=this._containerBottom+"px",this._container.style.left=this._containerLeft+"px"}},_zoomAnimation:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);r.DomUtil.setPosition(this._container,t)},_adjustPan:function(){if(this.options.autoPan){var e=this._map,t=this._container.offsetHeight,i=this._containerWidth,n=new r.Point(this._containerLeft,-t-this._containerBottom);this._animated&&n._add(r.DomUtil.getPosition(this._container));var o=e.layerPointToContainerPoint(n),a=r.point(this.options.autoPanPadding),s=r.point(this.options.autoPanPaddingTopLeft||a),l=r.point(this.options.autoPanPaddingBottomRight||a),c=e.getSize(),u=0,d=0;o.x+i+l.x>c.x&&(u=o.x+i-c.x+l.x),o.x-u-s.x<0&&(u=o.x-s.x),o.y+t+l.y>c.y&&(d=o.y+t-c.y+l.y),o.y-d-s.y<0&&(d=o.y-s.y),(u||d)&&e.fire("autopanstart").panBy([u,d])}},_onCloseButtonClick:function(e){this._close(),r.DomEvent.stop(e)}}),r.popup=function(e,t){return new r.Popup(e,t)},r.Map.include({openPopup:function(e,t,i){if(this.closePopup(),!(e instanceof r.Popup)){var n=e;e=new r.Popup(i).setLatLng(t).setContent(n)}return e._isOpen=!0,this._popup=e,this.addLayer(e)},closePopup:function(e){return e&&e!==this._popup||(e=this._popup,this._popup=null),e&&(this.removeLayer(e),e._isOpen=!1),this}}),r.Marker.include({openPopup:function(){return this._popup&&this._map&&!this._map.hasLayer(this._popup)&&(this._popup.setLatLng(this._latlng),this._map.openPopup(this._popup)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(){return this._popup&&(this._popup._isOpen?this.closePopup():this.openPopup()),this},bindPopup:function(e,t){var i=r.point(this.options.icon.options.popupAnchor||[0,0]);return i=i.add(r.Popup.prototype.options.offset),t&&t.offset&&(i=i.add(t.offset)),t=r.extend({offset:i},t),this._popupHandlersAdded||(this.on("click",this.togglePopup,this).on("remove",this.closePopup,this).on("move",this._movePopup,this),this._popupHandlersAdded=!0),e instanceof r.Popup?(r.setOptions(e,t),this._popup=e,e._source=this):this._popup=new r.Popup(t,this).setContent(e),this},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},unbindPopup:function(){return this._popup&&(this._popup=null,this.off("click",this.togglePopup,this).off("remove",this.closePopup,this).off("move",this._movePopup,this),this._popupHandlersAdded=!1),this},getPopup:function(){return this._popup},_movePopup:function(e){this._popup.setLatLng(e.latlng)}}),r.LayerGroup=r.Class.extend({initialize:function(e){this._layers={};var t,i;if(e)for(t=0,i=e.length;i>t;t++)this.addLayer(e[t])},addLayer:function(e){var t=this.getLayerId(e);return this._layers[t]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var t=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[t]&&this._map.removeLayer(this._layers[t]),delete this._layers[t],this},hasLayer:function(e){return!!e&&(e in this._layers||this.getLayerId(e)in this._layers)},clearLayers:function(){return this.eachLayer(this.removeLayer,this),this},invoke:function(e){var t,i,n=Array.prototype.slice.call(arguments,1);for(t in this._layers)i=this._layers[t],i[e]&&i[e].apply(i,n);return this},onAdd:function(e){this._map=e,this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e),this._map=null},addTo:function(e){return e.addLayer(this),this},eachLayer:function(e,t){for(var i in this._layers)e.call(t,this._layers[i]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];for(var t in this._layers)e.push(this._layers[t]);return e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return r.stamp(e)}}),r.layerGroup=function(e){return new r.LayerGroup(e)},r.FeatureGroup=r.LayerGroup.extend({includes:r.Mixin.Events,statics:{EVENTS:"click dblclick mouseover mouseout mousemove contextmenu popupopen popupclose"},addLayer:function(e){return this.hasLayer(e)?this:("on"in e&&e.on(r.FeatureGroup.EVENTS,this._propagateEvent,this),r.LayerGroup.prototype.addLayer.call(this,e),this._popupContent&&e.bindPopup&&e.bindPopup(this._popupContent,this._popupOptions),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),"off"in e&&e.off(r.FeatureGroup.EVENTS,this._propagateEvent,this),r.LayerGroup.prototype.removeLayer.call(this,e),this._popupContent&&this.invoke("unbindPopup"),this.fire("layerremove",{layer:e})):this},bindPopup:function(e,t){return this._popupContent=e,this._popupOptions=t,this.invoke("bindPopup",e,t)},openPopup:function(e){for(var t in this._layers){this._layers[t].openPopup(e);break}return this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new r.LatLngBounds;return this.eachLayer(function(t){e.extend(t instanceof r.Marker?t.getLatLng():t.getBounds())}),e},_propagateEvent:function(e){e=r.extend({layer:e.target,target:this},e),this.fire(e.type,e)}}),r.featureGroup=function(e){return new r.FeatureGroup(e)},r.Path=r.Class.extend({includes:[r.Mixin.Events],statics:{CLIP_PADDING:function(){var t=r.Browser.mobile?1280:2e3,i=(t/Math.max(e.outerWidth,e.outerHeight)-1)/2;return Math.max(0,Math.min(.5,i))}()},options:{stroke:!0,color:"#0033ff",dashArray:null,lineCap:null,lineJoin:null,weight:5,opacity:.5,fill:!1,fillColor:null,fillOpacity:.2,clickable:!0},initialize:function(e){r.setOptions(this,e)},onAdd:function(e){this._map=e,this._container||(this._initElements(),this._initEvents()),this.projectLatlngs(),this._updatePath(),this._container&&this._map._pathRoot.appendChild(this._container),this.fire("add"),e.on({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},addTo:function(e){return e.addLayer(this),this},onRemove:function(e){e._pathRoot.removeChild(this._container),this.fire("remove"),this._map=null,r.Browser.vml&&(this._container=null,this._stroke=null,this._fill=null),e.off({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},projectLatlngs:function(){},setStyle:function(e){return r.setOptions(this,e),this._container&&this._updateStyle(),this},redraw:function(){return this._map&&(this.projectLatlngs(),this._updatePath()),this}}),r.Map.include({_updatePathViewport:function(){var e=r.Path.CLIP_PADDING,t=this.getSize(),i=r.DomUtil.getPosition(this._mapPane),n=i.multiplyBy(-1)._subtract(t.multiplyBy(e)._round()),o=n.add(t.multiplyBy(1+2*e)._round());this._pathViewport=new r.Bounds(n,o)}}),r.Path.SVG_NS="http://www.w3.org/2000/svg",r.Browser.svg=!(!t.createElementNS||!t.createElementNS(r.Path.SVG_NS,"svg").createSVGRect),r.Path=r.Path.extend({statics:{SVG:r.Browser.svg},bringToFront:function(){var e=this._map._pathRoot,t=this._container;return t&&e.lastChild!==t&&e.appendChild(t),this},bringToBack:function(){var e=this._map._pathRoot,t=this._container,i=e.firstChild;return t&&i!==t&&e.insertBefore(t,i),this},getPathString:function(){},_createElement:function(e){return t.createElementNS(r.Path.SVG_NS,e)},_initElements:function(){this._map._initPathRoot(),this._initPath(),this._initStyle()},_initPath:function(){this._container=this._createElement("g"),this._path=this._createElement("path"),this.options.className&&r.DomUtil.addClass(this._path,this.options.className),this._container.appendChild(this._path)},_initStyle:function(){this.options.stroke&&(this._path.setAttribute("stroke-linejoin","round"),this._path.setAttribute("stroke-linecap","round")),this.options.fill&&this._path.setAttribute("fill-rule","evenodd"),this.options.pointerEvents&&this._path.setAttribute("pointer-events",this.options.pointerEvents),this.options.clickable||this.options.pointerEvents||this._path.setAttribute("pointer-events","none"),this._updateStyle()},_updateStyle:function(){this.options.stroke?(this._path.setAttribute("stroke",this.options.color),this._path.setAttribute("stroke-opacity",this.options.opacity),this._path.setAttribute("stroke-width",this.options.weight),this.options.dashArray?this._path.setAttribute("stroke-dasharray",this.options.dashArray):this._path.removeAttribute("stroke-dasharray"),this.options.lineCap&&this._path.setAttribute("stroke-linecap",this.options.lineCap),this.options.lineJoin&&this._path.setAttribute("stroke-linejoin",this.options.lineJoin)):this._path.setAttribute("stroke","none"),this.options.fill?(this._path.setAttribute("fill",this.options.fillColor||this.options.color),this._path.setAttribute("fill-opacity",this.options.fillOpacity)):this._path.setAttribute("fill","none")},_updatePath:function(){var e=this.getPathString();e||(e="M0 0"),this._path.setAttribute("d",e)},_initEvents:function(){if(this.options.clickable){(r.Browser.svg||!r.Browser.vml)&&r.DomUtil.addClass(this._path,"leaflet-clickable"),r.DomEvent.on(this._container,"click",this._onMouseClick,this);for(var e=["dblclick","mousedown","mouseover","mouseout","mousemove","contextmenu"],t=0;t<e.length;t++)r.DomEvent.on(this._container,e[t],this._fireMouseEvent,this)}},_onMouseClick:function(e){this._map.dragging&&this._map.dragging.moved()||this._fireMouseEvent(e)},_fireMouseEvent:function(e){if(this._map&&this.hasEventListeners(e.type)){var t=this._map,i=t.mouseEventToContainerPoint(e),n=t.containerPointToLayerPoint(i),o=t.layerPointToLatLng(n);this.fire(e.type,{latlng:o,layerPoint:n,containerPoint:i,originalEvent:e}),"contextmenu"===e.type&&r.DomEvent.preventDefault(e),"mousemove"!==e.type&&r.DomEvent.stopPropagation(e)}}}),r.Map.include({_initPathRoot:function(){this._pathRoot||(this._pathRoot=r.Path.prototype._createElement("svg"),this._panes.overlayPane.appendChild(this._pathRoot),this.options.zoomAnimation&&r.Browser.any3d?(r.DomUtil.addClass(this._pathRoot,"leaflet-zoom-animated"),this.on({zoomanim:this._animatePathZoom,zoomend:this._endPathZoom})):r.DomUtil.addClass(this._pathRoot,"leaflet-zoom-hide"),this.on("moveend",this._updateSvgViewport),this._updateSvgViewport())},_animatePathZoom:function(e){var t=this.getZoomScale(e.zoom),i=this._getCenterOffset(e.center)._multiplyBy(-t)._add(this._pathViewport.min);this._pathRoot.style[r.DomUtil.TRANSFORM]=r.DomUtil.getTranslateString(i)+" scale("+t+") ",this._pathZooming=!0},_endPathZoom:function(){this._pathZooming=!1},_updateSvgViewport:function(){if(!this._pathZooming){this._updatePathViewport();var e=this._pathViewport,t=e.min,i=e.max,n=i.x-t.x,o=i.y-t.y,a=this._pathRoot,s=this._panes.overlayPane;r.Browser.mobileWebkit&&s.removeChild(a),r.DomUtil.setPosition(a,t),a.setAttribute("width",n),a.setAttribute("height",o),a.setAttribute("viewBox",[t.x,t.y,n,o].join(" ")),r.Browser.mobileWebkit&&s.appendChild(a)}}}),r.Path.include({bindPopup:function(e,t){return e instanceof r.Popup?this._popup=e:((!this._popup||t)&&(this._popup=new r.Popup(t,this)),this._popup.setContent(e)),this._popupHandlersAdded||(this.on("click",this._openPopup,this).on("remove",this.closePopup,this),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this._popup=null,this.off("click",this._openPopup).off("remove",this.closePopup),this._popupHandlersAdded=!1),this},openPopup:function(e){return this._popup&&(e=e||this._latlng||this._latlngs[Math.floor(this._latlngs.length/2)],this._openPopup({latlng:e})),this},closePopup:function(){return this._popup&&this._popup._close(),this},_openPopup:function(e){this._popup.setLatLng(e.latlng),this._map.openPopup(this._popup)}}),r.Browser.vml=!r.Browser.svg&&function(){try{var e=t.createElement("div");e.innerHTML='<v:shape adj="1"/>';var i=e.firstChild;return i.style.behavior="url(#default#VML)",i&&"object"==typeof i.adj}catch(e){return!1}}(),r.Path=r.Browser.svg||!r.Browser.vml?r.Path:r.Path.extend({statics:{VML:!0,CLIP_PADDING:.02},_createElement:function(){try{return t.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return t.createElement("<lvml:"+e+' class="lvml">')}}catch(e){return function(e){return t.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),_initPath:function(){var e=this._container=this._createElement("shape");r.DomUtil.addClass(e,"leaflet-vml-shape"+(this.options.className?" "+this.options.className:"")),this.options.clickable&&r.DomUtil.addClass(e,"leaflet-clickable"),e.coordsize="1 1",this._path=this._createElement("path"),e.appendChild(this._path),this._map._pathRoot.appendChild(e)},_initStyle:function(){this._updateStyle()},_updateStyle:function(){var e=this._stroke,t=this._fill,i=this.options,n=this._container;n.stroked=i.stroke,n.filled=i.fill,i.stroke?(e||(e=this._stroke=this._createElement("stroke"),e.endcap="round",n.appendChild(e)),e.weight=i.weight+"px",e.color=i.color,e.opacity=i.opacity,i.dashArray?e.dashStyle=r.Util.isArray(i.dashArray)?i.dashArray.join(" "):i.dashArray.replace(/( *, *)/g," "):e.dashStyle="",i.lineCap&&(e.endcap=i.lineCap.replace("butt","flat")),i.lineJoin&&(e.joinstyle=i.lineJoin)):e&&(n.removeChild(e),this._stroke=null),i.fill?(t||(t=this._fill=this._createElement("fill"),n.appendChild(t)),t.color=i.fillColor||i.color,t.opacity=i.fillOpacity):t&&(n.removeChild(t),this._fill=null)},_updatePath:function(){var e=this._container.style;e.display="none",this._path.v=this.getPathString()+" ",e.display=""}}),r.Map.include(r.Browser.svg||!r.Browser.vml?{}:{_initPathRoot:function(){if(!this._pathRoot){var e=this._pathRoot=t.createElement("div");e.className="leaflet-vml-container",this._panes.overlayPane.appendChild(e),this.on("moveend",this._updatePathViewport),this._updatePathViewport()}}}),r.Browser.canvas=function(){return!!t.createElement("canvas").getContext}(),r.Path=r.Path.SVG&&!e.L_PREFER_CANVAS||!r.Browser.canvas?r.Path:r.Path.extend({statics:{CANVAS:!0,SVG:!1},redraw:function(){return this._map&&(this.projectLatlngs(),this._requestUpdate()),this},setStyle:function(e){return r.setOptions(this,e),this._map&&(this._updateStyle(),this._requestUpdate()),this},onRemove:function(e){e.off("viewreset",this.projectLatlngs,this).off("moveend",this._updatePath,this),this.options.clickable&&(this._map.off("click",this._onClick,this),this._map.off("mousemove",this._onMouseMove,this)),this._requestUpdate(),this.fire("remove"),this._map=null},_requestUpdate:function(){this._map&&!r.Path._updateRequest&&(r.Path._updateRequest=r.Util.requestAnimFrame(this._fireMapMoveEnd,this._map))},_fireMapMoveEnd:function(){r.Path._updateRequest=null,this.fire("moveend")},_initElements:function(){this._map._initPathRoot(),this._ctx=this._map._canvasCtx},_updateStyle:function(){var e=this.options;e.stroke&&(this._ctx.lineWidth=e.weight,this._ctx.strokeStyle=e.color),e.fill&&(this._ctx.fillStyle=e.fillColor||e.color),e.lineCap&&(this._ctx.lineCap=e.lineCap),e.lineJoin&&(this._ctx.lineJoin=e.lineJoin)},_drawPath:function(){var e,t,i,n,o,a;for(this._ctx.beginPath(),e=0,i=this._parts.length;i>e;e++){for(t=0,n=this._parts[e].length;n>t;t++)o=this._parts[e][t],a=(0===t?"move":"line")+"To",this._ctx[a](o.x,o.y);this instanceof r.Polygon&&this._ctx.closePath()}},_checkIfEmpty:function(){return!this._parts.length},_updatePath:function(){if(!this._checkIfEmpty()){var e=this._ctx,t=this.options;this._drawPath(),e.save(),this._updateStyle(),t.fill&&(e.globalAlpha=t.fillOpacity,e.fill(t.fillRule||"evenodd")),t.stroke&&(e.globalAlpha=t.opacity,e.stroke()),e.restore()}},_initEvents:function(){this.options.clickable&&(this._map.on("mousemove",this._onMouseMove,this),this._map.on("click dblclick contextmenu",this._fireMouseEvent,this))},_fireMouseEvent:function(e){this._containsPoint(e.layerPoint)&&this.fire(e.type,e)},_onMouseMove:function(e){this._map&&!this._map._animatingZoom&&(this._containsPoint(e.layerPoint)?(this._ctx.canvas.style.cursor="pointer",this._mouseInside=!0,this.fire("mouseover",e)):this._mouseInside&&(this._ctx.canvas.style.cursor="",this._mouseInside=!1,this.fire("mouseout",e)))}}),r.Map.include(r.Path.SVG&&!e.L_PREFER_CANVAS||!r.Browser.canvas?{}:{_initPathRoot:function(){var e,i=this._pathRoot;i||(i=this._pathRoot=t.createElement("canvas"),i.style.position="absolute",e=this._canvasCtx=i.getContext("2d"),e.lineCap="round",e.lineJoin="round",this._panes.overlayPane.appendChild(i),this.options.zoomAnimation&&(this._pathRoot.className="leaflet-zoom-animated",this.on("zoomanim",this._animatePathZoom),this.on("zoomend",this._endPathZoom)),this.on("moveend",this._updateCanvasViewport),this._updateCanvasViewport())},_updateCanvasViewport:function(){if(!this._pathZooming){this._updatePathViewport();var e=this._pathViewport,t=e.min,i=e.max.subtract(t),n=this._pathRoot;r.DomUtil.setPosition(n,t),n.width=i.x,n.height=i.y,n.getContext("2d").translate(-t.x,-t.y)}}}),r.LineUtil={simplify:function(e,t){if(!t||!e.length)return e.slice();var i=t*t;return e=this._reducePoints(e,i),e=this._simplifyDP(e,i)},pointToSegmentDistance:function(e,t,i){return Math.sqrt(this._sqClosestPointOnSegment(e,t,i,!0))},closestPointOnSegment:function(e,t,i){return this._sqClosestPointOnSegment(e,t,i)},_simplifyDP:function(e,t){var n=e.length,r=typeof Uint8Array!=i+""?Uint8Array:Array,o=new r(n);o[0]=o[n-1]=1,this._simplifyDPStep(e,o,t,0,n-1);var a,s=[];for(a=0;n>a;a++)o[a]&&s.push(e[a]);return s},_simplifyDPStep:function(e,t,i,n,r){var o,a,s,l=0;for(a=n+1;r-1>=a;a++)s=this._sqClosestPointOnSegment(e[a],e[n],e[r],!0),s>l&&(o=a,l=s);l>i&&(t[o]=1,this._simplifyDPStep(e,t,i,n,o),this._simplifyDPStep(e,t,i,o,r))},_reducePoints:function(e,t){for(var i=[e[0]],n=1,r=0,o=e.length;o>n;n++)this._sqDist(e[n],e[r])>t&&(i.push(e[n]),
r=n);return o-1>r&&i.push(e[o-1]),i},clipSegment:function(e,t,i,n){var r,o,a,s=n?this._lastCode:this._getBitCode(e,i),l=this._getBitCode(t,i);for(this._lastCode=l;;){if(!(s|l))return[e,t];if(s&l)return!1;r=s||l,o=this._getEdgeIntersection(e,t,r,i),a=this._getBitCode(o,i),r===s?(e=o,s=a):(t=o,l=a)}},_getEdgeIntersection:function(e,t,i,n){var o=t.x-e.x,a=t.y-e.y,s=n.min,l=n.max;return 8&i?new r.Point(e.x+o*(l.y-e.y)/a,l.y):4&i?new r.Point(e.x+o*(s.y-e.y)/a,s.y):2&i?new r.Point(l.x,e.y+a*(l.x-e.x)/o):1&i?new r.Point(s.x,e.y+a*(s.x-e.x)/o):void 0},_getBitCode:function(e,t){var i=0;return e.x<t.min.x?i|=1:e.x>t.max.x&&(i|=2),e.y<t.min.y?i|=4:e.y>t.max.y&&(i|=8),i},_sqDist:function(e,t){var i=t.x-e.x,n=t.y-e.y;return i*i+n*n},_sqClosestPointOnSegment:function(e,t,i,n){var o,a=t.x,s=t.y,l=i.x-a,c=i.y-s,u=l*l+c*c;return u>0&&(o=((e.x-a)*l+(e.y-s)*c)/u,o>1?(a=i.x,s=i.y):o>0&&(a+=l*o,s+=c*o)),l=e.x-a,c=e.y-s,n?l*l+c*c:new r.Point(a,s)}},r.Polyline=r.Path.extend({initialize:function(e,t){r.Path.prototype.initialize.call(this,t),this._latlngs=this._convertLatLngs(e)},options:{smoothFactor:1,noClip:!1},projectLatlngs:function(){this._originalPoints=[];for(var e=0,t=this._latlngs.length;t>e;e++)this._originalPoints[e]=this._map.latLngToLayerPoint(this._latlngs[e])},getPathString:function(){for(var e=0,t=this._parts.length,i="";t>e;e++)i+=this._getPathPartStr(this._parts[e]);return i},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._latlngs=this._convertLatLngs(e),this.redraw()},addLatLng:function(e){return this._latlngs.push(r.latLng(e)),this.redraw()},spliceLatLngs:function(){var e=[].splice.apply(this._latlngs,arguments);return this._convertLatLngs(this._latlngs,!0),this.redraw(),e},closestLayerPoint:function(e){for(var t,i,n=1/0,o=this._parts,a=null,s=0,l=o.length;l>s;s++)for(var c=o[s],u=1,d=c.length;d>u;u++){t=c[u-1],i=c[u];var h=r.LineUtil._sqClosestPointOnSegment(e,t,i,!0);n>h&&(n=h,a=r.LineUtil._sqClosestPointOnSegment(e,t,i))}return a&&(a.distance=Math.sqrt(n)),a},getBounds:function(){return new r.LatLngBounds(this.getLatLngs())},_convertLatLngs:function(e,t){var i,n,o=t?e:[];for(i=0,n=e.length;n>i;i++){if(r.Util.isArray(e[i])&&"number"!=typeof e[i][0])return;o[i]=r.latLng(e[i])}return o},_initEvents:function(){r.Path.prototype._initEvents.call(this)},_getPathPartStr:function(e){for(var t,i=r.Path.VML,n=0,o=e.length,a="";o>n;n++)t=e[n],i&&t._round(),a+=(n?"L":"M")+t.x+" "+t.y;return a},_clipPoints:function(){var e,t,i,n=this._originalPoints,o=n.length;if(this.options.noClip)return void(this._parts=[n]);this._parts=[];var a=this._parts,s=this._map._pathViewport,l=r.LineUtil;for(e=0,t=0;o-1>e;e++)i=l.clipSegment(n[e],n[e+1],s,e),i&&(a[t]=a[t]||[],a[t].push(i[0]),(i[1]!==n[e+1]||e===o-2)&&(a[t].push(i[1]),t++))},_simplifyPoints:function(){for(var e=this._parts,t=r.LineUtil,i=0,n=e.length;n>i;i++)e[i]=t.simplify(e[i],this.options.smoothFactor)},_updatePath:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),r.Path.prototype._updatePath.call(this))}}),r.polyline=function(e,t){return new r.Polyline(e,t)},r.PolyUtil={},r.PolyUtil.clipPolygon=function(e,t){var i,n,o,a,s,l,c,u,d,h=[1,4,2,8],p=r.LineUtil;for(n=0,c=e.length;c>n;n++)e[n]._code=p._getBitCode(e[n],t);for(a=0;4>a;a++){for(u=h[a],i=[],n=0,c=e.length,o=c-1;c>n;o=n++)s=e[n],l=e[o],s._code&u?l._code&u||(d=p._getEdgeIntersection(l,s,u,t),d._code=p._getBitCode(d,t),i.push(d)):(l._code&u&&(d=p._getEdgeIntersection(l,s,u,t),d._code=p._getBitCode(d,t),i.push(d)),i.push(s));e=i}return e},r.Polygon=r.Polyline.extend({options:{fill:!0},initialize:function(e,t){r.Polyline.prototype.initialize.call(this,e,t),this._initWithHoles(e)},_initWithHoles:function(e){var t,i,n;if(e&&r.Util.isArray(e[0])&&"number"!=typeof e[0][0])for(this._latlngs=this._convertLatLngs(e[0]),this._holes=e.slice(1),t=0,i=this._holes.length;i>t;t++)n=this._holes[t]=this._convertLatLngs(this._holes[t]),n[0].equals(n[n.length-1])&&n.pop();e=this._latlngs,e.length>=2&&e[0].equals(e[e.length-1])&&e.pop()},projectLatlngs:function(){if(r.Polyline.prototype.projectLatlngs.call(this),this._holePoints=[],this._holes){var e,t,i,n;for(e=0,i=this._holes.length;i>e;e++)for(this._holePoints[e]=[],t=0,n=this._holes[e].length;n>t;t++)this._holePoints[e][t]=this._map.latLngToLayerPoint(this._holes[e][t])}},setLatLngs:function(e){return e&&r.Util.isArray(e[0])&&"number"!=typeof e[0][0]?(this._initWithHoles(e),this.redraw()):r.Polyline.prototype.setLatLngs.call(this,e)},_clipPoints:function(){var e=this._originalPoints,t=[];if(this._parts=[e].concat(this._holePoints),!this.options.noClip){for(var i=0,n=this._parts.length;n>i;i++){var o=r.PolyUtil.clipPolygon(this._parts[i],this._map._pathViewport);o.length&&t.push(o)}this._parts=t}},_getPathPartStr:function(e){var t=r.Polyline.prototype._getPathPartStr.call(this,e);return t+(r.Browser.svg?"z":"x")}}),r.polygon=function(e,t){return new r.Polygon(e,t)},function(){function e(e){return r.FeatureGroup.extend({initialize:function(e,t){this._layers={},this._options=t,this.setLatLngs(e)},setLatLngs:function(t){var i=0,n=t.length;for(this.eachLayer(function(e){n>i?e.setLatLngs(t[i++]):this.removeLayer(e)},this);n>i;)this.addLayer(new e(t[i++],this._options));return this},getLatLngs:function(){var e=[];return this.eachLayer(function(t){e.push(t.getLatLngs())}),e}})}r.MultiPolyline=e(r.Polyline),r.MultiPolygon=e(r.Polygon),r.multiPolyline=function(e,t){return new r.MultiPolyline(e,t)},r.multiPolygon=function(e,t){return new r.MultiPolygon(e,t)}}(),r.Rectangle=r.Polygon.extend({initialize:function(e,t){r.Polygon.prototype.initialize.call(this,this._boundsToLatLngs(e),t)},setBounds:function(e){this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return e=r.latLngBounds(e),[e.getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}}),r.rectangle=function(e,t){return new r.Rectangle(e,t)},r.Circle=r.Path.extend({initialize:function(e,t,i){r.Path.prototype.initialize.call(this,i),this._latlng=r.latLng(e),this._mRadius=t},options:{fill:!0},setLatLng:function(e){return this._latlng=r.latLng(e),this.redraw()},setRadius:function(e){return this._mRadius=e,this.redraw()},projectLatlngs:function(){var e=this._getLngRadius(),t=this._latlng,i=this._map.latLngToLayerPoint([t.lat,t.lng-e]);this._point=this._map.latLngToLayerPoint(t),this._radius=Math.max(this._point.x-i.x,1)},getBounds:function(){var e=this._getLngRadius(),t=this._mRadius/40075017*360,i=this._latlng;return new r.LatLngBounds([i.lat-t,i.lng-e],[i.lat+t,i.lng+e])},getLatLng:function(){return this._latlng},getPathString:function(){var e=this._point,t=this._radius;return this._checkIfEmpty()?"":r.Browser.svg?"M"+e.x+","+(e.y-t)+"A"+t+","+t+",0,1,1,"+(e.x-.1)+","+(e.y-t)+" z":(e._round(),t=Math.round(t),"AL "+e.x+","+e.y+" "+t+","+t+" 0,23592600")},getRadius:function(){return this._mRadius},_getLatRadius:function(){return this._mRadius/40075017*360},_getLngRadius:function(){return this._getLatRadius()/Math.cos(r.LatLng.DEG_TO_RAD*this._latlng.lat)},_checkIfEmpty:function(){if(!this._map)return!1;var e=this._map._pathViewport,t=this._radius,i=this._point;return i.x-t>e.max.x||i.y-t>e.max.y||i.x+t<e.min.x||i.y+t<e.min.y}}),r.circle=function(e,t,i){return new r.Circle(e,t,i)},r.CircleMarker=r.Circle.extend({options:{radius:10,weight:2},initialize:function(e,t){r.Circle.prototype.initialize.call(this,e,null,t),this._radius=this.options.radius},projectLatlngs:function(){this._point=this._map.latLngToLayerPoint(this._latlng)},_updateStyle:function(){r.Circle.prototype._updateStyle.call(this),this.setRadius(this.options.radius)},setLatLng:function(e){return r.Circle.prototype.setLatLng.call(this,e),this._popup&&this._popup._isOpen&&this._popup.setLatLng(e),this},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius}}),r.circleMarker=function(e,t){return new r.CircleMarker(e,t)},r.Polyline.include(r.Path.CANVAS?{_containsPoint:function(e,t){var i,n,o,a,s,l,c,u=this.options.weight/2;for(r.Browser.touch&&(u+=10),i=0,a=this._parts.length;a>i;i++)for(c=this._parts[i],n=0,s=c.length,o=s-1;s>n;o=n++)if((t||0!==n)&&(l=r.LineUtil.pointToSegmentDistance(e,c[o],c[n]),u>=l))return!0;return!1}}:{}),r.Polygon.include(r.Path.CANVAS?{_containsPoint:function(e){var t,i,n,o,a,s,l,c,u=!1;if(r.Polyline.prototype._containsPoint.call(this,e,!0))return!0;for(o=0,l=this._parts.length;l>o;o++)for(t=this._parts[o],a=0,c=t.length,s=c-1;c>a;s=a++)i=t[a],n=t[s],i.y>e.y!=n.y>e.y&&e.x<(n.x-i.x)*(e.y-i.y)/(n.y-i.y)+i.x&&(u=!u);return u}}:{}),r.Circle.include(r.Path.CANVAS?{_drawPath:function(){var e=this._point;this._ctx.beginPath(),this._ctx.arc(e.x,e.y,this._radius,0,2*Math.PI,!1)},_containsPoint:function(e){var t=this._point,i=this.options.stroke?this.options.weight/2:0;return e.distanceTo(t)<=this._radius+i}}:{}),r.CircleMarker.include(r.Path.CANVAS?{_updateStyle:function(){r.Path.prototype._updateStyle.call(this)}}:{}),r.GeoJSON=r.FeatureGroup.extend({initialize:function(e,t){r.setOptions(this,t),this._layers={},e&&this.addData(e)},addData:function(e){var t,i,n,o=r.Util.isArray(e)?e:e.features;if(o){for(t=0,i=o.length;i>t;t++)n=o[t],(n.geometries||n.geometry||n.features||n.coordinates)&&this.addData(o[t]);return this}var a=this.options;if(!a.filter||a.filter(e)){var s=r.GeoJSON.geometryToLayer(e,a.pointToLayer,a.coordsToLatLng,a);return s.feature=r.GeoJSON.asFeature(e),s.defaultOptions=s.options,this.resetStyle(s),a.onEachFeature&&a.onEachFeature(e,s),this.addLayer(s)}},resetStyle:function(e){var t=this.options.style;t&&(r.Util.extend(e.options,e.defaultOptions),this._setLayerStyle(e,t))},setStyle:function(e){this.eachLayer(function(t){this._setLayerStyle(t,e)},this)},_setLayerStyle:function(e,t){"function"==typeof t&&(t=t(e.feature)),e.setStyle&&e.setStyle(t)}}),r.extend(r.GeoJSON,{geometryToLayer:function(e,t,i,n){var o,a,s,l,c="Feature"===e.type?e.geometry:e,u=c.coordinates,d=[];switch(i=i||this.coordsToLatLng,c.type){case"Point":return o=i(u),t?t(e,o):new r.Marker(o);case"MultiPoint":for(s=0,l=u.length;l>s;s++)o=i(u[s]),d.push(t?t(e,o):new r.Marker(o));return new r.FeatureGroup(d);case"LineString":return a=this.coordsToLatLngs(u,0,i),new r.Polyline(a,n);case"Polygon":if(2===u.length&&!u[1].length)throw new Error("Invalid GeoJSON object.");return a=this.coordsToLatLngs(u,1,i),new r.Polygon(a,n);case"MultiLineString":return a=this.coordsToLatLngs(u,1,i),new r.MultiPolyline(a,n);case"MultiPolygon":return a=this.coordsToLatLngs(u,2,i),new r.MultiPolygon(a,n);case"GeometryCollection":for(s=0,l=c.geometries.length;l>s;s++)d.push(this.geometryToLayer({geometry:c.geometries[s],type:"Feature",properties:e.properties},t,i,n));return new r.FeatureGroup(d);default:throw new Error("Invalid GeoJSON object.")}},coordsToLatLng:function(e){return new r.LatLng(e[1],e[0],e[2])},coordsToLatLngs:function(e,t,i){var n,r,o,a=[];for(r=0,o=e.length;o>r;r++)n=t?this.coordsToLatLngs(e[r],t-1,i):(i||this.coordsToLatLng)(e[r]),a.push(n);return a},latLngToCoords:function(e){var t=[e.lng,e.lat];return e.alt!==i&&t.push(e.alt),t},latLngsToCoords:function(e){for(var t=[],i=0,n=e.length;n>i;i++)t.push(r.GeoJSON.latLngToCoords(e[i]));return t},getFeature:function(e,t){return e.feature?r.extend({},e.feature,{geometry:t}):r.GeoJSON.asFeature(t)},asFeature:function(e){return"Feature"===e.type?e:{type:"Feature",properties:{},geometry:e}}});var a={toGeoJSON:function(){return r.GeoJSON.getFeature(this,{type:"Point",coordinates:r.GeoJSON.latLngToCoords(this.getLatLng())})}};r.Marker.include(a),r.Circle.include(a),r.CircleMarker.include(a),r.Polyline.include({toGeoJSON:function(){return r.GeoJSON.getFeature(this,{type:"LineString",coordinates:r.GeoJSON.latLngsToCoords(this.getLatLngs())})}}),r.Polygon.include({toGeoJSON:function(){var e,t,i,n=[r.GeoJSON.latLngsToCoords(this.getLatLngs())];if(n[0].push(n[0][0]),this._holes)for(e=0,t=this._holes.length;t>e;e++)i=r.GeoJSON.latLngsToCoords(this._holes[e]),i.push(i[0]),n.push(i);return r.GeoJSON.getFeature(this,{type:"Polygon",coordinates:n})}}),function(){function e(e){return function(){var t=[];return this.eachLayer(function(e){t.push(e.toGeoJSON().geometry.coordinates)}),r.GeoJSON.getFeature(this,{type:e,coordinates:t})}}r.MultiPolyline.include({toGeoJSON:e("MultiLineString")}),r.MultiPolygon.include({toGeoJSON:e("MultiPolygon")}),r.LayerGroup.include({toGeoJSON:function(){var t,i=this.feature&&this.feature.geometry,n=[];if(i&&"MultiPoint"===i.type)return e("MultiPoint").call(this);var o=i&&"GeometryCollection"===i.type;return this.eachLayer(function(e){e.toGeoJSON&&(t=e.toGeoJSON(),n.push(o?t.geometry:r.GeoJSON.asFeature(t)))}),o?r.GeoJSON.getFeature(this,{geometries:n,type:"GeometryCollection"}):{type:"FeatureCollection",features:n}}})}(),r.geoJson=function(e,t){return new r.GeoJSON(e,t)},r.DomEvent={addListener:function(e,t,i,n){var o,a,s,l=r.stamp(i),c="_leaflet_"+t+l;return e[c]?this:(o=function(t){return i.call(n||e,t||r.DomEvent._getEvent())},r.Browser.pointer&&0===t.indexOf("touch")?this.addPointerListener(e,t,o,l):(r.Browser.touch&&"dblclick"===t&&this.addDoubleTapListener&&this.addDoubleTapListener(e,o,l),"addEventListener"in e?"mousewheel"===t?(e.addEventListener("DOMMouseScroll",o,!1),e.addEventListener(t,o,!1)):"mouseenter"===t||"mouseleave"===t?(a=o,s="mouseenter"===t?"mouseover":"mouseout",o=function(t){return r.DomEvent._checkMouse(e,t)?a(t):void 0},e.addEventListener(s,o,!1)):"click"===t&&r.Browser.android?(a=o,o=function(e){return r.DomEvent._filterClick(e,a)},e.addEventListener(t,o,!1)):e.addEventListener(t,o,!1):"attachEvent"in e&&e.attachEvent("on"+t,o),e[c]=o,this))},removeListener:function(e,t,i){var n=r.stamp(i),o="_leaflet_"+t+n,a=e[o];return a?(r.Browser.pointer&&0===t.indexOf("touch")?this.removePointerListener(e,t,n):r.Browser.touch&&"dblclick"===t&&this.removeDoubleTapListener?this.removeDoubleTapListener(e,n):"removeEventListener"in e?"mousewheel"===t?(e.removeEventListener("DOMMouseScroll",a,!1),e.removeEventListener(t,a,!1)):"mouseenter"===t||"mouseleave"===t?e.removeEventListener("mouseenter"===t?"mouseover":"mouseout",a,!1):e.removeEventListener(t,a,!1):"detachEvent"in e&&e.detachEvent("on"+t,a),e[o]=null,this):this},stopPropagation:function(e){return e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,r.DomEvent._skipped(e),this},disableScrollPropagation:function(e){var t=r.DomEvent.stopPropagation;return r.DomEvent.on(e,"mousewheel",t).on(e,"MozMousePixelScroll",t)},disableClickPropagation:function(e){for(var t=r.DomEvent.stopPropagation,i=r.Draggable.START.length-1;i>=0;i--)r.DomEvent.on(e,r.Draggable.START[i],t);return r.DomEvent.on(e,"click",r.DomEvent._fakeStop).on(e,"dblclick",t)},preventDefault:function(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this},stop:function(e){return r.DomEvent.preventDefault(e).stopPropagation(e)},getMousePosition:function(e,t){if(!t)return new r.Point(e.clientX,e.clientY);var i=t.getBoundingClientRect();return new r.Point(e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop)},getWheelDelta:function(e){var t=0;return e.wheelDelta&&(t=e.wheelDelta/120),e.detail&&(t=-e.detail/3),t},_skipEvents:{},_fakeStop:function(e){r.DomEvent._skipEvents[e.type]=!0},_skipped:function(e){var t=this._skipEvents[e.type];return this._skipEvents[e.type]=!1,t},_checkMouse:function(e,t){var i=t.relatedTarget;if(!i)return!0;try{for(;i&&i!==e;)i=i.parentNode}catch(e){return!1}return i!==e},_getEvent:function(){var t=e.event;if(!t)for(var i=arguments.callee.caller;i&&(t=i.arguments[0],!t||e.Event!==t.constructor);)i=i.caller;return t},_filterClick:function(e,t){var i=e.timeStamp||e.originalEvent.timeStamp,n=r.DomEvent._lastClick&&i-r.DomEvent._lastClick;return n&&n>100&&500>n||e.target._simulatedClick&&!e._simulated?void r.DomEvent.stop(e):(r.DomEvent._lastClick=i,t(e))}},r.DomEvent.on=r.DomEvent.addListener,r.DomEvent.off=r.DomEvent.removeListener,r.Draggable=r.Class.extend({includes:r.Mixin.Events,statics:{START:r.Browser.touch?["touchstart","mousedown"]:["mousedown"],END:{mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},MOVE:{mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"}},initialize:function(e,t){this._element=e,this._dragStartTarget=t||e},enable:function(){if(!this._enabled){for(var e=r.Draggable.START.length-1;e>=0;e--)r.DomEvent.on(this._dragStartTarget,r.Draggable.START[e],this._onDown,this);this._enabled=!0}},disable:function(){if(this._enabled){for(var e=r.Draggable.START.length-1;e>=0;e--)r.DomEvent.off(this._dragStartTarget,r.Draggable.START[e],this._onDown,this);this._enabled=!1,this._moved=!1}},_onDown:function(e){if(this._moved=!1,!e.shiftKey&&(1===e.which||1===e.button||e.touches)&&(r.DomEvent.stopPropagation(e),!r.Draggable._disabled&&(r.DomUtil.disableImageDrag(),r.DomUtil.disableTextSelection(),!this._moving))){var i=e.touches?e.touches[0]:e;this._startPoint=new r.Point(i.clientX,i.clientY),this._startPos=this._newPos=r.DomUtil.getPosition(this._element),r.DomEvent.on(t,r.Draggable.MOVE[e.type],this._onMove,this).on(t,r.Draggable.END[e.type],this._onUp,this)}},_onMove:function(e){if(e.touches&&e.touches.length>1)return void(this._moved=!0);var i=e.touches&&1===e.touches.length?e.touches[0]:e,n=new r.Point(i.clientX,i.clientY),o=n.subtract(this._startPoint);(o.x||o.y)&&(r.Browser.touch&&Math.abs(o.x)+Math.abs(o.y)<3||(r.DomEvent.preventDefault(e),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=r.DomUtil.getPosition(this._element).subtract(o),r.DomUtil.addClass(t.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,r.DomUtil.addClass(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(o),this._moving=!0,r.Util.cancelAnimFrame(this._animRequest),this._animRequest=r.Util.requestAnimFrame(this._updatePosition,this,!0,this._dragStartTarget)))},_updatePosition:function(){this.fire("predrag"),r.DomUtil.setPosition(this._element,this._newPos),this.fire("drag")},_onUp:function(){r.DomUtil.removeClass(t.body,"leaflet-dragging"),this._lastTarget&&(r.DomUtil.removeClass(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null);for(var e in r.Draggable.MOVE)r.DomEvent.off(t,r.Draggable.MOVE[e],this._onMove).off(t,r.Draggable.END[e],this._onUp);r.DomUtil.enableImageDrag(),r.DomUtil.enableTextSelection(),this._moved&&this._moving&&(r.Util.cancelAnimFrame(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1}}),r.Handler=r.Class.extend({initialize:function(e){this._map=e},enable:function(){this._enabled||(this._enabled=!0,this.addHooks())},disable:function(){this._enabled&&(this._enabled=!1,this.removeHooks())},enabled:function(){return!!this._enabled}}),r.Map.mergeOptions({dragging:!0,inertia:!r.Browser.android23,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,inertiaThreshold:r.Browser.touch?32:18,easeLinearity:.25,worldCopyJump:!1}),r.Map.Drag=r.Handler.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new r.Draggable(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDrag,this),e.on("viewreset",this._onViewReset,this),e.whenReady(this._onViewReset,this))}this._draggable.enable()},removeHooks:function(){this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){var e=this._map;e._panAnim&&e._panAnim.stop(),e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(){if(this._map.options.inertia){var e=this._lastTime=+new Date,t=this._lastPos=this._draggable._newPos;this._positions.push(t),this._times.push(e),e-this._times[0]>200&&(this._positions.shift(),this._times.shift())}this._map.fire("move").fire("drag")},_onViewReset:function(){var e=this._map.getSize()._divideBy(2),t=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=t.subtract(e).x,this._worldWidth=this._map.project([0,180]).x},_onPreDrag:function(){var e=this._worldWidth,t=Math.round(e/2),i=this._initialWorldOffset,n=this._draggable._newPos.x,r=(n-t+i)%e+t-i,o=(n+t+i)%e-t-i,a=Math.abs(r+i)<Math.abs(o+i)?r:o;this._draggable._newPos.x=a},_onDragEnd:function(e){var t=this._map,i=t.options,n=+new Date-this._lastTime,o=!i.inertia||n>i.inertiaThreshold||!this._positions[0];if(t.fire("dragend",e),o)t.fire("moveend");else{var a=this._lastPos.subtract(this._positions[0]),s=(this._lastTime+n-this._times[0])/1e3,l=i.easeLinearity,c=a.multiplyBy(l/s),u=c.distanceTo([0,0]),d=Math.min(i.inertiaMaxSpeed,u),h=c.multiplyBy(d/u),p=d/(i.inertiaDeceleration*l),f=h.multiplyBy(-p/2).round();f.x&&f.y?(f=t._limitOffset(f,t.options.maxBounds),r.Util.requestAnimFrame(function(){t.panBy(f,{duration:p,easeLinearity:l,noMoveStart:!0})})):t.fire("moveend")}}}),r.Map.addInitHook("addHandler","dragging",r.Map.Drag),r.Map.mergeOptions({doubleClickZoom:!0}),r.Map.DoubleClickZoom=r.Handler.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var t=this._map,i=t.getZoom()+(e.originalEvent.shiftKey?-1:1);"center"===t.options.doubleClickZoom?t.setZoom(i):t.setZoomAround(e.containerPoint,i)}}),r.Map.addInitHook("addHandler","doubleClickZoom",r.Map.DoubleClickZoom),r.Map.mergeOptions({scrollWheelZoom:!0}),r.Map.ScrollWheelZoom=r.Handler.extend({addHooks:function(){r.DomEvent.on(this._map._container,"mousewheel",this._onWheelScroll,this),r.DomEvent.on(this._map._container,"MozMousePixelScroll",r.DomEvent.preventDefault),this._delta=0},removeHooks:function(){r.DomEvent.off(this._map._container,"mousewheel",this._onWheelScroll),r.DomEvent.off(this._map._container,"MozMousePixelScroll",r.DomEvent.preventDefault)},_onWheelScroll:function(e){var t=r.DomEvent.getWheelDelta(e);this._delta+=t,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var i=Math.max(40-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(r.bind(this._performZoom,this),i),r.DomEvent.preventDefault(e),r.DomEvent.stopPropagation(e)},_performZoom:function(){var e=this._map,t=this._delta,i=e.getZoom();t=t>0?Math.ceil(t):Math.floor(t),t=Math.max(Math.min(t,4),-4),t=e._limitZoom(i+t)-i,this._delta=0,this._startTime=null,t&&("center"===e.options.scrollWheelZoom?e.setZoom(i+t):e.setZoomAround(this._lastMousePos,i+t))}}),r.Map.addInitHook("addHandler","scrollWheelZoom",r.Map.ScrollWheelZoom),r.extend(r.DomEvent,{_touchstart:r.Browser.msPointer?"MSPointerDown":r.Browser.pointer?"pointerdown":"touchstart",_touchend:r.Browser.msPointer?"MSPointerUp":r.Browser.pointer?"pointerup":"touchend",addDoubleTapListener:function(e,i,n){function o(e){var t;if(r.Browser.pointer?(f.push(e.pointerId),t=f.length):t=e.touches.length,!(t>1)){var i=Date.now(),n=i-(s||i);l=e.touches?e.touches[0]:e,c=n>0&&u>=n,s=i}}function a(e){if(r.Browser.pointer){var t=f.indexOf(e.pointerId);if(-1===t)return;f.splice(t,1)}if(c){if(r.Browser.pointer){var n,o={};for(var a in l)n=l[a],"function"==typeof n?o[a]=n.bind(l):o[a]=n;l=o}l.type="dblclick",i(l),s=null}}var s,l,c=!1,u=250,d="_leaflet_",h=this._touchstart,p=this._touchend,f=[];e[d+h+n]=o,e[d+p+n]=a;var m=r.Browser.pointer?t.documentElement:e;return e.addEventListener(h,o,!1),m.addEventListener(p,a,!1),r.Browser.pointer&&m.addEventListener(r.DomEvent.POINTER_CANCEL,a,!1),this},removeDoubleTapListener:function(e,i){var n="_leaflet_";return e.removeEventListener(this._touchstart,e[n+this._touchstart+i],!1),(r.Browser.pointer?t.documentElement:e).removeEventListener(this._touchend,e[n+this._touchend+i],!1),r.Browser.pointer&&t.documentElement.removeEventListener(r.DomEvent.POINTER_CANCEL,e[n+this._touchend+i],!1),this}}),r.extend(r.DomEvent,{POINTER_DOWN:r.Browser.msPointer?"MSPointerDown":"pointerdown",POINTER_MOVE:r.Browser.msPointer?"MSPointerMove":"pointermove",POINTER_UP:r.Browser.msPointer?"MSPointerUp":"pointerup",POINTER_CANCEL:r.Browser.msPointer?"MSPointerCancel":"pointercancel",_pointers:[],_pointerDocumentListener:!1,addPointerListener:function(e,t,i,n){switch(t){case"touchstart":return this.addPointerListenerStart(e,t,i,n);case"touchend":return this.addPointerListenerEnd(e,t,i,n);case"touchmove":return this.addPointerListenerMove(e,t,i,n);default:throw"Unknown touch event type"}},addPointerListenerStart:function(e,i,n,o){var a="_leaflet_",s=this._pointers,l=function(e){"mouse"!==e.pointerType&&e.pointerType!==e.MSPOINTER_TYPE_MOUSE&&r.DomEvent.preventDefault(e);for(var t=!1,i=0;i<s.length;i++)if(s[i].pointerId===e.pointerId){t=!0;break}t||s.push(e),e.touches=s.slice(),e.changedTouches=[e],n(e)};if(e[a+"touchstart"+o]=l,e.addEventListener(this.POINTER_DOWN,l,!1),!this._pointerDocumentListener){var c=function(e){for(var t=0;t<s.length;t++)if(s[t].pointerId===e.pointerId){s.splice(t,1);break}};t.documentElement.addEventListener(this.POINTER_UP,c,!1),t.documentElement.addEventListener(this.POINTER_CANCEL,c,!1),this._pointerDocumentListener=!0}return this},addPointerListenerMove:function(e,t,i,n){function r(e){if(e.pointerType!==e.MSPOINTER_TYPE_MOUSE&&"mouse"!==e.pointerType||0!==e.buttons){for(var t=0;t<a.length;t++)if(a[t].pointerId===e.pointerId){a[t]=e;break}e.touches=a.slice(),e.changedTouches=[e],i(e)}}var o="_leaflet_",a=this._pointers;return e[o+"touchmove"+n]=r,e.addEventListener(this.POINTER_MOVE,r,!1),this},addPointerListenerEnd:function(e,t,i,n){var r="_leaflet_",o=this._pointers,a=function(e){for(var t=0;t<o.length;t++)if(o[t].pointerId===e.pointerId){o.splice(t,1);break}e.touches=o.slice(),e.changedTouches=[e],i(e)};return e[r+"touchend"+n]=a,e.addEventListener(this.POINTER_UP,a,!1),e.addEventListener(this.POINTER_CANCEL,a,!1),this},removePointerListener:function(e,t,i){var n="_leaflet_",r=e[n+t+i];switch(t){case"touchstart":e.removeEventListener(this.POINTER_DOWN,r,!1);break;case"touchmove":e.removeEventListener(this.POINTER_MOVE,r,!1);break;case"touchend":e.removeEventListener(this.POINTER_UP,r,!1),e.removeEventListener(this.POINTER_CANCEL,r,!1)}return this}}),r.Map.mergeOptions({touchZoom:r.Browser.touch&&!r.Browser.android23,bounceAtZoomLimits:!0}),r.Map.TouchZoom=r.Handler.extend({addHooks:function(){r.DomEvent.on(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){r.DomEvent.off(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var i=this._map;if(e.touches&&2===e.touches.length&&!i._animatingZoom&&!this._zooming){var n=i.mouseEventToLayerPoint(e.touches[0]),o=i.mouseEventToLayerPoint(e.touches[1]),a=i._getCenterLayerPoint();this._startCenter=n.add(o)._divideBy(2),this._startDist=n.distanceTo(o),this._moved=!1,this._zooming=!0,this._centerOffset=a.subtract(this._startCenter),i._panAnim&&i._panAnim.stop(),r.DomEvent.on(t,"touchmove",this._onTouchMove,this).on(t,"touchend",this._onTouchEnd,this),r.DomEvent.preventDefault(e)}},_onTouchMove:function(e){var t=this._map;if(e.touches&&2===e.touches.length&&this._zooming){var i=t.mouseEventToLayerPoint(e.touches[0]),n=t.mouseEventToLayerPoint(e.touches[1]);this._scale=i.distanceTo(n)/this._startDist,this._delta=i._add(n)._divideBy(2)._subtract(this._startCenter),1!==this._scale&&(t.options.bounceAtZoomLimits||!(t.getZoom()===t.getMinZoom()&&this._scale<1||t.getZoom()===t.getMaxZoom()&&this._scale>1))&&(this._moved||(r.DomUtil.addClass(t._mapPane,"leaflet-touching"),t.fire("movestart").fire("zoomstart"),this._moved=!0),r.Util.cancelAnimFrame(this._animRequest),this._animRequest=r.Util.requestAnimFrame(this._updateOnMove,this,!0,this._map._container),r.DomEvent.preventDefault(e))}},_updateOnMove:function(){var e=this._map,t=this._getScaleOrigin(),i=e.layerPointToLatLng(t),n=e.getScaleZoom(this._scale);e._animateZoom(i,n,this._startCenter,this._scale,this._delta,!1,!0)},_onTouchEnd:function(){if(!this._moved||!this._zooming)return void(this._zooming=!1);var e=this._map;this._zooming=!1,r.DomUtil.removeClass(e._mapPane,"leaflet-touching"),r.Util.cancelAnimFrame(this._animRequest),r.DomEvent.off(t,"touchmove",this._onTouchMove).off(t,"touchend",this._onTouchEnd);var i=this._getScaleOrigin(),n=e.layerPointToLatLng(i),o=e.getZoom(),a=e.getScaleZoom(this._scale)-o,s=a>0?Math.ceil(a):Math.floor(a),l=e._limitZoom(o+s),c=e.getZoomScale(l)/this._scale;e._animateZoom(n,l,i,c)},_getScaleOrigin:function(){var e=this._centerOffset.subtract(this._delta).divideBy(this._scale);return this._startCenter.add(e)}}),r.Map.addInitHook("addHandler","touchZoom",r.Map.TouchZoom),r.Map.mergeOptions({tap:!0,tapTolerance:15}),r.Map.Tap=r.Handler.extend({addHooks:function(){r.DomEvent.on(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){r.DomEvent.off(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(e.touches){if(r.DomEvent.preventDefault(e),this._fireClick=!0,e.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var i=e.touches[0],n=i.target;this._startPos=this._newPos=new r.Point(i.clientX,i.clientY),n.tagName&&"a"===n.tagName.toLowerCase()&&r.DomUtil.addClass(n,"leaflet-active"),this._holdTimeout=setTimeout(r.bind(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",i))},this),1e3),r.DomEvent.on(t,"touchmove",this._onMove,this).on(t,"touchend",this._onUp,this)}},_onUp:function(e){if(clearTimeout(this._holdTimeout),r.DomEvent.off(t,"touchmove",this._onMove,this).off(t,"touchend",this._onUp,this),this._fireClick&&e&&e.changedTouches){var i=e.changedTouches[0],n=i.target;n&&n.tagName&&"a"===n.tagName.toLowerCase()&&r.DomUtil.removeClass(n,"leaflet-active"),this._isTapValid()&&this._simulateEvent("click",i)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(e){var t=e.touches[0];this._newPos=new r.Point(t.clientX,t.clientY)},_simulateEvent:function(i,n){var r=t.createEvent("MouseEvents");r._simulated=!0,n.target._simulatedClick=!0,r.initMouseEvent(i,!0,!0,e,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),n.target.dispatchEvent(r)}}),r.Browser.touch&&!r.Browser.pointer&&r.Map.addInitHook("addHandler","tap",r.Map.Tap),r.Map.mergeOptions({boxZoom:!0}),r.Map.BoxZoom=r.Handler.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._moved=!1},addHooks:function(){r.DomEvent.on(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){r.DomEvent.off(this._container,"mousedown",this._onMouseDown),this._moved=!1},moved:function(){return this._moved},_onMouseDown:function(e){return this._moved=!1,!(!e.shiftKey||1!==e.which&&1!==e.button)&&(r.DomUtil.disableTextSelection(),r.DomUtil.disableImageDrag(),this._startLayerPoint=this._map.mouseEventToLayerPoint(e),void r.DomEvent.on(t,"mousemove",this._onMouseMove,this).on(t,"mouseup",this._onMouseUp,this).on(t,"keydown",this._onKeyDown,this))},_onMouseMove:function(e){this._moved||(this._box=r.DomUtil.create("div","leaflet-zoom-box",this._pane),r.DomUtil.setPosition(this._box,this._startLayerPoint),this._container.style.cursor="crosshair",this._map.fire("boxzoomstart"));var t=this._startLayerPoint,i=this._box,n=this._map.mouseEventToLayerPoint(e),o=n.subtract(t),a=new r.Point(Math.min(n.x,t.x),Math.min(n.y,t.y));r.DomUtil.setPosition(i,a),this._moved=!0,i.style.width=Math.max(0,Math.abs(o.x)-4)+"px",i.style.height=Math.max(0,Math.abs(o.y)-4)+"px"},_finish:function(){this._moved&&(this._pane.removeChild(this._box),this._container.style.cursor=""),r.DomUtil.enableTextSelection(),r.DomUtil.enableImageDrag(),r.DomEvent.off(t,"mousemove",this._onMouseMove).off(t,"mouseup",this._onMouseUp).off(t,"keydown",this._onKeyDown)},_onMouseUp:function(e){this._finish();var t=this._map,i=t.mouseEventToLayerPoint(e);if(!this._startLayerPoint.equals(i)){
var n=new r.LatLngBounds(t.layerPointToLatLng(this._startLayerPoint),t.layerPointToLatLng(i));t.fitBounds(n),t.fire("boxzoomend",{boxZoomBounds:n})}},_onKeyDown:function(e){27===e.keyCode&&this._finish()}}),r.Map.addInitHook("addHandler","boxZoom",r.Map.BoxZoom),r.Map.mergeOptions({keyboard:!0,keyboardPanOffset:80,keyboardZoomOffset:1}),r.Map.Keyboard=r.Handler.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,173]},initialize:function(e){this._map=e,this._setPanOffset(e.options.keyboardPanOffset),this._setZoomOffset(e.options.keyboardZoomOffset)},addHooks:function(){var e=this._map._container;-1===e.tabIndex&&(e.tabIndex="0"),r.DomEvent.on(e,"focus",this._onFocus,this).on(e,"blur",this._onBlur,this).on(e,"mousedown",this._onMouseDown,this),this._map.on("focus",this._addHooks,this).on("blur",this._removeHooks,this)},removeHooks:function(){this._removeHooks();var e=this._map._container;r.DomEvent.off(e,"focus",this._onFocus,this).off(e,"blur",this._onBlur,this).off(e,"mousedown",this._onMouseDown,this),this._map.off("focus",this._addHooks,this).off("blur",this._removeHooks,this)},_onMouseDown:function(){if(!this._focused){var i=t.body,n=t.documentElement,r=i.scrollTop||n.scrollTop,o=i.scrollLeft||n.scrollLeft;this._map._container.focus(),e.scrollTo(o,r)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanOffset:function(e){var t,i,n=this._panKeys={},r=this.keyCodes;for(t=0,i=r.left.length;i>t;t++)n[r.left[t]]=[-1*e,0];for(t=0,i=r.right.length;i>t;t++)n[r.right[t]]=[e,0];for(t=0,i=r.down.length;i>t;t++)n[r.down[t]]=[0,e];for(t=0,i=r.up.length;i>t;t++)n[r.up[t]]=[0,-1*e]},_setZoomOffset:function(e){var t,i,n=this._zoomKeys={},r=this.keyCodes;for(t=0,i=r.zoomIn.length;i>t;t++)n[r.zoomIn[t]]=e;for(t=0,i=r.zoomOut.length;i>t;t++)n[r.zoomOut[t]]=-e},_addHooks:function(){r.DomEvent.on(t,"keydown",this._onKeyDown,this)},_removeHooks:function(){r.DomEvent.off(t,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){var t=e.keyCode,i=this._map;if(t in this._panKeys){if(i._panAnim&&i._panAnim._inProgress)return;i.panBy(this._panKeys[t]),i.options.maxBounds&&i.panInsideBounds(i.options.maxBounds)}else{if(!(t in this._zoomKeys))return;i.setZoom(i.getZoom()+this._zoomKeys[t])}r.DomEvent.stop(e)}}),r.Map.addInitHook("addHandler","keyboard",r.Map.Keyboard),r.Handler.MarkerDrag=r.Handler.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new r.Draggable(e,e)),this._draggable.on("dragstart",this._onDragStart,this).on("drag",this._onDrag,this).on("dragend",this._onDragEnd,this),this._draggable.enable(),r.DomUtil.addClass(this._marker._icon,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off("dragstart",this._onDragStart,this).off("drag",this._onDrag,this).off("dragend",this._onDragEnd,this),this._draggable.disable(),r.DomUtil.removeClass(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){this._marker.closePopup().fire("movestart").fire("dragstart")},_onDrag:function(){var e=this._marker,t=e._shadow,i=r.DomUtil.getPosition(e._icon),n=e._map.layerPointToLatLng(i);t&&r.DomUtil.setPosition(t,i),e._latlng=n,e.fire("move",{latlng:n}).fire("drag")},_onDragEnd:function(e){this._marker.fire("moveend").fire("dragend",e)}}),r.Control=r.Class.extend({options:{position:"topright"},initialize:function(e){r.setOptions(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var t=this._map;return t&&t.removeControl(this),this.options.position=e,t&&t.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this._map=e;var t=this._container=this.onAdd(e),i=this.getPosition(),n=e._controlCorners[i];return r.DomUtil.addClass(t,"leaflet-control"),-1!==i.indexOf("bottom")?n.insertBefore(t,n.firstChild):n.appendChild(t),this},removeFrom:function(e){var t=this.getPosition(),i=e._controlCorners[t];return i.removeChild(this._container),this._map=null,this.onRemove&&this.onRemove(e),this},_refocusOnMap:function(){this._map&&this._map.getContainer().focus()}}),r.control=function(e){return new r.Control(e)},r.Map.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.removeFrom(this),this},_initControlPos:function(){function e(e,o){var a=i+e+" "+i+o;t[e+o]=r.DomUtil.create("div",a,n)}var t=this._controlCorners={},i="leaflet-",n=this._controlContainer=r.DomUtil.create("div",i+"control-container",this._container);e("top","left"),e("top","right"),e("bottom","left"),e("bottom","right")},_clearControlPos:function(){this._container.removeChild(this._controlContainer)}}),r.Control.Zoom=r.Control.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"-",zoomOutTitle:"Zoom out"},onAdd:function(e){var t="leaflet-control-zoom",i=r.DomUtil.create("div",t+" leaflet-bar");return this._map=e,this._zoomInButton=this._createButton(this.options.zoomInText,this.options.zoomInTitle,t+"-in",i,this._zoomIn,this),this._zoomOutButton=this._createButton(this.options.zoomOutText,this.options.zoomOutTitle,t+"-out",i,this._zoomOut,this),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),i},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},_zoomIn:function(e){this._map.zoomIn(e.shiftKey?3:1)},_zoomOut:function(e){this._map.zoomOut(e.shiftKey?3:1)},_createButton:function(e,t,i,n,o,a){var s=r.DomUtil.create("a",i,n);s.innerHTML=e,s.href="#",s.title=t;var l=r.DomEvent.stopPropagation;return r.DomEvent.on(s,"click",l).on(s,"mousedown",l).on(s,"dblclick",l).on(s,"click",r.DomEvent.preventDefault).on(s,"click",o,a).on(s,"click",this._refocusOnMap,a),s},_updateDisabled:function(){var e=this._map,t="leaflet-disabled";r.DomUtil.removeClass(this._zoomInButton,t),r.DomUtil.removeClass(this._zoomOutButton,t),e._zoom===e.getMinZoom()&&r.DomUtil.addClass(this._zoomOutButton,t),e._zoom===e.getMaxZoom()&&r.DomUtil.addClass(this._zoomInButton,t)}}),r.Map.mergeOptions({zoomControl:!0}),r.Map.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new r.Control.Zoom,this.addControl(this.zoomControl))}),r.control.zoom=function(e){return new r.Control.Zoom(e)},r.Control.Attribution=r.Control.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(e){r.setOptions(this,e),this._attributions={}},onAdd:function(e){this._container=r.DomUtil.create("div","leaflet-control-attribution"),r.DomEvent.disableClickPropagation(this._container);for(var t in e._layers)e._layers[t].getAttribution&&this.addAttribution(e._layers[t].getAttribution());return e.on("layeradd",this._onLayerAdd,this).on("layerremove",this._onLayerRemove,this),this._update(),this._container},onRemove:function(e){e.off("layeradd",this._onLayerAdd).off("layerremove",this._onLayerRemove)},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):void 0},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):void 0},_update:function(){if(this._map){var e=[];for(var t in this._attributions)this._attributions[t]&&e.push(t);var i=[];this.options.prefix&&i.push(this.options.prefix),e.length&&i.push(e.join(", ")),this._container.innerHTML=i.join(" | ")}},_onLayerAdd:function(e){e.layer.getAttribution&&this.addAttribution(e.layer.getAttribution())},_onLayerRemove:function(e){e.layer.getAttribution&&this.removeAttribution(e.layer.getAttribution())}}),r.Map.mergeOptions({attributionControl:!0}),r.Map.addInitHook(function(){this.options.attributionControl&&(this.attributionControl=(new r.Control.Attribution).addTo(this))}),r.control.attribution=function(e){return new r.Control.Attribution(e)},r.Control.Scale=r.Control.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0,updateWhenIdle:!1},onAdd:function(e){this._map=e;var t="leaflet-control-scale",i=r.DomUtil.create("div",t),n=this.options;return this._addScales(n,t,i),e.on(n.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),i},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,t,i){e.metric&&(this._mScale=r.DomUtil.create("div",t+"-line",i)),e.imperial&&(this._iScale=r.DomUtil.create("div",t+"-line",i))},_update:function(){var e=this._map.getBounds(),t=e.getCenter().lat,i=6378137*Math.PI*Math.cos(t*Math.PI/180),n=i*(e.getNorthEast().lng-e.getSouthWest().lng)/180,r=this._map.getSize(),o=this.options,a=0;r.x>0&&(a=n*(o.maxWidth/r.x)),this._updateScales(o,a)},_updateScales:function(e,t){e.metric&&t&&this._updateMetric(t),e.imperial&&t&&this._updateImperial(t)},_updateMetric:function(e){var t=this._getRoundNum(e);this._mScale.style.width=this._getScaleWidth(t/e)+"px",this._mScale.innerHTML=1e3>t?t+" m":t/1e3+" km"},_updateImperial:function(e){var t,i,n,r=3.2808399*e,o=this._iScale;r>5280?(t=r/5280,i=this._getRoundNum(t),o.style.width=this._getScaleWidth(i/t)+"px",o.innerHTML=i+" mi"):(n=this._getRoundNum(r),o.style.width=this._getScaleWidth(n/r)+"px",o.innerHTML=n+" ft")},_getScaleWidth:function(e){return Math.round(this.options.maxWidth*e)-10},_getRoundNum:function(e){var t=Math.pow(10,(Math.floor(e)+"").length-1),i=e/t;return i=i>=10?10:i>=5?5:i>=3?3:i>=2?2:1,t*i}}),r.control.scale=function(e){return new r.Control.Scale(e)},r.Control.Layers=r.Control.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0},initialize:function(e,t,i){r.setOptions(this,i),this._layers={},this._lastZIndex=0,this._handlingClick=!1;for(var n in e)this._addLayer(e[n],n);for(n in t)this._addLayer(t[n],n,!0)},onAdd:function(e){return this._initLayout(),this._update(),e.on("layeradd",this._onLayerChange,this).on("layerremove",this._onLayerChange,this),this._container},onRemove:function(e){e.off("layeradd",this._onLayerChange,this).off("layerremove",this._onLayerChange,this)},addBaseLayer:function(e,t){return this._addLayer(e,t),this._update(),this},addOverlay:function(e,t){return this._addLayer(e,t,!0),this._update(),this},removeLayer:function(e){var t=r.stamp(e);return delete this._layers[t],this._update(),this},_initLayout:function(){var e="leaflet-control-layers",t=this._container=r.DomUtil.create("div",e);t.setAttribute("aria-haspopup",!0),r.Browser.touch?r.DomEvent.on(t,"click",r.DomEvent.stopPropagation):r.DomEvent.disableClickPropagation(t).disableScrollPropagation(t);var i=this._form=r.DomUtil.create("form",e+"-list");if(this.options.collapsed){r.Browser.android||r.DomEvent.on(t,"mouseover",this._expand,this).on(t,"mouseout",this._collapse,this);var n=this._layersLink=r.DomUtil.create("a",e+"-toggle",t);n.href="#",n.title="Layers",r.Browser.touch?r.DomEvent.on(n,"click",r.DomEvent.stop).on(n,"click",this._expand,this):r.DomEvent.on(n,"focus",this._expand,this),r.DomEvent.on(i,"click",function(){setTimeout(r.bind(this._onInputClick,this),0)},this),this._map.on("click",this._collapse,this)}else this._expand();this._baseLayersList=r.DomUtil.create("div",e+"-base",i),this._separator=r.DomUtil.create("div",e+"-separator",i),this._overlaysList=r.DomUtil.create("div",e+"-overlays",i),t.appendChild(i)},_addLayer:function(e,t,i){var n=r.stamp(e);this._layers[n]={layer:e,name:t,overlay:i},this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex))},_update:function(){if(this._container){this._baseLayersList.innerHTML="",this._overlaysList.innerHTML="";var e,t,i=!1,n=!1;for(e in this._layers)t=this._layers[e],this._addItem(t),n=n||t.overlay,i=i||!t.overlay;this._separator.style.display=n&&i?"":"none"}},_onLayerChange:function(e){var t=this._layers[r.stamp(e.layer)];if(t){this._handlingClick||this._update();var i=t.overlay?"layeradd"===e.type?"overlayadd":"overlayremove":"layeradd"===e.type?"baselayerchange":null;i&&this._map.fire(i,t)}},_createRadioElement:function(e,i){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"';i&&(n+=' checked="checked"'),n+="/>";var r=t.createElement("div");return r.innerHTML=n,r.firstChild},_addItem:function(e){var i,n=t.createElement("label"),o=this._map.hasLayer(e.layer);e.overlay?(i=t.createElement("input"),i.type="checkbox",i.className="leaflet-control-layers-selector",i.defaultChecked=o):i=this._createRadioElement("leaflet-base-layers",o),i.layerId=r.stamp(e.layer),r.DomEvent.on(i,"click",this._onInputClick,this);var a=t.createElement("span");a.innerHTML=" "+e.name,n.appendChild(i),n.appendChild(a);var s=e.overlay?this._overlaysList:this._baseLayersList;return s.appendChild(n),n},_onInputClick:function(){var e,t,i,n=this._form.getElementsByTagName("input"),r=n.length;for(this._handlingClick=!0,e=0;r>e;e++)t=n[e],i=this._layers[t.layerId],t.checked&&!this._map.hasLayer(i.layer)?this._map.addLayer(i.layer):!t.checked&&this._map.hasLayer(i.layer)&&this._map.removeLayer(i.layer);this._handlingClick=!1,this._refocusOnMap()},_expand:function(){r.DomUtil.addClass(this._container,"leaflet-control-layers-expanded")},_collapse:function(){this._container.className=this._container.className.replace(" leaflet-control-layers-expanded","")}}),r.control.layers=function(e,t,i){return new r.Control.Layers(e,t,i)},r.PosAnimation=r.Class.extend({includes:r.Mixin.Events,run:function(e,t,i,n){this.stop(),this._el=e,this._inProgress=!0,this._newPos=t,this.fire("start"),e.style[r.DomUtil.TRANSITION]="all "+(i||.25)+"s cubic-bezier(0,0,"+(n||.5)+",1)",r.DomEvent.on(e,r.DomUtil.TRANSITION_END,this._onTransitionEnd,this),r.DomUtil.setPosition(e,t),r.Util.falseFn(e.offsetWidth),this._stepTimer=setInterval(r.bind(this._onStep,this),50)},stop:function(){this._inProgress&&(r.DomUtil.setPosition(this._el,this._getPos()),this._onTransitionEnd(),r.Util.falseFn(this._el.offsetWidth))},_onStep:function(){var e=this._getPos();return e?(this._el._leaflet_pos=e,void this.fire("step")):void this._onTransitionEnd()},_transformRe:/([-+]?(?:\d*\.)?\d+)\D*, ([-+]?(?:\d*\.)?\d+)\D*\)/,_getPos:function(){var t,i,n,o=this._el,a=e.getComputedStyle(o);if(r.Browser.any3d){if(n=a[r.DomUtil.TRANSFORM].match(this._transformRe),!n)return;t=parseFloat(n[1]),i=parseFloat(n[2])}else t=parseFloat(a.left),i=parseFloat(a.top);return new r.Point(t,i,(!0))},_onTransitionEnd:function(){r.DomEvent.off(this._el,r.DomUtil.TRANSITION_END,this._onTransitionEnd,this),this._inProgress&&(this._inProgress=!1,this._el.style[r.DomUtil.TRANSITION]="",this._el._leaflet_pos=this._newPos,clearInterval(this._stepTimer),this.fire("step").fire("end"))}}),r.Map.include({setView:function(e,t,n){if(t=t===i?this._zoom:this._limitZoom(t),e=this._limitCenter(r.latLng(e),t,this.options.maxBounds),n=n||{},this._panAnim&&this._panAnim.stop(),this._loaded&&!n.reset&&n!==!0){n.animate!==i&&(n.zoom=r.extend({animate:n.animate},n.zoom),n.pan=r.extend({animate:n.animate},n.pan));var o=this._zoom!==t?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,t,n.zoom):this._tryAnimatedPan(e,n.pan);if(o)return clearTimeout(this._sizeTimer),this}return this._resetView(e,t),this},panBy:function(e,t){if(e=r.point(e).round(),t=t||{},!e.x&&!e.y)return this;if(this._panAnim||(this._panAnim=new r.PosAnimation,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),t.noMoveStart||this.fire("movestart"),t.animate!==!1){r.DomUtil.addClass(this._mapPane,"leaflet-pan-anim");var i=this._getMapPanePos().subtract(e);this._panAnim.run(this._mapPane,i,t.duration||.25,t.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){r.DomUtil.removeClass(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,t){var i=this._getCenterOffset(e)._floor();return!((t&&t.animate)!==!0&&!this.getSize().contains(i))&&(this.panBy(i,t),!0)}}),r.PosAnimation=r.DomUtil.TRANSITION?r.PosAnimation:r.PosAnimation.extend({run:function(e,t,i,n){this.stop(),this._el=e,this._inProgress=!0,this._duration=i||.25,this._easeOutPower=1/Math.max(n||.5,.2),this._startPos=r.DomUtil.getPosition(e),this._offset=t.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(),this._complete())},_animate:function(){this._animId=r.Util.requestAnimFrame(this._animate,this),this._step()},_step:function(){var e=+new Date-this._startTime,t=1e3*this._duration;t>e?this._runFrame(this._easeOut(e/t)):(this._runFrame(1),this._complete())},_runFrame:function(e){var t=this._startPos.add(this._offset.multiplyBy(e));r.DomUtil.setPosition(this._el,t),this.fire("step")},_complete:function(){r.Util.cancelAnimFrame(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),r.Map.mergeOptions({zoomAnimation:!0,zoomAnimationThreshold:4}),r.DomUtil.TRANSITION&&r.Map.addInitHook(function(){this._zoomAnimated=this.options.zoomAnimation&&r.DomUtil.TRANSITION&&r.Browser.any3d&&!r.Browser.android23&&!r.Browser.mobileOpera,this._zoomAnimated&&r.DomEvent.on(this._mapPane,r.DomUtil.TRANSITION_END,this._catchTransitionEnd,this)}),r.Map.include(r.DomUtil.TRANSITION?{_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,t,i){if(this._animatingZoom)return!0;if(i=i||{},!this._zoomAnimated||i.animate===!1||this._nothingToAnimate()||Math.abs(t-this._zoom)>this.options.zoomAnimationThreshold)return!1;var n=this.getZoomScale(t),r=this._getCenterOffset(e)._divideBy(1-1/n),o=this._getCenterLayerPoint()._add(r);return!(i.animate!==!0&&!this.getSize().contains(r))&&(this.fire("movestart").fire("zoomstart"),this._animateZoom(e,t,o,n,null,!0),!0)},_animateZoom:function(e,t,i,n,o,a,s){s||(this._animatingZoom=!0),r.DomUtil.addClass(this._mapPane,"leaflet-zoom-anim"),this._animateToCenter=e,this._animateToZoom=t,r.Draggable&&(r.Draggable._disabled=!0),r.Util.requestAnimFrame(function(){this.fire("zoomanim",{center:e,zoom:t,origin:i,scale:n,delta:o,backwards:a}),setTimeout(r.bind(this._onZoomTransitionEnd,this),250)},this)},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._animatingZoom=!1,r.DomUtil.removeClass(this._mapPane,"leaflet-zoom-anim"),r.Util.requestAnimFrame(function(){this._resetView(this._animateToCenter,this._animateToZoom,!0,!0),r.Draggable&&(r.Draggable._disabled=!1)},this))}}:{}),r.TileLayer.include({_animateZoom:function(e){this._animating||(this._animating=!0,this._prepareBgBuffer());var t=this._bgBuffer,i=r.DomUtil.TRANSFORM,n=e.delta?r.DomUtil.getTranslateString(e.delta):t.style[i],o=r.DomUtil.getScaleString(e.scale,e.origin);t.style[i]=e.backwards?o+" "+n:n+" "+o},_endZoomAnim:function(){var e=this._tileContainer,t=this._bgBuffer;e.style.visibility="",e.parentNode.appendChild(e),r.Util.falseFn(t.offsetWidth);var i=this._map.getZoom();(i>this.options.maxZoom||i<this.options.minZoom)&&this._clearBgBuffer(),this._animating=!1},_clearBgBuffer:function(){var e=this._map;!e||e._animatingZoom||e.touchZoom._zooming||(this._bgBuffer.innerHTML="",this._bgBuffer.style[r.DomUtil.TRANSFORM]="")},_prepareBgBuffer:function(){var e=this._tileContainer,t=this._bgBuffer,i=this._getLoadedTilesPercentage(t),n=this._getLoadedTilesPercentage(e);return t&&i>.5&&.5>n?(e.style.visibility="hidden",void this._stopLoadingImages(e)):(t.style.visibility="hidden",t.style[r.DomUtil.TRANSFORM]="",this._tileContainer=t,t=this._bgBuffer=e,this._stopLoadingImages(t),void clearTimeout(this._clearBgBufferTimer))},_getLoadedTilesPercentage:function(e){var t,i,n=e.getElementsByTagName("img"),r=0;for(t=0,i=n.length;i>t;t++)n[t].complete&&r++;return r/i},_stopLoadingImages:function(e){var t,i,n,o=Array.prototype.slice.call(e.getElementsByTagName("img"));for(t=0,i=o.length;i>t;t++)n=o[t],n.complete||(n.onload=r.Util.falseFn,n.onerror=r.Util.falseFn,n.src=r.Util.emptyImageUrl,n.parentNode.removeChild(n))}}),r.Map.include({_defaultLocateOptions:{watch:!1,setView:!1,maxZoom:1/0,timeout:1e4,maximumAge:0,enableHighAccuracy:!1},locate:function(e){if(e=this._locateOptions=r.extend(this._defaultLocateOptions,e),!navigator.geolocation)return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var t=r.bind(this._handleGeolocationResponse,this),i=r.bind(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(t,i,e):navigator.geolocation.getCurrentPosition(t,i,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){var t=e.code,i=e.message||(1===t?"permission denied":2===t?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:t,message:"Geolocation error: "+i+"."})},_handleGeolocationResponse:function(e){var t=e.coords.latitude,i=e.coords.longitude,n=new r.LatLng(t,i),o=180*e.coords.accuracy/40075017,a=o/Math.cos(r.LatLng.DEG_TO_RAD*t),s=r.latLngBounds([t-o,i-a],[t+o,i+a]),l=this._locateOptions;if(l.setView){var c=Math.min(this.getBoundsZoom(s),l.maxZoom);this.setView(n,c)}var u={latlng:n,bounds:s,timestamp:e.timestamp};for(var d in e.coords)"number"==typeof e.coords[d]&&(u[d]=e.coords[d]);this.fire("locationfound",u)}})}(window,document),function(angular){"use strict";!function(angular){angular.module("leaflet-directive",[]).directive("leaflet",["$q","leafletData","leafletMapDefaults","leafletHelpers","leafletMapEvents",function(e,t,i,n,r){return{restrict:"EA",replace:!0,scope:{center:"=",lfCenter:"=",defaults:"=",maxbounds:"=",bounds:"=",markers:"=",legend:"=",geojson:"=",paths:"=",tiles:"=",layers:"=",controls:"=",decorations:"=",eventBroadcast:"=",markersWatchOptions:"=",geojsonWatchOptions:"="},transclude:!0,template:'<div class="angular-leaflet-map"><div ng-transclude></div></div>',controller:["$scope",function(t){this._leafletMap=e.defer(),this.getMap=function(){return this._leafletMap.promise},this.getLeafletScope=function(){return t}}],link:function(e,o,a,s){function l(){isNaN(a.width)?o.css("width",a.width):o.css("width",a.width+"px")}function c(){isNaN(a.height)?o.css("height",a.height):o.css("height",a.height+"px")}var u=n.isDefined,d=i.setDefaults(e.defaults,a.id),h=r.getAvailableMapEvents(),p=r.addEvents;e.mapId=a.id,t.setDirectiveControls({},a.id),u(a.width)&&(l(),e.$watch(function(){return o[0].getAttribute("width")},function(){l(),f.invalidateSize()})),u(a.height)&&(c(),e.$watch(function(){return o[0].getAttribute("height")},function(){c(),f.invalidateSize()}));var f=new L.Map(o[0],i.getMapCreationDefaults(a.id));if(s._leafletMap.resolve(f),u(a.center)||u(a.lfCenter)||f.setView([d.center.lat,d.center.lng],d.center.zoom),!u(a.tiles)&&!u(a.layers)){var m=L.tileLayer(d.tileLayer,d.tileLayerOptions);m.addTo(f),t.setTiles(m,a.id)}if(u(f.zoomControl)&&u(d.zoomControlPosition)&&f.zoomControl.setPosition(d.zoomControlPosition),u(f.zoomControl)&&d.zoomControl===!1&&f.zoomControl.removeFrom(f),u(f.zoomsliderControl)&&u(d.zoomsliderControl)&&d.zoomsliderControl===!1&&f.zoomsliderControl.removeFrom(f),!u(a.eventBroadcast)){var g="broadcast";p(f,h,"eventName",e,g)}f.whenReady(function(){t.setMap(f,a.id)}),e.$on("$destroy",function(){i.reset(),f.remove(),t.unresolveMap(a.id)}),e.$on("invalidateSize",function(){f.invalidateSize()})}}}]),angular.module("leaflet-directive").factory("leafletBoundsHelpers",["$log","leafletHelpers",function(e,t){function i(e){return angular.isDefined(e)&&angular.isDefined(e.southWest)&&angular.isDefined(e.northEast)&&angular.isNumber(e.southWest.lat)&&angular.isNumber(e.southWest.lng)&&angular.isNumber(e.northEast.lat)&&angular.isNumber(e.northEast.lng)}var n=t.isArray,r=t.isNumber,o=t.isFunction,a=t.isDefined;return{createLeafletBounds:function(e){return i(e)?L.latLngBounds([e.southWest.lat,e.southWest.lng],[e.northEast.lat,e.northEast.lng]):void 0},isValidBounds:i,createBoundsFromArray:function(t){return n(t)&&2===t.length&&n(t[0])&&n(t[1])&&2===t[0].length&&2===t[1].length&&r(t[0][0])&&r(t[0][1])&&r(t[1][0])&&r(t[1][1])?{northEast:{lat:t[0][0],lng:t[0][1]},southWest:{lat:t[1][0],lng:t[1][1]}}:void e.error("[AngularJS - Leaflet] The bounds array is not valid.")},createBoundsFromLeaflet:function(t){if(!(a(t)&&o(t.getNorthEast)&&o(t.getSouthWest)))return void e.error("[AngularJS - Leaflet] The leaflet bounds is not valid object.");var i=t.getNorthEast(),n=t.getSouthWest();return{northEast:{lat:i.lat,lng:i.lng},southWest:{lat:n.lat,lng:n.lng}}}}}]),angular.module("leaflet-directive").factory("leafletControlHelpers",["$rootScope","$log","leafletHelpers","leafletLayerHelpers","leafletMapDefaults",function(e,t,i,n,r){var o=i.isDefined,a=i.isObject,s=n.createLayer,l={},c=i.errorHeader+" [Controls] ",u=function(e,t,i){var n=r.getDefaults(i);if(!n.controls.layers.visible)return!1;var s=!1;return a(e)&&Object.keys(e).forEach(function(t){var i=e[t];o(i.layerOptions)&&i.layerOptions.showOnSelector===!1||(s=!0)}),a(t)&&Object.keys(t).forEach(function(e){var i=t[e];o(i.layerParams)&&i.layerParams.showOnSelector===!1||(s=!0)}),s},d=function(e){var t=r.getDefaults(e),i={collapsed:t.controls.layers.collapsed,position:t.controls.layers.position,autoZIndex:!1};angular.extend(i,t.controls.layers.options);var n;return n=t.controls.layers&&o(t.controls.layers.control)?t.controls.layers.control.apply(this,[[],[],i]):new L.control.layers([],[],i)},h={draw:{isPluginLoaded:function(){return!!angular.isDefined(L.Control.Draw)||(t.error(c+" Draw plugin is not loaded."),!1)},checkValidParams:function(){return!0},createControl:function(e){return new L.Control.Draw(e)}},scale:{isPluginLoaded:function(){return!0},checkValidParams:function(){return!0},createControl:function(e){return new L.control.scale(e)}},fullscreen:{isPluginLoaded:function(){return!!angular.isDefined(L.Control.Fullscreen)||(t.error(c+" Fullscreen plugin is not loaded."),!1)},checkValidParams:function(){return!0},createControl:function(e){return new L.Control.Fullscreen(e)}},search:{isPluginLoaded:function(){return!!angular.isDefined(L.Control.Search)||(t.error(c+" Search plugin is not loaded."),!1)},checkValidParams:function(){return!0},createControl:function(e){return new L.Control.Search(e)}},custom:{},minimap:{isPluginLoaded:function(){return!!angular.isDefined(L.Control.MiniMap)||(t.error(c+" Minimap plugin is not loaded."),!1)},checkValidParams:function(e){return!!o(e.layer)||(t.warn(c+' minimap "layer" option should be defined.'),!1)},createControl:function(e){var i=s(e.layer);return o(i)?new L.Control.MiniMap(i,e):void t.warn(c+' minimap control "layer" could not be created.')}}};return{layersControlMustBeVisible:u,isValidControlType:function(e){return-1!==Object.keys(h).indexOf(e)},createControl:function(e,t){return h[e].checkValidParams(t)?h[e].createControl(t):void 0},updateLayersControl:function(e,t,i,n,r,a){var s,c=l[t],h=u(n,r,t);if(o(c)&&i){for(s in a.baselayers)c.removeLayer(a.baselayers[s]);for(s in a.overlays)c.removeLayer(a.overlays[s]);e.removeControl(c),delete l[t]}if(h){c=d(t),l[t]=c;for(s in n){var p=o(n[s].layerOptions)&&n[s].layerOptions.showOnSelector===!1;!p&&o(a.baselayers[s])&&c.addBaseLayer(a.baselayers[s],n[s].name)}for(s in r){var f=o(r[s].layerParams)&&r[s].layerParams.showOnSelector===!1;!f&&o(a.overlays[s])&&c.addOverlay(a.overlays[s],r[s].name)}e.addControl(c)}return h}}}]),angular.module("leaflet-directive").service("leafletData",["$log","$q","leafletHelpers",function(e,t,i){var n=i.getDefer,r=i.getUnresolvedDefer,o=i.setResolvedDefer,a={},s=this,l=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},c=["map","tiles","layers","paths","markers","geoJSON","UTFGrid","decorations","directiveControls"];c.forEach(function(e){a[e]={}}),this.unresolveMap=function(e){var t=i.obtainEffectiveMapId(a.map,e);c.forEach(function(e){a[e][t]=void 0})},c.forEach(function(e){var t=l(e);s["set"+t]=function(t,i){var n=r(a[e],i);n.resolve(t),o(a[e],i)},s["get"+t]=function(t){var i=n(a[e],t);return i.promise}})}]),angular.module("leaflet-directive").service("leafletDirectiveControlsHelpers",["$log","leafletData","leafletHelpers",function(e,t,i){var n=i.isDefined,r=i.isString,o=i.isObject,a=i.errorHeader,s=a+"[leafletDirectiveControlsHelpers",l=function(i,a,l,c){var u=s+".extend] ",d={};if(!n(a))return void e.error(u+"thingToAddName cannot be undefined");if(r(a)&&n(l)&&n(c))d[a]={create:l,clean:c};else{if(!o(a)||n(l)||n(c))return void e.error(u+"incorrect arguments");d=a}t.getDirectiveControls().then(function(e){angular.extend(e,d),t.setDirectiveControls(e,i)})};return{extend:l}}]),angular.module("leaflet-directive").service("leafletGeoJsonHelpers",["leafletHelpers","leafletIterators",function(e,t){var i=e,n=t,r=function(e,t){return this.lat=e,this.lng=t,this},o=function(e){return Array.isArray(e)&&2===e.length?e[1]:i.isDefined(e.type)&&"Point"===e.type?+e.coordinates[1]:+e.lat},a=function(e){return Array.isArray(e)&&2===e.length?e[0]:i.isDefined(e.type)&&"Point"===e.type?+e.coordinates[0]:+e.lng},s=function(e){if(i.isUndefined(e))return!1;if(i.isArray(e)){if(2===e.length&&i.isNumber(e[0])&&i.isNumber(e[1]))return!0}else if(i.isDefined(e.type)&&"Point"===e.type&&i.isArray(e.coordinates)&&2===e.coordinates.length&&i.isNumber(e.coordinates[0])&&i.isNumber(e.coordinates[1]))return!0;var t=n.all(["lat","lng"],function(t){return i.isDefined(e[t])&&i.isNumber(e[t])});return t},l=function(e){if(e&&s(e)){var t=null;if(Array.isArray(e)&&2===e.length)t=new r(e[1],e[0]);else{if(!i.isDefined(e.type)||"Point"!==e.type)return e;t=new r(e.coordinates[1],e.coordinates[0])}return angular.extend(e,t)}};return{getLat:o,getLng:a,validateCoords:s,getCoords:l}}]),angular.module("leaflet-directive").service("leafletHelpers",["$q","$log",function(e,t){function i(e,i){var n,o;if(angular.isDefined(i))n=i;else if(0===Object.keys(e).length)n="main";else if(Object.keys(e).length>=1)for(o in e)e.hasOwnProperty(o)&&(n=o);else t.error(r+"- You have more than 1 map on the DOM, you must provide the map ID to the leafletData.getXXX call");return n}function n(t,n){var r,o=i(t,n);return angular.isDefined(t[o])&&t[o].resolvedDefer!==!0?r=t[o].defer:(r=e.defer(),t[o]={defer:r,resolvedDefer:!1}),r}var r="[AngularJS - Leaflet] ",o=angular.copy,a=o,s=function(e,t){var i;if(e&&angular.isObject(e))return null!==t&&angular.isString(t)?(i=e,t.split(".").forEach(function(e){i&&(i=i[e])}),i):t},l=function(e){return e.split(".").reduce(function(e,t){return e+'["'+t+'"]'})},c=function(e){return e.reduce(function(e,t){return e+"."+t})},u=function(e){return angular.isDefined(e)&&null!==e},d=function(e){return!u(e)},h=/([\:\-\_]+(.))/g,p=/^moz([A-Z])/,f=/^((?:x|data)[\:\-_])/i,m=function(e){return e.replace(h,function(e,t,i,n){return n?i.toUpperCase():i}).replace(p,"Moz$1")},g=function(e){return m(e.replace(f,""))};return{camelCase:m,directiveNormalize:g,copy:o,clone:a,errorHeader:r,getObjectValue:s,getObjectArrayPath:l,getObjectDotPath:c,defaultTo:function(e,t){return u(e)?e:t},isTruthy:function(e){return"true"===e||e===!0},isEmpty:function(e){return 0===Object.keys(e).length},isUndefinedOrEmpty:function(e){return angular.isUndefined(e)||null===e||0===Object.keys(e).length},isDefined:u,isUndefined:d,isNumber:angular.isNumber,isString:angular.isString,isArray:angular.isArray,isObject:angular.isObject,isFunction:angular.isFunction,equals:angular.equals,isValidCenter:function(e){return angular.isDefined(e)&&angular.isNumber(e.lat)&&angular.isNumber(e.lng)&&angular.isNumber(e.zoom)},isValidPoint:function(e){
return!!angular.isDefined(e)&&(angular.isArray(e)?2===e.length&&angular.isNumber(e[0])&&angular.isNumber(e[1]):angular.isNumber(e.lat)&&angular.isNumber(e.lng))},isSameCenterOnMap:function(e,t){var i=t.getCenter(),n=t.getZoom();return!(!e.lat||!e.lng||i.lat.toFixed(4)!==e.lat.toFixed(4)||i.lng.toFixed(4)!==e.lng.toFixed(4)||n!==e.zoom)},safeApply:function(e,t){var i=e.$root.$$phase;"$apply"===i||"$digest"===i?e.$eval(t):e.$evalAsync(t)},obtainEffectiveMapId:i,getDefer:function(e,t){var r,o=i(e,t);return r=angular.isDefined(e[o])&&e[o].resolvedDefer!==!1?e[o].defer:n(e,t)},getUnresolvedDefer:n,setResolvedDefer:function(e,t){var n=i(e,t);e[n].resolvedDefer=!0},rangeIsSupported:function(){var e=document.createElement("input");return e.setAttribute("type","range"),"range"===e.type},FullScreenControlPlugin:{isLoaded:function(){return angular.isDefined(L.Control.Fullscreen)}},MiniMapControlPlugin:{isLoaded:function(){return angular.isDefined(L.Control.MiniMap)}},AwesomeMarkersPlugin:{isLoaded:function(){return angular.isDefined(L.AwesomeMarkers)&&angular.isDefined(L.AwesomeMarkers.Icon)},is:function(e){return!!this.isLoaded()&&e instanceof L.AwesomeMarkers.Icon},equal:function(e,t){return!(!this.isLoaded()||!this.is(e))&&angular.equals(e,t)}},VectorMarkersPlugin:{isLoaded:function(){return angular.isDefined(L.VectorMarkers)&&angular.isDefined(L.VectorMarkers.Icon)},is:function(e){return!!this.isLoaded()&&e instanceof L.VectorMarkers.Icon},equal:function(e,t){return!(!this.isLoaded()||!this.is(e))&&angular.equals(e,t)}},DomMarkersPlugin:{isLoaded:function(){return!(!angular.isDefined(L.DomMarkers)||!angular.isDefined(L.DomMarkers.Icon))},is:function(e){return!!this.isLoaded()&&e instanceof L.DomMarkers.Icon},equal:function(e,t){return!(!this.isLoaded()||!this.is(e))&&angular.equals(e,t)}},PolylineDecoratorPlugin:{isLoaded:function(){return!!angular.isDefined(L.PolylineDecorator)},is:function(e){return!!this.isLoaded()&&e instanceof L.PolylineDecorator},equal:function(e,t){return!(!this.isLoaded()||!this.is(e))&&angular.equals(e,t)}},MakiMarkersPlugin:{isLoaded:function(){return!(!angular.isDefined(L.MakiMarkers)||!angular.isDefined(L.MakiMarkers.Icon))},is:function(e){return!!this.isLoaded()&&e instanceof L.MakiMarkers.Icon},equal:function(e,t){return!(!this.isLoaded()||!this.is(e))&&angular.equals(e,t)}},ExtraMarkersPlugin:{isLoaded:function(){return!(!angular.isDefined(L.ExtraMarkers)||!angular.isDefined(L.ExtraMarkers.Icon))},is:function(e){return!!this.isLoaded()&&e instanceof L.ExtraMarkers.Icon},equal:function(e,t){return!(!this.isLoaded()||!this.is(e))&&angular.equals(e,t)}},LabelPlugin:{isLoaded:function(){return angular.isDefined(L.Label)},is:function(e){return!!this.isLoaded()&&e instanceof L.MarkerClusterGroup}},MarkerClusterPlugin:{isLoaded:function(){return angular.isDefined(L.MarkerClusterGroup)},is:function(e){return!!this.isLoaded()&&e instanceof L.MarkerClusterGroup}},GoogleLayerPlugin:{isLoaded:function(){return angular.isDefined(L.Google)},is:function(e){return!!this.isLoaded()&&e instanceof L.Google}},LeafletProviderPlugin:{isLoaded:function(){return angular.isDefined(L.TileLayer.Provider)},is:function(e){return!!this.isLoaded()&&e instanceof L.TileLayer.Provider}},ChinaLayerPlugin:{isLoaded:function(){return angular.isDefined(L.tileLayer.chinaProvider)}},HeatLayerPlugin:{isLoaded:function(){return angular.isDefined(L.heatLayer)}},WebGLHeatMapLayerPlugin:{isLoaded:function(){return angular.isDefined(L.TileLayer.WebGLHeatMap)}},BingLayerPlugin:{isLoaded:function(){return angular.isDefined(L.BingLayer)},is:function(e){return!!this.isLoaded()&&e instanceof L.BingLayer}},WFSLayerPlugin:{isLoaded:function(){return void 0!==L.GeoJSON.WFS},is:function(e){return!!this.isLoaded()&&e instanceof L.GeoJSON.WFS}},AGSBaseLayerPlugin:{isLoaded:function(){return void 0!==L.esri&&void 0!==L.esri.basemapLayer},is:function(e){return!!this.isLoaded()&&e instanceof L.esri.basemapLayer}},AGSLayerPlugin:{isLoaded:function(){return void 0!==lvector&&void 0!==lvector.AGS},is:function(e){return!!this.isLoaded()&&e instanceof lvector.AGS}},AGSFeatureLayerPlugin:{isLoaded:function(){return void 0!==L.esri&&void 0!==L.esri.featureLayer},is:function(e){return!!this.isLoaded()&&e instanceof L.esri.featureLayer}},AGSTiledMapLayerPlugin:{isLoaded:function(){return void 0!==L.esri&&void 0!==L.esri.tiledMapLayer},is:function(e){return!!this.isLoaded()&&e instanceof L.esri.tiledMapLayer}},AGSDynamicMapLayerPlugin:{isLoaded:function(){return void 0!==L.esri&&void 0!==L.esri.dynamicMapLayer},is:function(e){return!!this.isLoaded()&&e instanceof L.esri.dynamicMapLayer}},AGSImageMapLayerPlugin:{isLoaded:function(){return void 0!==L.esri&&void 0!==L.esri.imageMapLayer},is:function(e){return!!this.isLoaded()&&e instanceof L.esri.imageMapLayer}},AGSClusteredLayerPlugin:{isLoaded:function(){return void 0!==L.esri&&void 0!==L.esri.clusteredFeatureLayer},is:function(e){return!!this.isLoaded()&&e instanceof L.esri.clusteredFeatureLayer}},AGSHeatmapLayerPlugin:{isLoaded:function(){return void 0!==L.esri&&void 0!==L.esri.heatmapFeatureLayer},is:function(e){return!!this.isLoaded()&&e instanceof L.esri.heatmapFeatureLayer}},YandexLayerPlugin:{isLoaded:function(){return angular.isDefined(L.Yandex)},is:function(e){return!!this.isLoaded()&&e instanceof L.Yandex}},GeoJSONPlugin:{isLoaded:function(){return angular.isDefined(L.TileLayer.GeoJSON)},is:function(e){return!!this.isLoaded()&&e instanceof L.TileLayer.GeoJSON}},UTFGridPlugin:{isLoaded:function(){return angular.isDefined(L.UtfGrid)},is:function(e){return this.isLoaded()?e instanceof L.UtfGrid:(t.error("[AngularJS - Leaflet] No UtfGrid plugin found."),!1)}},CartoDB:{isLoaded:function(){return cartodb},is:function(){return!0}},Leaflet:{DivIcon:{is:function(e){return e instanceof L.DivIcon},equal:function(e,t){return!!this.is(e)&&angular.equals(e,t)}},Icon:{is:function(e){return e instanceof L.Icon},equal:function(e,t){return!!this.is(e)&&angular.equals(e,t)}}},watchOptions:{doWatch:!0,isDeep:!0,individual:{doWatch:!0,isDeep:!0}}}}]),angular.module("leaflet-directive").service("leafletIterators",["$log","leafletHelpers",function(e,t){var i,n=t,r=t.errorHeader+"leafletIterators: ",o=Object.keys,a=n.isFunction,s=n.isObject,l=Math.pow(2,53)-1,c=function(e){var t=null!==e&&e.length;return n.isNumber(t)&&t>=0&&l>=t},u=function(e){return e},d=function(e){return function(t){return null===t?void 0:t[e]}},h=function(e,t,i){if(void 0===t)return e;switch(null===i?3:i){case 1:return function(i){return e.call(t,i)};case 2:return function(i,n){return e.call(t,i,n)};case 3:return function(i,n,r){return e.call(t,i,n,r)};case 4:return function(i,n,r,o){return e.call(t,i,n,r,o)}}return function(){return e.apply(t,arguments)}},p=function(e,t){return function(i){var n=arguments.length;if(2>n||null===i)return i;for(var r=1;n>r;r++)for(var o=arguments[r],a=e(o),s=a.length,l=0;s>l;l++){var c=a[l];t&&void 0!==i[c]||(i[c]=o[c])}return i}},f=null;i=f=p(o);var m,g=function(e,t){var i=o(t),n=i.length;if(null===e)return!n;for(var r=Object(e),a=0;n>a;a++){var s=i[a];if(t[s]!==r[s]||!(s in r))return!1}return!0},v=null;m=v=function(e){return e=i({},e),function(t){return g(t,e)}};var y,b=function(e,t,i){return null===e?u:a(e)?h(e,t,i):s(e)?m(e):d(e)},_=null;y=_=function(e,t,i){t=b(t,i);for(var n=!c(e)&&o(e),r=(n||e).length,a=0;r>a;a++){var s=n?n[a]:a;if(!t(e[s],s,e))return!1}return!0};var w=function(t,i,o,a){return!(o||n.isDefined(t)&&n.isDefined(i))||!n.isFunction(i)&&(a=n.defaultTo(i,"cb"),e.error(r+a+" is not a function"),!0)},x=function(e,t,i){if(!w(void 0,i,!0,"internalCb")&&!w(e,t))for(var n in e)e.hasOwnProperty(n)&&i(e[n],n)},E=function(e,t){x(e,t,function(e,i){t(e,i)})};return{each:E,forEach:E,every:y,all:_}}]),angular.module("leaflet-directive").factory("leafletLayerHelpers",["$rootScope","$log","$q","leafletHelpers","leafletIterators",function($rootScope,$log,$q,leafletHelpers,leafletIterators){function isValidLayerType(e){return isString(e.type)?-1===Object.keys(layerTypes).indexOf(e.type)?($log.error("[AngularJS - Leaflet] A layer must have a valid type: "+Object.keys(layerTypes)),!1):layerTypes[e.type].mustHaveUrl&&!isString(e.url)?($log.error("[AngularJS - Leaflet] A base layer must have an url"),!1):layerTypes[e.type].mustHaveData&&!isDefined(e.data)?($log.error('[AngularJS - Leaflet] The base layer must have a "data" array attribute'),!1):layerTypes[e.type].mustHaveLayer&&!isDefined(e.layer)?($log.error("[AngularJS - Leaflet] The type of layer "+e.type+" must have an layer defined"),!1):layerTypes[e.type].mustHaveBounds&&!isDefined(e.bounds)?($log.error("[AngularJS - Leaflet] The type of layer "+e.type+" must have bounds defined"),!1):!(layerTypes[e.type].mustHaveKey&&!isDefined(e.key))||($log.error("[AngularJS - Leaflet] The type of layer "+e.type+" must have key defined"),!1):($log.error("[AngularJS - Leaflet] A layer must have a valid type defined."),!1)}function createLayer(e){if(isValidLayerType(e)){if(!isString(e.name))return void $log.error("[AngularJS - Leaflet] A base layer must have a name");isObject(e.layerParams)||(e.layerParams={}),isObject(e.layerOptions)||(e.layerOptions={});for(var t in e.layerParams)e.layerOptions[t]=e.layerParams[t];var i={url:e.url,data:e.data,options:e.layerOptions,layer:e.layer,icon:e.icon,type:e.layerType,bounds:e.bounds,key:e.key,apiKey:e.apiKey,pluginOptions:e.pluginOptions,user:e.user};return layerTypes[e.type].createLayer(i)}}function safeAddLayer(e,t){t&&"function"==typeof t.addTo?t.addTo(e):e.addLayer(t)}function safeRemoveLayer(e,t,i){if(isDefined(i)&&isDefined(i.loadedDefer))if(angular.isFunction(i.loadedDefer)){var n=i.loadedDefer();$log.debug("Loaded Deferred",n);var r=n.length;if(r>0)for(var o=function(){r--,0===r&&e.removeLayer(t)},a=0;a<n.length;a++)n[a].promise.then(o);else e.removeLayer(t)}else i.loadedDefer.promise.then(function(){e.removeLayer(t)});else e.removeLayer(t)}var Helpers=leafletHelpers,isString=leafletHelpers.isString,isObject=leafletHelpers.isObject,isArray=leafletHelpers.isArray,isDefined=leafletHelpers.isDefined,errorHeader=leafletHelpers.errorHeader,$it=leafletIterators,utfGridCreateLayer=function(e){if(!Helpers.UTFGridPlugin.isLoaded())return void $log.error("[AngularJS - Leaflet] The UTFGrid plugin is not loaded.");var t=new L.UtfGrid(e.url,e.pluginOptions);return t.on("mouseover",function(e){$rootScope.$broadcast("leafletDirectiveMap.utfgridMouseover",e)}),t.on("mouseout",function(e){$rootScope.$broadcast("leafletDirectiveMap.utfgridMouseout",e)}),t.on("click",function(e){$rootScope.$broadcast("leafletDirectiveMap.utfgridClick",e)}),t.on("mousemove",function(e){$rootScope.$broadcast("leafletDirectiveMap.utfgridMousemove",e)}),t},layerTypes={xyz:{mustHaveUrl:!0,createLayer:function(e){return L.tileLayer(e.url,e.options)}},mapbox:{mustHaveKey:!0,createLayer:function(e){var t=3;isDefined(e.options.version)&&4===e.options.version&&(t=e.options.version);var i=3===t?"//{s}.tiles.mapbox.com/v3/"+e.key+"/{z}/{x}/{y}.png":"//api.tiles.mapbox.com/v4/"+e.key+"/{z}/{x}/{y}.png?access_token="+e.apiKey;return L.tileLayer(i,e.options)}},geoJSON:{mustHaveUrl:!0,createLayer:function(e){return Helpers.GeoJSONPlugin.isLoaded()?new L.TileLayer.GeoJSON(e.url,e.pluginOptions,e.options):void 0}},geoJSONShape:{mustHaveUrl:!1,createLayer:function(e){return new L.GeoJSON(e.data,e.options)}},geoJSONAwesomeMarker:{mustHaveUrl:!1,createLayer:function(e){return new L.geoJson(e.data,{pointToLayer:function(t,i){return L.marker(i,{icon:L.AwesomeMarkers.icon(e.icon)})}})}},geoJSONVectorMarker:{mustHaveUrl:!1,createLayer:function(e){return new L.geoJson(e.data,{pointToLayer:function(t,i){return L.marker(i,{icon:L.VectorMarkers.icon(e.icon)})}})}},utfGrid:{mustHaveUrl:!0,createLayer:utfGridCreateLayer},cartodbTiles:{mustHaveKey:!0,createLayer:function(e){var t="//"+e.user+".cartodb.com/api/v1/map/"+e.key+"/{z}/{x}/{y}.png";return L.tileLayer(t,e.options)}},cartodbUTFGrid:{mustHaveKey:!0,mustHaveLayer:!0,createLayer:function(e){return e.url="//"+e.user+".cartodb.com/api/v1/map/"+e.key+"/"+e.layer+"/{z}/{x}/{y}.grid.json",utfGridCreateLayer(e)}},cartodbInteractive:{mustHaveKey:!0,mustHaveLayer:!0,createLayer:function(e){var t="//"+e.user+".cartodb.com/api/v1/map/"+e.key+"/{z}/{x}/{y}.png",i=L.tileLayer(t,e.options);e.url="//"+e.user+".cartodb.com/api/v1/map/"+e.key+"/"+e.layer+"/{z}/{x}/{y}.grid.json";var n=utfGridCreateLayer(e);return L.layerGroup([i,n])}},wms:{mustHaveUrl:!0,createLayer:function(e){return L.tileLayer.wms(e.url,e.options)}},wmts:{mustHaveUrl:!0,createLayer:function(e){return L.tileLayer.wmts(e.url,e.options)}},wfs:{mustHaveUrl:!0,mustHaveLayer:!0,createLayer:function(params){if(Helpers.WFSLayerPlugin.isLoaded()){var options=angular.copy(params.options);return options.crs&&"string"==typeof options.crs&&(options.crs=eval(options.crs)),new L.GeoJSON.WFS(params.url,params.layer,options)}}},group:{mustHaveUrl:!1,createLayer:function(e){var t=[];return $it.each(e.options.layers,function(e){t.push(createLayer(e))}),e.options.loadedDefer=function(){var t=[];if(isDefined(e.options.layers))for(var i=0;i<e.options.layers.length;i++){var n=e.options.layers[i].layerOptions.loadedDefer;isDefined(n)&&t.push(n)}return t},L.layerGroup(t)}},featureGroup:{mustHaveUrl:!1,createLayer:function(){return L.featureGroup()}},google:{mustHaveUrl:!1,createLayer:function(e){var t=e.type||"SATELLITE";if(Helpers.GoogleLayerPlugin.isLoaded())return new L.Google(t,e.options)}},here:{mustHaveUrl:!1,createLayer:function(e){var t=e.provider||"HERE.terrainDay";if(Helpers.LeafletProviderPlugin.isLoaded())return new L.TileLayer.Provider(t,e.options)}},china:{mustHaveUrl:!1,createLayer:function(e){var t=e.type||"";if(Helpers.ChinaLayerPlugin.isLoaded())return L.tileLayer.chinaProvider(t,e.options)}},agsBase:{mustHaveLayer:!0,createLayer:function(e){return Helpers.AGSBaseLayerPlugin.isLoaded()?L.esri.basemapLayer(e.layer,e.options):void 0}},ags:{mustHaveUrl:!0,createLayer:function(e){if(Helpers.AGSLayerPlugin.isLoaded()){var t=angular.copy(e.options);angular.extend(t,{url:e.url});var i=new lvector.AGS(t);return i.onAdd=function(e){this.setMap(e)},i.onRemove=function(){this.setMap(null)},i}}},agsFeature:{mustHaveUrl:!0,createLayer:function(e){if(!Helpers.AGSFeatureLayerPlugin.isLoaded())return void $log.warn(errorHeader+" The esri plugin is not loaded.");e.options.url=e.url;var t=L.esri.featureLayer(e.options),i=function(){isDefined(e.options.loadedDefer)&&e.options.loadedDefer.resolve()};return t.on("loading",function(){e.options.loadedDefer=$q.defer(),t.off("load",i),t.on("load",i)}),t}},agsTiled:{mustHaveUrl:!0,createLayer:function(e){return Helpers.AGSTiledMapLayerPlugin.isLoaded()?(e.options.url=e.url,L.esri.tiledMapLayer(e.options)):void $log.warn(errorHeader+" The esri plugin is not loaded.")}},agsDynamic:{mustHaveUrl:!0,createLayer:function(e){return Helpers.AGSDynamicMapLayerPlugin.isLoaded()?(e.options.url=e.url,L.esri.dynamicMapLayer(e.options)):void $log.warn(errorHeader+" The esri plugin is not loaded.")}},agsImage:{mustHaveUrl:!0,createLayer:function(e){return Helpers.AGSImageMapLayerPlugin.isLoaded()?(e.options.url=e.url,L.esri.imageMapLayer(e.options)):void $log.warn(errorHeader+" The esri plugin is not loaded.")}},agsClustered:{mustHaveUrl:!0,createLayer:function(e){return Helpers.AGSClusteredLayerPlugin.isLoaded()?Helpers.MarkerClusterPlugin.isLoaded()?L.esri.clusteredFeatureLayer(e.url,e.options):void $log.warn(errorHeader+" The markercluster plugin is not loaded."):void $log.warn(errorHeader+" The esri clustered layer plugin is not loaded.")}},agsHeatmap:{mustHaveUrl:!0,createLayer:function(e){return Helpers.AGSHeatmapLayerPlugin.isLoaded()?Helpers.HeatLayerPlugin.isLoaded()?L.esri.heatmapFeatureLayer(e.url,e.options):void $log.warn(errorHeader+" The heatlayer plugin is not loaded."):void $log.warn(errorHeader+" The esri heatmap layer plugin is not loaded.")}},markercluster:{mustHaveUrl:!1,createLayer:function(e){return Helpers.MarkerClusterPlugin.isLoaded()?new L.MarkerClusterGroup(e.options):void $log.warn(errorHeader+" The markercluster plugin is not loaded.")}},bing:{mustHaveUrl:!1,createLayer:function(e){return Helpers.BingLayerPlugin.isLoaded()?new L.BingLayer(e.key,e.options):void 0}},webGLHeatmap:{mustHaveUrl:!1,mustHaveData:!0,createLayer:function(e){if(Helpers.WebGLHeatMapLayerPlugin.isLoaded()){var t=new L.TileLayer.WebGLHeatMap(e.options);return isDefined(e.data)&&t.setData(e.data),t}}},heat:{mustHaveUrl:!1,mustHaveData:!0,createLayer:function(e){if(Helpers.HeatLayerPlugin.isLoaded()){var t=new L.heatLayer;return isArray(e.data)&&t.setLatLngs(e.data),isObject(e.options)&&t.setOptions(e.options),t}}},yandex:{mustHaveUrl:!1,createLayer:function(e){var t=e.type||"map";if(Helpers.YandexLayerPlugin.isLoaded())return new L.Yandex(t,e.options)}},imageOverlay:{mustHaveUrl:!0,mustHaveBounds:!0,createLayer:function(e){return L.imageOverlay(e.url,e.bounds,e.options)}},iip:{mustHaveUrl:!0,createLayer:function(e){return L.tileLayer.iip(e.url,e.options)}},custom:{createLayer:function(e){return e.layer instanceof L.Class?angular.copy(e.layer):void $log.error("[AngularJS - Leaflet] A custom layer must be a leaflet Class")}},cartodb:{mustHaveUrl:!0,createLayer:function(e){return cartodb.createLayer(e.map,e.url)}}};return{createLayer:createLayer,safeAddLayer:safeAddLayer,safeRemoveLayer:safeRemoveLayer}}]),angular.module("leaflet-directive").factory("leafletLegendHelpers",function(){var e=function(e,t,i,n){if(e.innerHTML="",t.error)e.innerHTML+='<div class="info-title alert alert-danger">'+t.error.message+"</div>";else if("arcgis"===i)for(var r=0;r<t.layers.length;r++){var o=t.layers[r];e.innerHTML+='<div class="info-title" data-layerid="'+o.layerId+'">'+o.layerName+"</div>";for(var a=0;a<o.legend.length;a++){var s=o.legend[a];e.innerHTML+='<div class="inline" data-layerid="'+o.layerId+'"><img src="data:'+s.contentType+";base64,"+s.imageData+'" /></div><div class="info-label" data-layerid="'+o.layerId+'">'+s.label+"</div>"}}else"image"===i&&(e.innerHTML='<img src="'+n+'"/>')},t=function(t,i,n,r){return function(){var o=L.DomUtil.create("div",i);return L.Browser.touch?L.DomEvent.on(o,"click",L.DomEvent.stopPropagation):(L.DomEvent.disableClickPropagation(o),L.DomEvent.on(o,"mousewheel",L.DomEvent.stopPropagation)),e(o,t,n,r),o}},i=function(e,t){return function(){for(var i=L.DomUtil.create("div",t),n=0;n<e.colors.length;n++)i.innerHTML+='<div class="outline"><i style="background:'+e.colors[n]+'"></i></div><div class="info-label">'+e.labels[n]+"</div>";return L.Browser.touch?L.DomEvent.on(i,"click",L.DomEvent.stopPropagation):(L.DomEvent.disableClickPropagation(i),L.DomEvent.on(i,"mousewheel",L.DomEvent.stopPropagation)),i}};return{getOnAddLegend:t,getOnAddArrayLegend:i,updateLegend:e}}),angular.module("leaflet-directive").factory("leafletMapDefaults",["$q","leafletHelpers",function(e,t){function i(){return{keyboard:!0,dragging:!0,worldCopyJump:!1,doubleClickZoom:!0,scrollWheelZoom:!0,tap:!0,touchZoom:!0,zoomControl:!0,zoomsliderControl:!1,zoomControlPosition:"topleft",attributionControl:!0,controls:{layers:{visible:!0,position:"topright",collapsed:!0}},nominatim:{server:" http://nominatim.openstreetmap.org/search"},crs:L.CRS.EPSG3857,tileLayer:"//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",tileLayerOptions:{attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'},path:{weight:10,opacity:1,color:"#0000ff"},center:{lat:0,lng:0,zoom:1}}}var n=t.isDefined,r=t.isObject,o=t.obtainEffectiveMapId,a={};return{reset:function(){a={}},getDefaults:function(e){var t=o(a,e);return a[t]},getMapCreationDefaults:function(e){var t=o(a,e),i=a[t],r={maxZoom:i.maxZoom,keyboard:i.keyboard,dragging:i.dragging,zoomControl:i.zoomControl,doubleClickZoom:i.doubleClickZoom,scrollWheelZoom:i.scrollWheelZoom,tap:i.tap,touchZoom:i.touchZoom,attributionControl:i.attributionControl,worldCopyJump:i.worldCopyJump,crs:i.crs};if(n(i.minZoom)&&(r.minZoom=i.minZoom),n(i.zoomAnimation)&&(r.zoomAnimation=i.zoomAnimation),n(i.fadeAnimation)&&(r.fadeAnimation=i.fadeAnimation),n(i.markerZoomAnimation)&&(r.markerZoomAnimation=i.markerZoomAnimation),i.map)for(var s in i.map)r[s]=i.map[s];return r},setDefaults:function(e,t){var s=i();n(e)&&(s.doubleClickZoom=n(e.doubleClickZoom)?e.doubleClickZoom:s.doubleClickZoom,s.scrollWheelZoom=n(e.scrollWheelZoom)?e.scrollWheelZoom:s.doubleClickZoom,s.tap=n(e.tap)?e.tap:s.tap,s.touchZoom=n(e.touchZoom)?e.touchZoom:s.doubleClickZoom,s.zoomControl=n(e.zoomControl)?e.zoomControl:s.zoomControl,s.zoomsliderControl=n(e.zoomsliderControl)?e.zoomsliderControl:s.zoomsliderControl,s.attributionControl=n(e.attributionControl)?e.attributionControl:s.attributionControl,s.tileLayer=n(e.tileLayer)?e.tileLayer:s.tileLayer,s.zoomControlPosition=n(e.zoomControlPosition)?e.zoomControlPosition:s.zoomControlPosition,s.keyboard=n(e.keyboard)?e.keyboard:s.keyboard,s.dragging=n(e.dragging)?e.dragging:s.dragging,n(e.controls)&&angular.extend(s.controls,e.controls),r(e.crs)?s.crs=e.crs:n(L.CRS[e.crs])&&(s.crs=L.CRS[e.crs]),n(e.center)&&angular.copy(e.center,s.center),n(e.tileLayerOptions)&&angular.copy(e.tileLayerOptions,s.tileLayerOptions),n(e.maxZoom)&&(s.maxZoom=e.maxZoom),n(e.minZoom)&&(s.minZoom=e.minZoom),n(e.zoomAnimation)&&(s.zoomAnimation=e.zoomAnimation),n(e.fadeAnimation)&&(s.fadeAnimation=e.fadeAnimation),n(e.markerZoomAnimation)&&(s.markerZoomAnimation=e.markerZoomAnimation),n(e.worldCopyJump)&&(s.worldCopyJump=e.worldCopyJump),n(e.map)&&(s.map=e.map),n(e.path)&&(s.path=e.path));var l=o(a,t);return a[l]=s,s}}}]),angular.module("leaflet-directive").service("leafletMarkersHelpers",["$rootScope","$timeout","leafletHelpers","$log","$compile","leafletGeoJsonHelpers",function(e,t,i,n,r,o){var a=i.isDefined,s=i.defaultTo,l=i.MarkerClusterPlugin,c=i.AwesomeMarkersPlugin,u=i.VectorMarkersPlugin,d=i.MakiMarkersPlugin,h=i.ExtraMarkersPlugin,p=i.DomMarkersPlugin,f=i.safeApply,m=i,g=i.isString,v=i.isNumber,y=i.isObject,b={},_=o,w=i.errorHeader,x=function(e){var t="";return["_icon","_latlng","_leaflet_id","_map","_shadow"].forEach(function(i){t+=i+": "+s(e[i],"undefined")+" \n"}),"[leafletMarker] : \n"+t},E=function(e,t){var i=t?console:n;i.debug(x(e))},A=function(t){if(a(t)&&a(t.type)&&"awesomeMarker"===t.type)return c.isLoaded()||n.error(w+" The AwesomeMarkers Plugin is not loaded."),new L.AwesomeMarkers.icon(t);if(a(t)&&a(t.type)&&"vectorMarker"===t.type)return u.isLoaded()||n.error(w+" The VectorMarkers Plugin is not loaded."),new L.VectorMarkers.icon(t);if(a(t)&&a(t.type)&&"makiMarker"===t.type)return d.isLoaded()||n.error(w+"The MakiMarkers Plugin is not loaded."),new L.MakiMarkers.icon(t);if(a(t)&&a(t.type)&&"extraMarker"===t.type)return h.isLoaded()||n.error(w+"The ExtraMarkers Plugin is not loaded."),new L.ExtraMarkers.icon(t);if(a(t)&&a(t.type)&&"div"===t.type)return new L.divIcon(t);if(a(t)&&a(t.type)&&"dom"===t.type){p.isLoaded()||n.error(w+"The DomMarkers Plugin is not loaded.");var i=angular.isFunction(t.getMarkerScope)?t.getMarkerScope():e,o=r(t.template)(i),s=angular.copy(t);return s.element=o[0],new L.DomMarkers.icon(s)}if(a(t)&&a(t.type)&&"icon"===t.type)return t.icon;var l="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAGmklEQVRYw7VXeUyTZxjvNnfELFuyIzOabermMZEeQC/OclkO49CpOHXOLJl/CAURuYbQi3KLgEhbrhZ1aDwmaoGqKII6odATmH/scDFbdC7LvFqOCc+e95s2VG50X/LLm/f4/Z7neY/ne18aANCmAr5E/xZf1uDOkTcGcWR6hl9247tT5U7Y6SNvWsKT63P58qbfeLJG8M5qcgTknrvvrdDbsT7Ml+tv82X6vVxJE33aRmgSyYtcWVMqX97Yv2JvW39UhRE2HuyBL+t+gK1116ly06EeWFNlAmHxlQE0OMiV6mQCScusKRlhS3QLeVJdl1+23h5dY4FNB3thrbYboqptEFlphTC1hSpJnbRvxP4NWgsE5Jyz86QNNi/5qSUTGuFk1gu54tN9wuK2wc3o+Wc13RCmsoBwEqzGcZsxsvCSy/9wJKf7UWf1mEY8JWfewc67UUoDbDjQC+FqK4QqLVMGGR9d2wurKzqBk3nqIT/9zLxRRjgZ9bqQgub+DdoeCC03Q8j+0QhFhBHR/eP3U/zCln7Uu+hihJ1+bBNffLIvmkyP0gpBZWYXhKussK6mBz5HT6M1Nqpcp+mBCPXosYQfrekGvrjewd59/GvKCE7TbK/04/ZV5QZYVWmDwH1mF3xa2Q3ra3DBC5vBT1oP7PTj4C0+CcL8c7C2CtejqhuCnuIQHaKHzvcRfZpnylFfXsYJx3pNLwhKzRAwAhEqG0SpusBHfAKkxw3w4627MPhoCH798z7s0ZnBJ/MEJbZSbXPhER2ih7p2ok/zSj2cEJDd4CAe+5WYnBCgR2uruyEw6zRoW6/DWJ/OeAP8pd/BGtzOZKpG8oke0SX6GMmRk6GFlyAc59K32OTEinILRJRchah8HQwND8N435Z9Z0FY1EqtxUg+0SO6RJ/mmXz4VuS+DpxXC3gXmZwIL7dBSH4zKE50wESf8qwVgrP1EIlTO5JP9Igu0aexdh28F1lmAEGJGfh7jE6ElyM5Rw/FDcYJjWhbeiBYoYNIpc2FT/SILivp0F1ipDWk4BIEo2VuodEJUifhbiltnNBIXPUFCMpthtAyqws/BPlEF/VbaIxErdxPphsU7rcCp8DohC+GvBIPJS/tW2jtvTmmAeuNO8BNOYQeG8G/2OzCJ3q+soYB5i6NhMaKr17FSal7GIHheuV3uSCY8qYVuEm1cOzqdWr7ku/R0BDoTT+DT+ohCM6/CCvKLKO4RI+dXPeAuaMqksaKrZ7L3FE5FIFbkIceeOZ2OcHO6wIhTkNo0ffgjRGxEqogXHYUPHfWAC/lADpwGcLRY3aeK4/oRGCKYcZXPVoeX/kelVYY8dUGf8V5EBRbgJXT5QIPhP9ePJi428JKOiEYhYXFBqou2Guh+p/mEB1/RfMw6rY7cxcjTrneI1FrDyuzUSRm9miwEJx8E/gUmqlyvHGkneiwErR21F3tNOK5Tf0yXaT+O7DgCvALTUBXdM4YhC/IawPU+2PduqMvuaR6eoxSwUk75ggqsYJ7VicsnwGIkZBSXKOUww73WGXyqP+J2/b9c+gi1YAg/xpwck3gJuucNrh5JvDPvQr0WFXf0piyt8f8/WI0hV4pRxxkQZdJDfDJNOAmM0Ag8jyT6hz0WGXWuP94Yh2jcfjmXAGvHCMslRimDHYuHuDsy2QtHuIavznhbYURq5R57KpzBBRZKPJi8eQg48h4j8SDdowifdIrEVdU+gbO6QNvRRt4ZBthUaZhUnjlYObNagV3keoeru3rU7rcuceqU1mJBxy+BWZYlNEBH+0eH4vRiB+OYybU2hnblYlTvkHinM4m54YnxSyaZYSF6R3jwgP7udKLGIX6r/lbNa9N6y5MFynjWDtrHd75ZvTYAPO/6RgF0k76mQla3FGq7dO+cH8sKn0Vo7nDllwAhqwLPkxrHwWmHJOo+AKJ4rab5OgrM7rVu8eWb2Pu0Dh4eDgXoOfvp7Y7QeqknRmvcTBEyq9m/HQQSCSz6LHq3z0yzsNySRfMS253wl2KyRDbcZPcfJKjZmSEOjcxyi+Y8dUOtsIEH6R2wNykdqrkYJ0RV92H0W58pkfQk7cKevsLK10Py8SdMGfXNXATY+pPbyJR/ET6n9nIfztNtZYRV9XniQu9IA2vOVgy4ir7GCLVmmd+zjkH0eAF9Po6K61pmCXHxU5rHMYd1ftc3owjwRSVRzLjKvqZEty6cRUD7jGqiOdu5HG6MdHjNcNYGqfDm5YRzLBBCCDl/2bk8a8gdbqcfwECu62Fg/HrggAAAABJRU5ErkJggg==",f="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAYAAACoYAD2AAAC5ElEQVRYw+2YW4/TMBCF45S0S1luXZCABy5CgLQgwf//S4BYBLTdJLax0fFqmB07nnQfEGqkIydpVH85M+NLjPe++dcPc4Q8Qh4hj5D/AaQJx6H/4TMwB0PeBNwU7EGQAmAtsNfAzoZkgIa0ZgLMa4Aj6CxIAsjhjOCoL5z7Glg1JAOkaicgvQBXuncwJAWjksLtBTWZe04CnYRktUGdilALppZBOgHGZcBzL6OClABvMSVIzyBjazOgrvACf1ydC5mguqAVg6RhdkSWQFj2uxfaq/BrIZOLEWgZdALIDvcMcZLD8ZbLC9de4yR1sYMi4G20S4Q/PWeJYxTOZn5zJXANZHIxAd4JWhPIloTJZhzMQduM89WQ3MUVAE/RnhAXpTycqys3NZALOBbB7kFrgLesQl2h45Fcj8L1tTSohUwuxhy8H/Qg6K7gIs+3kkaigQCOcyEXCHN07wyQazhrmIulvKMQAwMcmLNqyCVyMAI+BuxSMeTk3OPikLY2J1uE+VHQk6ANrhds+tNARqBeaGc72cK550FP4WhXmFmcMGhTwAR1ifOe3EvPqIegFmF+C8gVy0OfAaWQPMR7gF1OQKqGoBjq90HPMP01BUjPOqGFksC4emE48tWQAH0YmvOgF3DST6xieJgHAWxPAHMuNhrImIdvoNOKNWIOcE+UXE0pYAnkX6uhWsgVXDxHdTfCmrEEmMB2zMFimLVOtiiajxiGWrbU52EeCdyOwPEQD8LqyPH9Ti2kgYMf4OhSKB7qYILbBv3CuVTJ11Y80oaseiMWOONc/Y7kJYe0xL2f0BaiFTxknHO5HaMGMublKwxFGzYdWsBF174H/QDknhTHmHHN39iWFnkZx8lPyM8WHfYELmlLKtgWNmFNzQcC1b47gJ4hL19i7o65dhH0Negbca8vONZoP7doIeOC9zXm8RjuL0Gf4d4OYaU5ljo3GYiqzrWQHfJxA6ALhDpVKv9qYeZA8eM3EhfPSCmpuD0AAAAASUVORK5CYII=";return a(t)&&a(t.iconUrl)?new L.Icon(t):new L.Icon.Default({iconUrl:l,shadowUrl:f,iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]})},C=function(e){a(b[e])&&b.splice(e,1)},k=function(){b={}},$=function(e,t,i){if(e.closePopup(),a(i)&&a(i.overlays))for(var n in i.overlays)if((i.overlays[n]instanceof L.LayerGroup||i.overlays[n]instanceof L.FeatureGroup)&&i.overlays[n].hasLayer(e))return void i.overlays[n].removeLayer(e);if(a(b))for(var r in b)b[r].hasLayer(e)&&b[r].removeLayer(e);t.hasLayer(e)&&t.removeLayer(e)},T=function(e,t){var i=e._popup._container.offsetHeight,n=new L.Point(e._popup._containerLeft,-i-e._popup._containerBottom),r=t.layerPointToContainerPoint(n);null!==r&&e._popup._adjustPan()},D=function(e,t){r(e._popup._contentNode)(t)},M=function(e,i,n){var r=e._popup._contentNode.innerText||e._popup._contentNode.textContent;r.length<1&&t(function(){M(e,i,n)});var o=e._popup._contentNode.offsetWidth;return e._popup._updateLayout(),e._popup._updatePosition(),e._popup.options.autoPan&&T(e,n),o},S=function(t,i,r){var o=angular.isFunction(i.getMessageScope)?i.getMessageScope():e,s=!a(i.compileMessage)||i.compileMessage;if(s){if(!a(t._popup)||!a(t._popup._contentNode))return n.error(w+"Popup is invalid or does not have any content."),!1;D(t,o),M(t,i,r)}},P=function(t,i){var n=angular.isFunction(i.getMessageScope)?i.getMessageScope():e,o=angular.isFunction(i.getLabelScope)?i.getLabelScope():n,s=!a(i.compileMessage)||i.compileMessage;m.LabelPlugin.isLoaded()&&a(i.label)&&(a(i.label.options)&&i.label.options.noHide===!0&&t.showLabel(),s&&a(t.label)&&r(t.label._container)(o))},N=function(e,t,i,r,o,s,l){if(a(t)){if(!_.validateCoords(e))return n.warn("There are problems with lat-lng data, please verify your marker model"),void $(i,l,s);var c=e===t;if(a(e.iconAngle)&&t.iconAngle!==e.iconAngle&&i.setIconAngle(e.iconAngle),g(e.layer)||g(t.layer)&&(a(s.overlays[t.layer])&&s.overlays[t.layer].hasLayer(i)&&(s.overlays[t.layer].removeLayer(i),i.closePopup()),l.hasLayer(i)||l.addLayer(i)),(v(e.opacity)||v(parseFloat(e.opacity)))&&e.opacity!==t.opacity&&i.setOpacity(e.opacity),g(e.layer)&&t.layer!==e.layer){if(g(t.layer)&&a(s.overlays[t.layer])&&s.overlays[t.layer].hasLayer(i)&&s.overlays[t.layer].removeLayer(i),i.closePopup(),l.hasLayer(i)&&l.removeLayer(i),!a(s.overlays[e.layer]))return void n.error(w+"You must use a name of an existing layer");var u=s.overlays[e.layer];if(!(u instanceof L.LayerGroup||u instanceof L.FeatureGroup))return void n.error(w+'A marker can only be added to a layer of type "group" or "featureGroup"');u.addLayer(i),l.hasLayer(i)&&e.focus===!0&&i.openPopup()}if(e.draggable!==!0&&t.draggable===!0&&a(i.dragging)&&i.dragging.disable(),e.draggable===!0&&t.draggable!==!0&&(i.dragging?i.dragging.enable():L.Handler.MarkerDrag&&(i.dragging=new L.Handler.MarkerDrag(i),i.options.draggable=!0,i.dragging.enable())),y(e.icon)||y(t.icon)&&(i.setIcon(A()),i.closePopup(),i.unbindPopup(),g(e.message)&&i.bindPopup(e.message,e.popupOptions)),y(e.icon)&&y(t.icon)&&!angular.equals(e.icon,t.icon)){var d=!1;i.dragging&&(d=i.dragging.enabled()),i.setIcon(A(e.icon)),d&&i.dragging.enable(),i.closePopup(),i.unbindPopup(),g(e.message)&&(i.bindPopup(e.message,e.popupOptions),l.hasLayer(i)&&e.focus===!0&&i.openPopup())}!g(e.message)&&g(t.message)&&(i.closePopup(),i.unbindPopup()),m.LabelPlugin.isLoaded()&&(a(e.label)&&a(e.label.message)?"label"in t&&"message"in t.label&&!angular.equals(e.label.message,t.label.message)?i.updateLabelContent(e.label.message):!angular.isFunction(i.getLabel)||angular.isFunction(i.getLabel)&&!a(i.getLabel())?(i.bindLabel(e.label.message,e.label.options),P(i,e)):P(i,e):(!("label"in e)||"message"in e.label)&&angular.isFunction(i.unbindLabel)&&i.unbindLabel()),g(e.message)&&!g(t.message)&&i.bindPopup(e.message,e.popupOptions),g(e.message)&&g(t.message)&&e.message!==t.message&&i.setPopupContent(e.message);var h=!1;e.focus!==!0&&t.focus===!0&&(i.closePopup(),h=!0),(e.focus===!0&&(!a(t.focus)||t.focus===!1)||c&&e.focus===!0)&&(i.openPopup(),h=!0),t.zIndexOffset!==e.zIndexOffset&&i.setZIndexOffset(e.zIndexOffset);var p=i.getLatLng(),f=g(e.layer)&&m.MarkerClusterPlugin.is(s.overlays[e.layer]);f?h?(e.lat!==t.lat||e.lng!==t.lng)&&(s.overlays[e.layer].removeLayer(i),i.setLatLng([e.lat,e.lng]),s.overlays[e.layer].addLayer(i)):p.lat!==e.lat||p.lng!==e.lng?(s.overlays[e.layer].removeLayer(i),i.setLatLng([e.lat,e.lng]),s.overlays[e.layer].addLayer(i)):e.lat!==t.lat||e.lng!==t.lng?(s.overlays[e.layer].removeLayer(i),i.setLatLng([e.lat,e.lng]),s.overlays[e.layer].addLayer(i)):y(e.icon)&&y(t.icon)&&!angular.equals(e.icon,t.icon)&&(s.overlays[e.layer].removeLayer(i),s.overlays[e.layer].addLayer(i)):(p.lat!==e.lat||p.lng!==e.lng)&&i.setLatLng([e.lat,e.lng])}};return{resetMarkerGroup:C,resetMarkerGroups:k,deleteMarker:$,manageOpenPopup:S,manageOpenLabel:P,createMarker:function(e){if(!a(e)||!_.validateCoords(e))return void n.error(w+"The marker definition is not valid.");var t=_.getCoords(e);if(!a(t))return void n.error(w+"Unable to get coordinates from markerData.");var i={icon:A(e.icon),title:a(e.title)?e.title:"",draggable:!!a(e.draggable)&&e.draggable,clickable:!a(e.clickable)||e.clickable,riseOnHover:!!a(e.riseOnHover)&&e.riseOnHover,zIndexOffset:a(e.zIndexOffset)?e.zIndexOffset:0,iconAngle:a(e.iconAngle)?e.iconAngle:0};for(var r in e)e.hasOwnProperty(r)&&!i.hasOwnProperty(r)&&(i[r]=e[r]);
var o=new L.marker(t,i);return g(e.message)||o.unbindPopup(),o},addMarkerToGroup:function(e,t,i,r){return g(t)?l.isLoaded()?(a(b[t])||(b[t]=new L.MarkerClusterGroup(i),r.addLayer(b[t])),void b[t].addLayer(e)):void n.error(w+"The MarkerCluster plugin is not loaded."):void n.error(w+"The marker group you have specified is invalid.")},listenMarkerEvents:function(e,t,i,n,r){e.on("popupopen",function(){f(i,function(){(a(e._popup)||a(e._popup._contentNode))&&(t.focus=!0,S(e,t,r))})}),e.on("popupclose",function(){f(i,function(){t.focus=!1})}),e.on("add",function(){f(i,function(){"label"in t&&P(e,t)})})},updateMarker:N,addMarkerWatcher:function(e,t,i,n,r,o){var l=m.getObjectArrayPath("markers."+t);o=s(o,!0);var c=i.$watch(l,function(o,s){return a(o)?void N(o,s,e,t,i,n,r):($(e,r,n),void c())},o)},string:x,log:E}}]),angular.module("leaflet-directive").factory("leafletPathsHelpers",["$rootScope","$log","leafletHelpers",function(e,t,i){function n(e){return e.filter(function(e){return u(e)}).map(function(e){return r(e)})}function r(e){return l(e)?new L.LatLng(e[0],e[1]):new L.LatLng(e.lat,e.lng)}function o(e){return e.map(function(e){return n(e)})}function a(e,t){for(var i={},n=0;n<d.length;n++){var r=d[n];s(e[r])?i[r]=e[r]:s(t.path[r])&&(i[r]=t.path[r])}return i}var s=i.isDefined,l=i.isArray,c=i.isNumber,u=i.isValidPoint,d=["stroke","weight","color","opacity","fill","fillColor","fillOpacity","dashArray","lineCap","lineJoin","clickable","pointerEvents","className","smoothFactor","noClip"],h=function(e,t){for(var i={},n=0;n<d.length;n++){var r=d[n];s(t[r])&&(i[r]=t[r])}e.setStyle(t)},p=function(e){if(!l(e))return!1;for(var t=0;t<e.length;t++){var i=e[t];if(!u(i))return!1}return!0},f={polyline:{isValid:function(e){var t=e.latlngs;return p(t)},createPath:function(e){return new L.Polyline([],e)},setPath:function(e,t){e.setLatLngs(n(t.latlngs)),h(e,t)}},multiPolyline:{isValid:function(e){var t=e.latlngs;if(!l(t))return!1;for(var i in t){var n=t[i];if(!p(n))return!1}return!0},createPath:function(e){return new L.multiPolyline([[[0,0],[1,1]]],e)},setPath:function(e,t){e.setLatLngs(o(t.latlngs)),h(e,t)}},polygon:{isValid:function(e){var t=e.latlngs;return p(t)},createPath:function(e){return new L.Polygon([],e)},setPath:function(e,t){e.setLatLngs(n(t.latlngs)),h(e,t)}},multiPolygon:{isValid:function(e){var t=e.latlngs;if(!l(t))return!1;for(var i in t){var n=t[i];if(!p(n))return!1}return!0},createPath:function(e){return new L.MultiPolygon([[[0,0],[1,1],[0,1]]],e)},setPath:function(e,t){e.setLatLngs(o(t.latlngs)),h(e,t)}},rectangle:{isValid:function(e){var t=e.latlngs;if(!l(t)||2!==t.length)return!1;for(var i in t){var n=t[i];if(!u(n))return!1}return!0},createPath:function(e){return new L.Rectangle([[0,0],[1,1]],e)},setPath:function(e,t){e.setBounds(new L.LatLngBounds(n(t.latlngs))),h(e,t)}},circle:{isValid:function(e){var t=e.latlngs;return u(t)&&c(e.radius)},createPath:function(e){return new L.Circle([0,0],1,e)},setPath:function(e,t){e.setLatLng(r(t.latlngs)),s(t.radius)&&e.setRadius(t.radius),h(e,t)}},circleMarker:{isValid:function(e){var t=e.latlngs;return u(t)&&c(e.radius)},createPath:function(e){return new L.CircleMarker([0,0],e)},setPath:function(e,t){e.setLatLng(r(t.latlngs)),s(t.radius)&&e.setRadius(t.radius),h(e,t)}}},m=function(e){var t={};return e.latlngs&&(t.latlngs=e.latlngs),e.radius&&(t.radius=e.radius),t};return{setPathOptions:function(e,t,i){s(t)||(t="polyline"),f[t].setPath(e,i)},createPath:function(e,i,n){s(i.type)||(i.type="polyline");var r=a(i,n),o=m(i);return f[i.type].isValid(o)?f[i.type].createPath(r):void t.error("[AngularJS - Leaflet] Invalid data passed to the "+i.type+" path")}}}]),angular.module("leaflet-directive").service("leafletWatchHelpers",function(){var e=function(e,t,i,n,r){var o=e[t](i,function(e,t){r(e,t),n.doWatch||o()},n.isDeep);return o},t=function(t,i,n,r){return e(t,"$watch",i,n,r)},i=function(t,i,n,r){return e(t,"$watchCollection",i,n,r)};return{maybeWatch:t,maybeWatchCollection:i}}),angular.module("leaflet-directive").factory("nominatimService",["$q","$http","leafletHelpers","leafletMapDefaults",function(e,t,i,n){var r=i.isDefined;return{query:function(i,o){var a=n.getDefaults(o),s=a.nominatim.server,l=e.defer();return t.get(s,{params:{format:"json",limit:1,q:i}}).success(function(e){e.length>0&&r(e[0].boundingbox)?l.resolve(e[0]):l.reject("[Nominatim] Invalid address")}),l.promise}}}]),angular.module("leaflet-directive").directive("bounds",["$log","$timeout","$http","leafletHelpers","nominatimService","leafletBoundsHelpers",function(e,t,i,n,r,o){return{restrict:"A",scope:!1,replace:!1,require:["leaflet"],link:function(i,a,s,l){var c=n.isDefined,u=o.createLeafletBounds,d=l[0].getLeafletScope(),h=l[0],p=n.errorHeader+" [Bounds] ",f=function(e){return 0===e._southWest.lat&&0===e._southWest.lng&&0===e._northEast.lat&&0===e._northEast.lng};h.getMap().then(function(n){d.$on("boundsChanged",function(e){var i=e.currentScope,r=n.getBounds();if(!f(r)&&!i.settingBoundsFromScope){i.settingBoundsFromLeaflet=!0;var o={northEast:{lat:r._northEast.lat,lng:r._northEast.lng},southWest:{lat:r._southWest.lat,lng:r._southWest.lng},options:r.options};angular.equals(i.bounds,o)||(i.bounds=o),t(function(){i.settingBoundsFromLeaflet=!1})}});var o;d.$watch("bounds",function(a){if(!i.settingBoundsFromLeaflet){if(c(a.address)&&a.address!==o)return i.settingBoundsFromScope=!0,r.query(a.address,s.id).then(function(e){var t=e.boundingbox,i=[[t[0],t[2]],[t[1],t[3]]];n.fitBounds(i)},function(t){e.error(p+" "+t+".")}),o=a.address,void t(function(){i.settingBoundsFromScope=!1});var l=u(a);l&&!n.getBounds().equals(l)&&(i.settingBoundsFromScope=!0,n.fitBounds(l,a.options),t(function(){i.settingBoundsFromScope=!1}))}},!0)})}}}]);var centerDirectiveTypes=["center","lfCenter"],centerDirectives={};centerDirectiveTypes.forEach(function(e){centerDirectives[e]=["$log","$q","$location","$timeout","leafletMapDefaults","leafletHelpers","leafletBoundsHelpers","leafletMapEvents",function(t,i,n,r,o,a,s,l){var c,u=a.isDefined,d=a.isNumber,h=a.isSameCenterOnMap,p=a.safeApply,f=a.isValidCenter,m=s.isValidBounds,g=a.isUndefinedOrEmpty,v=a.errorHeader,y=function(e,t){return u(e)&&m(e)&&g(t)};return{restrict:"A",scope:!1,replace:!1,require:"leaflet",controller:function(){c=i.defer(),this.getCenter=function(){return c.promise}},link:function(i,a,m,g){var b=g.getLeafletScope(),_=b[e];g.getMap().then(function(i){var a=o.getDefaults(m.id);if(-1!==m[e].search("-"))return t.error(v+' The "center" variable can\'t use a "-" on its key name: "'+m[e]+'".'),void i.setView([a.center.lat,a.center.lng],a.center.zoom);if(y(b.bounds,_))i.fitBounds(s.createLeafletBounds(b.bounds),b.bounds.options),_=i.getCenter(),p(b,function(t){angular.extend(t[e],{lat:i.getCenter().lat,lng:i.getCenter().lng,zoom:i.getZoom(),autoDiscover:!1})}),p(b,function(e){var t=i.getBounds();e.bounds={northEast:{lat:t._northEast.lat,lng:t._northEast.lng},southWest:{lat:t._southWest.lat,lng:t._southWest.lng}}});else{if(!u(_))return t.error(v+' The "center" property is not defined in the main scope'),void i.setView([a.center.lat,a.center.lng],a.center.zoom);u(_.lat)&&u(_.lng)||u(_.autoDiscover)||angular.copy(a.center,_)}var g,w;if("yes"===m.urlHashCenter){var x=function(){var e,t=n.search();if(u(t.c)){var i=t.c.split(":");3===i.length&&(e={lat:parseFloat(i[0]),lng:parseFloat(i[1]),zoom:parseInt(i[2],10)})}return e};g=x(),b.$on("$locationChangeSuccess",function(t){var n=t.currentScope,r=x();u(r)&&!h(r,i)&&angular.extend(n[e],{lat:r.lat,lng:r.lng,zoom:r.zoom})})}b.$watch(e,function(e){return b.settingCenterFromLeaflet?void 0:(u(g)&&(angular.copy(g,e),g=void 0),f(e)||e.autoDiscover===!0?e.autoDiscover===!0?(d(e.zoom)||i.setView([a.center.lat,a.center.lng],a.center.zoom),void(d(e.zoom)&&e.zoom>a.center.zoom?i.locate({setView:!0,maxZoom:e.zoom}):u(a.maxZoom)?i.locate({setView:!0,maxZoom:a.maxZoom}):i.locate({setView:!0}))):void(w&&h(e,i)||(b.settingCenterFromScope=!0,i.setView([e.lat,e.lng],e.zoom),l.notifyCenterChangedToBounds(b,i),r(function(){b.settingCenterFromScope=!1}))):void t.warn(v+" invalid 'center'"))},!0),i.whenReady(function(){w=!0}),i.on("moveend",function(){c.resolve(),l.notifyCenterUrlHashChanged(b,i,m,n.search()),h(_,i)||b.settingCenterFromScope||(b.settingCenterFromLeaflet=!0,p(b,function(t){b.settingCenterFromScope||angular.extend(t[e],{lat:i.getCenter().lat,lng:i.getCenter().lng,zoom:i.getZoom(),autoDiscover:!1}),l.notifyCenterChangedToBounds(b,i),r(function(){b.settingCenterFromLeaflet=!1})}))}),_.autoDiscover===!0&&i.on("locationerror",function(){t.warn(v+" The Geolocation API is unauthorized on this page."),f(_)?(i.setView([_.lat,_.lng],_.zoom),l.notifyCenterChangedToBounds(b,i)):(i.setView([a.center.lat,a.center.lng],a.center.zoom),l.notifyCenterChangedToBounds(b,i))})})}}}]}),centerDirectiveTypes.forEach(function(e){angular.module("leaflet-directive").directive(e,centerDirectives[e])}),angular.module("leaflet-directive").directive("controls",["$log","leafletHelpers","leafletControlHelpers",function(e,t,i){return{restrict:"A",scope:!1,replace:!1,require:"?^leaflet",link:function(n,r,o,a){if(a){var s=i.createControl,l=i.isValidControlType,c=a.getLeafletScope(),u=t.isDefined,d=t.isArray,h={},p=t.errorHeader+" [Controls] ";a.getMap().then(function(t){c.$watchCollection("controls",function(i){for(var n in h)u(i[n])||(t.hasControl(h[n])&&t.removeControl(h[n]),delete h[n]);for(var r in i){var o,a=u(i[r].type)?i[r].type:r;if(!l(a))return void e.error(p+" Invalid control type: "+a+".");if("custom"!==a)o=s(a,i[r]),t.addControl(o),h[r]=o;else{var c=i[r];if(d(c))for(var f in c){var m=c[f];t.addControl(m),h[r]=u(h[r])?h[r].concat([m]):[m]}else t.addControl(c),h[r]=c}}})})}}}}]),angular.module("leaflet-directive").directive("decorations",["$log","leafletHelpers",function(e,t){return{restrict:"A",scope:!1,replace:!1,require:"leaflet",link:function(i,n,r,o){function a(t){return u(t)&&u(t.coordinates)&&(c.isLoaded()||e.error("[AngularJS - Leaflet] The PolylineDecorator Plugin is not loaded.")),L.polylineDecorator(t.coordinates)}function s(e,t){return u(e)&&u(t)&&u(t.coordinates)&&u(t.patterns)?(e.setPaths(t.coordinates),e.setPatterns(t.patterns),e):void 0}var l=o.getLeafletScope(),c=t.PolylineDecoratorPlugin,u=t.isDefined,d={};o.getMap().then(function(e){l.$watch("decorations",function(t){for(var i in d)u(t[i])&&angular.equals(t[i],d)||(e.removeLayer(d[i]),delete d[i]);for(var n in t){var r=t[n],o=a(r);u(o)&&(d[n]=o,e.addLayer(o),s(o,r))}},!0)})}}}]),angular.module("leaflet-directive").directive("eventBroadcast",["$log","$rootScope","leafletHelpers","leafletMapEvents","leafletIterators",function(e,t,i,n,r){return{restrict:"A",scope:!1,replace:!1,require:"leaflet",link:function(t,o,a,s){var l=i.isObject,c=i.isDefined,u=s.getLeafletScope(),d=u.eventBroadcast,h=n.getAvailableMapEvents(),p=n.addEvents;s.getMap().then(function(t){var i=[],n="broadcast";c(d.map)?l(d.map)?("emit"!==d.map.logic&&"broadcast"!==d.map.logic?e.warn("[AngularJS - Leaflet] Available event propagation logic are: 'emit' or 'broadcast'."):n=d.map.logic,l(d.map.enable)&&d.map.enable.length>=0?r.each(d.map.enable,function(e){-1===i.indexOf(e)&&-1!==h.indexOf(e)&&i.push(e)}):e.warn("[AngularJS - Leaflet] event-broadcast.map.enable must be an object check your model.")):e.warn("[AngularJS - Leaflet] event-broadcast.map must be an object check your model."):i=h,p(t,i,"eventName",u,n)})}}}]),angular.module("leaflet-directive").directive("geojson",["$log","$rootScope","leafletData","leafletHelpers","leafletWatchHelpers","leafletDirectiveControlsHelpers","leafletIterators","leafletGeoJsonEvents",function(e,t,i,n,r,o,a,s){var l=r.maybeWatch,c=n.watchOptions,u=o.extend,d=n,h=a;return{restrict:"A",scope:!1,replace:!1,require:"leaflet",link:function(e,t,r,o){var a=n.isDefined,p=o.getLeafletScope(),f={},m=!1;o.getMap().then(function(e){var t=p.geojsonWatchOptions||c,o=function(e,t){var i;return i=angular.isFunction(e.onEachFeature)?e.onEachFeature:function(i,o){n.LabelPlugin.isLoaded()&&a(i.properties.description)&&o.bindLabel(i.properties.description),s.bindEvents(r.id,o,null,i,p,t,{resetStyleOnMouseout:e.resetStyleOnMouseout,mapId:r.id})}},g=d.isDefined(r.geojsonNested)&&d.isTruthy(r.geojsonNested),v=function(){if(f){var t=function(t){a(t)&&e.hasLayer(t)&&e.removeLayer(t)};return g?void h.each(f,function(e){t(e)}):void t(f)}},y=function(t,n){var s=angular.copy(t);if(a(s)&&a(s.data)){var l=o(s,n);a(s.options)||(s.options={style:s.style,filter:s.filter,onEachFeature:l,pointToLayer:s.pointToLayer});var c=L.geoJson(s.data,s.options);n&&d.isString(n)?f[n]=c:f=c,c.addTo(e),m||(m=!0,i.setGeoJSON(f,r.id))}},b=function(e){if(v(),g){if(!e||!Object.keys(e).length)return;return void h.each(e,function(e,t){y(e,t)})}y(e)};u(r.id,"geojson",b,v),l(p,"geojson",t,function(e){b(e)})})}}}]),angular.module("leaflet-directive").directive("layercontrol",["$filter","$log","leafletData","leafletHelpers",function(e,t,i,n){return{restrict:"E",scope:{icons:"=?",autoHideOpacity:"=?",showGroups:"=?",title:"@",baseTitle:"@",overlaysTitle:"@"},replace:!0,transclude:!1,require:"^leaflet",controller:["$scope","$element","$sce",function(e,r,o){t.debug("[Angular Directive - Layers] layers",e,r);var a=n.safeApply,s=n.isDefined;angular.extend(e,{baselayer:"",oldGroup:"",layerProperties:{},groupProperties:{},rangeIsSupported:n.rangeIsSupported(),changeBaseLayer:function(t,r){n.safeApply(e,function(n){n.baselayer=t,i.getMap().then(function(r){i.getLayers().then(function(i){if(!r.hasLayer(i.baselayers[t])){for(var o in n.layers.baselayers)n.layers.baselayers[o].icon=n.icons.unradio,r.hasLayer(i.baselayers[o])&&r.removeLayer(i.baselayers[o]);r.addLayer(i.baselayers[t]),n.layers.baselayers[t].icon=e.icons.radio}})})}),r.preventDefault()},moveLayer:function(t,i,n){var r=Object.keys(e.layers.baselayers).length;if(i>=1+r&&i<=e.overlaysArray.length+r){var o;for(var s in e.layers.overlays)if(e.layers.overlays[s].index===i){o=e.layers.overlays[s];break}o&&a(e,function(){o.index=t.index,t.index=i})}n.stopPropagation(),n.preventDefault()},initIndex:function(t,i){var n=Object.keys(e.layers.baselayers).length;t.index=s(t.index)?t.index:i+n+1},initGroup:function(t){e.groupProperties[t]=e.groupProperties[t]?e.groupProperties[t]:{}},toggleOpacity:function(t,i){if(i.visible){if(e.autoHideOpacity&&!e.layerProperties[i.name].opacityControl)for(var n in e.layerProperties)e.layerProperties[n].opacityControl=!1;e.layerProperties[i.name].opacityControl=!e.layerProperties[i.name].opacityControl}t.stopPropagation(),t.preventDefault()},toggleLegend:function(t){e.layerProperties[t.name].showLegend=!e.layerProperties[t.name].showLegend},showLegend:function(t){return t.legend&&e.layerProperties[t.name].showLegend},unsafeHTML:function(e){return o.trustAsHtml(e)},getOpacityIcon:function(t){return t.visible&&e.layerProperties[t.name].opacityControl?e.icons.close:e.icons.open},getGroupIcon:function(t){return t.visible?e.icons.check:e.icons.uncheck},changeOpacity:function(t){var n=e.layerProperties[t.name].opacity;i.getMap().then(function(r){i.getLayers().then(function(i){var o;for(var a in e.layers.overlays)if(e.layers.overlays[a]===t){o=i.overlays[a];break}r.hasLayer(o)&&(o.setOpacity&&o.setOpacity(n/100),o.getLayers&&o.eachLayer&&o.eachLayer(function(e){e.setOpacity&&e.setOpacity(n/100)}))})})},changeGroupVisibility:function(t){if(s(e.groupProperties[t])){var i=e.groupProperties[t].visible;for(var n in e.layers.overlays){var r=e.layers.overlays[n];r.group===t&&(r.visible=i)}}}});var l=r.get(0);L.Browser.touch?L.DomEvent.on(l,"click",L.DomEvent.stopPropagation):(L.DomEvent.disableClickPropagation(l),L.DomEvent.on(l,"mousewheel",L.DomEvent.stopPropagation))}],template:'<div class="angular-leaflet-control-layers" ng-show="overlaysArray.length"><h4 ng-if="title">{{ title }}</h4><div class="lf-baselayers"><h5 class="lf-title" ng-if="baseTitle">{{ baseTitle }}</h5><div class="lf-row" ng-repeat="(key, layer) in baselayersArray"><label class="lf-icon-bl" ng-click="changeBaseLayer(key, $event)"><input class="leaflet-control-layers-selector" type="radio" name="lf-radio" ng-show="false" ng-checked="baselayer === key" ng-value="key" /> <i class="lf-icon lf-icon-radio" ng-class="layer.icon"></i><div class="lf-text">{{layer.name}}</div></label></div></div><div class="lf-overlays"><h5 class="lf-title" ng-if="overlaysTitle">{{ overlaysTitle }}</h5><div class="lf-container"><div class="lf-row" ng-repeat="layer in (o = (overlaysArray | orderBy:\'index\':order))" ng-init="initIndex(layer, $index)"><label class="lf-icon-ol-group" ng-if="showGroups &amp;&amp; layer.group &amp;&amp; layer.group != o[$index-1].group"><input class="lf-control-layers-selector" type="checkbox" ng-show="false" ng-change="changeGroupVisibility(layer.group)" ng-model="groupProperties[layer.group].visible"/> <i class="lf-icon lf-icon-check" ng-class="getGroupIcon(groupProperties[layer.group])"></i><div class="lf-text">{{ layer.group }}</div></label><label class="lf-icon-ol"><input class="lf-control-layers-selector" type="checkbox" ng-show="false" ng-model="layer.visible"/> <i class="lf-icon lf-icon-check" ng-class="layer.icon"></i><div class="lf-text">{{layer.name}}</div></label><div class="lf-icons"><i class="lf-icon lf-up" ng-class="icons.up" ng-click="moveLayer(layer, layer.index - orderNumber, $event)"></i> <i class="lf-icon lf-down" ng-class="icons.down" ng-click="moveLayer(layer, layer.index + orderNumber, $event)"></i> <i class="lf-icon lf-toggle-legend" ng-class="icons.toggleLegend" ng-if="layer.legend" ng-click="toggleLegend(layer)"></i> <i class="lf-icon lf-open" ng-class="getOpacityIcon(layer)" ng-click="toggleOpacity($event, layer)"></i></div><div class="lf-legend" ng-if="showLegend(layer)" ng-bind-html="unsafeHTML(layer.legend)"></div><div class="lf-opacity clearfix" ng-if="layer.visible &amp;&amp; layerProperties[layer.name].opacityControl"><label ng-if="rangeIsSupported" class="pull-left" style="width: 50%">0</label><label ng-if="rangeIsSupported" class="pull-left text-right" style="width: 50%">100</label><input ng-if="rangeIsSupported" class="clearfix" type="range" min="0" max="100" class="lf-opacity-control" ng-model="layerProperties[layer.name].opacity" ng-change="changeOpacity(layer)"/><h6 ng-if="!rangeIsSupported">Range is not supported in this browser</h6></div></div></div></div></div>',link:function(e,t,r,o){var a=n.isDefined,s=o.getLeafletScope(),l=s.layers;e.$watch("icons",function(){var t={uncheck:"fa fa-square-o",check:"fa fa-check-square-o",radio:"fa fa-dot-circle-o",unradio:"fa fa-circle-o",up:"fa fa-angle-up",down:"fa fa-angle-down",open:"fa fa-angle-double-down",close:"fa fa-angle-double-up",toggleLegend:"fa fa-pencil-square-o"};a(e.icons)?(angular.extend(t,e.icons),angular.extend(e.icons,t)):e.icons=t}),r.order=!a(r.order)||"normal"!==r.order&&"reverse"!==r.order?"normal":r.order,e.order="normal"===r.order,e.orderNumber="normal"===r.order?-1:1,e.layers=l,o.getMap().then(function(t){s.$watch("layers.baselayers",function(n){var r={};i.getLayers().then(function(i){var o;for(o in n){var a=n[o];a.icon=e.icons[t.hasLayer(i.baselayers[o])?"radio":"unradio"],r[o]=a}e.baselayersArray=r})}),s.$watch("layers.overlays",function(t){var n=[],r={};i.getLayers().then(function(i){var o;for(o in t){var s=t[o];s.icon=e.icons[s.visible?"check":"uncheck"],n.push(s),a(e.layerProperties[s.name])||(e.layerProperties[s.name]={opacity:a(s.layerOptions.opacity)?100*s.layerOptions.opacity:100,opacityControl:!1,showLegend:!0}),a(s.group)&&(a(e.groupProperties[s.group])||(e.groupProperties[s.group]={visible:!1}),r[s.group]=a(r[s.group])?r[s.group]:{count:0,visibles:0},r[s.group].count++,s.visible&&r[s.group].visibles++),a(s.index)&&i.overlays[o].setZIndex&&i.overlays[o].setZIndex(t[o].index)}for(o in r)e.groupProperties[o].visible=r[o].visibles===r[o].count;e.overlaysArray=n})},!0)})}}}]),angular.module("leaflet-directive").directive("layers",["$log","$q","leafletData","leafletHelpers","leafletLayerHelpers","leafletControlHelpers",function(e,t,i,n,r,o){return{restrict:"A",scope:!1,replace:!1,require:"leaflet",controller:["$scope",function(e){e._leafletLayers=t.defer(),this.getLayers=function(){return e._leafletLayers.promise}}],link:function(e,t,a,s){var l=n.isDefined,c={},u=s.getLeafletScope(),d=u.layers,h=r.createLayer,p=r.safeAddLayer,f=r.safeRemoveLayer,m=o.updateLayersControl,g=!1;s.getMap().then(function(t){e._leafletLayers.resolve(c),i.setLayers(c,a.id),c.baselayers={},c.overlays={};var n=a.id,r=!1;for(var o in d.baselayers){var s=h(d.baselayers[o]);l(s)?(c.baselayers[o]=s,d.baselayers[o].top===!0&&(p(t,c.baselayers[o]),r=!0)):delete d.baselayers[o]}!r&&Object.keys(c.baselayers).length>0&&p(t,c.baselayers[Object.keys(d.baselayers)[0]]);for(o in d.overlays){var v=h(d.overlays[o]);l(v)?(c.overlays[o]=v,d.overlays[o].visible===!0&&p(t,c.overlays[o])):delete d.overlays[o]}u.$watch("layers.baselayers",function(e,i){if(angular.equals(e,i))return g=m(t,n,g,e,d.overlays,c),!0;for(var r in c.baselayers)(!l(e[r])||e[r].doRefresh)&&(t.hasLayer(c.baselayers[r])&&t.removeLayer(c.baselayers[r]),delete c.baselayers[r],e[r]&&e[r].doRefresh&&(e[r].doRefresh=!1));for(var o in e)if(l(c.baselayers[o]))e[o].top!==!0||t.hasLayer(c.baselayers[o])?e[o].top===!1&&t.hasLayer(c.baselayers[o])&&t.removeLayer(c.baselayers[o]):p(t,c.baselayers[o]);else{var a=h(e[o]);l(a)&&(c.baselayers[o]=a,e[o].top===!0&&p(t,c.baselayers[o]))}var s=!1;for(var u in c.baselayers)if(t.hasLayer(c.baselayers[u])){s=!0;break}!s&&Object.keys(c.baselayers).length>0&&p(t,c.baselayers[Object.keys(c.baselayers)[0]]),g=m(t,n,g,e,d.overlays,c)},!0),u.$watch("layers.overlays",function(e,i){if(angular.equals(e,i))return g=m(t,n,g,d.baselayers,e,c),!0;for(var r in c.overlays)if(!l(e[r])||e[r].doRefresh){if(t.hasLayer(c.overlays[r])){var o=l(e[r])?e[r].layerOptions:null;f(t,c.overlays[r],o)}delete c.overlays[r],e[r]&&e[r].doRefresh&&(e[r].doRefresh=!1)}for(var a in e){if(l(c.overlays[a]))e[a].visible&&!t.hasLayer(c.overlays[a])?p(t,c.overlays[a]):e[a].visible===!1&&t.hasLayer(c.overlays[a])&&f(t,c.overlays[a],e[a].layerOptions);else{var s=h(e[a]);if(!l(s))continue;c.overlays[a]=s,e[a].visible===!0&&p(t,c.overlays[a])}e[a].visible&&t._loaded&&e[a].data&&"heatmap"===e[a].type&&(c.overlays[a].setData(e[a].data),c.overlays[a].update())}g=m(t,n,g,d.baselayers,e,c)},!0)})}}}]),angular.module("leaflet-directive").directive("legend",["$log","$http","leafletHelpers","leafletLegendHelpers",function(e,t,i,n){return{restrict:"A",scope:!1,replace:!1,require:"leaflet",link:function(r,o,a,s){var l,c,u,d,h=i.isArray,p=i.isDefined,f=i.isFunction,m=s.getLeafletScope(),g=m.legend;m.$watch("legend",function(e){p(e)&&(l=e.legendClass?e.legendClass:"legend",c=e.position||"bottomright",d=e.type||"arcgis")},!0),s.getMap().then(function(i){m.$watch("legend",function(t){return p(t)?p(t.url)||"arcgis"!==d||h(t.colors)&&h(t.labels)&&t.colors.length===t.labels.length?p(t.url)?void e.info("[AngularJS - Leaflet] loading legend service."):(p(u)&&(u.removeFrom(i),u=null),u=L.control({position:c}),"arcgis"===d&&(u.onAdd=n.getOnAddArrayLegend(t,l)),void u.addTo(i)):void e.warn("[AngularJS - Leaflet] legend.colors and legend.labels must be set."):void(p(u)&&(u.removeFrom(i),u=null))}),m.$watch("legend.url",function(r){p(r)&&t.get(r).success(function(e){p(u)?n.updateLegend(u.getContainer(),e,d,r):(u=L.control({position:c}),u.onAdd=n.getOnAddLegend(e,l,d,r),u.addTo(i)),p(g.loadedData)&&f(g.loadedData)&&g.loadedData()}).error(function(){e.warn("[AngularJS - Leaflet] legend.url not loaded.")})})})}}}]),angular.module("leaflet-directive").directive("markers",["$log","$rootScope","$q","leafletData","leafletHelpers","leafletMapDefaults","leafletMarkersHelpers","leafletMarkerEvents","leafletIterators","leafletWatchHelpers","leafletDirectiveControlsHelpers",function(e,t,i,n,r,o,a,s,l,c,u){var d=r.isDefined,h=r.errorHeader,p=r,f=r.isString,m=a.addMarkerWatcher,g=a.updateMarker,v=a.listenMarkerEvents,y=a.addMarkerToGroup,b=a.createMarker,_=a.deleteMarker,w=l,x=r.watchOptions,E=c.maybeWatch,A=u.extend,C=function(e,t,i){if(Object.keys(e).length){if(i&&f(i)){if(!e[i]||!Object.keys(e[i]).length)return;return e[i][t]}return e[t]}},k=function(e,t,i,n){return n&&f(n)?(d(t[n])||(t[n]={}),t[n][i]=e):t[i]=e,e},$=function(t,i,n,r,o,a){if(!f(t))return e.error(h+" A layername must be a string"),!1;if(!d(i))return e.error(h+" You must add layers to the directive if the markers are going to use this functionality."),!1;if(!d(i.overlays)||!d(i.overlays[t]))return e.error(h+' A marker can only be added to a layer of type "group"'),!1;var s=i.overlays[t];return s instanceof L.LayerGroup||s instanceof L.FeatureGroup?(s.addLayer(r),!o&&a.hasLayer(r)&&n.focus===!0&&r.openPopup(),!0):(e.error(h+' Adding a marker to an overlay needs a overlay of the type "group" or "featureGroup"'),!1)},T=function(t,i,n,r,o,a,l,c,u,f){for(var _ in i)if(!f[_])if(-1===_.search("-")){var w=p.copy(i[_]),x=p.getObjectDotPath(u?[u,_]:[_]),E=C(a,_,u);if(d(E)){var A=d(A)?n[_]:void 0;g(w,A,E,x,l,o,r)}else{var T=b(w),L=(w?w.layer:void 0)||u;if(!d(T)){e.error(h+" Received invalid data on the marker "+_+".");continue}if(k(T,a,_,u),d(w.message)&&T.bindPopup(w.message,w.popupOptions),d(w.group)){var D=d(w.groupOption)?w.groupOption:null;y(T,w.group,D,r)}if(p.LabelPlugin.isLoaded()&&d(w.label)&&d(w.label.message)&&T.bindLabel(w.label.message,w.label.options),d(w)&&(d(w.layer)||d(u))){var M=$(L,o,w,T,c.individual.doWatch,r);if(!M)continue}else d(w.group)||(r.addLayer(T),c.individual.doWatch||w.focus!==!0||T.openPopup());c.individual.doWatch&&m(T,x,l,o,r,c.individual.isDeep),v(T,w,l,c.individual.doWatch,r),s.bindEvents(t,T,x,w,l,L)}}else e.error('The marker can\'t use a "-" on his key name: "'+_+'".')},D=function(t,i,n,r,o){var a,s,l=!1,c=!1,u=d(i);for(var f in n)l||(e.debug(h+"[markers] destroy: "),l=!0),u&&(s=t[f],a=i[f],c=angular.equals(s,a)&&r),d(t)&&Object.keys(t).length&&d(t[f])&&Object.keys(t[f]).length&&!c||o&&p.isFunction(o)&&o(s,a,f)},M=function(t,i,n,r,o){D(t,i,n,!1,function(t,i,a){e.debug(h+"[marker] is deleting marker: "+a),_(n[a],r,o),delete n[a]})},S=function(t,i,n){var r={};return D(t,i,n,!0,function(t,i,n){e.debug(h+"[marker] is already rendered, marker: "+n),r[n]=t}),r};return{restrict:"A",scope:!1,replace:!1,require:["leaflet","?layers"],link:function(e,t,r,o){var a=o[0],s=a.getLeafletScope();a.getMap().then(function(e){var t,a={};t=d(o[1])?o[1].getLayers:function(){var e=i.defer();return e.resolve(),e.promise};var l=s.markersWatchOptions||x;d(r.watchMarkers)&&(l.doWatch=l.individual.doWatch=!d(r.watchMarkers)||p.isTruthy(r.watchMarkers));var c=d(r.markersNested)&&p.isTruthy(r.markersNested);t().then(function(t){var i=function(i,n){return c?void w.each(i,function(i,r){var o=d(o)?n[r]:void 0;M(i,o,a[r],e,t)}):void M(i,n,a,e,t)},o=function(n,o){i(n,o);var u=null;return c?void w.each(n,function(i,c){var h=d(h)?o[c]:void 0;u=S(n[c],h,a[c]),T(r.id,i,o,e,t,a,s,l,c,u)}):(u=S(n,o,a),void T(r.id,n,o,e,t,a,s,l,void 0,u))};A(r.id,"markers",o,i),n.setMarkers(a,r.id),E(s,"markers",l,function(e,t){o(e,t)})})})}}}]),angular.module("leaflet-directive").directive("maxbounds",["$log","leafletMapDefaults","leafletBoundsHelpers","leafletHelpers",function(e,t,i,n){return{restrict:"A",scope:!1,replace:!1,require:"leaflet",link:function(e,t,r,o){var a=o.getLeafletScope(),s=i.isValidBounds,l=n.isNumber;o.getMap().then(function(e){a.$watch("maxbounds",function(t){if(!s(t))return void e.setMaxBounds();var n=i.createLeafletBounds(t);l(t.pad)&&(n=n.pad(t.pad)),e.setMaxBounds(n),r.center||r.lfCenter||e.fitBounds(n)})})}}}]),angular.module("leaflet-directive").directive("paths",["$log","$q","leafletData","leafletMapDefaults","leafletHelpers","leafletPathsHelpers","leafletPathEvents",function(e,t,i,n,r,o,a){return{restrict:"A",scope:!1,replace:!1,require:["leaflet","?layers"],link:function(s,l,c,u){var d=u[0],h=r.isDefined,p=r.isString,f=d.getLeafletScope(),m=f.paths,g=o.createPath,v=a.bindPathEvents,y=o.setPathOptions;d.getMap().then(function(o){var a,s=n.getDefaults(c.id);a=h(u[1])?u[1].getLayers:function(){var e=t.defer();return e.resolve(),e.promise},h(m)&&a().then(function(t){var n={};i.setPaths(n,c.id);var a=!h(c.watchPaths)||"true"===c.watchPaths,l=function(e,i){var n=f.$watch('paths["'+i+'"]',function(i,r){if(!h(i)){if(h(r.layer))for(var a in t.overlays){var s=t.overlays[a];s.removeLayer(e)}return o.removeLayer(e),void n()}y(e,i.type,i)},!0)};f.$watchCollection("paths",function(i){for(var u in n)h(i[u])||(o.removeLayer(n[u]),delete n[u]);for(var d in i)if(0!==d.search("\\$"))if(-1===d.search("-")){if(!h(n[d])){var m=i[d],b=g(d,i[d],s);if(h(b)&&h(m.message)&&b.bindPopup(m.message,m.popupOptions),r.LabelPlugin.isLoaded()&&h(m.label)&&h(m.label.message)&&b.bindLabel(m.label.message,m.label.options),h(m)&&h(m.layer)){if(!p(m.layer)){e.error("[AngularJS - Leaflet] A layername must be a string");continue}if(!h(t)){e.error("[AngularJS - Leaflet] You must add layers to the directive if the markers are going to use this functionality.");continue}if(!h(t.overlays)||!h(t.overlays[m.layer])){e.error('[AngularJS - Leaflet] A path can only be added to a layer of type "group"');continue}var _=t.overlays[m.layer];if(!(_ instanceof L.LayerGroup||_ instanceof L.FeatureGroup)){e.error('[AngularJS - Leaflet] Adding a path to an overlay needs a overlay of the type "group" or "featureGroup"');continue}n[d]=b,_.addLayer(b),a?l(b,d):y(b,m.type,m)}else h(b)&&(n[d]=b,o.addLayer(b),a?l(b,d):y(b,m.type,m));v(c.id,b,d,m,f)}}else e.error('[AngularJS - Leaflet] The path name "'+d+'" is not valid. It must not include "-" and a number.')})})})}}}]),angular.module("leaflet-directive").directive("tiles",["$log","leafletData","leafletMapDefaults","leafletHelpers",function(e,t,i,n){return{restrict:"A",scope:!1,replace:!1,require:"leaflet",link:function(r,o,a,s){var l=n.isDefined,c=s.getLeafletScope(),u=c.tiles;return l(u)&&l(u.url)?void s.getMap().then(function(e){var n,r=i.getDefaults(a.id);c.$watch("tiles",function(i,o){var s=r.tileLayerOptions,c=r.tileLayer;return!l(i.url)&&l(n)?void e.removeLayer(n):l(n)?!l(i.url)||!l(i.options)||i.type===o.type&&angular.equals(i.options,s)?void(l(i.url)&&n.setUrl(i.url)):(e.removeLayer(n),s=r.tileLayerOptions,angular.copy(i.options,s),c=i.url,n="wms"===i.type?L.tileLayer.wms(c,s):L.tileLayer(c,s),n.addTo(e),void t.setTiles(n,a.id)):(l(i.options)&&angular.copy(i.options,s),l(i.url)&&(c=i.url),n="wms"===i.type?L.tileLayer.wms(c,s):L.tileLayer(c,s),n.addTo(e),void t.setTiles(n,a.id))},!0)}):void e.warn("[AngularJS - Leaflet] The 'tiles' definition doesn't have the 'url' property.")}}}]),["markers","geojson"].forEach(function(e){angular.module("leaflet-directive").directive(e+"WatchOptions",["$log","$rootScope","$q","leafletData","leafletHelpers",function(t,i,n,r,o){var a=o.isDefined,s=o.errorHeader,l=o.isObject,c=o.watchOptions;return{restrict:"A",scope:!1,replace:!1,require:["leaflet"],link:function(i,n,r,o){var u=o[0],d=u.getLeafletScope();u.getMap().then(function(){a(i[e+"WatchOptions"])&&(l(i[e+"WatchOptions"])?angular.extend(c,i[e+"WatchOptions"]):t.error(s+"["+e+"WatchOptions] is not an object"),d[e+"WatchOptions"]=c)})}}}])}),angular.module("leaflet-directive").factory("LeafletEventsHelpersFactory",["$rootScope","$q","$log","leafletHelpers",function(e,t,i,n){var r=n.safeApply,o=n.isDefined,a=n.isObject,s=n.isArray,l=n.errorHeader,c=function(e,t){this.rootBroadcastName=e,i.debug("LeafletEventsHelpersFactory: lObjectType: "+t+"rootBroadcastName: "+e),this.lObjectType=t};return c.prototype.getAvailableEvents=function(){return[]},c.prototype.genDispatchEvent=function(e,t,n,r,o,a,s,l,c){var u=this;return e=e||"",e&&(e="."+e),function(d){var h=u.rootBroadcastName+e+"."+t;i.debug(h),u.fire(r,h,n,d,d.target||o,s,a,l,c)}},c.prototype.fire=function(t,i,n,a,s,l,c,u){r(t,function(){var r={leafletEvent:a,leafletObject:s,modelName:c,model:l};o(u)&&angular.extend(r,{layerName:u}),"emit"===n?t.$emit(i,r):e.$broadcast(i,r)})},c.prototype.bindEvents=function(e,t,n,r,c,u,d){var h=[],p="emit",f=this;
if(o(c.eventBroadcast))if(a(c.eventBroadcast))if(o(c.eventBroadcast[f.lObjectType]))if(a(c.eventBroadcast[f.lObjectType])){o(c.eventBroadcast[this.lObjectType].logic)&&"emit"!==c.eventBroadcast[f.lObjectType].logic&&"broadcast"!==c.eventBroadcast[f.lObjectType].logic&&i.warn(l+"Available event propagation logic are: 'emit' or 'broadcast'.");var m=!1,g=!1;o(c.eventBroadcast[f.lObjectType].enable)&&s(c.eventBroadcast[f.lObjectType].enable)&&(m=!0),o(c.eventBroadcast[f.lObjectType].disable)&&s(c.eventBroadcast[f.lObjectType].disable)&&(g=!0),m&&g?i.warn(l+"can not enable and disable events at the same time"):m||g?m?c.eventBroadcast[this.lObjectType].enable.forEach(function(e){-1!==h.indexOf(e)?i.warn(l+"This event "+e+" is already enabled"):-1===f.getAvailableEvents().indexOf(e)?i.warn(l+"This event "+e+" does not exist"):h.push(e)}):(h=this.getAvailableEvents(),c.eventBroadcast[f.lObjectType].disable.forEach(function(e){var t=h.indexOf(e);-1===t?i.warn(l+"This event "+e+" does not exist or has been already disabled"):h.splice(t,1)})):i.warn(l+"must enable or disable events")}else i.warn(l+"event-broadcast."+[f.lObjectType]+" must be an object check your model.");else h=this.getAvailableEvents();else i.error(l+"event-broadcast must be an object check your model.");else h=this.getAvailableEvents();return h.forEach(function(i){t.on(i,f.genDispatchEvent(e,i,p,c,t,n,r,u,d))}),p},c}]).service("leafletEventsHelpers",["LeafletEventsHelpersFactory",function(e){return new e}]),angular.module("leaflet-directive").factory("leafletGeoJsonEvents",["$rootScope","$q","$log","leafletHelpers","LeafletEventsHelpersFactory","leafletData",function(e,t,i,n,r,o){var a=n.safeApply,s=r,l=function(){s.call(this,"leafletDirectiveGeoJson","geojson")};return l.prototype=new s,l.prototype.genDispatchEvent=function(t,i,n,r,l,c,u,d,h){var p=s.prototype.genDispatchEvent.call(this,t,i,n,r,l,c,u,d),f=this;return function(t){"mouseout"===i&&(h.resetStyleOnMouseout&&o.getGeoJSON(h.mapId).then(function(e){var i=d?e[d]:e;i.resetStyle(t.target)}),a(r,function(){e.$broadcast(f.rootBroadcastName+".mouseout",t)})),p(t)}},l.prototype.getAvailableEvents=function(){return["click","dblclick","mouseover","mouseout"]},new l}]),angular.module("leaflet-directive").factory("leafletLabelEvents",["$rootScope","$q","$log","leafletHelpers","LeafletEventsHelpersFactory",function(e,t,i,n,r){var o=n,a=r,s=function(){a.call(this,"leafletDirectiveLabel","markers")};return s.prototype=new a,s.prototype.genDispatchEvent=function(e,t,i,n,r,o,s,l){var c=o.replace("markers.","");return a.prototype.genDispatchEvent.call(this,e,t,i,n,r,c,s,l)},s.prototype.getAvailableEvents=function(){return["click","dblclick","mousedown","mouseover","mouseout","contextmenu"]},s.prototype.genEvents=function(e,t,i,n,r,a,s,l){var c=this,u=this.getAvailableEvents(),d=o.getObjectArrayPath("markers."+a);u.forEach(function(t){r.label.on(t,c.genDispatchEvent(e,t,i,n,r.label,d,s,l))})},s.prototype.bindEvents=function(){},new s}]),angular.module("leaflet-directive").factory("leafletMapEvents",["$rootScope","$q","$log","leafletHelpers","leafletEventsHelpers","leafletIterators",function(e,t,i,n,r,o){var a=n.isDefined,s=r.fire,l=function(){return["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","contextmenu","focus","blur","preclick","load","unload","viewreset","movestart","move","moveend","dragstart","drag","dragend","zoomstart","zoomanim","zoomend","zoomlevelschange","resize","autopanstart","layeradd","layerremove","baselayerchange","overlayadd","overlayremove","locationfound","locationerror","popupopen","popupclose","draw:created","draw:edited","draw:deleted","draw:drawstart","draw:drawstop","draw:editstart","draw:editstop","draw:deletestart","draw:deletestop"]},c=function(e,t,n,r){return r&&(r+="."),function(o){var a="leafletDirectiveMap."+r+t;i.debug(a),s(e,a,n,o,o.target,e)}},u=function(e){e.$broadcast("boundsChanged")},d=function(e,t,i,n){if(a(i.urlHashCenter)){var r=t.getCenter(),o=r.lat.toFixed(4)+":"+r.lng.toFixed(4)+":"+t.getZoom();a(n.c)&&n.c===o||e.$emit("centerUrlHash",o)}},h=function(e,t,i,n,r){o.each(t,function(t){var o={};o[i]=t,e.on(t,c(n,t,r,e._container.id||""),o)})};return{getAvailableMapEvents:l,genDispatchMapEvent:c,notifyCenterChangedToBounds:u,notifyCenterUrlHashChanged:d,addEvents:h}}]),angular.module("leaflet-directive").factory("leafletMarkerEvents",["$rootScope","$q","$log","leafletHelpers","LeafletEventsHelpersFactory","leafletLabelEvents",function(e,t,i,n,r,o){var a=n.safeApply,s=n.isDefined,l=n,c=o,u=r,d=function(){u.call(this,"leafletDirectiveMarker","markers")};return d.prototype=new u,d.prototype.genDispatchEvent=function(t,i,n,r,o,s,l,c){var d=u.prototype.genDispatchEvent.call(this,t,i,n,r,o,s,l,c);return function(t){"click"===i?a(r,function(){e.$broadcast("leafletDirectiveMarkersClick",s)}):"dragend"===i&&(a(r,function(){l.lat=o.getLatLng().lat,l.lng=o.getLatLng().lng}),l.message&&l.focus===!0&&o.openPopup()),d(t)}},d.prototype.getAvailableEvents=function(){return["click","dblclick","mousedown","mouseover","mouseout","contextmenu","dragstart","drag","dragend","move","remove","popupopen","popupclose","touchend","touchstart","touchmove","touchcancel","touchleave"]},d.prototype.bindEvents=function(e,t,i,n,r,o){var a=u.prototype.bindEvents.call(this,e,t,i,n,r,o);l.LabelPlugin.isLoaded()&&s(t.label)&&c.genEvents(e,i,a,r,t,n,o)},new d}]),angular.module("leaflet-directive").factory("leafletPathEvents",["$rootScope","$q","$log","leafletHelpers","leafletLabelEvents","leafletEventsHelpers",function(e,t,i,n,r,o){var a=n.isDefined,s=n.isObject,l=n,c=n.errorHeader,u=r,d=o.fire,h=function(e,t,n,r,o,a,s,l){return e=e||"",e&&(e="."+e),function(c){var u="leafletDirectivePath"+e+"."+t;i.debug(u),d(r,u,n,c,c.target||o,s,a,l)}},p=function(e,t,n,r,o){var d,p,m=[],g="broadcast";if(a(o.eventBroadcast))if(s(o.eventBroadcast))if(a(o.eventBroadcast.path))if(s(o.eventBroadcast.paths))i.warn(c+"event-broadcast.path must be an object check your model.");else{void 0!==o.eventBroadcast.path.logic&&null!==o.eventBroadcast.path.logic&&("emit"!==o.eventBroadcast.path.logic&&"broadcast"!==o.eventBroadcast.path.logic?i.warn(c+"Available event propagation logic are: 'emit' or 'broadcast'."):"emit"===o.eventBroadcast.path.logic&&(g="emit"));var v=!1,y=!1;if(void 0!==o.eventBroadcast.path.enable&&null!==o.eventBroadcast.path.enable&&"object"==typeof o.eventBroadcast.path.enable&&(v=!0),void 0!==o.eventBroadcast.path.disable&&null!==o.eventBroadcast.path.disable&&"object"==typeof o.eventBroadcast.path.disable&&(y=!0),v&&y)i.warn(c+"can not enable and disable events at the same time");else if(v||y)if(v)for(d=0;d<o.eventBroadcast.path.enable.length;d++)p=o.eventBroadcast.path.enable[d],-1!==m.indexOf(p)?i.warn(c+"This event "+p+" is already enabled"):-1===f().indexOf(p)?i.warn(c+"This event "+p+" does not exist"):m.push(p);else for(m=f(),d=0;d<o.eventBroadcast.path.disable.length;d++){p=o.eventBroadcast.path.disable[d];var b=m.indexOf(p);-1===b?i.warn(c+"This event "+p+" does not exist or has been already disabled"):m.splice(b,1)}else i.warn(c+"must enable or disable events")}else m=f();else i.error(c+"event-broadcast must be an object check your model.");else m=f();for(d=0;d<m.length;d++)p=m[d],t.on(p,h(e,p,g,o,m,n));l.LabelPlugin.isLoaded()&&a(t.label)&&u.genEvents(e,n,g,o,t,r)},f=function(){return["click","dblclick","mousedown","mouseover","mouseout","contextmenu","add","remove","popupopen","popupclose"]};return{getAvailablePathEvents:f,bindPathEvents:p}}])}(angular)}(angular),function(){L.labelVersion="0.2.1",L.Label=L.Class.extend({includes:L.Mixin.Events,options:{className:"",clickable:!1,direction:"right",noHide:!1,offset:[12,-15],opacity:1,zoomAnimation:!0},initialize:function(e,t){L.setOptions(this,e),this._source=t,this._animated=L.Browser.any3d&&this.options.zoomAnimation,this._isOpen=!1},onAdd:function(e){this._map=e,this._pane=this._source instanceof L.Marker?e._panes.markerPane:e._panes.popupPane,this._container||this._initLayout(),this._pane.appendChild(this._container),this._initInteraction(),this._update(),this.setOpacity(this.options.opacity),e.on("moveend",this._onMoveEnd,this).on("viewreset",this._onViewReset,this),this._animated&&e.on("zoomanim",this._zoomAnimation,this),L.Browser.touch&&!this.options.noHide&&L.DomEvent.on(this._container,"click",this.close,this)},onRemove:function(e){this._pane.removeChild(this._container),e.off({zoomanim:this._zoomAnimation,moveend:this._onMoveEnd,viewreset:this._onViewReset},this),this._removeInteraction(),this._map=null},setLatLng:function(e){return this._latlng=L.latLng(e),this._map&&this._updatePosition(),this},setContent:function(e){return this._previousContent=this._content,this._content=e,this._updateContent(),this},close:function(){var e=this._map;e&&(L.Browser.touch&&!this.options.noHide&&L.DomEvent.off(this._container,"click",this.close),e.removeLayer(this))},updateZIndex:function(e){this._zIndex=e,this._container&&this._zIndex&&(this._container.style.zIndex=e)},setOpacity:function(e){this.options.opacity=e,this._container&&L.DomUtil.setOpacity(this._container,e)},_initLayout:function(){this._container=L.DomUtil.create("div","leaflet-label "+this.options.className+" leaflet-zoom-animated"),this.updateZIndex(this._zIndex)},_update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updatePosition(),this._container.style.visibility="")},_updateContent:function(){this._content&&this._map&&this._prevContent!==this._content&&"string"==typeof this._content&&(this._container.innerHTML=this._content,this._prevContent=this._content,this._labelWidth=this._container.offsetWidth)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},_setPosition:function(e){var t=this._map,i=this._container,n=t.latLngToContainerPoint(t.getCenter()),r=t.layerPointToContainerPoint(e),o=this.options.direction,a=this._labelWidth,s=L.point(this.options.offset);"right"===o||"auto"===o&&r.x<n.x?(L.DomUtil.addClass(i,"leaflet-label-right"),L.DomUtil.removeClass(i,"leaflet-label-left"),e=e.add(s)):(L.DomUtil.addClass(i,"leaflet-label-left"),L.DomUtil.removeClass(i,"leaflet-label-right"),e=e.add(L.point(-s.x-a,s.y))),L.DomUtil.setPosition(i,e)},_zoomAnimation:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPosition(t)},_onMoveEnd:function(){this._animated&&"auto"!==this.options.direction||this._updatePosition()},_onViewReset:function(e){e&&e.hard&&this._update()},_initInteraction:function(){if(this.options.clickable){var e=this._container,t=["dblclick","mousedown","mouseover","mouseout","contextmenu"];L.DomUtil.addClass(e,"leaflet-clickable"),L.DomEvent.on(e,"click",this._onMouseClick,this);for(var i=0;t.length>i;i++)L.DomEvent.on(e,t[i],this._fireMouseEvent,this)}},_removeInteraction:function(){if(this.options.clickable){var e=this._container,t=["dblclick","mousedown","mouseover","mouseout","contextmenu"];L.DomUtil.removeClass(e,"leaflet-clickable"),L.DomEvent.off(e,"click",this._onMouseClick,this);for(var i=0;t.length>i;i++)L.DomEvent.off(e,t[i],this._fireMouseEvent,this)}},_onMouseClick:function(e){this.hasEventListeners(e.type)&&L.DomEvent.stopPropagation(e),this.fire(e.type,{originalEvent:e})},_fireMouseEvent:function(e){this.fire(e.type,{originalEvent:e}),"contextmenu"===e.type&&this.hasEventListeners(e.type)&&L.DomEvent.preventDefault(e),"mousedown"!==e.type?L.DomEvent.stopPropagation(e):L.DomEvent.preventDefault(e)}}),L.BaseMarkerMethods={showLabel:function(){return this.label&&this._map&&(this.label.setLatLng(this._latlng),this._map.showLabel(this.label)),this},hideLabel:function(){return this.label&&this.label.close(),this},setLabelNoHide:function(e){this._labelNoHide!==e&&(this._labelNoHide=e,e?(this._removeLabelRevealHandlers(),this.showLabel()):(this._addLabelRevealHandlers(),this.hideLabel()))},bindLabel:function(e,t){var i=this.options.icon?this.options.icon.options.labelAnchor:this.options.labelAnchor,n=L.point(i)||L.point(0,0);return n=n.add(L.Label.prototype.options.offset),t&&t.offset&&(n=n.add(t.offset)),t=L.Util.extend({offset:n},t),this._labelNoHide=t.noHide,this.label||(this._labelNoHide||this._addLabelRevealHandlers(),this.on("remove",this.hideLabel,this).on("move",this._moveLabel,this).on("add",this._onMarkerAdd,this),this._hasLabelHandlers=!0),this.label=new L.Label(t,this).setContent(e),this},unbindLabel:function(){return this.label&&(this.hideLabel(),this.label=null,this._hasLabelHandlers&&(this._labelNoHide||this._removeLabelRevealHandlers(),this.off("remove",this.hideLabel,this).off("move",this._moveLabel,this).off("add",this._onMarkerAdd,this)),this._hasLabelHandlers=!1),this},updateLabelContent:function(e){this.label&&this.label.setContent(e)},getLabel:function(){return this.label},_onMarkerAdd:function(){this._labelNoHide&&this.showLabel()},_addLabelRevealHandlers:function(){this.on("mouseover",this.showLabel,this).on("mouseout",this.hideLabel,this),L.Browser.touch&&this.on("click",this.showLabel,this)},_removeLabelRevealHandlers:function(){this.off("mouseover",this.showLabel,this).off("mouseout",this.hideLabel,this),L.Browser.touch&&this.off("click",this.showLabel,this)},_moveLabel:function(e){this.label.setLatLng(e.latlng)}},L.Icon.Default.mergeOptions({labelAnchor:new L.Point(9,(-20))}),L.Marker.mergeOptions({icon:new L.Icon.Default}),L.Marker.include(L.BaseMarkerMethods),L.Marker.include({_originalUpdateZIndex:L.Marker.prototype._updateZIndex,_updateZIndex:function(e){var t=this._zIndex+e;this._originalUpdateZIndex(e),this.label&&this.label.updateZIndex(t)},_originalSetOpacity:L.Marker.prototype.setOpacity,setOpacity:function(e,t){this.options.labelHasSemiTransparency=t,this._originalSetOpacity(e)},_originalUpdateOpacity:L.Marker.prototype._updateOpacity,_updateOpacity:function(){var e=0===this.options.opacity?0:1;this._originalUpdateOpacity(),this.label&&this.label.setOpacity(this.options.labelHasSemiTransparency?this.options.opacity:e)},_originalSetLatLng:L.Marker.prototype.setLatLng,setLatLng:function(e){return this.label&&!this._labelNoHide&&this.hideLabel(),this._originalSetLatLng(e)}}),L.CircleMarker.mergeOptions({labelAnchor:new L.Point(0,0)}),L.CircleMarker.include(L.BaseMarkerMethods),L.Path.include({bindLabel:function(e,t){return this.label&&this.label.options===t||(this.label=new L.Label(t,this)),this.label.setContent(e),this._showLabelAdded||(this.on("mouseover",this._showLabel,this).on("mousemove",this._moveLabel,this).on("mouseout remove",this._hideLabel,this),L.Browser.touch&&this.on("click",this._showLabel,this),this._showLabelAdded=!0),this},unbindLabel:function(){return this.label&&(this._hideLabel(),this.label=null,this._showLabelAdded=!1,this.off("mouseover",this._showLabel,this).off("mousemove",this._moveLabel,this).off("mouseout remove",this._hideLabel,this)),this},updateLabelContent:function(e){this.label&&this.label.setContent(e)},_showLabel:function(e){this.label.setLatLng(e.latlng),this._map.showLabel(this.label)},_moveLabel:function(e){this.label.setLatLng(e.latlng)},_hideLabel:function(){this.label.close()}}),L.Map.include({showLabel:function(e){return this.addLayer(e)}}),L.FeatureGroup.include({clearLayers:function(){return this.unbindLabel(),this.eachLayer(this.removeLayer,this),this},bindLabel:function(e,t){return this.invoke("bindLabel",e,t)},unbindLabel:function(){return this.invoke("unbindLabel")},updateLabelContent:function(e){this.invoke("updateLabelContent",e)}})}(this,document),!function(e,t,i){L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(e){L.Util.setOptions(this,e),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.on(L.FeatureGroup.EVENTS,this._propagateEvent,this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.on(L.FeatureGroup.EVENTS,this._propagateEvent,this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[];var t=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,t?this._withAnimation:this._noAnimation),this._markerCluster=t?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(e){if(e instanceof L.LayerGroup){var t=[];for(var i in e._layers)t.push(e._layers[i]);return this.addLayers(t)}if(!e.getLatLng)return this._nonPointGroup.addLayer(e),this;if(!this._map)return this._needsClustering.push(e),this;if(this.hasLayer(e))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(e,this._maxZoom),this._topClusterLevel._recalculateBounds();var n=e,r=this._map.getZoom();if(e.__parent)for(;n.__parent._zoom>=r;)n=n.__parent;return this._currentShownBounds.contains(n.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(e,n):this._animationAddLayerNonAnimated(e,n)),this},removeLayer:function(e){if(e instanceof L.LayerGroup){var t=[];for(var i in e._layers)t.push(e._layers[i]);return this.removeLayers(t)}return e.getLatLng?this._map?e.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(e)),this._removeLayer(e,!0),this._topClusterLevel._recalculateBounds(),this._featureGroup.hasLayer(e)&&(this._featureGroup.removeLayer(e),e.clusterShow&&e.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,e)&&this.hasLayer(e)&&this._needsRemoving.push(e),this):(this._nonPointGroup.removeLayer(e),this)},addLayers:function(e){var t,i,n,r,o=this._featureGroup,a=this._nonPointGroup,s=this.options.chunkedLoading,l=this.options.chunkInterval,c=this.options.chunkProgress;if(this._map){var u=0,d=(new Date).getTime(),h=L.bind(function(){for(var t=(new Date).getTime();u<e.length;u++){if(s&&0===u%200){var i=(new Date).getTime()-t;if(i>l)break}if(r=e[u],r.getLatLng){if(!this.hasLayer(r)&&(this._addLayer(r,this._maxZoom),r.__parent&&2===r.__parent.getChildCount())){var n=r.__parent.getAllChildMarkers(),p=n[0]===r?n[1]:n[0];o.removeLayer(p)}}else a.addLayer(r)}c&&c(u,e.length,(new Date).getTime()-d),u===e.length?(this._topClusterLevel._recalculateBounds(),this._featureGroup.eachLayer(function(e){e instanceof L.MarkerCluster&&e._iconNeedsUpdate&&e._updateIcon()}),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(h,this.options.chunkDelay)},this);h()}else{for(t=[],i=0,n=e.length;n>i;i++)r=e[i],r.getLatLng?this.hasLayer(r)||t.push(r):a.addLayer(r);this._needsClustering=this._needsClustering.concat(t)}return this},removeLayers:function(e){var t,i,n,r=this._featureGroup,o=this._nonPointGroup;if(!this._map){for(t=0,i=e.length;i>t;t++)n=e[t],this._arraySplice(this._needsClustering,n),o.removeLayer(n),this.hasLayer(n)&&this._needsRemoving.push(n);return this}if(this._unspiderfy)for(this._unspiderfy(),t=0,i=e.length;i>t;t++)n=e[t],this._unspiderfyLayer(n);for(t=0,i=e.length;i>t;t++)n=e[t],n.__parent?(this._removeLayer(n,!0,!0),r.hasLayer(n)&&(r.removeLayer(n),n.clusterShow&&n.clusterShow())):o.removeLayer(n);return this._topClusterLevel._recalculateBounds(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),r.eachLayer(function(e){e instanceof L.MarkerCluster&&e._updateIcon()}),this},clearLayers:function(){return this._map||(this._needsClustering=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(e){delete e.__parent}),this._map&&this._generateInitialClusters(),this},getBounds:function(){var e=new L.LatLngBounds;this._topClusterLevel&&e.extend(this._topClusterLevel._bounds);for(var t=this._needsClustering.length-1;t>=0;t--)e.extend(this._needsClustering[t].getLatLng());return e.extend(this._nonPointGroup.getBounds()),e},eachLayer:function(e,t){var i,n=this._needsClustering.slice();for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(n),i=n.length-1;i>=0;i--)e.call(t,n[i]);this._nonPointGroup.eachLayer(e,t)},getLayers:function(){var e=[];return this.eachLayer(function(t){e.push(t)}),e},getLayer:function(e){var t=null;return e=parseInt(e,10),this.eachLayer(function(i){L.stamp(i)===e&&(t=i)}),t},hasLayer:function(e){if(!e)return!1;var t,i=this._needsClustering;for(t=i.length-1;t>=0;t--)if(i[t]===e)return!0;for(i=this._needsRemoving,t=i.length-1;t>=0;t--)if(i[t]===e)return!1;return!(!e.__parent||e.__parent._group!==this)||this._nonPointGroup.hasLayer(e)},zoomToShowLayer:function(e,t){"function"!=typeof t&&(t=function(){});var i=function(){!e._icon&&!e.__parent._icon||this._inZoomAnimation||(this._map.off("moveend",i,this),this.off("animationend",i,this),e._icon?t():e.__parent._icon&&(this.once("spiderfied",t,this),e.__parent.spiderfy()))};if(e._icon&&this._map.getBounds().contains(e.getLatLng()))t();else if(e.__parent._zoom<this._map.getZoom())this._map.on("moveend",i,this),this._map.panTo(e.getLatLng());else{var n=function(){this._map.off("movestart",n,this),n=null};this._map.on("movestart",n,this),this._map.on("moveend",i,this),this.on("animationend",i,this),e.__parent.zoomToBounds(),n&&i.call(this)}},onAdd:function(e){this._map=e;var t,i,n;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.onAdd(e),this._nonPointGroup.onAdd(e),this._gridClusters||this._generateInitialClusters(),this._maxLat=e.options.crs.projection.MAX_LATITUDE,t=0,i=this._needsRemoving.length;i>t;t++)n=this._needsRemoving[t],this._removeLayer(n,!0);this._needsRemoving=[],this._zoom=this._map.getZoom(),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),i=this._needsClustering,this._needsClustering=[],this.addLayers(i)},onRemove:function(e){e.off("zoomend",this._zoomEnd,this),e.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.onRemove(e),this._nonPointGroup.onRemove(e),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(e){for(var t=e;t&&!t._icon;)t=t.__parent;return t||null},_arraySplice:function(e,t){for(var i=e.length-1;i>=0;i--)if(e[i]===t)return e.splice(i,1),!0},_removeFromGridUnclustered:function(e,t){for(var i=this._map,n=this._gridUnclustered;t>=0&&n[t].removeObject(e,i.project(e.getLatLng(),t));t--);},_removeLayer:function(e,t,i){var n=this._gridClusters,r=this._gridUnclustered,o=this._featureGroup,a=this._map;t&&this._removeFromGridUnclustered(e,this._maxZoom);var s,l=e.__parent,c=l._markers;for(this._arraySplice(c,e);l&&(l._childCount--,l._boundsNeedUpdate=!0,!(l._zoom<0));)t&&l._childCount<=1?(s=l._markers[0]===e?l._markers[1]:l._markers[0],n[l._zoom].removeObject(l,a.project(l._cLatLng,l._zoom)),r[l._zoom].addObject(s,a.project(s.getLatLng(),l._zoom)),this._arraySplice(l.__parent._childClusters,l),l.__parent._markers.push(s),s.__parent=l.__parent,l._icon&&(o.removeLayer(l),i||o.addLayer(s))):i&&l._icon||l._updateIcon(),l=l.__parent;delete e.__parent},_isOrIsParent:function(e,t){for(;t;){if(e===t)return!0;t=t.parentNode}return!1},_propagateEvent:function(e){if(e.layer instanceof L.MarkerCluster){if(e.originalEvent&&this._isOrIsParent(e.layer._icon,e.originalEvent.relatedTarget))return;e.type="cluster"+e.type}this.fire(e.type,e)},_defaultIconCreateFunction:function(e){var t=e.getChildCount(),i=" marker-cluster-";return i+=10>t?"small":100>t?"medium":"large",new L.DivIcon({html:"<div><span>"+t+"</span></div>",className:"marker-cluster"+i,iconSize:new L.Point(40,40)})},_bindEvents:function(){var e=this._map,t=this.options.spiderfyOnMaxZoom,i=this.options.showCoverageOnHover,n=this.options.zoomToBoundsOnClick;(t||n)&&this.on("clusterclick",this._zoomOrSpiderfy,this),i&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),e.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(e){for(var t=e.layer,i=t;1===i._childClusters.length;)i=i._childClusters[0];i._zoom===this._maxZoom&&i._childCount===t._childCount?this.options.spiderfyOnMaxZoom&&t.spiderfy():this.options.zoomToBoundsOnClick&&t.zoomToBounds(),e.originalEvent&&13===e.originalEvent.keyCode&&this._map._container.focus()},_showCoverage:function(e){var t=this._map;this._inZoomAnimation||(this._shownPolygon&&t.removeLayer(this._shownPolygon),e.layer.getChildCount()>2&&e.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(e.layer.getConvexHull(),this.options.polygonOptions),t.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var e=this.options.spiderfyOnMaxZoom,t=this.options.showCoverageOnHover,i=this.options.zoomToBoundsOnClick,n=this._map;(e||i)&&this.off("clusterclick",this._zoomOrSpiderfy,this),t&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),n.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=this._map._zoom,this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var e=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,this._zoom,e),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._map._zoom,e),this._currentShownBounds=e}},_generateInitialClusters:function(){var e=this._map.getMaxZoom(),t=this.options.maxClusterRadius,i=t;"function"!=typeof t&&(i=function(){return t}),this.options.disableClusteringAtZoom&&(e=this.options.disableClusteringAtZoom-1),this._maxZoom=e,this._gridClusters={},this._gridUnclustered={};for(var n=e;n>=0;n--)this._gridClusters[n]=new L.DistanceGrid(i(n)),this._gridUnclustered[n]=new L.DistanceGrid(i(n));this._topClusterLevel=new this._markerCluster(this,(-1))},_addLayer:function(e,t){var i,n,r=this._gridClusters,o=this._gridUnclustered;for(this.options.singleMarkerMode&&this._overrideMarkerIcon(e);t>=0;t--){i=this._map.project(e.getLatLng(),t);var a=r[t].getNearObject(i);if(a)return a._addChild(e),void(e.__parent=a);if(a=o[t].getNearObject(i)){var s=a.__parent;s&&this._removeLayer(a,!1);var l=new this._markerCluster(this,t,a,e);r[t].addObject(l,this._map.project(l._cLatLng,t)),a.__parent=l,e.__parent=l;var c=l;for(n=t-1;n>s._zoom;n--)c=new this._markerCluster(this,n,c),r[n].addObject(c,this._map.project(a.getLatLng(),n));return s._addChild(c),void this._removeFromGridUnclustered(a,t)}o[t].addObject(e,i)}this._topClusterLevel._addChild(e),e.__parent=this._topClusterLevel},_enqueue:function(e){this._queue.push(e),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var e=0;e<this._queue.length;e++)this._queue[e].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){this._processQueue(),this._zoom<this._map._zoom&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,this._map._zoom)):this._zoom>this._map._zoom?(this._animationStart(),this._animationZoomOut(this._zoom,this._map._zoom)):this._moveEnd()},_getExpandedVisibleBounds:function(){return this.options.removeOutsideVisibleBounds?L.Browser.mobile?this._checkBoundsMaxLat(this._map.getBounds()):this._checkBoundsMaxLat(this._map.getBounds().pad(1)):this._mapBoundsInfinite},_checkBoundsMaxLat:function(e){var t=this._maxLat;return t!==i&&(e.getNorth()>=t&&(e._northEast.lat=1/0),e.getSouth()<=-t&&(e._southWest.lat=-1/0)),e},_animationAddLayerNonAnimated:function(e,t){if(t===e)this._featureGroup.addLayer(e);else if(2===t._childCount){t._addToMap();var i=t.getAllChildMarkers();this._featureGroup.removeLayer(i[0]),this._featureGroup.removeLayer(i[1])}else t._updateIcon()},_overrideMarkerIcon:function(e){var t=e.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[e]}});return t}}),L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(e,t){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,e),this._topClusterLevel._recursivelyAddChildrenToMap(null,t,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(e,t){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,e),this._topClusterLevel._recursivelyAddChildrenToMap(null,t,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(e,t){this._animationAddLayerNonAnimated(e,t)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(e,t){var i,n=this._getExpandedVisibleBounds(),r=this._featureGroup;this._topClusterLevel._recursively(n,e,0,function(o){var a,s=o._latlng,l=o._markers;for(n.contains(s)||(s=null),o._isSingleParent()&&e+1===t?(r.removeLayer(o),o._recursivelyAddChildrenToMap(null,t,n)):(o.clusterHide(),o._recursivelyAddChildrenToMap(s,t,n)),i=l.length-1;i>=0;i--)a=l[i],n.contains(a._latlng)||r.removeLayer(a)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(n,t),r.eachLayer(function(e){e instanceof L.MarkerCluster||!e._icon||e.clusterShow()}),this._topClusterLevel._recursively(n,e,t,function(e){e._recursivelyRestoreChildPositions(t)}),this._enqueue(function(){this._topClusterLevel._recursively(n,e,0,function(e){r.removeLayer(e),e.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(e,t){this._animationZoomOutSingle(this._topClusterLevel,e-1,t),this._topClusterLevel._recursivelyAddChildrenToMap(null,t,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,e,this._getExpandedVisibleBounds())},_animationAddLayer:function(e,t){var i=this,n=this._featureGroup;n.addLayer(e),t!==e&&(t._childCount>2?(t._updateIcon(),this._forceLayout(),this._animationStart(),e._setPos(this._map.latLngToLayerPoint(t.getLatLng())),e.clusterHide(),this._enqueue(function(){n.removeLayer(e),e.clusterShow(),i._animationEnd()})):(this._forceLayout(),i._animationStart(),i._animationZoomOutSingle(t,this._map.getMaxZoom(),this._map.getZoom())))}},_animationZoomOutSingle:function(e,t,i){var n=this._getExpandedVisibleBounds();e._recursivelyAnimateChildrenInAndAddSelfToMap(n,t+1,i);var r=this;this._forceLayout(),e._recursivelyBecomeVisible(n,i),this._enqueue(function(){if(1===e._childCount){var o=e._markers[0];o.setLatLng(o.getLatLng()),o.clusterShow&&o.clusterShow()}else e._recursively(n,i,0,function(e){e._recursivelyRemoveChildrenFromMap(n,t+1)});r._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(t.body.offsetWidth)}}),L.markerClusterGroup=function(e){return new L.MarkerClusterGroup(e)},L.MarkerCluster=L.Marker.extend({
initialize:function(e,t,i,n){L.Marker.prototype.initialize.call(this,i?i._cLatLng||i.getLatLng():new L.LatLng(0,0),{icon:this}),this._group=e,this._zoom=t,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,i&&this._addChild(i),n&&this._addChild(n)},getAllChildMarkers:function(e){e=e||[];for(var t=this._childClusters.length-1;t>=0;t--)this._childClusters[t].getAllChildMarkers(e);for(var i=this._markers.length-1;i>=0;i--)e.push(this._markers[i]);return e},getChildCount:function(){return this._childCount},zoomToBounds:function(){for(var e,t=this._childClusters.slice(),i=this._group._map,n=i.getBoundsZoom(this._bounds),r=this._zoom+1,o=i.getZoom();t.length>0&&n>r;){r++;var a=[];for(e=0;e<t.length;e++)a=a.concat(t[e]._childClusters);t=a}n>r?this._group._map.setView(this._latlng,r):o>=n?this._group._map.setView(this._latlng,o+1):this._group._map.fitBounds(this._bounds)},getBounds:function(){var e=new L.LatLngBounds;return e.extend(this._bounds),e},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(e,t){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(e),e instanceof L.MarkerCluster?(t||(this._childClusters.push(e),e.__parent=this),this._childCount+=e._childCount):(t||this._markers.push(e),this._childCount++),this.__parent&&this.__parent._addChild(e,!0)},_setClusterCenter:function(e){this._cLatLng||(this._cLatLng=e._cLatLng||e._latlng)},_resetBounds:function(){var e=this._bounds;e._southWest&&(e._southWest.lat=1/0,e._southWest.lng=1/0),e._northEast&&(e._northEast.lat=-1/0,e._northEast.lng=-1/0)},_recalculateBounds:function(){var e,t,i,n,r=this._markers,o=this._childClusters,a=0,s=0,l=this._childCount;if(0!==l){for(this._resetBounds(),e=0;e<r.length;e++)i=r[e]._latlng,this._bounds.extend(i),a+=i.lat,s+=i.lng;for(e=0;e<o.length;e++)t=o[e],t._boundsNeedUpdate&&t._recalculateBounds(),this._bounds.extend(t._bounds),i=t._wLatLng,n=t._childCount,a+=i.lat*n,s+=i.lng*n;this._latlng=this._wLatLng=new L.LatLng(a/l,s/l),this._boundsNeedUpdate=!1}},_addToMap:function(e){e&&(this._backupLatlng=this._latlng,this.setLatLng(e)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(e,t,i){this._recursively(e,0,i-1,function(e){var i,n,r=e._markers;for(i=r.length-1;i>=0;i--)n=r[i],n._icon&&(n._setPos(t),n.clusterHide())},function(e){var i,n,r=e._childClusters;for(i=r.length-1;i>=0;i--)n=r[i],n._icon&&(n._setPos(t),n.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(e,t,i){this._recursively(e,i,0,function(n){n._recursivelyAnimateChildrenIn(e,n._group._map.latLngToLayerPoint(n.getLatLng()).round(),t),n._isSingleParent()&&t-1===i?(n.clusterShow(),n._recursivelyRemoveChildrenFromMap(e,t)):n.clusterHide(),n._addToMap()})},_recursivelyBecomeVisible:function(e,t){this._recursively(e,0,t,null,function(e){e.clusterShow()})},_recursivelyAddChildrenToMap:function(e,t,i){this._recursively(i,-1,t,function(n){if(t!==n._zoom)for(var r=n._markers.length-1;r>=0;r--){var o=n._markers[r];i.contains(o._latlng)&&(e&&(o._backupLatlng=o.getLatLng(),o.setLatLng(e),o.clusterHide&&o.clusterHide()),n._group._featureGroup.addLayer(o))}},function(t){t._addToMap(e)})},_recursivelyRestoreChildPositions:function(e){for(var t=this._markers.length-1;t>=0;t--){var i=this._markers[t];i._backupLatlng&&(i.setLatLng(i._backupLatlng),delete i._backupLatlng)}if(e-1===this._zoom)for(var n=this._childClusters.length-1;n>=0;n--)this._childClusters[n]._restorePosition();else for(var r=this._childClusters.length-1;r>=0;r--)this._childClusters[r]._recursivelyRestoreChildPositions(e)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(e,t,i){var n,r;this._recursively(e,-1,t-1,function(e){for(r=e._markers.length-1;r>=0;r--)n=e._markers[r],i&&i.contains(n._latlng)||(e._group._featureGroup.removeLayer(n),n.clusterShow&&n.clusterShow())},function(e){for(r=e._childClusters.length-1;r>=0;r--)n=e._childClusters[r],i&&i.contains(n._latlng)||(e._group._featureGroup.removeLayer(n),n.clusterShow&&n.clusterShow())})},_recursively:function(e,t,i,n,r){var o,a,s=this._childClusters,l=this._zoom;if(t>l)for(o=s.length-1;o>=0;o--)a=s[o],e.intersects(a._bounds)&&a._recursively(e,t,i,n,r);else if(n&&n(this),r&&this._zoom===i&&r(this),i>l)for(o=s.length-1;o>=0;o--)a=s[o],e.intersects(a._bounds)&&a._recursively(e,t,i,n,r)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}}),L.Marker.include({clusterHide:function(){return this.options.opacityWhenUnclustered=this.options.opacity||1,this.setOpacity(0)},clusterShow:function(){var e=this.setOpacity(this.options.opacity||this.options.opacityWhenUnclustered);return delete this.options.opacityWhenUnclustered,e}}),L.DistanceGrid=function(e){this._cellSize=e,this._sqCellSize=e*e,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(e,t){var i=this._getCoord(t.x),n=this._getCoord(t.y),r=this._grid,o=r[n]=r[n]||{},a=o[i]=o[i]||[],s=L.Util.stamp(e);this._objectPoint[s]=t,a.push(e)},updateObject:function(e,t){this.removeObject(e),this.addObject(e,t)},removeObject:function(e,t){var i,n,r=this._getCoord(t.x),o=this._getCoord(t.y),a=this._grid,s=a[o]=a[o]||{},l=s[r]=s[r]||[];for(delete this._objectPoint[L.Util.stamp(e)],i=0,n=l.length;n>i;i++)if(l[i]===e)return l.splice(i,1),1===n&&delete s[r],!0},eachObject:function(e,t){var i,n,r,o,a,s,l,c=this._grid;for(i in c){a=c[i];for(n in a)for(s=a[n],r=0,o=s.length;o>r;r++)l=e.call(t,s[r]),l&&(r--,o--)}},getNearObject:function(e){var t,i,n,r,o,a,s,l,c=this._getCoord(e.x),u=this._getCoord(e.y),d=this._objectPoint,h=this._sqCellSize,p=null;for(t=u-1;u+1>=t;t++)if(r=this._grid[t])for(i=c-1;c+1>=i;i++)if(o=r[i])for(n=0,a=o.length;a>n;n++)s=o[n],l=this._sqDist(d[L.Util.stamp(s)],e),h>l&&(h=l,p=s);return p},_getCoord:function(e){return Math.floor(e/this._cellSize)},_sqDist:function(e,t){var i=t.x-e.x,n=t.y-e.y;return i*i+n*n}},function(){L.QuickHull={getDistant:function(e,t){var i=t[1].lat-t[0].lat,n=t[0].lng-t[1].lng;return n*(e.lat-t[0].lat)+i*(e.lng-t[0].lng)},findMostDistantPointFromBaseLine:function(e,t){var i,n,r,o=0,a=null,s=[];for(i=t.length-1;i>=0;i--)n=t[i],r=this.getDistant(n,e),r>0&&(s.push(n),r>o&&(o=r,a=n));return{maxPoint:a,newPoints:s}},buildConvexHull:function(e,t){var i=[],n=this.findMostDistantPointFromBaseLine(e,t);return n.maxPoint?(i=i.concat(this.buildConvexHull([e[0],n.maxPoint],n.newPoints)),i=i.concat(this.buildConvexHull([n.maxPoint,e[1]],n.newPoints))):[e[0]]},getConvexHull:function(e){var t,i=!1,n=!1,r=!1,o=!1,a=null,s=null,l=null,c=null,u=null,d=null;for(t=e.length-1;t>=0;t--){var h=e[t];(i===!1||h.lat>i)&&(a=h,i=h.lat),(n===!1||h.lat<n)&&(s=h,n=h.lat),(r===!1||h.lng>r)&&(l=h,r=h.lng),(o===!1||h.lng<o)&&(c=h,o=h.lng)}n!==i?(d=s,u=a):(d=c,u=l);var p=[].concat(this.buildConvexHull([d,u],e),this.buildConvexHull([u,d],e));return p}}}(),L.MarkerCluster.include({getConvexHull:function(){var e,t,i=this.getAllChildMarkers(),n=[];for(t=i.length-1;t>=0;t--)e=i[t].getLatLng(),n.push(e);return L.QuickHull.getConvexHull(n)}}),L.MarkerCluster.include({_2PI:2*Math.PI,_circleFootSeparation:25,_circleStartAngle:Math.PI/6,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(this._group._spiderfied!==this&&!this._group._inZoomAnimation){var e,t=this.getAllChildMarkers(),i=this._group,n=i._map,r=n.latLngToLayerPoint(this._latlng);this._group._unspiderfy(),this._group._spiderfied=this,t.length>=this._circleSpiralSwitchover?e=this._generatePointsSpiral(t.length,r):(r.y+=10,e=this._generatePointsCircle(t.length,r)),this._animationSpiderfy(t,e)}},unspiderfy:function(e){this._group._inZoomAnimation||(this._animationUnspiderfy(e),this._group._spiderfied=null)},_generatePointsCircle:function(e,t){var i,n,r=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+e),o=r/this._2PI,a=this._2PI/e,s=[];for(s.length=e,i=e-1;i>=0;i--)n=this._circleStartAngle+i*a,s[i]=new L.Point(t.x+o*Math.cos(n),t.y+o*Math.sin(n))._round();return s},_generatePointsSpiral:function(e,t){var i,n=this._group.options.spiderfyDistanceMultiplier,r=n*this._spiralLengthStart,o=n*this._spiralFootSeparation,a=n*this._spiralLengthFactor*this._2PI,s=0,l=[];for(l.length=e,i=e-1;i>=0;i--)s+=o/r+5e-4*i,l[i]=new L.Point(t.x+r*Math.cos(s),t.y+r*Math.sin(s))._round(),r+=a/s;return l},_noanimationUnspiderfy:function(){var e,t,i=this._group,n=i._map,r=i._featureGroup,o=this.getAllChildMarkers();for(this.setOpacity(1),t=o.length-1;t>=0;t--)e=o[t],r.removeLayer(e),e._preSpiderfyLatlng&&(e.setLatLng(e._preSpiderfyLatlng),delete e._preSpiderfyLatlng),e.setZIndexOffset&&e.setZIndexOffset(0),e._spiderLeg&&(n.removeLayer(e._spiderLeg),delete e._spiderLeg);i.fire("unspiderfied",{cluster:this,markers:o}),i._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(e,t){var i,n,r,o,a=this._group,s=a._map,l=a._featureGroup,c=this._group.options.spiderLegPolylineOptions;for(i=0;i<e.length;i++)o=s.layerPointToLatLng(t[i]),n=e[i],r=new L.Polyline([this._latlng,o],c),s.addLayer(r),n._spiderLeg=r,n._preSpiderfyLatlng=n._latlng,n.setLatLng(o),n.setZIndexOffset&&n.setZIndexOffset(1e6),l.addLayer(n);this.setOpacity(.3),a.fire("spiderfied",{cluster:this,markers:e})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(e,t){var n,r,o,a,s,l,c=this,u=this._group,d=u._map,h=u._featureGroup,p=this._latlng,f=d.latLngToLayerPoint(p),m=L.Path.SVG,g=L.extend({},this._group.options.spiderLegPolylineOptions),v=g.opacity;for(v===i&&(v=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),m?(g.opacity=0,g.className=(g.className||"")+" leaflet-cluster-spider-leg"):g.opacity=v,n=0;n<e.length;n++)r=e[n],l=d.layerPointToLatLng(t[n]),o=new L.Polyline([p,l],g),d.addLayer(o),r._spiderLeg=o,m&&(a=o._path,s=a.getTotalLength()+.1,a.style.strokeDasharray=s,a.style.strokeDashoffset=s),r.setZIndexOffset&&r.setZIndexOffset(1e6),r.clusterHide&&r.clusterHide(),h.addLayer(r),r._setPos&&r._setPos(f);for(u._forceLayout(),u._animationStart(),n=e.length-1;n>=0;n--)l=d.layerPointToLatLng(t[n]),r=e[n],r._preSpiderfyLatlng=r._latlng,r.setLatLng(l),r.clusterShow&&r.clusterShow(),m&&(o=r._spiderLeg,a=o._path,a.style.strokeDashoffset=0,o.setStyle({opacity:v}));this.setOpacity(.3),setTimeout(function(){u._animationEnd(),u.fire("spiderfied",{cluster:c,markers:e})},200)},_animationUnspiderfy:function(e){var t,i,n,r,o,a,s=this,l=this._group,c=l._map,u=l._featureGroup,d=e?c._latLngToNewLayerPoint(this._latlng,e.zoom,e.center):c.latLngToLayerPoint(this._latlng),h=this.getAllChildMarkers(),p=L.Path.SVG;for(l._animationStart(),this.setOpacity(1),i=h.length-1;i>=0;i--)t=h[i],t._preSpiderfyLatlng&&(t.setLatLng(t._preSpiderfyLatlng),delete t._preSpiderfyLatlng,a=!0,t._setPos&&(t._setPos(d),a=!1),t.clusterHide&&(t.clusterHide(),a=!1),a&&u.removeLayer(t),p&&(n=t._spiderLeg,r=n._path,o=r.getTotalLength()+.1,r.style.strokeDashoffset=o,n.setStyle({opacity:0})));setTimeout(function(){var e=0;for(i=h.length-1;i>=0;i--)t=h[i],t._spiderLeg&&e++;for(i=h.length-1;i>=0;i--)t=h[i],t._spiderLeg&&(t.clusterShow&&t.clusterShow(),t.setZIndexOffset&&t.setZIndexOffset(0),e>1&&u.removeLayer(t),c.removeLayer(t._spiderLeg),delete t._spiderLeg);l._animationEnd(),l.fire("unspiderfied",{cluster:s,markers:h})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(e){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(e))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(e){this._spiderfied&&this._spiderfied.unspiderfy(e)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(e){e._spiderLeg&&(this._featureGroup.removeLayer(e),e.clusterShow&&e.clusterShow(),e.setZIndexOffset&&e.setZIndexOffset(0),this._map.removeLayer(e._spiderLeg),delete e._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(e){return e?e instanceof L.MarkerClusterGroup?e=e._topClusterLevel.getAllChildMarkers():e instanceof L.LayerGroup?e=e._layers:e instanceof L.MarkerCluster?e=e.getAllChildMarkers():e instanceof L.Marker&&(e=[e]):e=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(e),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(e),this},_flagParentsIconsNeedUpdate:function(e){var t,i;for(t in e)for(i=e[t].__parent;i;)i._iconNeedsUpdate=!0,i=i.__parent},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(e){e instanceof L.MarkerCluster&&e._iconNeedsUpdate&&e._updateIcon()})},_refreshSingleMarkerModeMarkers:function(e){var t,i;for(t in e)i=e[t],this.hasLayer(i)&&i.setIcon(this._overrideMarkerIcon(i))}}),L.Marker.include({refreshIconOptions:function(e,t){var i=this.options.icon;return L.setOptions(i,e),this.setIcon(i),t&&this.__parent&&this.__parent._group.refreshClusters(this),this}})}(window,document),function(e,t,i){"use strict";t.module("ngAnimate",["ng"]).directive("ngAnimateChildren",function(){return function(e,i,n){n=n.ngAnimateChildren,t.isString(n)&&0===n.length?i.data("$$ngAnimateChildren",!0):e.$watch(n,function(e){i.data("$$ngAnimateChildren",!!e)})}}).factory("$$animateReflow",["$$rAF","$document",function(e,t){return function(t){return e(function(){t()})}}]).config(["$provide","$animateProvider",function(n,r){function o(e){for(var t=0;t<e.length;t++){var i=e[t];if(1==i.nodeType)return i}}function a(e,t){return o(e)==o(t)}var s,l=t.noop,c=t.forEach,u=r.$$selectors,d=t.isArray,h=t.isString,p=t.isObject,f={running:!0};n.decorator("$animate",["$delegate","$$q","$injector","$sniffer","$rootElement","$$asyncCallback","$rootScope","$document","$templateRequest","$$jqLite",function(e,i,n,m,g,v,y,b,_,w){function x(e,t){var i=e.data("$$ngAnimateState")||{};return t&&(i.running=!0,i.structural=!0,e.data("$$ngAnimateState",i)),i.disabled||i.running&&i.structural}function E(e){var t,n=i.defer();return n.promise.$$cancelFn=function(){t&&t()},y.$$postDigest(function(){t=e(function(){n.resolve()})}),n.promise}function A(e){if(p(e))return e.tempClasses&&h(e.tempClasses)&&(e.tempClasses=e.tempClasses.split(/\s+/)),e}function C(e,t,i){i=i||{};var n={};c(i,function(e,t){c(t.split(" "),function(t){n[t]=e})});var r=Object.create(null);c((e.attr("class")||"").split(/\s+/),function(e){r[e]=!0});var o=[],a=[];return c(t&&t.classes||[],function(e,t){var i=r[t],s=n[t]||{};!1===e?(i||"addClass"==s.event)&&a.push(t):!0===e&&(i&&"removeClass"!=s.event||o.push(t))}),0<o.length+a.length&&[o.join(" "),a.join(" ")]}function k(e){if(e){var t=[],i={};e=e.substr(1).split("."),(m.transitions||m.animations)&&t.push(n.get(u[""]));for(var r=0;r<e.length;r++){var o=e[r],a=u[o];a&&!i[o]&&(t.push(n.get(a)),i[o]=!0)}return t}}function $(e,i,n,r){function o(e,t){var i=e[t],n=e["before"+t.charAt(0).toUpperCase()+t.substr(1)];if(i||n)return"leave"==t&&(n=i,i=null),w.push({event:t,fn:i}),y.push({event:t,fn:n}),!0}function a(t,i,o){var a=[];c(t,function(e){e.fn&&a.push(e)});var s=0;c(a,function(t,c){var d=function(){e:{if(i){if((i[c]||l)(),++s<a.length)break e;i=null}o()}};switch(t.event){case"setClass":i.push(t.fn(e,u,h,d,r));break;case"animate":i.push(t.fn(e,n,r.from,r.to,d));break;case"addClass":i.push(t.fn(e,u||n,d,r));break;case"removeClass":i.push(t.fn(e,h||n,d,r));break;default:i.push(t.fn(e,d,r))}}),i&&0===i.length&&o()}var s=e[0];if(s){r&&(r.to=r.to||{},r.from=r.from||{});var u,h;d(n)&&(u=n[0],h=n[1],u?h?n=u+" "+h:(n=u,i="addClass"):(n=h,i="removeClass"));var p="setClass"==i,f=p||"addClass"==i||"removeClass"==i||"animate"==i,m=e.attr("class")+" "+n;if(I(m)){var g=l,v=[],y=[],b=l,_=[],w=[],m=(" "+m).replace(/\s+/g,".");return c(k(m),function(e){!o(e,i)&&p&&(o(e,"addClass"),o(e,"removeClass"))}),{node:s,event:i,className:n,isClassBased:f,isSetClassOperation:p,applyStyles:function(){r&&e.css(t.extend(r.from||{},r.to||{}))},before:function(e){g=e,a(y,v,function(){g=l,e()})},after:function(e){b=e,a(w,_,function(){b=l,e()})},cancel:function(){v&&(c(v,function(e){(e||l)(!0)}),g(!0)),_&&(c(_,function(e){(e||l)(!0)}),b(!0))}}}}}function T(e,i,n,r,o,a,u,d){function h(t){var r="$animate:"+t;b&&b[r]&&0<b[r].length&&v(function(){n.triggerHandler(r,{event:e,className:i})})}function p(){h("before")}function f(){h("after")}function m(){m.hasBeenRun||(m.hasBeenRun=!0,a())}function g(){if(!g.hasBeenRun){y&&y.applyStyles(),g.hasBeenRun=!0,u&&u.tempClasses&&c(u.tempClasses,function(e){s.removeClass(n,e)});var t=n.data("$$ngAnimateState");t&&(y&&y.isClassBased?D(n,i):(v(function(){var t=n.data("$$ngAnimateState")||{};A==t.index&&D(n,i,e)}),n.data("$$ngAnimateState",t))),h("close"),d()}}var y=$(n,e,i,u);if(!y)return m(),p(),f(),g(),l;e=y.event,i=y.className;var b=t.element._data(y.node),b=b&&b.events;if(r||(r=o?o.parent():n.parent()),M(n,r))return m(),p(),f(),g(),l;r=n.data("$$ngAnimateState")||{};var _=r.active||{},w=r.totalActive||0,x=r.last;if(o=!1,0<w){if(w=[],y.isClassBased)"setClass"==x.event?(w.push(x),D(n,i)):_[i]&&(E=_[i],E.event==e?o=!0:(w.push(E),D(n,i)));else if("leave"==e&&_["ng-leave"])o=!0;else{for(var E in _)w.push(_[E]);r={},D(n,!0)}0<w.length&&c(w,function(e){e.cancel()})}if(!y.isClassBased||y.isSetClassOperation||"animate"==e||o||(o="addClass"==e==n.hasClass(i)),o)return m(),p(),f(),h("close"),d(),l;_=r.active||{},w=r.totalActive||0,"leave"==e&&n.one("$destroy",function(e){e=t.element(this);var i=e.data("$$ngAnimateState");i&&(i=i.active["ng-leave"])&&(i.cancel(),D(e,"ng-leave"))}),s.addClass(n,"ng-animate"),u&&u.tempClasses&&c(u.tempClasses,function(e){s.addClass(n,e)});var A=P++;return w++,_[i]=y,n.data("$$ngAnimateState",{last:y,active:_,index:A,totalActive:w}),p(),y.before(function(t){var r=n.data("$$ngAnimateState");t=t||!r||!r.active[i]||y.isClassBased&&r.active[i].event!=e,m(),!0===t?g():(f(),y.after(g))}),y.cancel}function L(e){(e=o(e))&&(e=t.isFunction(e.getElementsByClassName)?e.getElementsByClassName("ng-animate"):e.querySelectorAll(".ng-animate"),c(e,function(e){e=t.element(e),(e=e.data("$$ngAnimateState"))&&e.active&&c(e.active,function(e){e.cancel()})}))}function D(e,t){if(a(e,g))f.disabled||(f.running=!1,f.structural=!1);else if(t){var i=e.data("$$ngAnimateState")||{},n=!0===t;!n&&i.active&&i.active[t]&&(i.totalActive--,delete i.active[t]),!n&&i.totalActive||(s.removeClass(e,"ng-animate"),e.removeData("$$ngAnimateState"))}}function M(e,i){if(f.disabled)return!0;if(a(e,g))return f.running;var n,r,o;do{if(0===i.length)break;var s=a(i,g),l=s?f:i.data("$$ngAnimateState")||{};if(l.disabled)return!0;s&&(o=!0),!1!==n&&(s=i.data("$$ngAnimateChildren"),t.isDefined(s)&&(n=s)),r=r||l.running||l.last&&!l.last.isClassBased}while(i=i.parent());return!o||!n&&r}s=w,g.data("$$ngAnimateState",f);var S=y.$watch(function(){return _.totalPendingRequests},function(e,t){0===e&&(S(),y.$$postDigest(function(){y.$$postDigest(function(){f.running=!1})}))}),P=0,N=r.classNameFilter(),I=N?function(e){return N.test(e)}:function(){return!0};return{animate:function(e,i,n,r,a){return r=r||"ng-inline-animate",a=A(a)||{},a.from=n?i:null,a.to=n?n:i,E(function(i){return T("animate",r,t.element(o(e)),null,null,l,a,i)})},enter:function(i,n,r,a){return a=A(a),i=t.element(i),n=n&&t.element(n),r=r&&t.element(r),x(i,!0),e.enter(i,n,r),E(function(e){return T("enter","ng-enter",t.element(o(i)),n,r,l,a,e)})},leave:function(i,n){return n=A(n),i=t.element(i),L(i),x(i,!0),E(function(r){return T("leave","ng-leave",t.element(o(i)),null,null,function(){e.leave(i)},n,r)})},move:function(i,n,r,a){return a=A(a),i=t.element(i),n=n&&t.element(n),r=r&&t.element(r),L(i),x(i,!0),e.move(i,n,r),E(function(e){return T("move","ng-move",t.element(o(i)),n,r,l,a,e)})},addClass:function(e,t,i){return this.setClass(e,t,[],i)},removeClass:function(e,t,i){return this.setClass(e,[],t,i)},setClass:function(i,n,r,a){if(a=A(a),i=t.element(i),i=t.element(o(i)),x(i))return e.$$setClassImmediately(i,n,r,a);var s,l=i.data("$$animateClasses"),u=!!l;return l||(l={classes:{}}),s=l.classes,n=d(n)?n:n.split(" "),c(n,function(e){e&&e.length&&(s[e]=!0)}),r=d(r)?r:r.split(" "),c(r,function(e){e&&e.length&&(s[e]=!1)}),u?(a&&l.options&&(l.options=t.extend(l.options||{},a)),l.promise):(i.data("$$animateClasses",l={classes:s,options:a}),l.promise=E(function(t){var n=i.parent(),r=o(i),a=r.parentNode;if(a&&!a.$$NG_REMOVED&&!r.$$NG_REMOVED){r=i.data("$$animateClasses"),i.removeData("$$animateClasses");var a=i.data("$$ngAnimateState")||{},s=C(i,r,a.active);return s?T("setClass",s,i,n,null,function(){s[0]&&e.$$addClassImmediately(i,s[0]),s[1]&&e.$$removeClassImmediately(i,s[1])},r.options,t):t()}t()}))},cancel:function(e){e.$$cancelFn()},enabled:function(e,t){switch(arguments.length){case 2:if(e)D(t);else{var i=t.data("$$ngAnimateState")||{};i.disabled=!0,t.data("$$ngAnimateState",i)}break;case 1:f.disabled=!e;break;default:e=!f.disabled}return!!e}}}]),r.register("",["$window","$sniffer","$timeout","$$animateReflow",function(n,r,a,u){function p(){S||(S=u(function(){I=[],S=null,P={}}))}function f(e,t){S&&S(),I.push(t),S=u(function(){c(I,function(e){e()}),I=[],S=null,P={}})}function m(e,i){var n=o(e);e=t.element(n),j.push(e),n=Date.now()+i,n<=R||(a.cancel(O),R=n,O=a(function(){g(j),j=[]},i,!1))}function g(e){c(e,function(e){(e=e.data("$$ngAnimateCSS3Data"))&&c(e.closeAnimationFns,function(e){e()})})}function v(e,t){var i=t?P[t]:null;if(!i){var r=0,o=0,a=0,s=0;c(e,function(e){if(1==e.nodeType){e=n.getComputedStyle(e)||{},r=Math.max(y(e[$+"Duration"]),r),o=Math.max(y(e[$+"Delay"]),o),s=Math.max(y(e[L+"Delay"]),s);var t=y(e[L+"Duration"]);0<t&&(t*=parseInt(e[L+"IterationCount"],10)||1),a=Math.max(t,a)}}),i={total:0,transitionDelay:o,transitionDuration:r,animationDelay:s,animationDuration:a},t&&(P[t]=i)}return i}function y(e){var t=0;return e=h(e)?e.split(/\s*,\s*/):[],c(e,function(e){t=Math.max(parseFloat(e)||0,t)}),t}function b(e,t,i,n){e=0<=["ng-enter","ng-leave","ng-move"].indexOf(i);var r,a=t.parent(),l=a.data("$$ngAnimateKey");l||(a.data("$$ngAnimateKey",++N),l=N),r=l+"-"+o(t).getAttribute("class");var a=r+" "+i,l=P[a]?++P[a].total:0,c={};if(0<l){var u=i+"-stagger",c=r+" "+u;(r=!P[c])&&s.addClass(t,u),c=v(t,c),r&&s.removeClass(t,u)}s.addClass(t,i);var u=t.data("$$ngAnimateCSS3Data")||{},d=v(t,a);return r=d.transitionDuration,d=d.animationDuration,e&&0===r&&0===d?(s.removeClass(t,i),!1):(i=n||e&&0<r,e=0<d&&0<c.animationDelay&&0===c.animationDuration,t.data("$$ngAnimateCSS3Data",{stagger:c,cacheKey:a,running:u.running||0,itemIndex:l,blockTransition:i,closeAnimationFns:u.closeAnimationFns||[]}),a=o(t),i&&(w(a,!0),n&&t.css(n)),e&&(a.style[L+"PlayState"]="paused"),!0)}function _(e,t,i,n,r){function l(){t.off(S,u),s.removeClass(t,h),s.removeClass(t,p),k&&a.cancel(k),C(t,i);var e,n=o(t);for(e in f)n.style.removeProperty(f[e])}function u(e){e.stopPropagation();var t=e.originalEvent||e;e=t.$manualTimeStamp||t.timeStamp||Date.now(),t=parseFloat(t.elapsedTime.toFixed(3)),Math.max(e-$,0)>=A&&t>=E&&n()}var d=o(t);if(e=t.data("$$ngAnimateCSS3Data"),-1!=d.getAttribute("class").indexOf(i)&&e){var h="",p="";c(i.split(" "),function(e,t){var i=(0<t?" ":"")+e;h+=i+"-active",p+=i+"-pending"});var f=[],g=e.itemIndex,y=e.stagger,b=0;if(0<g){b=0,0<y.transitionDelay&&0===y.transitionDuration&&(b=y.transitionDelay*g);var _=0;0<y.animationDelay&&0===y.animationDuration&&(_=y.animationDelay*g,f.push(M+"animation-play-state")),b=Math.round(100*Math.max(b,_))/100}b||(s.addClass(t,h),e.blockTransition&&w(d,!1));var x=v(t,e.cacheKey+" "+h),E=Math.max(x.transitionDuration,x.animationDuration);if(0!==E){!b&&r&&(x.transitionDuration||(t.css("transition",x.animationDuration+"s linear all"),f.push("transition")),t.css(r));var g=Math.max(x.transitionDelay,x.animationDelay),A=1e3*g;0<f.length&&(y=d.getAttribute("style")||"",";"!==y.charAt(y.length-1)&&(y+=";"),d.setAttribute("style",y+" "));var k,$=Date.now(),S=D+" "+T,g=1e3*(b+1.5*(g+E));return 0<b&&(s.addClass(t,p),k=a(function(){k=null,0<x.transitionDuration&&w(d,!1),0<x.animationDuration&&(d.style[L+"PlayState"]=""),s.addClass(t,h),s.removeClass(t,p),r&&(0===x.transitionDuration&&t.css("transition",x.animationDuration+"s linear all"),t.css(r),f.push("transition"))},1e3*b,!1)),t.on(S,u),e.closeAnimationFns.push(function(){l(),n()}),e.running++,m(t,g),l}s.removeClass(t,h),C(t,i),n()}else n()}function w(e,t){e.style[$+"Property"]=t?"none":""}function x(e,t,i,n){if(b(e,t,i,n))return function(e){e&&C(t,i)}}function E(e,t,i,n,r){return t.data("$$ngAnimateCSS3Data")?_(e,t,i,n,r):(C(t,i),void n())}function A(e,t,i,n,r){var o=x(e,t,i,r.from);if(o){var a=o;return f(t,function(){a=E(e,t,i,n,r.to)}),function(e){(a||l)(e)}}p(),n()}function C(e,t){s.removeClass(e,t);var i=e.data("$$ngAnimateCSS3Data");i&&(i.running&&i.running--,i.running&&0!==i.running||e.removeData("$$ngAnimateCSS3Data"))}function k(e,t){var i="";return e=d(e)?e:e.split(/\s+/),c(e,function(e,n){e&&0<e.length&&(i+=(0<n?" ":"")+e+t)}),i}var $,T,L,D,M="";e.ontransitionend===i&&e.onwebkittransitionend!==i?(M="-webkit-",$="WebkitTransition",T="webkitTransitionEnd transitionend"):($="transition",T="transitionend"),e.onanimationend===i&&e.onwebkitanimationend!==i?(M="-webkit-",L="WebkitAnimation",D="webkitAnimationEnd animationend"):(L="animation",D="animationend");var S,P={},N=0,I=[],O=null,R=0,j=[];return{animate:function(e,t,i,n,r,o){return o=o||{},o.from=i,o.to=n,A("animate",e,t,r,o)},enter:function(e,t,i){return i=i||{},A("enter",e,"ng-enter",t,i)},leave:function(e,t,i){return i=i||{},A("leave",e,"ng-leave",t,i)},move:function(e,t,i){return i=i||{},A("move",e,"ng-move",t,i)},beforeSetClass:function(e,t,i,n,r){return r=r||{},t=k(i,"-remove")+" "+k(t,"-add"),(r=x("setClass",e,t,r.from))?(f(e,n),r):(p(),void n())},beforeAddClass:function(e,t,i,n){return n=n||{},(t=x("addClass",e,k(t,"-add"),n.from))?(f(e,i),t):(p(),void i())},beforeRemoveClass:function(e,t,i,n){return n=n||{},(t=x("removeClass",e,k(t,"-remove"),n.from))?(f(e,i),t):(p(),void i())},setClass:function(e,t,i,n,r){return r=r||{},i=k(i,"-remove"),t=k(t,"-add"),E("setClass",e,i+" "+t,n,r.to)},addClass:function(e,t,i,n){return n=n||{},E("addClass",e,k(t,"-add"),i,n.to)},removeClass:function(e,t,i,n){return n=n||{},E("removeClass",e,k(t,"-remove"),i,n.to)}}}])}])}(window,window.angular),angular.module("ngLocale",[],["$provide",function(e){var t={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],MONTH:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"],SHORTDAY:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],SHORTMONTH:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."],fullDate:"EEEE d MMMM y",longDate:"d MMMM y",medium:"d MMM y HH:mm:ss",mediumDate:"d MMM y",mediumTime:"HH:mm:ss",short:"dd/MM/y HH:mm",shortDate:"dd/MM/y",shortTime:"HH:mm"},NUMBER_FORMATS:{CURRENCY_SYM:"€",DECIMAL_SEP:",",GROUP_SEP:" ",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:" ¤",posPre:"",posSuf:" ¤"}]},id:"fr-fr",pluralCat:function(e,i){var n=0|e;return 0==n||1==n?t.ONE:t.OTHER}})}]),function(e,t,i){"use strict";function n(){function e(e,i){return t.extend(Object.create(e),i)}function i(e,t){var i=t.caseInsensitiveMatch,n={originalPath:e,regexp:e},r=n.keys=[];return e=e.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?\*])?/g,function(e,t,i,n){var o="?"===n?n:null,a="*"===n?n:null;return r.push({name:i,optional:!!o}),t=t||"",""+(o?"":t)+"(?:"+(o?t:"")+(a&&"(.+?)"||"([^/]+)")+(o||"")+")"+(o||"")}).replace(/([\/$\*])/g,"\\$1"),n.regexp=new RegExp("^"+e+"$",i?"i":""),n}var n={};this.when=function(e,r){var o=t.copy(r);if(t.isUndefined(o.reloadOnSearch)&&(o.reloadOnSearch=!0),t.isUndefined(o.caseInsensitiveMatch)&&(o.caseInsensitiveMatch=this.caseInsensitiveMatch),n[e]=t.extend(o,e&&i(e,o)),e){var a="/"==e[e.length-1]?e.substr(0,e.length-1):e+"/";n[a]=t.extend({redirectTo:e},i(a,o))}return this},this.caseInsensitiveMatch=!1,this.otherwise=function(e){return"string"==typeof e&&(e={redirectTo:e}),this.when(null,e),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce",function(i,r,o,a,s,c,u){function d(e,t){var i=t.keys,n={};if(!t.regexp)return null;var r=t.regexp.exec(e);if(!r)return null;for(var o=1,a=r.length;o<a;++o){var s=i[o-1],l=r[o];s&&l&&(n[s.name]=l)}return n}function h(e){var n=b.current;g=f(),v=g&&n&&g.$$route===n.$$route&&t.equals(g.pathParams,n.pathParams)&&!g.reloadOnSearch&&!y,v||!n&&!g||i.$broadcast("$routeChangeStart",g,n).defaultPrevented&&e&&e.preventDefault()}function p(){var e=b.current,n=g;v?(e.params=n.params,t.copy(e.params,o),i.$broadcast("$routeUpdate",e)):(n||e)&&(y=!1,b.current=n,n&&n.redirectTo&&(t.isString(n.redirectTo)?r.path(m(n.redirectTo,n.params)).search(n.params).replace():r.url(n.redirectTo(n.pathParams,r.path(),r.search())).replace()),a.when(n).then(function(){if(n){var e,i,r=t.extend({},n.resolve);return t.forEach(r,function(e,i){r[i]=t.isString(e)?s.get(e):s.invoke(e,null,null,i)}),t.isDefined(e=n.template)?t.isFunction(e)&&(e=e(n.params)):t.isDefined(i=n.templateUrl)&&(t.isFunction(i)&&(i=i(n.params)),i=u.getTrustedResourceUrl(i),t.isDefined(i)&&(n.loadedTemplateUrl=i,e=c(i))),t.isDefined(e)&&(r.$template=e),a.all(r)}}).then(function(r){n==b.current&&(n&&(n.locals=r,t.copy(n.params,o)),i.$broadcast("$routeChangeSuccess",n,e))},function(t){n==b.current&&i.$broadcast("$routeChangeError",n,e,t)}))}function f(){var i,o;return t.forEach(n,function(n,a){!o&&(i=d(r.path(),n))&&(o=e(n,{params:t.extend({},r.search(),i),pathParams:i}),o.$$route=n)}),o||n[null]&&e(n[null],{params:{},pathParams:{}})}function m(e,i){var n=[];return t.forEach((e||"").split(":"),function(e,t){if(0===t)n.push(e);else{var r=e.match(/(\w+)(?:[?*])?(.*)/),o=r[1];n.push(i[o]),n.push(r[2]||""),delete i[o]}}),n.join("")}var g,v,y=!1,b={routes:n,reload:function(){y=!0,i.$evalAsync(function(){h(),p()})},updateParams:function(e){if(!this.current||!this.current.$$route)throw l("norout","Tried updating route when with no current route");e=t.extend({},this.current.params,e),r.path(m(this.current.$$route.originalPath,e)),r.search(e)}};return i.$on("$locationChangeStart",h),i.$on("$locationChangeSuccess",p),b}]}function r(){this.$get=function(){return{}}}function o(e,i,n){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(r,o,a,s,l){function c(){p&&(n.cancel(p),p=null),d&&(d.$destroy(),d=null),h&&(p=n.leave(h),p.then(function(){p=null}),h=null)}function u(){var a=e.current&&e.current.locals,s=a&&a.$template;if(t.isDefined(s)){var u=r.$new(),p=e.current,g=l(u,function(e){n.enter(e,null,h||o).then(function(){!t.isDefined(f)||f&&!r.$eval(f)||i();
}),c()});h=g,d=p.scope=u,d.$emit("$viewContentLoaded"),d.$eval(m)}else c()}var d,h,p,f=a.autoscroll,m=a.onload||"";r.$on("$routeChangeSuccess",u),u()}}}function a(e,t,i){return{restrict:"ECA",priority:-400,link:function(n,r){var o=i.current,a=o.locals;r.html(a.$template);var s=e(r.contents());if(o.controller){a.$scope=n;var l=t(o.controller,a);o.controllerAs&&(n[o.controllerAs]=l),r.data("$ngControllerController",l),r.children().data("$ngControllerController",l)}s(n)}}}var s=t.module("ngRoute",["ng"]).provider("$route",n),l=t.$$minErr("ngRoute");s.provider("$routeParams",r),s.directive("ngView",o),s.directive("ngView",a),o.$inject=["$route","$anchorScroll","$animate"],a.$inject=["$compile","$controller","$route"]}(window,window.angular),function(e,t,i){"use strict";t.module("ngCookies",["ng"]).factory("$cookies",["$rootScope","$browser",function(e,n){function r(){var e,r,o,l;for(e in s)u(a[e])&&n.cookies(e,i);for(e in a)r=a[e],t.isString(r)||(r=""+r,a[e]=r),r!==s[e]&&(n.cookies(e,r),l=!0);if(l){l=!1,o=n.cookies();for(e in a)a[e]!==o[e]&&(u(o[e])?delete a[e]:a[e]=o[e],l=!0)}}var o,a={},s={},l=!1,c=t.copy,u=t.isUndefined;return n.addPollFn(function(){var t=n.cookies();o!=t&&(o=t,c(t,s),c(t,a),l&&e.$apply())})(),l=!0,e.$watch(r),a}]).factory("$cookieStore",["$cookies",function(e){return{get:function(i){var n=e[i];return n?t.fromJson(n):n},put:function(i,n){e[i]=t.toJson(n)},remove:function(t){delete e[t]}}}])}(window,window.angular),function(e,t,i){"use strict";function n(e,i,n){r.directive(e,["$parse","$swipe",function(r,o){var a=75,s=.3,l=30;return function(c,u,d){function h(e){if(!p)return!1;var t=Math.abs(e.y-p.y),n=(e.x-p.x)*i;return f&&t<a&&n>0&&n>l&&t/n<s}var p,f,m=r(d[e]),g=["touch"];t.isDefined(d.ngSwipeDisableMouse)||g.push("mouse"),o.bind(u,{start:function(e,t){p=e,f=!0},cancel:function(e){f=!1},end:function(e,t){h(e)&&c.$apply(function(){u.triggerHandler(n),m(c,{$event:t})})}},g)}}])}var r=t.module("ngTouch",[]);r.factory("$swipe",[function(){function e(e){var t=e.touches&&e.touches.length?e.touches:[e],i=e.changedTouches&&e.changedTouches[0]||e.originalEvent&&e.originalEvent.changedTouches&&e.originalEvent.changedTouches[0]||t[0].originalEvent||t[0];return{x:i.clientX,y:i.clientY}}function i(e,i){var n=[];return t.forEach(e,function(e){var t=r[e][i];t&&n.push(t)}),n.join(" ")}var n=10,r={mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},touch:{start:"touchstart",move:"touchmove",end:"touchend",cancel:"touchcancel"}};return{bind:function(t,r,o){var a,s,l,c,u=!1;o=o||["mouse","touch"],t.on(i(o,"start"),function(t){l=e(t),u=!0,a=0,s=0,c=l,r.start&&r.start(l,t)});var d=i(o,"cancel");d&&t.on(d,function(e){u=!1,r.cancel&&r.cancel(e)}),t.on(i(o,"move"),function(t){if(u&&l){var i=e(t);if(a+=Math.abs(i.x-c.x),s+=Math.abs(i.y-c.y),c=i,!(a<n&&s<n))return s>a?(u=!1,void(r.cancel&&r.cancel(t))):(t.preventDefault(),void(r.move&&r.move(i,t)))}}),t.on(i(o,"end"),function(t){u&&(u=!1,r.end&&r.end(e(t),t))})}}}]),r.config(["$provide",function(e){e.decorator("ngClickDirective",["$delegate",function(e){return e.shift(),e}])}]),r.directive("ngClick",["$parse","$timeout","$rootElement",function(e,i,n){function r(e,t,i,n){return Math.abs(e-i)<m&&Math.abs(t-n)<m}function o(e,t,i){for(var n=0;n<e.length;n+=2)if(r(e[n],e[n+1],t,i))return e.splice(n,n+2),!0;return!1}function a(e){if(!(Date.now()-c>f)){var t=e.touches&&e.touches.length?e.touches:[e],i=t[0].clientX,n=t[0].clientY;i<1&&n<1||d&&d[0]===i&&d[1]===n||(d&&(d=null),"label"===e.target.tagName.toLowerCase()&&(d=[i,n]),o(u,i,n)||(e.stopPropagation(),e.preventDefault(),e.target&&e.target.blur()))}}function s(e){var t=e.touches&&e.touches.length?e.touches:[e],n=t[0].clientX,r=t[0].clientY;u.push(n,r),i(function(){for(var e=0;e<u.length;e+=2)if(u[e]==n&&u[e+1]==r)return void u.splice(e,e+2)},f,!1)}function l(e,t){u||(n[0].addEventListener("click",a,!0),n[0].addEventListener("touchstart",s,!0),u=[]),c=Date.now(),o(u,e,t)}var c,u,d,h=750,p=12,f=2500,m=25,g="ng-click-active";return function(i,n,r){function o(){f=!1,n.removeClass(g)}var a,s,c,u,d=e(r.ngClick),f=!1;n.on("touchstart",function(e){f=!0,a=e.target?e.target:e.srcElement,3==a.nodeType&&(a=a.parentNode),n.addClass(g),s=Date.now();var t=e.touches&&e.touches.length?e.touches:[e],i=t[0].originalEvent||t[0];c=i.clientX,u=i.clientY}),n.on("touchmove",function(e){o()}),n.on("touchcancel",function(e){o()}),n.on("touchend",function(e){var i=Date.now()-s,d=e.changedTouches&&e.changedTouches.length?e.changedTouches:e.touches&&e.touches.length?e.touches:[e],m=d[0].originalEvent||d[0],g=m.clientX,v=m.clientY,y=Math.sqrt(Math.pow(g-c,2)+Math.pow(v-u,2));f&&i<h&&y<p&&(l(g,v),a&&a.blur(),t.isDefined(r.disabled)&&r.disabled!==!1||n.triggerHandler("click",[e])),o()}),n.onclick=function(e){},n.on("click",function(e,t){i.$apply(function(){d(i,{$event:t||e})})}),n.on("mousedown",function(e){n.addClass(g)}),n.on("mousemove mouseup",function(e){n.removeClass(g)})}}]),n("ngSwipeLeft",-1,"swipeleft"),n("ngSwipeRight",1,"swiperight")}(window,window.angular),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(e){"use strict";var t=e.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1==t[0]&&9==t[1]&&t[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")}(jQuery),+function(e){"use strict";function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in t)if(void 0!==e.style[i])return{end:t[i]};return!1}e.fn.emulateTransitionEnd=function(t){var i=!1,n=this;e(this).one("bsTransitionEnd",function(){i=!0});var r=function(){i||e(n).trigger(e.support.transition.end)};return setTimeout(r,t),this},e(function(){e.support.transition=t(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){if(e(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),r=i.data("bs.alert");r||i.data("bs.alert",r=new n(this)),"string"==typeof t&&r[t].call(i)})}var i='[data-dismiss="alert"]',n=function(t){e(t).on("click",i,this.close)};n.VERSION="3.3.4",n.TRANSITION_DURATION=150,n.prototype.close=function(t){function i(){a.detach().trigger("closed.bs.alert").remove()}var r=e(this),o=r.attr("data-target");o||(o=r.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,""));var a=e(o);t&&t.preventDefault(),a.length||(a=r.closest(".alert")),a.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(a.removeClass("in"),e.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",i).emulateTransitionEnd(n.TRANSITION_DURATION):i())};var r=e.fn.alert;e.fn.alert=t,e.fn.alert.Constructor=n,e.fn.alert.noConflict=function(){return e.fn.alert=r,this},e(document).on("click.bs.alert.data-api",i,n.prototype.close)}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),r=n.data("bs.button"),o="object"==typeof t&&t;r||n.data("bs.button",r=new i(this,o)),"toggle"==t?r.toggle():t&&r.setState(t)})}var i=function(t,n){this.$element=e(t),this.options=e.extend({},i.DEFAULTS,n),this.isLoading=!1};i.VERSION="3.3.4",i.DEFAULTS={loadingText:"loading..."},i.prototype.setState=function(t){var i="disabled",n=this.$element,r=n.is("input")?"val":"html",o=n.data();t+="Text",null==o.resetText&&n.data("resetText",n[r]()),setTimeout(e.proxy(function(){n[r](null==o[t]?this.options[t]:o[t]),"loadingText"==t?(this.isLoading=!0,n.addClass(i).attr(i,i)):this.isLoading&&(this.isLoading=!1,n.removeClass(i).removeAttr(i))},this),0)},i.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var i=this.$element.find("input");"radio"==i.prop("type")&&(i.prop("checked")&&this.$element.hasClass("active")?e=!1:t.find(".active").removeClass("active")),e&&i.prop("checked",!this.$element.hasClass("active")).trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active"));e&&this.$element.toggleClass("active")};var n=e.fn.button;e.fn.button=t,e.fn.button.Constructor=i,e.fn.button.noConflict=function(){return e.fn.button=n,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(i){var n=e(i.target);n.hasClass("btn")||(n=n.closest(".btn")),t.call(n,"toggle"),i.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){e(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),r=n.data("bs.carousel"),o=e.extend({},i.DEFAULTS,n.data(),"object"==typeof t&&t),a="string"==typeof t?t:o.slide;r||n.data("bs.carousel",r=new i(this,o)),"number"==typeof t?r.to(t):a?r[a]():o.interval&&r.pause().cycle()})}var i=function(t,i){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",e.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};i.VERSION="3.3.4",i.TRANSITION_DURATION=600,i.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},i.prototype.keydown=function(e){if(!/input|textarea/i.test(e.target.tagName)){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()}},i.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},i.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},i.prototype.getItemForDirection=function(e,t){var i=this.getItemIndex(t),n="prev"==e&&0===i||"next"==e&&i==this.$items.length-1;if(n&&!this.options.wrap)return t;var r="prev"==e?-1:1,o=(i+r)%this.$items.length;return this.$items.eq(o)},i.prototype.to=function(e){var t=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(e>this.$items.length-1||e<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){t.to(e)}):i==e?this.pause().cycle():this.slide(e>i?"next":"prev",this.$items.eq(e))},i.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},i.prototype.next=function(){if(!this.sliding)return this.slide("next")},i.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},i.prototype.slide=function(t,n){var r=this.$element.find(".item.active"),o=n||this.getItemForDirection(t,r),a=this.interval,s="next"==t?"left":"right",l=this;if(o.hasClass("active"))return this.sliding=!1;var c=o[0],u=e.Event("slide.bs.carousel",{relatedTarget:c,direction:s});if(this.$element.trigger(u),!u.isDefaultPrevented()){if(this.sliding=!0,a&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var d=e(this.$indicators.children()[this.getItemIndex(o)]);d&&d.addClass("active")}var h=e.Event("slid.bs.carousel",{relatedTarget:c,direction:s});return e.support.transition&&this.$element.hasClass("slide")?(o.addClass(t),o[0].offsetWidth,r.addClass(s),o.addClass(s),r.one("bsTransitionEnd",function(){o.removeClass([t,s].join(" ")).addClass("active"),r.removeClass(["active",s].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(h)},0)}).emulateTransitionEnd(i.TRANSITION_DURATION)):(r.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger(h)),a&&this.cycle(),this}};var n=e.fn.carousel;e.fn.carousel=t,e.fn.carousel.Constructor=i,e.fn.carousel.noConflict=function(){return e.fn.carousel=n,this};var r=function(i){var n,r=e(this),o=e(r.attr("data-target")||(n=r.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""));if(o.hasClass("carousel")){var a=e.extend({},o.data(),r.data()),s=r.attr("data-slide-to");s&&(a.interval=!1),t.call(o,a),s&&o.data("bs.carousel").to(s),i.preventDefault()}};e(document).on("click.bs.carousel.data-api","[data-slide]",r).on("click.bs.carousel.data-api","[data-slide-to]",r),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var i=e(this);t.call(i,i.data())})})}(jQuery),+function(e){"use strict";function t(t){var i,n=t.attr("data-target")||(i=t.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"");return e(n)}function i(t){return this.each(function(){var i=e(this),r=i.data("bs.collapse"),o=e.extend({},n.DEFAULTS,i.data(),"object"==typeof t&&t);!r&&o.toggle&&/show|hide/.test(t)&&(o.toggle=!1),r||i.data("bs.collapse",r=new n(this,o)),"string"==typeof t&&r[t]()})}var n=function(t,i){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,i),this.$trigger=e('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};n.VERSION="3.3.4",n.TRANSITION_DURATION=350,n.DEFAULTS={toggle:!0},n.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"},n.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,r=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(r&&r.length&&(t=r.data("bs.collapse"),t&&t.transitioning))){var o=e.Event("show.bs.collapse");if(this.$element.trigger(o),!o.isDefaultPrevented()){r&&r.length&&(i.call(r,"hide"),t||r.data("bs.collapse",null));var a=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[a](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[a](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return s.call(this);var l=e.camelCase(["scroll",a].join("-"));this.$element.one("bsTransitionEnd",e.proxy(s,this)).emulateTransitionEnd(n.TRANSITION_DURATION)[a](this.$element[0][l])}}}},n.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var r=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return e.support.transition?void this.$element[i](0).one("bsTransitionEnd",e.proxy(r,this)).emulateTransitionEnd(n.TRANSITION_DURATION):r.call(this)}}},n.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},n.prototype.getParent=function(){return e(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(e.proxy(function(i,n){var r=e(n);this.addAriaAndCollapsedClass(t(r),r)},this)).end()},n.prototype.addAriaAndCollapsedClass=function(e,t){var i=e.hasClass("in");e.attr("aria-expanded",i),t.toggleClass("collapsed",!i).attr("aria-expanded",i)};var r=e.fn.collapse;e.fn.collapse=i,e.fn.collapse.Constructor=n,e.fn.collapse.noConflict=function(){return e.fn.collapse=r,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(n){var r=e(this);r.attr("data-target")||n.preventDefault();var o=t(r),a=o.data("bs.collapse"),s=a?"toggle":r.data();i.call(o,s)})}(jQuery),+function(e){"use strict";function t(t){t&&3===t.which||(e(r).remove(),e(o).each(function(){var n=e(this),r=i(n),o={relatedTarget:this};r.hasClass("open")&&(r.trigger(t=e.Event("hide.bs.dropdown",o)),t.isDefaultPrevented()||(n.attr("aria-expanded","false"),r.removeClass("open").trigger("hidden.bs.dropdown",o)))}))}function i(t){var i=t.attr("data-target");i||(i=t.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var n=i&&e(i);return n&&n.length?n:t.parent()}function n(t){return this.each(function(){var i=e(this),n=i.data("bs.dropdown");n||i.data("bs.dropdown",n=new a(this)),"string"==typeof t&&n[t].call(i)})}var r=".dropdown-backdrop",o='[data-toggle="dropdown"]',a=function(t){e(t).on("click.bs.dropdown",this.toggle)};a.VERSION="3.3.4",a.prototype.toggle=function(n){var r=e(this);if(!r.is(".disabled, :disabled")){var o=i(r),a=o.hasClass("open");if(t(),!a){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&e('<div class="dropdown-backdrop"/>').insertAfter(e(this)).on("click",t);var s={relatedTarget:this};if(o.trigger(n=e.Event("show.bs.dropdown",s)),n.isDefaultPrevented())return;r.trigger("focus").attr("aria-expanded","true"),o.toggleClass("open").trigger("shown.bs.dropdown",s)}return!1}},a.prototype.keydown=function(t){if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)){var n=e(this);if(t.preventDefault(),t.stopPropagation(),!n.is(".disabled, :disabled")){var r=i(n),a=r.hasClass("open");if(!a&&27!=t.which||a&&27==t.which)return 27==t.which&&r.find(o).trigger("focus"),n.trigger("click");var s=" li:not(.disabled):visible a",l=r.find('[role="menu"]'+s+', [role="listbox"]'+s);if(l.length){var c=l.index(t.target);38==t.which&&c>0&&c--,40==t.which&&c<l.length-1&&c++,~c||(c=0),l.eq(c).trigger("focus")}}}};var s=e.fn.dropdown;e.fn.dropdown=n,e.fn.dropdown.Constructor=a,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=s,this},e(document).on("click.bs.dropdown.data-api",t).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",o,a.prototype.toggle).on("keydown.bs.dropdown.data-api",o,a.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',a.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',a.prototype.keydown)}(jQuery),+function(e){"use strict";function t(t,n){return this.each(function(){var r=e(this),o=r.data("bs.modal"),a=e.extend({},i.DEFAULTS,r.data(),"object"==typeof t&&t);o||r.data("bs.modal",o=new i(this,a)),"string"==typeof t?o[t](n):a.show&&o.show(n)})}var i=function(t,i){this.options=i,this.$body=e(document.body),this.$element=e(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};i.VERSION="3.3.4",i.TRANSITION_DURATION=300,i.BACKDROP_TRANSITION_DURATION=150,i.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},i.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},i.prototype.show=function(t){var n=this,r=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(r),this.isShown||r.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){n.$element.one("mouseup.dismiss.bs.modal",function(t){e(t.target).is(n.$element)&&(n.ignoreBackdropClick=!0)})}),this.backdrop(function(){var r=e.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),n.adjustDialog(),r&&n.$element[0].offsetWidth,n.$element.addClass("in").attr("aria-hidden",!1),n.enforceFocus();var o=e.Event("shown.bs.modal",{relatedTarget:t});r?n.$dialog.one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(o)}).emulateTransitionEnd(i.TRANSITION_DURATION):n.$element.trigger("focus").trigger(o)}))},i.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(i.TRANSITION_DURATION):this.hideModal())},i.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},i.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},i.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},i.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},i.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},i.prototype.backdrop=function(t){var n=this,r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=e.support.transition&&r;if(this.$backdrop=e('<div class="modal-backdrop '+r+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;o?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){n.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):a()}else t&&t()},i.prototype.handleUpdate=function(){this.adjustDialog()},i.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},i.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},i.prototype.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.scrollbarWidth=this.measureScrollbar()},i.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},i.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},i.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var n=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=i,e.fn.modal.noConflict=function(){return e.fn.modal=n,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(i){var n=e(this),r=n.attr("href"),o=e(n.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),a=o.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(r)&&r},o.data(),n.data());n.is("a")&&i.preventDefault(),o.one("show.bs.modal",function(e){e.isDefaultPrevented()||o.one("hidden.bs.modal",function(){n.is(":visible")&&n.trigger("focus")})}),t.call(o,a,this)})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),r=n.data("bs.tooltip"),o="object"==typeof t&&t;!r&&/destroy|hide/.test(t)||(r||n.data("bs.tooltip",r=new i(this,o)),"string"==typeof t&&r[t]())})}var i=function(e,t){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.init("tooltip",e,t)};i.VERSION="3.3.4",i.TRANSITION_DURATION=150,i.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},i.prototype.init=function(t,i,n){if(this.enabled=!0,this.type=t,this.$element=e(i),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&e(this.options.viewport.selector||this.options.viewport),this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var r=this.options.trigger.split(" "),o=r.length;o--;){var a=r[o];if("click"==a)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=a){var s="hover"==a?"mouseenter":"focusin",l="hover"==a?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},i.prototype.getDelegateOptions=function(){var t={},i=this.getDefaults();return this._options&&e.each(this._options,function(e,n){i[e]!=n&&(t[e]=n)}),t},i.prototype.enter=function(t){var i=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return i&&i.$tip&&i.$tip.is(":visible")?void(i.hoverState="in"):(i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,i)),clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show())},i.prototype.leave=function(t){var i=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,i)),clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide()},i.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var n=e.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!n)return;var r=this,o=this.tip(),a=this.getUID(this.type);this.setContent(),o.attr("id",a),this.$element.attr("aria-describedby",a),this.options.animation&&o.addClass("fade");var s="function"==typeof this.options.placement?this.options.placement.call(this,o[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,c=l.test(s);c&&(s=s.replace(l,"")||"top"),o.detach().css({top:0,left:0,display:"block"}).addClass(s).data("bs."+this.type,this),this.options.container?o.appendTo(this.options.container):o.insertAfter(this.$element);var u=this.getPosition(),d=o[0].offsetWidth,h=o[0].offsetHeight;if(c){var p=s,f=this.options.container?e(this.options.container):this.$element.parent(),m=this.getPosition(f);s="bottom"==s&&u.bottom+h>m.bottom?"top":"top"==s&&u.top-h<m.top?"bottom":"right"==s&&u.right+d>m.width?"left":"left"==s&&u.left-d<m.left?"right":s,o.removeClass(p).addClass(s)}var g=this.getCalculatedOffset(s,u,d,h);this.applyPlacement(g,s);var v=function(){var e=r.hoverState;r.$element.trigger("shown.bs."+r.type),r.hoverState=null,"out"==e&&r.leave(r)};e.support.transition&&this.$tip.hasClass("fade")?o.one("bsTransitionEnd",v).emulateTransitionEnd(i.TRANSITION_DURATION):v()}},i.prototype.applyPlacement=function(t,i){var n=this.tip(),r=n[0].offsetWidth,o=n[0].offsetHeight,a=parseInt(n.css("margin-top"),10),s=parseInt(n.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(s)&&(s=0),t.top=t.top+a,t.left=t.left+s,e.offset.setOffset(n[0],e.extend({using:function(e){n.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),n.addClass("in");var l=n[0].offsetWidth,c=n[0].offsetHeight;"top"==i&&c!=o&&(t.top=t.top+o-c);var u=this.getViewportAdjustedDelta(i,t,l,c);u.left?t.left+=u.left:t.top+=u.top;var d=/top|bottom/.test(i),h=d?2*u.left-r+l:2*u.top-o+c,p=d?"offsetWidth":"offsetHeight";n.offset(t),this.replaceArrow(h,n[0][p],d)},i.prototype.replaceArrow=function(e,t,i){this.arrow().css(i?"left":"top",50*(1-e/t)+"%").css(i?"top":"left","")},i.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},i.prototype.hide=function(t){function n(){"in"!=r.hoverState&&o.detach(),r.$element.removeAttr("aria-describedby").trigger("hidden.bs."+r.type),t&&t()}var r=this,o=e(this.$tip),a=e.Event("hide.bs."+this.type);if(this.$element.trigger(a),!a.isDefaultPrevented())return o.removeClass("in"),e.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",n).emulateTransitionEnd(i.TRANSITION_DURATION):n(),this.hoverState=null,this},i.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},i.prototype.hasContent=function(){return this.getTitle()},i.prototype.getPosition=function(t){t=t||this.$element;var i=t[0],n="BODY"==i.tagName,r=i.getBoundingClientRect();null==r.width&&(r=e.extend({},r,{width:r.right-r.left,height:r.bottom-r.top}));var o=n?{top:0,left:0}:t.offset(),a={scroll:n?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},s=n?{width:e(window).width(),height:e(window).height()}:null;return e.extend({},r,a,s,o)},i.prototype.getCalculatedOffset=function(e,t,i,n){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-i/2}:"top"==e?{top:t.top-n,left:t.left+t.width/2-i/2}:"left"==e?{top:t.top+t.height/2-n/2,left:t.left-i}:{top:t.top+t.height/2-n/2,left:t.left+t.width}},i.prototype.getViewportAdjustedDelta=function(e,t,i,n){var r={top:0,left:0};if(!this.$viewport)return r;var o=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(e)){var s=t.top-o-a.scroll,l=t.top+o-a.scroll+n;s<a.top?r.top=a.top-s:l>a.top+a.height&&(r.top=a.top+a.height-l)}else{var c=t.left-o,u=t.left+o+i;c<a.left?r.left=a.left-c:u>a.width&&(r.left=a.left+a.width-u)}return r},i.prototype.getTitle=function(){var e,t=this.$element,i=this.options;return e=t.attr("data-original-title")||("function"==typeof i.title?i.title.call(t[0]):i.title)},i.prototype.getUID=function(e){do e+=~~(1e6*Math.random());while(document.getElementById(e));return e},i.prototype.tip=function(){return this.$tip=this.$tip||e(this.options.template)},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},i.prototype.enable=function(){this.enabled=!0},i.prototype.disable=function(){this.enabled=!1},i.prototype.toggleEnabled=function(){
this.enabled=!this.enabled},i.prototype.toggle=function(t){var i=this;t&&(i=e(t.currentTarget).data("bs."+this.type),i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,i))),i.tip().hasClass("in")?i.leave(i):i.enter(i)},i.prototype.destroy=function(){var e=this;clearTimeout(this.timeout),this.hide(function(){e.$element.off("."+e.type).removeData("bs."+e.type)})};var n=e.fn.tooltip;e.fn.tooltip=t,e.fn.tooltip.Constructor=i,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=n,this}}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),r=n.data("bs.popover"),o="object"==typeof t&&t;!r&&/destroy|hide/.test(t)||(r||n.data("bs.popover",r=new i(this,o)),"string"==typeof t&&r[t]())})}var i=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");i.VERSION="3.3.4",i.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),i.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),i.prototype.constructor=i,i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),i=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof i?"html":"append":"text"](i),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},i.prototype.hasContent=function(){return this.getTitle()||this.getContent()},i.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var n=e.fn.popover;e.fn.popover=t,e.fn.popover.Constructor=i,e.fn.popover.noConflict=function(){return e.fn.popover=n,this}}(jQuery),+function(e){"use strict";function t(i,n){this.$body=e(document.body),this.$scrollElement=e(e(i).is(document.body)?window:i),this.options=e.extend({},t.DEFAULTS,n),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",e.proxy(this.process,this)),this.refresh(),this.process()}function i(i){return this.each(function(){var n=e(this),r=n.data("bs.scrollspy"),o="object"==typeof i&&i;r||n.data("bs.scrollspy",r=new t(this,o)),"string"==typeof i&&r[i]()})}t.VERSION="3.3.4",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t=this,i="offset",n=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),e.isWindow(this.$scrollElement[0])||(i="position",n=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var t=e(this),r=t.data("target")||t.attr("href"),o=/^#./.test(r)&&e(r);return o&&o.length&&o.is(":visible")&&[[o[i]().top+n,r]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,i=this.getScrollHeight(),n=this.options.offset+i-this.$scrollElement.height(),r=this.offsets,o=this.targets,a=this.activeTarget;if(this.scrollHeight!=i&&this.refresh(),t>=n)return a!=(e=o[o.length-1])&&this.activate(e);if(a&&t<r[0])return this.activeTarget=null,this.clear();for(e=r.length;e--;)a!=o[e]&&t>=r[e]&&(void 0===r[e+1]||t<r[e+1])&&this.activate(o[e])},t.prototype.activate=function(t){this.activeTarget=t,this.clear();var i=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',n=e(i).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")},t.prototype.clear=function(){e(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var n=e.fn.scrollspy;e.fn.scrollspy=i,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=n,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);i.call(t,t.data())})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),r=n.data("bs.tab");r||n.data("bs.tab",r=new i(this)),"string"==typeof t&&r[t]()})}var i=function(t){this.element=e(t)};i.VERSION="3.3.4",i.TRANSITION_DURATION=150,i.prototype.show=function(){var t=this.element,i=t.closest("ul:not(.dropdown-menu)"),n=t.data("target");if(n||(n=t.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var r=i.find(".active:last a"),o=e.Event("hide.bs.tab",{relatedTarget:t[0]}),a=e.Event("show.bs.tab",{relatedTarget:r[0]});if(r.trigger(o),t.trigger(a),!a.isDefaultPrevented()&&!o.isDefaultPrevented()){var s=e(n);this.activate(t.closest("li"),i),this.activate(s,s.parent(),function(){r.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:r[0]})})}}},i.prototype.activate=function(t,n,r){function o(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),s?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),r&&r()}var a=n.find("> .active"),s=r&&e.support.transition&&(a.length&&a.hasClass("fade")||!!n.find("> .fade").length);a.length&&s?a.one("bsTransitionEnd",o).emulateTransitionEnd(i.TRANSITION_DURATION):o(),a.removeClass("in")};var n=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=i,e.fn.tab.noConflict=function(){return e.fn.tab=n,this};var r=function(i){i.preventDefault(),t.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',r).on("click.bs.tab.data-api",'[data-toggle="pill"]',r)}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),r=n.data("bs.affix"),o="object"==typeof t&&t;r||n.data("bs.affix",r=new i(this,o)),"string"==typeof t&&r[t]()})}var i=function(t,n){this.options=e.extend({},i.DEFAULTS,n),this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(t),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};i.VERSION="3.3.4",i.RESET="affix affix-top affix-bottom",i.DEFAULTS={offset:0,target:window},i.prototype.getState=function(e,t,i,n){var r=this.$target.scrollTop(),o=this.$element.offset(),a=this.$target.height();if(null!=i&&"top"==this.affixed)return r<i&&"top";if("bottom"==this.affixed)return null!=i?!(r+this.unpin<=o.top)&&"bottom":!(r+a<=e-n)&&"bottom";var s=null==this.affixed,l=s?r:o.top,c=s?a:t;return null!=i&&r<=i?"top":null!=n&&l+c>=e-n&&"bottom"},i.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(i.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},i.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},i.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),n=this.options.offset,r=n.top,o=n.bottom,a=e(document.body).height();"object"!=typeof n&&(o=r=n),"function"==typeof r&&(r=n.top(this.$element)),"function"==typeof o&&(o=n.bottom(this.$element));var s=this.getState(a,t,r,o);if(this.affixed!=s){null!=this.unpin&&this.$element.css("top","");var l="affix"+(s?"-"+s:""),c=e.Event(l+".bs.affix");if(this.$element.trigger(c),c.isDefaultPrevented())return;this.affixed=s,this.unpin="bottom"==s?this.getPinnedOffset():null,this.$element.removeClass(i.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==s&&this.$element.offset({top:a-t-o})}};var n=e.fn.affix;e.fn.affix=t,e.fn.affix.Constructor=i,e.fn.affix.noConflict=function(){return e.fn.affix=n,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var i=e(this),n=i.data();n.offset=n.offset||{},null!=n.offsetBottom&&(n.offset.bottom=n.offsetBottom),null!=n.offsetTop&&(n.offset.top=n.offsetTop),t.call(i,n)})})}(jQuery),function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t(require("angular")):"function"==typeof define&&define.amd?define(["angular"],t):t(e.angular)}(window,function(e){e.module("angucomplete-alt",[]).directive("angucompleteAlt",["$q","$parse","$http","$sce","$timeout","$templateCache",function(e,t,i,n,r,o){var a=40,s=39,l=38,c=37,u=27,d=13,h=9,p=3,f=500,m=200,g="autocomplete-required",v="Searching...",y="No results found",b="/angucomplete-alt/index.html";return o.put(b,'<div class="angucomplete-holder" ng-class="{\'angucomplete-dropdown-visible\': showDropdown}">  <input id="{{id}}_value" tabindex="{{fieldTabindex}}" ng-model="searchStr" ng-disabled="disableInput" type="{{type}}" placeholder="{{placeholder}}" ng-focus="onFocusHandler()" class="{{inputClass}}" ng-focus="resetHideResults()" ng-blur="hideResults($event)" autocapitalize="off" autocorrect="off" autocomplete="off" ng-change="inputChangeHandler(searchStr)"/>  <div id="{{id}}_dropdown" class="angucomplete-dropdown" ng-show="showDropdown">    <div class="angucomplete-searching" ng-show="searching" ng-bind="textSearching"></div>    <div class="angucomplete-searching" ng-show="!searching && (!results || results.length == 0)" ng-bind="textNoResults"></div>    <div class="angucomplete-row" ng-repeat="result in results" ng-click="selectResult(result)" ng-mouseenter="hoverRow($index)" ng-class="{\'angucomplete-selected-row\': $index == currentIndex}">      <div ng-if="imageField" class="angucomplete-image-holder">        <img ng-if="result.image && result.image != \'\'" ng-src="{{result.image}}" class="angucomplete-image"/>        <div ng-if="!result.image && result.image != \'\'" class="angucomplete-image-default"></div>      </div>      <div class="angucomplete-title" ng-if="matchClass" ng-bind-html="result.title"></div>      <div class="angucomplete-title" ng-if="!matchClass">{{ result.title }}</div>      <div ng-if="matchClass && result.description && result.description != \'\'" class="angucomplete-description" ng-bind-html="result.description"></div>      <div ng-if="!matchClass && result.description && result.description != \'\'" class="angucomplete-description">{{result.description}}</div>    </div>  </div></div>'),{restrict:"EA",require:"^?form",scope:{selectedObject:"=",disableInput:"=",initialValue:"@",localData:"=",remoteUrlRequestFormatter:"=",remoteUrlRequestWithCredentials:"@",remoteUrlResponseFormatter:"=",remoteUrlErrorCallback:"=",id:"@",type:"@",placeholder:"@",remoteUrl:"@",remoteUrlDataField:"@",titleField:"@",descriptionField:"@",imageField:"@",inputClass:"@",pause:"@",searchFields:"@",minlength:"@",matchClass:"@",fieldTabindex:"@",clearSelected:"@",overrideSuggestions:"@",fieldRequired:"@",fieldRequiredClass:"@",inputChanged:"=",autoMatch:"@",focusOut:"&",focusIn:"&"},templateUrl:function(e,t){return t.templateUrl||b},link:function(t,o,b,_){function w(e){return e.which?e.which:e.keyCode}function x(e){"function"==typeof t.selectedObject?t.selectedObject(e):t.selectedObject=e,T(e?!0:!1)}function E(e){return function(i){return t[e]?t[e](i):i}}function A(e){x({originalObject:e}),t.clearSelected&&(t.searchStr=null),z()}function C(e){return t.titleField.split(",").map(function(t){return k(e,t)}).join(" ")}function k(e,t){var i,n;return t?(i=t.split("."),n=e,i.forEach(function(e){n=n[e]})):n=e,n}function $(e,i){var r,o,a;if(a=new RegExp(i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"i"),e)return o=e.match(a),r=o?e.replace(a,'<span class="'+t.matchClass+'">'+o[0]+"</span>"):e,n.trustAsHtml(r)}function T(e){te=t.searchStr,t.fieldRequired&&_&&_.$setValidity(ee,e)}function L(e){var i=w(e);i!==c&&i!==s&&(i===l||i===d?e.preventDefault():i===a?(e.preventDefault(),!t.showDropdown&&t.searchStr&&t.searchStr.length>=K&&(B(),t.searching=!0,q(t.searchStr))):i===u?(z(),t.$apply(function(){X.val(t.searchStr)})):(t.searchStr&&""!==t.searchStr?t.searchStr.length>=K&&(B(),Q&&r.cancel(Q),t.searching=!0,Q=r(function(){q(t.searchStr)},t.pause)):t.showDropdown=!1,te&&te!==t.searchStr&&!t.clearSelected&&x(void 0)))}function D(e){!t.overrideSuggestions||t.selectedObject&&t.selectedObject.originalObject===t.searchStr||(e&&e.preventDefault(),A(t.searchStr))}function M(e){var t=getComputedStyle(e);return e.offsetHeight+parseInt(t.marginTop,10)+parseInt(t.marginBottom,10)}function S(){return ne.getBoundingClientRect().top+parseInt(getComputedStyle(ne).maxHeight,10)}function P(){return o[0].querySelectorAll(".angucomplete-row")[t.currentIndex]}function N(){return P().getBoundingClientRect().top-(ne.getBoundingClientRect().top+parseInt(getComputedStyle(ne).paddingTop,10))}function I(e){ne.scrollTop=ne.scrollTop+e}function O(){var e=t.results[t.currentIndex];t.matchClass?X.val(C(e.originalObject)):X.val(e.title)}function R(e){var i=w(e),n=null,r=null;i===d&&t.results?(t.currentIndex>=0&&t.currentIndex<t.results.length?(e.preventDefault(),t.selectResult(t.results[t.currentIndex])):(D(e),z()),t.$apply()):i===a&&t.results?(e.preventDefault(),t.currentIndex+1<t.results.length&&t.showDropdown&&(t.$apply(function(){t.currentIndex++,O()}),re&&(n=P(),S()<n.getBoundingClientRect().bottom&&I(M(n))))):i===l&&t.results?(e.preventDefault(),t.currentIndex>=1?(t.$apply(function(){t.currentIndex--,O()}),re&&(r=N(),r<0&&I(r-1))):0===t.currentIndex&&t.$apply(function(){t.currentIndex=-1,X.val(t.searchStr)})):i===h&&(t.results&&t.results.length>0&&t.showDropdown?t.currentIndex===-1&&t.overrideSuggestions?D():(t.currentIndex===-1&&(t.currentIndex=0),t.selectResult(t.results[t.currentIndex]),t.$digest()):t.searchStr&&t.searchStr.length>0&&D())}function j(e){return function(i,n,r,o){t.searching=!1,V(k(J(i),t.remoteUrlDataField),e)}}function H(e,i,n,r){0!==i&&(t.remoteUrlErrorCallback?t.remoteUrlErrorCallback(e,i,n,r):console&&console.error&&console.error("http error"))}function F(){ie&&ie.resolve()}function U(n){var r={},o=t.remoteUrl+encodeURIComponent(n);t.remoteUrlRequestFormatter&&(r={params:t.remoteUrlRequestFormatter(n)},o=t.remoteUrl),t.remoteUrlRequestWithCredentials&&(r.withCredentials=!0),F(),ie=e.defer(),r.timeout=ie.promise,i.get(o,r).success(j(n)).error(H)}function z(){t.showDropdown=!1,t.results=[],ne&&(ne.scrollTop=0)}function B(){t.showDropdown=!0,t.currentIndex=-1,t.results=[]}function G(e){var i,n,r,o,a=t.searchFields.split(","),s=[];for(i=0;i<t.localData.length;i++){for(n=!1,r=0;r<a.length;r++)o=k(t.localData[i],a[r])||"",n=n||o.toLowerCase().indexOf(e.toLowerCase())>=0;n&&(s[s.length]=t.localData[i])}t.searching=!1,V(s,e)}function W(e,i,n){for(var r in i)if(i[r].toLowerCase()===n.toLowerCase())return void t.selectResult(e)}function q(e){!e||e.length<K||(t.localData?t.$apply(function(){G(e)}):U(e))}function V(e,i){var n,r,o,a,s,l;if(e&&e.length>0)for(t.results=[],n=0;n<e.length;n++)t.titleField&&""!==t.titleField&&(a=s=C(e[n])),r="",t.descriptionField&&(r=l=k(e[n],t.descriptionField)),o="",t.imageField&&(o=k(e[n],t.imageField)),t.matchClass&&(s=$(a,i),l=$(r,i)),t.results[t.results.length]={title:s,description:l,image:o,originalObject:e[n]},t.autoMatch&&W(t.results[t.results.length-1],{title:a,desc:r||""},t.searchStr);else t.results=[]}var Y,J,Z,X=o.find("input"),K=p,Q=null,ee=g,te=null,ie=null,ne=o[0].querySelector(".angucomplete-dropdown"),re=!1,oe=null;o.on("mousedown",function(e){oe=e.target.id}),t.currentIndex=null,t.searching=!1,t.searchStr=t.initialValue,Z=t.$watch("initialValue",function(e,i){e&&e.length>0&&(t.searchStr=t.initialValue,T(!0),Z())}),t.$on("angucomplete-alt:clearInput",function(e,i){i?t.id===i&&(t.searchStr=null,z()):(t.searchStr=null,z())}),t.onFocusHandler=function(){t.focusIn&&t.focusIn()},t.hideResults=function(e){oe===t.id+"_dropdown"?oe=null:(Y=r(function(){z(),t.$apply(function(){t.searchStr&&t.searchStr.length>0&&X.val(t.searchStr)})},m),F(),t.focusOut&&t.focusOut(),t.overrideSuggestions&&t.searchStr&&t.searchStr.length>0&&t.currentIndex===-1&&D())},t.resetHideResults=function(){Y&&r.cancel(Y)},t.hoverRow=function(e){t.currentIndex=e},t.selectResult=function(e){t.matchClass&&(e.title=C(e.originalObject),e.description=k(e.originalObject,t.descriptionField)),t.clearSelected?t.searchStr=null:t.searchStr=e.title,x(e),z()},t.inputChangeHandler=function(e){return e.length<K&&z(),t.inputChanged&&(e=t.inputChanged(e)),e},t.fieldRequiredClass&&""!==t.fieldRequiredClass&&(ee=t.fieldRequiredClass),t.minlength&&""!==t.minlength&&(K=t.minlength),t.pause||(t.pause=f),t.clearSelected||(t.clearSelected=!1),t.overrideSuggestions||(t.overrideSuggestions=!1),t.fieldRequired&&_&&T(t.initialValue?!0:!1),t.textSearching=b.textSearching?b.textSearching:v,t.textNoResults=b.textNoResults?b.textNoResults:y,X.on("keydown",R),X.on("keyup",L),J=E("remoteUrlResponseFormatter"),t.$on("$destroy",function(){T(!0)}),r(function(){var e=getComputedStyle(ne);re=e.maxHeight&&"auto"===e.overflowY}),t.$watchCollection("selectedObject",function(e,i){if(void 0!==e&&null!==e&&void 0===e.originalObject){var n=t.searchFields.split(",").map(function(e){return e.trim()}),r={};n.every(function(t){return void 0!==e[t]})===!0&&(r.title=e[t.titleField],r.description=e[t.descriptionField],r.image=void 0!==t.imageField?t.imageField:"",r.originalObject=e,t.selectResult(r))}})}}}])}),!function(e){"function"==typeof define&&define.amd?define("picker",["angular"],e):this.Picker=e(angular)}(function(e){function t(e,n,r,a){function s(){return t._.node("div",t._.node("div",t._.node("div",t._.node("div",v.component.nodes(f.open),p.box),p.wrap),p.frame),p.holder)}function l(){m.data(n,v),m.addClass(p.input),m[0].value=m.attr("data-value")?v.get("select",h.format):e.value,angular.element(document.querySelectorAll("#"+f.id)).on("focus",d),angular.element(document.querySelectorAll("#"+f.id)).on("click",d),h.editable||angular.element(document.querySelectorAll("#"+f.id)).on("keydown",function(e){var t=e.keyCode,i=/^(8|46)$/.test(t);return 27==t?(v.close(),!1):void((32==t||i||!f.open&&v.component.key[t])&&(e.preventDefault(),e.stopPropagation(),i?v.clear().close():v.open()))}),i(e,{haspopup:!0,expanded:!1,readonly:!1,owns:e.id+"_root"+(v._hidden?" "+v._hidden.id:"")})}function c(){function n(){angular.element(v.$root[0].querySelectorAll("[data-pick], [data-nav], [data-clear]")).on("click",function(){var i=angular.element(this),r=i.hasClass(p.navDisabled)||i.hasClass(p.disabled),o=document.activeElement;o=o&&(o.type||o.href)&&o,(r||o&&!v.$root[0].contains(o))&&e.focus(),i.attr("data-nav")&&!r?(v.set("highlight",v.component.item.highlight,{nav:parseInt(i.attr("data-nav"))}),n()):t._.isInteger(parseInt(i.attr("data-pick")))&&!r?(v.set("select",parseInt(i.attr("data-pick"))).close(!0),n()):i.attr("data-clear")&&(v.clear().close(!0),n())})}v.$root.on("focusin",function(e){v.$root.removeClass(p.focused),i(v.$root[0],"selected",!1),e.stopPropagation()}),v.$root.on("mousedown click",function(t){var i=t.target;i!=v.$root.children()[0]&&(t.stopPropagation(),"mousedown"==t.type&&"input"!==angular.element(i)[0].tagName&&"OPTION"!=i.nodeName&&(t.preventDefault(),e.focus()))}),n(),i(v.$root[0],"hidden",!0)}function u(){var t=["string"==typeof h.hiddenPrefix?h.hiddenPrefix:"","string"==typeof h.hiddenSuffix?h.hiddenSuffix:"_submit"];v._hidden=angular.element('<input type=hidden name="'+t[0]+e.name+t[1]+'"id="'+t[0]+e.id+t[1]+'"'+(m.attr("data-value")||e.value?' value="'+v.get("select",h.formatSubmit)+'"':"")+">")[0],m.on("change."+f.id,function(){v._hidden.value=e.value?v.get("select",h.formatSubmit):""}).after(v._hidden)}function d(e){e.stopPropagation(),"focus"==e.type&&(v.$root.addClass(p.focused),i(v.$root[0],"selected",!0)),v.open()}if(!e)return t;var h;r?(h=r.defaults,angular.extend(h,a)):h=a||{};var p=t.klasses();angular.extend(p,h.klass);var f={id:e.id||"P"+Math.abs(~~(Math.random()*new Date))},m=angular.element(e),g=function(){return this.start()},v=g.prototype={constructor:g,$node:m,start:function(){return f&&f.start?v:(f.methods={},f.start=!0,f.open=!1,f.type=e.type,e.autofocus=e==document.activeElement,e.type="text",e.readOnly=!h.editable,e.id=e.id||f.id,v.component=new r(v,h),v.$root=angular.element(t._.node("div",s(),p.picker,'id="'+e.id+'_root"')),c(),h.formatSubmit&&u(),l(),h.container?angular.element(h.container).append(v.$root):m.after(v.$root),v.on({start:v.component.onStart,render:v.component.onRender,stop:v.component.onStop,open:v.component.onOpen,close:v.component.onClose,set:v.component.onSet}).on({start:h.onStart,render:h.onRender,stop:h.onStop,open:h.onOpen,close:h.onClose,set:h.onSet}),e.autofocus&&v.open(),v.trigger("start").trigger("render"))},render:function(e){return e?v.$root.html(s()):angular.element(v.$root[0].querySelectorAll("."+p.box)).html(v.component.nodes(f.open)),v.trigger("render")},stop:function(){return f.start?(v.close(),v._hidden&&v._hidden.parentNode.removeChild(v._hidden),v.$root.remove(),m.removeClass(p.input).removeData(n),setTimeout(function(){m.off("."+f.id)},0),e.type=f.type,e.readOnly=!1,v.trigger("stop"),f.methods={},f.start=!1,v):v},open:function(n){return f.open?v:(m.addClass(p.active),i(e,"expanded",!0),v.$root.addClass(p.opened),i(v.$root[0],"hidden",!1),n!==!1&&(f.open=!0,m.triggerHandler("focus"),angular.element(document.querySelectorAll("#"+f.id)).on("click focusin",function(t){var i=t.target;i!=e&&i!=document&&3!=t.which&&v.close(i===v.$root.children()[0])}),angular.element(document.querySelectorAll("#"+f.id)).on("keydown",function(i){var n=i.keyCode,r=v.component.key[n],o=i.target;27==n?v.close(!0):o!=e||!r&&13!=n?v.$root[0].contains(o)&&13==n&&(i.preventDefault(),o.click()):(i.preventDefault(),r?t._.trigger(v.component.key.go,v,[t._.trigger(r)]):angular.element(v.$root[0].querySelectorAll("."+p.highlighted)).hasClass(p.disabled)||v.set("select",v.component.item.highlight).close())})),v.trigger("open"))},close:function(t){return t&&(m.off("focus."+f.id),m.triggerHandler("focus"),setTimeout(function(){angular.element(document.querySelectorAll("#"+f.id)).on("focus",d)},0)),m.removeClass(p.active),i(e,"expanded",!1),v.$root.removeClass(p.opened+" "+p.focused),i(v.$root[0],"hidden",!0),i(v.$root[0],"selected",!1),f.open?(setTimeout(function(){f.open=!1},1e3),o.off("."+f.id),v.trigger("close")):v},clear:function(){return v.set("clear")},set:function(e,t,i){var n,r,o=angular.isObject(e),a=o?e:{};if(i=o&&angular.isObject(t)?t:i||{},e){o||(a[e]=t);for(n in a)r=a[n],n in v.component.item&&v.component.set(n,r,i),("select"==n||"clear"==n)&&(m[0].value="clear"==n?"":v.get(n,h.format),m.triggerHandler("change"));v.render()}return i.muted?v:v.trigger("set",a)},get:function(i,n){return i=i||"value",null!=f[i]?f[i]:"value"==i?e.value:i in v.component.item?"string"==typeof n?t._.trigger(v.component.formats.toString,v.component,[n,v.component.get(i)]):v.component.get(i):void 0},on:function(e,t){var i,n,r=angular.isObject(e),o=r?e:{};if(e){r||(o[e]=t);for(i in o)n=o[i],f.methods[i]=f.methods[i]||[],f.methods[i].push(n)}return v},off:function(){var e,t,i=arguments;for(e=0,namesCount=i.length;namesCount>e;e+=1)t=i[e],t in f.methods&&delete f.methods[t];return v},trigger:function(e,i){var n=f.methods[e];return n&&n.map(function(e){t._.trigger(e,v,[i])}),v}};return new g}function i(e,t,i){if(angular.isObject(t))for(var r in t)n(e,r,t[r]);else n(e,t,i)}function n(e,t,i){angular.element(e).attr(("role"==t?"":"aria-")+t,i)}function r(e,t){angular.isObject(e)||(e={attribute:t}),t="";for(var i in e){var n=("role"==i?"":"aria-")+i,r=e[i];t+=null==r?"":n+'="'+e[i]+'"'}return t}var o=angular.element(document);return t.klasses=function(e){return e=e||"picker",{picker:e,opened:e+"--opened",focused:e+"--focused",input:e+"__input",active:e+"__input--active",holder:e+"__holder",frame:e+"__frame",wrap:e+"__wrap",box:e+"__box"}},t._={group:function(e){for(var i,n="",r=t._.trigger(e.min,e);r<=t._.trigger(e.max,e,[r]);r+=e.i)i=t._.trigger(e.item,e,[r]),n+=t._.node(e.node,i[0],i[1],i[2]);return n},node:function(t,i,n,r){return i?(i=e.isArray(i)?i.join(""):i,n=n?' class="'+n+'"':"",r=r?" "+r:"","<"+t+n+r+">"+i+"</"+t+">"):""},lead:function(e){return(10>e?"0":"")+e},trigger:function(e,t,i){return"function"==typeof e?e.apply(t,i||[]):e},digits:function(e){return/\d/.test(e[1])?2:1},isDate:function(e){return{}.toString.call(e).indexOf("Date")>-1&&this.isInteger(e.getDate())},isInteger:function(e){return{}.toString.call(e).indexOf("Number")>-1&&e%1===0},ariaAttr:r},t.extend=function(e,i){angular.element.prototype[e]=function(n,r){var o=this.data(e);if("picker"==n)return o;if(o&&"string"==typeof n)return t._.trigger(o[n],o,[r]),this;for(var a=0;a<this.length;a++){var s=angular.element(this[a]);s.data(e)||new t(s[0],e,i,n)}},angular.element.prototype[e].defaults=i.defaults},t}),!function(e){"function"==typeof define&&define.amd?define(["picker","angular"],e):e(Picker,angular)}(function(e,t){function i(e,i){var n=this,r=e.$node[0].value,o=e.$node.attr("data-value"),a=o||r,s=o?i.formatSubmit:i.format,l=function(){return"rtl"===getComputedStyle(e.$root[0]).direction};n.settings=i,n.$node=e.$node,n.queue={min:"measure create",max:"measure create",now:"now create",select:"parse create validate",highlight:"parse navigate create validate",view:"parse create validate viewset",disable:"deactivate",enable:"activate"},n.item={},n.item.disable=(i.disable||[]).slice(0),n.item.enable=-function(e){return e[0]===!0?e.shift():-1}(n.item.disable),n.set("min",i.min).set("max",i.max).set("now"),a?n.set("select",a,{format:s,fromValue:!!r}):n.set("select",null).set("highlight",n.item.now),n.key={40:7,38:-7,39:function(){return l()?-1:1},37:function(){return l()?1:-1},go:function(e){var t=n.item.highlight,i=new Date(t.year,t.month,t.date+e);n.set("highlight",[i.getFullYear(),i.getMonth(),i.getDate()],{interval:e}),this.render()}},e.on("render",function(){t.element(e.$root[0].querySelectorAll("."+i.klass.selectMonth)).on("change",function(){var n=this.value;n&&(e.set("highlight",[e.get("view").year,n,e.get("highlight").date]),t.element(e.$root[0].querySelectorAll("."+i.klass.selectMonth)).triggerHandler("focus"))}),t.element(e.$root[0].querySelectorAll("."+i.klass.selectYear)).on("change",function(){var n=this.value;n&&(e.set("highlight",[n,e.get("view").month,e.get("highlight").date]),t.element(e.$root[0].querySelectorAll("."+i.klass.selectYear)).triggerHandler("focus"))})}).on("open",function(){t.element(e.$root[0].querySelectorAll("button, select")).attr("disabled",!1)}).on("close",function(){t.element(e.$root[0].querySelectorAll("button, select")).attr("disabled",!0)})}var n=7,r=6,o=e._;i.prototype.set=function(e,t,i){var n=this,r=n.item;return null===t?(r[e]=t,n):(r["enable"==e?"disable":"flip"==e?"enable":e]=n.queue[e].split(" ").map(function(r){return t=n[r](e,t,i)}).pop(),"select"==e?n.set("highlight",r.select,i):"highlight"==e?n.set("view",r.highlight,i):e.match(/^(flip|min|max|disable|enable)$/)&&(r.select&&n.disabled(r.select)&&n.set("select",r.select,i),r.highlight&&n.disabled(r.highlight)&&n.set("highlight",r.highlight,i)),n)},i.prototype.get=function(e){return this.item[e]},i.prototype.create=function(e,i,n){var r,a=this;return i=void 0===i?e:i,i==-1/0||1/0==i?r=i:t.isObject(i)&&o.isInteger(i.pick)?i=i.obj:t.isArray(i)?(i=new Date(i[0],i[1],i[2]),i=o.isDate(i)?i:a.create().obj):i=o.isInteger(i)||o.isDate(i)?a.normalize(new Date(i),n):a.now(e,i,n),{year:r||i.getFullYear(),month:r||i.getMonth(),date:r||i.getDate(),day:r||i.getDay(),obj:r||i,pick:r||i.getTime()}},i.prototype.createRange=function(e,i){var n=this,r=function(e){return e===!0||t.isArray(e)||o.isDate(e)?n.create(e):e};return o.isInteger(e)||(e=r(e)),o.isInteger(i)||(i=r(i)),o.isInteger(e)&&t.isObject(i)?e=[i.year,i.month,i.date+e]:o.isInteger(i)&&t.isObject(e)&&(i=[e.year,e.month,e.date+i]),{from:r(e),to:r(i)}},i.prototype.withinRange=function(e,t){return e=this.createRange(e.from,e.to),t.pick>=e.from.pick&&t.pick<=e.to.pick},i.prototype.overlapRanges=function(e,t){var i=this;return e=i.createRange(e.from,e.to),t=i.createRange(t.from,t.to),i.withinRange(e,t.from)||i.withinRange(e,t.to)||i.withinRange(t,e.from)||i.withinRange(t,e.to)},i.prototype.now=function(e,t,i){return t=new Date,i&&i.rel&&t.setDate(t.getDate()+i.rel),this.normalize(t,i)},i.prototype.navigate=function(e,i,n){var r,o,a,s,l=t.isArray(i),c=t.isObject(i),u=this.item.view;if(l||c){for(c?(o=i.year,a=i.month,s=i.date):(o=+i[0],a=+i[1],s=+i[2]),n&&n.nav&&u&&u.month!==a&&(o=u.year,a=u.month),r=new Date(o,a+(n&&n.nav?n.nav:0),1),o=r.getFullYear(),a=r.getMonth();new Date(o,a,s).getMonth()!==a;)s-=1;i=[o,a,s]}return i},i.prototype.normalize=function(e){return e.setHours(0,0,0,0),e},i.prototype.measure=function(e,t){var i=this;return t?o.isInteger(t)&&(t=i.now(e,t,{rel:t})):t="min"==e?-1/0:1/0,t},i.prototype.viewset=function(e,t){return this.create([t.year,t.month,1])},i.prototype.validate=function(e,i,n){var r,a,s,l,c=this,u=i,d=n&&n.interval?n.interval:1,h=-1===c.item.enable,p=c.item.min,f=c.item.max,m=h&&c.item.disable.filter(function(e){if(t.isArray(e)){var n=c.create(e).pick;n<i.pick?r=!0:n>i.pick&&(a=!0)}return o.isInteger(e)}).length;if((!n||!n.nav)&&(!h&&c.disabled(i)||h&&c.disabled(i)&&(m||r||a)||!h&&(i.pick<=p.pick||i.pick>=f.pick)))for(h&&!m&&(!a&&d>0||!r&&0>d)&&(d*=-1);c.disabled(i)&&(Math.abs(d)>1&&(i.month<u.month||i.month>u.month)&&(i=u,d=d>0?1:-1),i.pick<=p.pick?(s=!0,d=1,i=c.create([p.year,p.month,p.date-1])):i.pick>=f.pick&&(l=!0,d=-1,i=c.create([f.year,f.month,f.date+1])),!s||!l);)i=c.create([i.year,i.month,i.date+d]);return i},i.prototype.disabled=function(e){var i=this,n=i.item.disable.filter(function(n){return o.isInteger(n)?e.day===(i.settings.firstDay?n:n-1)%7:t.isArray(n)||o.isDate(n)?e.pick===i.create(n).pick:t.isObject(n)?i.withinRange(n,e):void 0});return n=n.length&&!n.filter(function(e){return t.isArray(e)&&"inverted"==e[3]||t.isObject(e)&&e.inverted}).length,-1===i.item.enable?!n:n||e.pick<i.item.min.pick||e.pick>i.item.max.pick},i.prototype.parse=function(e,i,n){var r,a=this,s={};return!i||o.isInteger(i)||t.isArray(i)||o.isDate(i)||t.isObject(i)&&o.isInteger(i.pick)?i:(n&&n.format||(n=n||{},n.format=a.settings.format),r="string"!=typeof i||n.fromValue?0:1,a.formats.toArray(n.format).map(function(e){var t=a.formats[e],n=t?o.trigger(t,a,[i,s]):e.replace(/^!/,"").length;t&&(s[e]=i.substr(0,n)),i=i.substr(n)}),[s.yyyy||s.yy,+(s.mm||s.m)-r,s.dd||s.d])},i.prototype.formats=function(){function e(e,t,i){var n=e.match(/\w+/)[0];return i.mm||i.m||(i.m=t.indexOf(n)),n.length}function t(e){return e.match(/\w+/)[0].length}return{d:function(e,t){return e?o.digits(e):t.date},dd:function(e,t){return e?2:o.lead(t.date)},ddd:function(e,i){return e?t(e):this.settings.weekdaysShort[i.day]},dddd:function(e,i){return e?t(e):this.settings.weekdaysFull[i.day]},m:function(e,t){return e?o.digits(e):t.month+1},mm:function(e,t){return e?2:o.lead(t.month+1)},mmm:function(t,i){var n=this.settings.monthsShort;return t?e(t,n,i):n[i.month]},mmmm:function(t,i){var n=this.settings.monthsFull;return t?e(t,n,i):n[i.month]},yy:function(e,t){return e?2:(""+t.year).slice(2)},yyyy:function(e,t){return e?4:t.year},toArray:function(e){return e.split(/(d{1,4}|m{1,4}|y{4}|yy|!.)/g)},toString:function(e,t){var i=this;return i.formats.toArray(e).map(function(e){return o.trigger(i.formats[e],i,[0,t])||e.replace(/^!/,"")}).join("")}}}(),i.prototype.isDateExact=function(e,i){var n=this;return o.isInteger(e)&&o.isInteger(i)||"boolean"==typeof e&&"boolean"==typeof i?e===i:(o.isDate(e)||t.isArray(e))&&(o.isDate(i)||t.isArray(i))?n.create(e).pick===n.create(i).pick:!(!t.isObject(e)||!t.isObject(i))&&(n.isDateExact(e.from,i.from)&&n.isDateExact(e.to,i.to));
},i.prototype.isDateOverlap=function(e,i){var n=this;return o.isInteger(e)&&(o.isDate(i)||t.isArray(i))?e===n.create(i).day+1:o.isInteger(i)&&(o.isDate(e)||t.isArray(e))?i===n.create(e).day+1:!(!t.isObject(e)||!t.isObject(i))&&n.overlapRanges(e,i)},i.prototype.flipEnable=function(e){var t=this.item;t.enable=e||(-1==t.enable?1:-1)},i.prototype.deactivate=function(e,i){var n=this,r=n.item.disable.slice(0);return"flip"==i?n.flipEnable():i===!1?(n.flipEnable(1),r=[]):i===!0?(n.flipEnable(-1),r=[]):i.map(function(e){for(var i,a=0;a<r.length;a+=1)if(n.isDateExact(e,r[a])){i=!0;break}i||(o.isInteger(e)||o.isDate(e)||t.isArray(e)||t.isObject(e)&&e.from&&e.to)&&r.push(e)}),r},i.prototype.activate=function(e,i){var n=this,r=n.item.disable,a=r.length;return"flip"==i?n.flipEnable():i===!0?(n.flipEnable(1),r=[]):i===!1?(n.flipEnable(-1),r=[]):i.map(function(e){var i,s,l,c;for(l=0;a>l;l+=1){if(s=r[l],n.isDateExact(s,e)){i=r[l]=null,c=!0;break}if(n.isDateOverlap(s,e)){t.isObject(e)?(e.inverted=!0,i=e):t.isArray(e)?(i=e,i[3]||i.push("inverted")):o.isDate(e)&&(i=[e.getFullYear(),e.getMonth(),e.getDate(),"inverted"]);break}}if(i)for(l=0;a>l;l+=1)if(n.isDateExact(r[l],e)){r[l]=null;break}if(c)for(l=0;a>l;l+=1)if(n.isDateOverlap(r[l],e)){r[l]=null;break}i&&r.push(i)}),r.filter(function(e){return null!=e})},i.prototype.nodes=function(e){var t=this,i=t.settings,a=t.item,s=a.now,l=a.select,c=a.highlight,u=a.view,d=a.disable,h=a.min,p=a.max,f=function(e){return i.firstDay&&e.push(e.shift()),o.node("thead",o.node("tr",o.group({min:0,max:n-1,i:1,node:"th",item:function(t){return[e[t],i.klass.weekdays]}})))}((i.showWeekdaysFull?i.weekdaysFull:i.weekdaysShort).slice(0)),m=function(e){return o.node("div"," ",i.klass["nav"+(e?"Next":"Prev")]+(e&&u.year>=p.year&&u.month>=p.month||!e&&u.year<=h.year&&u.month<=h.month?" "+i.klass.navDisabled:""),"data-nav="+(e||-1))},g=function(t){return i.selectMonths?o.node("select",o.group({min:0,max:11,i:1,node:"option",item:function(e){return[t[e],0,"value="+e+(u.month==e?" selected":"")+(u.year==h.year&&e<h.month||u.year==p.year&&e>p.month?" disabled":"")]}}),i.klass.selectMonth,e?"":"disabled"):o.node("div",t[u.month],i.klass.month)},v=function(){var t=u.year,n=i.selectYears===!0?5:~~(i.selectYears/2);if(n){var r=h.year,a=p.year,s=t-n,l=t+n;if(r>s&&(l+=r-s,s=r),l>a){var c=s-r,d=l-a;s-=c>d?d:c,l=a}return o.node("select",o.group({min:s,max:l,i:1,node:"option",item:function(e){return[e,0,"value="+e+(t==e?" selected":"")]}}),i.klass.selectYear,e?"":"disabled")}return o.node("div",t,i.klass.year)};return o.node("div",m()+m(1)+g(i.showMonthsShort?i.monthsShort:i.monthsFull)+v(),i.klass.header)+o.node("table",f+o.node("tbody",o.group({min:0,max:r-1,i:1,node:"tr",item:function(e){var r=i.firstDay&&0===t.create([u.year,u.month,1]).day?-7:0;return[o.group({min:n*e-u.day+r+1,max:function(){return this.min+n-1},i:1,node:"td",item:function(e){e=t.create([u.year,u.month,e+(i.firstDay?1:0)]);var n=l&&l.pick==e.pick,r=c&&c.pick==e.pick,a=d&&t.disabled(e)||e.pick<h.pick||e.pick>p.pick;return[o.node("div",e.date,function(t){return t.push(u.month==e.month?i.klass.infocus:i.klass.outfocus),s.pick==e.pick&&t.push(i.klass.now),n&&t.push(i.klass.selected),r&&t.push(i.klass.highlighted),a&&t.push(i.klass.disabled),t.join(" ")}([i.klass.day]),"data-pick="+e.pick+" "+o.ariaAttr({role:"button",controls:t.$node[0].id,checked:!(!n||t.$node[0].value!==o.trigger(t.formats.toString,t,[i.format,e]))||null,activedescendant:!!r||null,disabled:!!a||null}))]}})]}})),i.klass.table)+o.node("div",o.node("button",i.today,i.klass.buttonToday,"type=button data-pick="+s.pick+(e?"":" disabled"))+o.node("button",i.clear,i.klass.buttonClear,"type=button data-clear=1"+(e?"":" disabled")),i.klass.footer)},i.defaults=function(e){return{monthsFull:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdaysFull:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],today:"Today",clear:"Clear",format:"d mmmm, yyyy",klass:{table:e+"table",header:e+"header",navPrev:e+"nav--prev",navNext:e+"nav--next",navDisabled:e+"nav--disabled",month:e+"month",year:e+"year",selectMonth:e+"select--month",selectYear:e+"select--year",weekdays:e+"weekday",day:e+"day",disabled:e+"day--disabled",selected:e+"day--selected",highlighted:e+"day--highlighted",now:e+"day--today",infocus:e+"day--infocus",outfocus:e+"day--outfocus",footer:e+"footer",buttonClear:e+"button--clear",buttonToday:e+"button--today"}}}(e.klasses().picker+"__"),e.extend("pickadate",i)}),!function(e){"function"==typeof define&&define.amd?define(["picker","angular"],e):e(Picker,angular)}(function(e,t){function i(e,t){var i=this,n=e.$node[0].value,r=e.$node.data("value"),o=r||n,a=r?t.formatSubmit:t.format;i.settings=t,i.$node=e.$node,i.queue={interval:"i",min:"measure create",max:"measure create",now:"now create",select:"parse create validate",highlight:"parse create validate",view:"parse create validate",disable:"deactivate",enable:"activate"},i.item={},i.item.interval=t.interval||30,i.item.disable=(t.disable||[]).slice(0),i.item.enable=-function(e){return e[0]===!0?e.shift():-1}(i.item.disable),i.set("min",t.min).set("max",t.max).set("now"),o?i.set("select",o,{format:a,fromValue:!!n}):i.set("select",null).set("highlight",i.item.now),i.key={40:1,38:-1,39:1,37:-1,go:function(e){i.set("highlight",i.item.highlight.pick+e*i.item.interval,{interval:e*i.item.interval}),this.render()}},e.on("render",function(){var i=e.$root.children(),n=i.find("."+t.klass.viewset);n.length&&(i[0].scrollTop=~~n.position().top-2*n[0].clientHeight)}).on("open",function(){e.$root.find("button").attr("disable",!1)}).on("close",function(){e.$root.find("button").attr("disable",!0)})}var n=24,r=60,o=12,a=n*r,s=e._;i.prototype.set=function(e,t,i){var n=this,r=n.item;return null===t?(r[e]=t,n):(r["enable"==e?"disable":"flip"==e?"enable":e]=n.queue[e].split(" ").map(function(r){return t=n[r](e,t,i)}).pop(),"select"==e?n.set("highlight",r.select,i):"highlight"==e?n.set("view",r.highlight,i):"interval"==e?n.set("min",r.min,i).set("max",r.max,i):e.match(/^(flip|min|max|disable|enable)$/)&&("min"==e&&n.set("max",r.max,i),r.select&&n.disabled(r.select)&&n.set("select",r.select,i),r.highlight&&n.disabled(r.highlight)&&n.set("highlight",r.highlight,i)),n)},i.prototype.get=function(e){return this.item[e]},i.prototype.create=function(e,i,o){var l=this;return i=void 0===i?e:i,s.isDate(i)&&(i=[i.getHours(),i.getMinutes()]),t.isObject(i)&&s.isInteger(i.pick)?i=i.pick:t.isArray(i)?i=+i[0]*r+ +i[1]:s.isInteger(i)||(i=l.now(e,i,o)),"max"==e&&i<l.item.min.pick&&(i+=a),"min"!=e&&"max"!=e&&(i-l.item.min.pick)%l.item.interval!==0&&(i+=l.item.interval),i=l.normalize(e,i,o),{hour:~~(n+i/r)%n,mins:(r+i%r)%r,time:(a+i)%a,pick:i}},i.prototype.createRange=function(e,i){var n=this,r=function(e){return e===!0||t.isArray(e)||s.isDate(e)?n.create(e):e};return s.isInteger(e)||(e=r(e)),s.isInteger(i)||(i=r(i)),s.isInteger(e)&&t.isObject(i)?e=[i.hour,i.mins+e*n.settings.interval]:s.isInteger(i)&&t.isObject(e)&&(i=[e.hour,e.mins+i*n.settings.interval]),{from:r(e),to:r(i)}},i.prototype.withinRange=function(e,t){return e=this.createRange(e.from,e.to),t.pick>=e.from.pick&&t.pick<=e.to.pick},i.prototype.overlapRanges=function(e,t){var i=this;return e=i.createRange(e.from,e.to),t=i.createRange(t.from,t.to),i.withinRange(e,t.from)||i.withinRange(e,t.to)||i.withinRange(t,e.from)||i.withinRange(t,e.to)},i.prototype.now=function(e,t){var i,n=this.item.interval,o=new Date,a=o.getHours()*r+o.getMinutes(),l=s.isInteger(t);return a-=a%n,i=0>t&&-n>=n*t+a,a+="min"==e&&i?0:n,l&&(a+=n*(i&&"max"!=e?t+1:t)),a},i.prototype.normalize=function(e,t){var i=this.item.interval,n=this.item.min&&this.item.min.pick||0;return t-="min"==e?0:(t-n)%i},i.prototype.measure=function(e,i,o){var a=this;return i?i===!0||s.isInteger(i)?i=a.now(e,i,o):t.isObject(i)&&s.isInteger(i.pick)&&(i=a.normalize(e,i.pick,o)):i="min"==e?[0,0]:[n-1,r-1],i},i.prototype.validate=function(e,t,i){var n=this,r=i&&i.interval?i.interval:n.item.interval;return n.disabled(t)&&(t=n.shift(t,r)),t=n.scope(t),n.disabled(t)&&(t=n.shift(t,-1*r)),t},i.prototype.disabled=function(e){var i=this,n=i.item.disable.filter(function(n){return s.isInteger(n)?e.hour==n:t.isArray(n)||s.isDate(n)?e.pick==i.create(n).pick:t.isObject(n)?i.withinRange(n,e):void 0});return n=n.length&&!n.filter(function(e){return t.isArray(e)&&"inverted"==e[2]||t.isObject(e)&&e.inverted}).length,-1===i.item.enable?!n:n||e.pick<i.item.min.pick||e.pick>i.item.max.pick},i.prototype.shift=function(e,t){var i=this,n=i.item.min.pick,r=i.item.max.pick;for(t=t||i.item.interval;i.disabled(e)&&(e=i.create(e.pick+=t),!(e.pick<=n||e.pick>=r)););return e},i.prototype.scope=function(e){var t=this.item.min.pick,i=this.item.max.pick;return this.create(e.pick>i?i:e.pick<t?t:e)},i.prototype.parse=function(e,i,n){var o,a,l,c,u,d=this,h={};if(!i||s.isInteger(i)||t.isArray(i)||s.isDate(i)||t.isObject(i)&&s.isInteger(i.pick))return i;n&&n.format||(n=n||{},n.format=d.settings.format),d.formats.toArray(n.format).map(function(e){var t,n=d.formats[e],r=n?s.trigger(n,d,[i,h]):e.replace(/^!/,"").length;n&&(t=i.substr(0,r),h[e]=t.match(/^\d+$/)?+t:t),i=i.substr(r)});for(c in h)u=h[c],s.isInteger(u)?c.match(/^(h|hh)$/i)?(o=u,("h"==c||"hh"==c)&&(o%=12)):"i"==c&&(a=u):c.match(/^a$/i)&&u.match(/^p/i)&&("h"in h||"hh"in h)&&(l=!0);return(l?o+12:o)*r+a},i.prototype.formats={h:function(e,t){return e?s.digits(e):t.hour%o||o},hh:function(e,t){return e?2:s.lead(t.hour%o||o)},H:function(e,t){return e?s.digits(e):""+t.hour%24},HH:function(e,t){return e?s.digits(e):s.lead(t.hour%24)},i:function(e,t){return e?2:s.lead(t.mins)},a:function(e,t){return e?4:a/2>t.time%a?"a.m.":"p.m."},A:function(e,t){return e?2:a/2>t.time%a?"AM":"PM"},toArray:function(e){return e.split(/(h{1,2}|H{1,2}|i|a|A|!.)/g)},toString:function(e,t){var i=this;return i.formats.toArray(e).map(function(e){return s.trigger(i.formats[e],i,[0,t])||e.replace(/^!/,"")}).join("")}},i.prototype.isTimeExact=function(e,i){var n=this;return s.isInteger(e)&&s.isInteger(i)||"boolean"==typeof e&&"boolean"==typeof i?e===i:(s.isDate(e)||t.isArray(e))&&(s.isDate(i)||t.isArray(i))?n.create(e).pick===n.create(i).pick:!(!t.isObject(e)||!t.isObject(i))&&(n.isTimeExact(e.from,i.from)&&n.isTimeExact(e.to,i.to))},i.prototype.isTimeOverlap=function(e,i){var n=this;return s.isInteger(e)&&(s.isDate(i)||t.isArray(i))?e===n.create(i).hour:s.isInteger(i)&&(s.isDate(e)||t.isArray(e))?i===n.create(e).hour:!(!t.isObject(e)||!t.isObject(i))&&n.overlapRanges(e,i)},i.prototype.flipEnable=function(e){var t=this.item;t.enable=e||(-1==t.enable?1:-1)},i.prototype.deactivate=function(e,i){var n=this,r=n.item.disable.slice(0);return"flip"==i?n.flipEnable():i===!1?(n.flipEnable(1),r=[]):i===!0?(n.flipEnable(-1),r=[]):i.map(function(e){for(var i,o=0;o<r.length;o+=1)if(n.isTimeExact(e,r[o])){i=!0;break}i||(s.isInteger(e)||s.isDate(e)||t.isArray(e)||t.isObject(e)&&e.from&&e.to)&&r.push(e)}),r},i.prototype.activate=function(e,i){var n=this,r=n.item.disable,o=r.length;return"flip"==i?n.flipEnable():i===!0?(n.flipEnable(1),r=[]):i===!1?(n.flipEnable(-1),r=[]):i.map(function(e){var i,a,l,c;for(l=0;o>l;l+=1){if(a=r[l],n.isTimeExact(a,e)){i=r[l]=null,c=!0;break}if(n.isTimeOverlap(a,e)){t.isObject(e)?(e.inverted=!0,i=e):t.isArray(e)?(i=e,i[2]||i.push("inverted")):s.isDate(e)&&(i=[e.getFullYear(),e.getMonth(),e.getDate(),"inverted"]);break}}if(i)for(l=0;o>l;l+=1)if(n.isTimeExact(r[l],e)){r[l]=null;break}if(c)for(l=0;o>l;l+=1)if(n.isTimeOverlap(r[l],e)){r[l]=null;break}i&&r.push(i)}),r.filter(function(e){return null!=e})},i.prototype.i=function(e,t){return s.isInteger(t)&&t>0?t:this.item.interval},i.prototype.nodes=function(e){var t=this,i=t.settings,n=t.item.select,r=t.item.highlight,o=t.item.view,a=t.item.disable;return s.node("ul",s.group({min:t.item.min.pick,max:t.item.max.pick,i:t.item.interval,node:"li",item:function(e){e=t.create(e);var l=e.pick,c=n&&n.pick==l,u=r&&r.pick==l,d=a&&t.disabled(e);return[s.trigger(t.formats.toString,t,[s.trigger(i.formatLabel,t,[e])||i.format,e]),function(e){return c&&e.push(i.klass.selected),u&&e.push(i.klass.highlighted),o&&o.pick==l&&e.push(i.klass.viewset),d&&e.push(i.klass.disabled),e.join(" ")}([i.klass.listItem]),"data-pick="+e.pick+" "+s.ariaAttr({role:"button",controls:t.$node[0].id,checked:!(!c||t.$node.val()!==s.trigger(t.formats.toString,t,[i.format,e]))||null,activedescendant:!!u||null,disabled:!!d||null})]}})+s.node("li",s.node("button",i.clear,i.klass.buttonClear,"type=button data-clear=1"+(e?"":" disable"))),i.klass.list)},i.defaults=function(e){return{clear:"Clear",format:"h:i A",interval:30,klass:{picker:e+" "+e+"--time",holder:e+"__holder",list:e+"__list",listItem:e+"__list-item",disabled:e+"__list-item--disabled",selected:e+"__list-item--selected",highlighted:e+"__list-item--highlighted",viewset:e+"__list-item--viewset",now:e+"__list-item--now",buttonClear:e+"__button--clear"}}}(e.klasses().picker),e.extend("pickatime",i)}),[].map||(Array.prototype.map=function(e,t){for(var i=this,n=i.length,r=new Array(n),o=0;n>o;o++)o in i&&(r[o]=e.call(t,i[o],o,i));return r}),[].filter||(Array.prototype.filter=function(e){if(null==this)throw new TypeError;var t=Object(this),i=t.length>>>0;if("function"!=typeof e)throw new TypeError;for(var n=[],r=arguments[1],o=0;i>o;o++)if(o in t){var a=t[o];e.call(r,a,o,t)&&n.push(a)}return n}),[].indexOf||(Array.prototype.indexOf=function(e){if(null==this)throw new TypeError;var t=Object(this),i=t.length>>>0;if(0===i)return-1;var n=0;if(arguments.length>1&&(n=Number(arguments[1]),n!=n?n=0:0!==n&&1/0!=n&&n!=-1/0&&(n=(n>0||-1)*Math.floor(Math.abs(n)))),n>=i)return-1;for(var r=n>=0?n:Math.max(i-Math.abs(n),0);i>r;r++)if(r in t&&t[r]===e)return r;return-1});var nativeSplit=String.prototype.split,compliantExecNpcg=void 0===/()??/.exec("")[1];String.prototype.split=function(e,t){var i=this;if("[object RegExp]"!==Object.prototype.toString.call(e))return nativeSplit.call(i,e,t);var n,r,o,a,s=[],l=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.extended?"x":"")+(e.sticky?"y":""),c=0;for(e=new RegExp(e.source,l+"g"),i+="",compliantExecNpcg||(n=new RegExp("^"+e.source+"$(?!\\s)",l)),t=void 0===t?-1>>>0:t>>>0;(r=e.exec(i))&&(o=r.index+r[0].length,!(o>c&&(s.push(i.slice(c,r.index)),!compliantExecNpcg&&r.length>1&&r[0].replace(n,function(){for(var e=1;e<arguments.length-2;e++)void 0===arguments[e]&&(r[e]=void 0)}),r.length>1&&r.index<i.length&&Array.prototype.push.apply(s,r.slice(1)),a=r[0].length,c=o,s.length>=t)));)e.lastIndex===r.index&&e.lastIndex++;return c===i.length?(a||!e.test(""))&&s.push(""):s.push(i.slice(c)),s.length>t?s.slice(0,t):s},angular.module("angular-datepicker",[]).directive("pickADate",function(){return{restrict:"A",scope:{pickADate:"=",pickADateOptions:"="},link:function(e,t){function i(i){if("function"==typeof o&&o.apply(this,arguments),!e.$$phase&&!e.$root.$$phase){var n=t.pickadate("picker").get("select");e.$apply(function(){return i.hasOwnProperty("clear")?void(e.pickADate=null):(e.pickADate&&"string"!=typeof e.pickADate||(e.pickADate=new Date(0)),e.pickADate.setYear(n.obj.getYear()+1900),e.pickADate.setMonth(n.obj.getMonth()),void e.pickADate.setDate(n.obj.getDate()))})}}function n(){if("function"==typeof a&&a.apply(this,arguments),"undefined"!=typeof cordova&&cordova.plugins&&cordova.plugins.Keyboard){var e=function(){cordova.plugins.Keyboard.close(),window.removeEventListener("native.keyboardshow",this)};window.addEventListener("native.keyboardshow",e),setTimeout(function(){window.removeEventListener("native.keyboardshow",e)},500)}}var r=e.pickADateOptions||{},o=r.onSet,a=r.onClose;t.pickadate(angular.extend(r,{onSet:i,onClose:n,container:document.body})),setTimeout(function(){e.pickADate&&t.pickadate("picker").set("select",e.pickADate)},1e3)}}}).directive("pickATime",function(){return{restrict:"A",scope:{pickATime:"=",pickATimeOptions:"="},link:function(e,t){function i(i){if("function"==typeof o&&o.apply(this,arguments),!e.$$phase&&!e.$root.$$phase){var n=t.pickatime("picker").get("select");e.$apply(function(){return i.hasOwnProperty("clear")?void(e.pickATime=null):(e.pickATime&&"string"!=typeof e.pickATime||(e.pickATime=new Date),e.pickATime.setHours(n.hour),e.pickATime.setMinutes(n.mins),e.pickATime.setSeconds(0),void e.pickATime.setMilliseconds(0))})}}function n(){if("function"==typeof a&&a.apply(this,arguments),"undefined"!=typeof cordova&&cordova.plugins&&cordova.plugins.Keyboard){var e=function(){cordova.plugins.Keyboard.close(),window.removeEventListener("native.keyboardshow",this)};window.addEventListener("native.keyboardshow",e),setTimeout(function(){window.removeEventListener("native.keyboardshow",e)},500)}}var r=e.pickATimeOptions||{},o=r.onSet,a=r.onClose;t.pickatime(angular.extend(r,{onSet:i,onClose:n,container:document.body})),setTimeout(function(){e.pickATime&&t.pickatime("picker").set("select",e.pickATime)},1e3)}}}),function(){function e(){var e,t,i=arguments,n={},r=function(e,t){var i,n;"object"!=typeof e&&(e={});for(n in t)t.hasOwnProperty(n)&&(i=t[n],e[n]=i&&"object"==typeof i&&"[object Array]"!==Object.prototype.toString.call(i)&&"renderTo"!==n&&"number"!=typeof i.nodeType?r(e[n]||{},i):t[n]);return e};for(i[0]===!0&&(n=i[1],i=Array.prototype.slice.call(i,2)),t=i.length,e=0;e<t;e++)n=r(n,i[e]);return n}function t(e,t){return parseInt(e,t||10)}function i(e){return"string"==typeof e}function n(e){return e&&"object"==typeof e}function r(e){return"[object Array]"===Object.prototype.toString.call(e)}function o(e){return"number"==typeof e}function a(e){return se.log(e)/se.LN10}function s(e){return se.pow(10,e)}function l(e,t){for(var i=e.length;i--;)if(e[i]===t){e.splice(i,1);break}}function c(e){return e!==S&&null!==e}function u(e,t,r){var o,a;if(i(t))c(r)?e.setAttribute(t,r):e&&e.getAttribute&&(a=e.getAttribute(t));else if(c(t)&&n(t))for(o in t)e.setAttribute(o,t[o]);return a}function d(e){return r(e)?e:[e]}function h(e,t){_e&&!ke&&t&&t.opacity!==S&&(t.filter="alpha(opacity="+100*t.opacity+")"),Fe(e.style,t)}function p(e,t,i,n,r){return e=oe.createElement(e),t&&Fe(e,t),r&&h(e,{padding:0,border:Ie,margin:0}),i&&h(e,i),n&&n.appendChild(e),e}function f(e,t){var i=function(){return S};return i.prototype=new e,Fe(i.prototype,t),i}function m(e,t){return Array((t||2)+1-String(e).length).join(0)+e}function g(e){return 6e4*(G&&G(e)||B||0)}function v(e,t){for(var i,n,r,o,a,s="{",l=!1,c=[];(s=e.indexOf(s))!==-1;){if(i=e.slice(0,s),l){for(n=i.split(":"),r=n.shift().split("."),a=r.length,i=t,o=0;o<a;o++)i=i[r[o]];n.length&&(n=n.join(":"),r=/\.([0-9])/,o=O.lang,a=void 0,/f$/.test(n)?(a=(a=n.match(r))?a[1]:-1,null!==i&&(i=re.numberFormat(i,a,o.decimalPoint,n.indexOf(",")>-1?o.thousandsSep:""))):i=R(n,i))}c.push(i),e=e.slice(s+1),s=(l=!l)?"}":"{"}return c.push(e),c.join("")}function y(e){return se.pow(10,ce(se.log(e)/se.LN10))}function b(e,t,i,n,r){var o,a=e,i=Ue(i,1);for(o=e/i,t||(t=[1,2,2.5,5,10],n===!1&&(1===i?t=[1,2,5,10]:i<=.1&&(t=[1/i]))),n=0;n<t.length&&(a=t[n],!(r&&a*i>=e||!r&&o<=(t[n]+(t[n+1]||t[n]))/2));n++);return a*=i}function _(e,t){var i,n,r=e.length;for(n=0;n<r;n++)e[n].ss_i=n;for(e.sort(function(e,n){return i=t(e,n),0===i?e.ss_i-n.ss_i:i}),n=0;n<r;n++)delete e[n].ss_i}function w(e){for(var t=e.length,i=e[0];t--;)e[t]<i&&(i=e[t]);return i}function x(e){for(var t=e.length,i=e[0];t--;)e[t]>i&&(i=e[t]);return i}function E(e,t){for(var i in e)e[i]&&e[i]!==t&&e[i].destroy&&e[i].destroy(),delete e[i]}function A(e){I||(I=p(Ne)),e&&I.appendChild(e),I.innerHTML=""}function C(e,t){var i="Highcharts error #"+e+": www.highcharts.com/errors/"+e;if(t)throw i;ae.console&&console.log(i)}function k(e){return parseFloat(e.toPrecision(14))}function $(e,t){j=Ue(e,t.animation)}function T(){var e=O.global,t=e.useUTC,i=t?"getUTC":"get",n=t?"setUTC":"set";U=e.Date||window.Date,B=t&&e.timezoneOffset,G=t&&e.getTimezoneOffset,z=function(e,i,n,r,o,a){var s;return t?(s=U.UTC.apply(0,arguments),s+=g(s)):s=new U(e,i,Ue(n,1),Ue(r,0),Ue(o,0),Ue(a,0)).getTime(),s},W=i+"Minutes",q=i+"Hours",V=i+"Day",Y=i+"Date",J=i+"Month",Z=i+"FullYear",X=n+"Milliseconds",K=n+"Seconds",Q=n+"Minutes",ee=n+"Hours",te=n+"Date",ie=n+"Month",ne=n+"FullYear"}function L(){}function D(e,t,i,n){this.axis=e,this.pos=t,this.type=i||"",this.isNew=!0,!i&&!n&&this.addLabel()}function M(e,t,i,n,r){var o=e.chart.inverted;this.axis=e,this.isNegative=i,this.options=t,this.x=n,this.total=null,this.points={},this.stack=r,this.alignOptions={align:t.align||(o?i?"left":"right":"center"),verticalAlign:t.verticalAlign||(o?"middle":i?"bottom":"top"),y:Ue(t.y,o?4:i?14:-6),x:Ue(t.x,o?i?-6:6:0)},this.textAlign=t.textAlign||(o?i?"right":"left":"center")}var S,P,N,I,O,R,j,H,F,U,z,B,G,W,q,V,Y,J,Z,X,K,Q,ee,te,ie,ne,re,oe=document,ae=window,se=Math,le=se.round,ce=se.floor,ue=se.ceil,de=se.max,he=se.min,pe=se.abs,fe=se.cos,me=se.sin,ge=se.PI,ve=2*ge/360,ye=navigator.userAgent,be=ae.opera,_e=/(msie|trident)/i.test(ye)&&!be,we=8===oe.documentMode,xe=/AppleWebKit/.test(ye),Ee=/Firefox/.test(ye),Ae=/(Mobile|Android|Windows Phone)/.test(ye),Ce="http://www.w3.org/2000/svg",ke=!!oe.createElementNS&&!!oe.createElementNS(Ce,"svg").createSVGRect,$e=Ee&&parseInt(ye.split("Firefox/")[1],10)<4,Te=!ke&&!_e&&!!oe.createElement("canvas").getContext,Le={},De=0,Me=function(){return S},Se=[],Pe=0,Ne="div",Ie="none",Oe=/^[0-9]+$/,Re=["plotTop","marginRight","marginBottom","plotLeft"],je="stroke-width",He={};re=ae.Highcharts=ae.Highcharts?C(16,!0):{},re.seriesTypes=He;var Fe=re.extend=function(e,t){var i;e||(e={});for(i in t)e[i]=t[i];return e},Ue=re.pick=function(){var e,t,i=arguments,n=i.length;for(e=0;e<n;e++)if(t=i[e],t!==S&&null!==t)return t},ze=re.wrap=function(e,t,i){var n=e[t];e[t]=function(){var e=Array.prototype.slice.call(arguments);return e.unshift(n),i.apply(this,e)}};R=function(e,t,i){if(!c(t)||isNaN(t))return"Invalid date";var n,e=Ue(e,"%Y-%m-%d %H:%M:%S"),r=new U(t-g(t)),o=r[q](),a=r[V](),s=r[Y](),l=r[J](),u=r[Z](),d=O.lang,h=d.weekdays,r=Fe({a:h[a].substr(0,3),A:h[a],d:m(s),e:s,w:a,b:d.shortMonths[l],B:d.months[l],m:m(l+1),y:u.toString().substr(2,2),Y:u,H:m(o),I:m(o%12||12),l:o%12||12,M:m(r[W]()),p:o<12?"AM":"PM",P:o<12?"am":"pm",S:m(r.getSeconds()),L:m(le(t%1e3),3)},re.dateFormats);for(n in r)for(;e.indexOf("%"+n)!==-1;)e=e.replace("%"+n,"function"==typeof r[n]?r[n](t):r[n]);return i?e.substr(0,1).toUpperCase()+e.substr(1):e},F={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},re.numberFormat=function(e,i,n,r){var o=O.lang,e=+e||0,a=i===-1?he((e.toString().split(".")[1]||"").length,20):isNaN(i=pe(i))?2:i,i=void 0===n?o.decimalPoint:n,r=void 0===r?o.thousandsSep:r,o=e<0?"-":"",n=String(t(e=pe(e).toFixed(a))),s=n.length>3?n.length%3:0;return o+(s?n.substr(0,s)+r:"")+n.substr(s).replace(/(\d{3})(?=\d)/g,"$1"+r)+(a?i+pe(e-n).toFixed(a).slice(2):"")},H={init:function(e,t,i){var n,r,o,t=t||"",a=e.shift,s=t.indexOf("C")>-1,l=s?7:3,t=t.split(" "),i=[].concat(i),c=function(e){for(n=e.length;n--;)"M"===e[n]&&e.splice(n+1,0,e[n+1],e[n+2],e[n+1],e[n+2])};if(s&&(c(t),c(i)),e.isArea&&(r=t.splice(t.length-6,6),o=i.splice(i.length-6,6)),a<=i.length/l&&t.length===i.length)for(;a--;)i=[].concat(i).splice(0,l).concat(i);if(e.shift=0,t.length)for(e=i.length;t.length<e;)a=[].concat(t).splice(t.length-l,l),s&&(a[l-6]=a[l-2],a[l-5]=a[l-1]),t=t.concat(a);return r&&(t=t.concat(r),i=i.concat(o)),[t,i]},step:function(e,t,i,n){var r=[],o=e.length;if(1===i)r=n;else if(o===t.length&&i<1)for(;o--;)n=parseFloat(e[o]),r[o]=isNaN(n)?e[o]:i*parseFloat(t[o]-n)+n;else r=t;return r}},function(e){ae.HighchartsAdapter=ae.HighchartsAdapter||e&&{init:function(t){var n=e.fx;e.extend(e.easing,{easeOutQuad:function(e,t,i,n,r){return-n*(t/=r)*(t-2)+i}}),e.each(["cur","_default","width","height","opacity"],function(t,i){var r,o=n.step;"cur"===i?o=n.prototype:"_default"===i&&e.Tween&&(o=e.Tween.propHooks[i],i="set"),(r=o[i])&&(o[i]=function(e){var n,e=t?e:this;if("align"!==e.prop)return n=e.elem,n.attr?n.attr(e.prop,"cur"===i?S:e.now):r.apply(this,arguments)})}),ze(e.cssHooks.opacity,"get",function(e,t,i){return t.attr?t.opacity||0:e.call(this,t,i)}),this.addAnimSetter("d",function(e){var i,n=e.elem;e.started||(i=t.init(n,n.d,n.toD),e.start=i[0],e.end=i[1],e.started=!0),n.attr("d",t.step(e.start,e.end,e.pos,n.toD))}),this.each=Array.prototype.forEach?function(e,t){return Array.prototype.forEach.call(e,t)}:function(e,t){var i,n=e.length;for(i=0;i<n;i++)if(t.call(e[i],e[i],i,e)===!1)return i},e.fn.highcharts=function(){var e,t,n="Chart",r=arguments;return this[0]&&(i(r[0])&&(n=r[0],r=Array.prototype.slice.call(r,1)),e=r[0],e!==S&&(e.chart=e.chart||{},e.chart.renderTo=this[0],new re[n](e,r[1]),t=this),e===S&&(t=Se[u(this[0],"data-highcharts-chart")])),t}},addAnimSetter:function(t,i){e.Tween?e.Tween.propHooks[t]={set:i}:e.fx.step[t]=i},getScript:e.getScript,inArray:e.inArray,adapterRun:function(t,i){return e(t)[i]()},grep:e.grep,map:function(e,t){for(var i=[],n=0,r=e.length;n<r;n++)i[n]=t.call(e[n],e[n],n,e);return i},offset:function(t){return e(t).offset()},addEvent:function(t,i,n){e(t).bind(i,n)},removeEvent:function(t,i,n){var r=oe.removeEventListener?"removeEventListener":"detachEvent";oe[r]&&t&&!t[r]&&(t[r]=function(){}),e(t).unbind(i,n)},fireEvent:function(t,i,n,r){var o,a=e.Event(i),s="detached"+i;!_e&&n&&(delete n.layerX,delete n.layerY,delete n.returnValue),Fe(a,n),t[i]&&(t[s]=t[i],t[i]=null),e.each(["preventDefault","stopPropagation"],function(e,t){var i=a[t];a[t]=function(){try{i.call(a)}catch(e){"preventDefault"===t&&(o=!0)}}}),e(t).trigger(a),t[s]&&(t[i]=t[s],t[s]=null),r&&!a.isDefaultPrevented()&&!o&&r(a)},washMouseEvent:function(e){var t=e.originalEvent||e;return t.pageX===S&&(t.pageX=e.pageX,t.pageY=e.pageY),t},animate:function(t,i,n){var r=e(t);t.style||(t.style={}),i.d&&(t.toD=i.d,i.d=1),r.stop(),i.opacity!==S&&t.attr&&(i.opacity+="px"),t.hasAnim=1,r.animate(i,n)},stop:function(t){t.hasAnim&&e(t).stop()}}}(ae.jQuery);var Be=ae.HighchartsAdapter,Ge=Be||{};Be&&Be.init.call(Be,H);var We=Ge.adapterRun,qe=Ge.getScript,Ve=Ge.inArray,Ye=re.each=Ge.each,Je=Ge.grep,Ze=Ge.offset,Xe=Ge.map,Ke=Ge.addEvent,Qe=Ge.removeEvent,et=Ge.fireEvent,tt=Ge.washMouseEvent,it=Ge.animate,nt=Ge.stop;O={colors:"#7cb5ec,#434348,#90ed7d,#f7a35c,#8085e9,#f15c80,#e4d354,#2b908f,#f45b5b,#91e8e1".split(","),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),shortMonths:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),decimalPoint:".",numericSymbols:"k,M,G,T,P,E".split(","),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/4.1.7/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/4.1.7/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",margin:15,style:{color:"#333333",fontSize:"18px"}},subtitle:{text:"",align:"center",style:{color:"#555555"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:{lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0,lineWidthPlus:1,radiusPlus:2},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){return null===this.y?"":re.numberFormat(this.y,-1)},style:{color:"contrast",fontSize:"11px",fontWeight:"bold",textShadow:"0 0 6px contrast, 0 0 3px contrast"},verticalAlign:"bottom",x:0,y:0,padding:5},cropThreshold:300,pointRange:0,states:{hover:{lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1e3}},labels:{style:{position:"absolute",color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#909090",borderRadius:0,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:ke,backgroundColor:"rgba(249, 249, 249, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,snap:Ae?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}};var rt=O.plotOptions,Be=rt.line;T();var ot=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,at=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,st=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,lt=function(i){var n,r,a=[];return function(e){e&&e.stops?r=Xe(e.stops,function(e){return lt(e[1])}):(n=ot.exec(e))?a=[t(n[1]),t(n[2]),t(n[3]),parseFloat(n[4],10)]:(n=at.exec(e))?a=[t(n[1],16),t(n[2],16),t(n[3],16),1]:(n=st.exec(e))&&(a=[t(n[1]),t(n[2]),t(n[3]),1])}(i),{get:function(t){var n;return r?(n=e(i),n.stops=[].concat(n.stops),Ye(r,function(e,i){n.stops[i]=[n.stops[i][0],e.get(t)]})):n=a&&!isNaN(a[0])?"rgb"===t?"rgb("+a[0]+","+a[1]+","+a[2]+")":"a"===t?a[3]:"rgba("+a.join(",")+")":i,n},brighten:function(e){if(r)Ye(r,function(t){t.brighten(e)});else if(o(e)&&0!==e){var i;for(i=0;i<3;i++)a[i]+=t(255*e),a[i]<0&&(a[i]=0),a[i]>255&&(a[i]=255)}return this},rgba:a,setOpacity:function(e){return a[3]=e,this},raw:i}};L.prototype={opacity:1,textProps:"fontSize,fontWeight,fontFamily,fontStyle,color,lineHeight,width,textDecoration,textShadow".split(","),init:function(e,t){this.element="span"===t?p(t):oe.createElementNS(Ce,t),this.renderer=e},animate:function(t,i,n){return i=Ue(i,j,!0),nt(this),i?(i=e(i,{}),n&&(i.complete=n),it(this,t,i)):(this.attr(t),n&&n()),this},colorGradient:function(t,i,n){var o,a,s,l,u,d,h,p,f,m,g=this.renderer,v=[];if(t.linearGradient?a="linearGradient":t.radialGradient&&(a="radialGradient"),a){s=t[a],l=g.gradients,d=t.stops,f=n.radialReference,r(s)&&(t[a]=s={x1:s[0],y1:s[1],x2:s[2],y2:s[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===a&&f&&!c(s.gradientUnits)&&(s=e(s,{cx:f[0]-f[2]/2+s.cx*f[2],cy:f[1]-f[2]/2+s.cy*f[2],r:s.r*f[2],gradientUnits:"userSpaceOnUse"}));for(m in s)"id"!==m&&v.push(m,s[m]);for(m in d)v.push(d[m]);v=v.join(","),l[v]?t=l[v].attr("id"):(s.id=t="highcharts-"+De++,l[v]=u=g.createElement(a).attr(s).add(g.defs),u.stops=[],Ye(d,function(e){0===e[1].indexOf("rgba")?(o=lt(e[1]),h=o.get("rgb"),p=o.get("a")):(h=e[1],p=1),e=g.createElement("stop").attr({offset:e[0],"stop-color":h,"stop-opacity":p}).add(u),u.stops.push(e)})),n.setAttribute(i,"url("+g.url+"#"+t+")")}},applyTextShadow:function(e){var i,n=this.element,r=e.indexOf("contrast")!==-1,o={},a=this.renderer.forExport||n.style.textShadow!==S&&!_e;
r&&(o.textShadow=e=e.replace(/contrast/g,this.renderer.getContrast(n.style.fill))),xe&&(o.textRendering="geometricPrecision"),a?h(n,o):(this.fakeTS=!0,this.ySetter=this.xSetter,i=[].slice.call(n.getElementsByTagName("tspan")),Ye(e.split(/\s?,\s?/g),function(e){var r,o,a=n.firstChild,e=e.split(" ");r=e[e.length-1],(o=e[e.length-2])&&Ye(i,function(e,i){var s;0===i&&(e.setAttribute("x",n.getAttribute("x")),i=n.getAttribute("y"),e.setAttribute("y",i||0),null===i&&n.setAttribute("y",0)),s=e.cloneNode(1),u(s,{class:"highcharts-text-shadow",fill:r,stroke:r,"stroke-opacity":1/de(t(o),3),"stroke-width":o,"stroke-linejoin":"round"}),n.insertBefore(s,a)})}))},attr:function(e,t){var i,n,r,o,a=this.element,s=this;if("string"==typeof e&&t!==S&&(i=e,e={},e[i]=t),"string"==typeof e)s=(this[e+"Getter"]||this._defaultGetter).call(this,e,a);else{for(i in e)n=e[i],o=!1,this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(i)&&(r||(this.symbolAttr(e),r=!0),o=!0),!this.rotation||"x"!==i&&"y"!==i||(this.doTransform=!0),o||(this[i+"Setter"]||this._defaultSetter).call(this,n,i,a),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(i)&&this.updateShadows(i,n);this.doTransform&&(this.updateTransform(),this.doTransform=!1)}return s},updateShadows:function(e,t){for(var i=this.shadows,n=i.length;n--;)i[n].setAttribute(e,"height"===e?de(t-(i[n].cutHeight||0),0):"d"===e?this.d:t)},addClass:function(e){var t=this.element,i=u(t,"class")||"";return i.indexOf(e)===-1&&u(t,"class",i+" "+e),this},symbolAttr:function(e){var t=this;Ye("x,y,r,start,end,width,height,innerR,anchorX,anchorY".split(","),function(i){t[i]=Ue(e[i],t[i])}),t.attr({d:t.renderer.symbols[t.symbolName](t.x,t.y,t.width,t.height,t)})},clip:function(e){return this.attr("clip-path",e?"url("+this.renderer.url+"#"+e.id+")":Ie)},crisp:function(e){var t,i,n={},r=e.strokeWidth||this.strokeWidth||0;i=le(r)%2/2,e.x=ce(e.x||this.x||0)+i,e.y=ce(e.y||this.y||0)+i,e.width=ce((e.width||this.width||0)-2*i),e.height=ce((e.height||this.height||0)-2*i),e.strokeWidth=r;for(t in e)this[t]!==e[t]&&(this[t]=n[t]=e[t]);return n},css:function(e){var i,n,r=this.styles,o={},a=this.element,s="";if(i=!r,e&&e.color&&(e.fill=e.color),r)for(n in e)e[n]!==r[n]&&(o[n]=e[n],i=!0);if(i){if(i=this.textWidth=e&&e.width&&"text"===a.nodeName.toLowerCase()&&t(e.width)||this.textWidth,r&&(e=Fe(r,o)),this.styles=e,i&&(Te||!ke&&this.renderer.forExport)&&delete e.width,_e&&!ke)h(this.element,e);else{r=function(e,t){return"-"+t.toLowerCase()};for(n in e)s+=n.replace(/([A-Z])/g,r)+":"+e[n]+";";u(a,"style",s)}i&&this.added&&this.renderer.buildText(this)}return this},on:function(e,t){var i=this,n=i.element;return N&&"click"===e?(n.ontouchstart=function(e){i.touchEventFired=U.now(),e.preventDefault(),t.call(n,e)},n.onclick=function(e){(ye.indexOf("Android")===-1||U.now()-(i.touchEventFired||0)>1100)&&t.call(n,e)}):n["on"+e]=t,this},setRadialReference:function(e){return this.element.radialReference=e,this},translate:function(e,t){return this.attr({translateX:e,translateY:t})},invert:function(){return this.inverted=!0,this.updateTransform(),this},updateTransform:function(){var e=this.translateX||0,t=this.translateY||0,i=this.scaleX,n=this.scaleY,r=this.inverted,o=this.rotation,a=this.element;r&&(e+=this.attr("width"),t+=this.attr("height")),e=["translate("+e+","+t+")"],r?e.push("rotate(90) scale(-1,1)"):o&&e.push("rotate("+o+" "+(a.getAttribute("x")||0)+" "+(a.getAttribute("y")||0)+")"),(c(i)||c(n))&&e.push("scale("+Ue(i,1)+" "+Ue(n,1)+")"),e.length&&a.setAttribute("transform",e.join(" "))},toFront:function(){var e=this.element;return e.parentNode.appendChild(e),this},align:function(e,t,n){var r,o,a,s,c={};return o=this.renderer,a=o.alignedObjects,e?(this.alignOptions=e,this.alignByTranslate=t,(!n||i(n))&&(this.alignTo=r=n||"renderer",l(a,this),a.push(this),n=null)):(e=this.alignOptions,t=this.alignByTranslate,r=this.alignTo),n=Ue(n,o[r],o),r=e.align,o=e.verticalAlign,a=(n.x||0)+(e.x||0),s=(n.y||0)+(e.y||0),"right"!==r&&"center"!==r||(a+=(n.width-(e.width||0))/{right:1,center:2}[r]),c[t?"translateX":"x"]=le(a),"bottom"!==o&&"middle"!==o||(s+=(n.height-(e.height||0))/({bottom:1,middle:2}[o]||1)),c[t?"translateY":"y"]=le(s),this[this.placed?"animate":"attr"](c),this.placed=!0,this.alignAttr=c,this},getBBox:function(e){var t,i,n=this.renderer,r=this.rotation,o=this.element,a=this.styles,s=r*ve;i=this.textStr;var l,c,u,d=o.style;if(i!==S&&(u=["",r||0,a&&a.fontSize,o.style.width].join(","),u=""===i||Oe.test(i)?"num:"+i.toString().length+u:i+u),u&&!e&&(t=n.cache[u]),!t){if(o.namespaceURI===Ce||n.forExport){try{c=this.fakeTS&&function(e){Ye(o.querySelectorAll(".highcharts-text-shadow"),function(t){t.style.display=e})},Ee&&d.textShadow?(l=d.textShadow,d.textShadow=""):c&&c(Ie),t=o.getBBox?Fe({},o.getBBox()):{width:o.offsetWidth,height:o.offsetHeight},l?d.textShadow=l:c&&c("")}catch(e){}(!t||t.width<0)&&(t={width:0,height:0})}else t=this.htmlGetBBox();n.isSVG&&(e=t.width,i=t.height,_e&&a&&"11px"===a.fontSize&&"16.9"===i.toPrecision(3)&&(t.height=i=14),r&&(t.width=pe(i*me(s))+pe(e*fe(s)),t.height=pe(i*fe(s))+pe(e*me(s)))),n.cache[u]=t}return t},show:function(e){return e&&this.element.namespaceURI===Ce?this.element.removeAttribute("visibility"):this.attr({visibility:e?"inherit":"visible"}),this},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(e){var t=this;t.animate({opacity:0},{duration:e||150,complete:function(){t.attr({y:-9999})}})},add:function(e){var t,i=this.renderer,n=this.element;return e&&(this.parentGroup=e),this.parentInverted=e&&e.inverted,void 0!==this.textStr&&i.buildText(this),this.added=!0,(!e||e.handleZ||this.zIndex)&&(t=this.zIndexSetter()),t||(e?e.element:i.box).appendChild(n),this.onAdd&&this.onAdd(),this},safeRemoveChild:function(e){var t=e.parentNode;t&&t.removeChild(e)},destroy:function(){var e,t,i=this,n=i.element||{},r=i.shadows,o=i.renderer.isSVG&&"SPAN"===n.nodeName&&i.parentGroup;if(n.onclick=n.onmouseout=n.onmouseover=n.onmousemove=n.point=null,nt(i),i.clipPath&&(i.clipPath=i.clipPath.destroy()),i.stops){for(t=0;t<i.stops.length;t++)i.stops[t]=i.stops[t].destroy();i.stops=null}for(i.safeRemoveChild(n),r&&Ye(r,function(e){i.safeRemoveChild(e)});o&&o.div&&0===o.div.childNodes.length;)n=o.parentGroup,i.safeRemoveChild(o.div),delete o.div,o=n;i.alignTo&&l(i.renderer.alignedObjects,i);for(e in i)delete i[e];return null},shadow:function(e,t,i){var n,r,o,a,s,l,c=[],d=this.element;if(e){for(a=Ue(e.width,3),s=(e.opacity||.15)/a,l=this.parentInverted?"(-1,-1)":"("+Ue(e.offsetX,1)+", "+Ue(e.offsetY,1)+")",n=1;n<=a;n++)r=d.cloneNode(0),o=2*a+1-2*n,u(r,{isShadow:"true",stroke:e.color||"black","stroke-opacity":s*n,"stroke-width":o,transform:"translate"+l,fill:Ie}),i&&(u(r,"height",de(u(r,"height")-o,0)),r.cutHeight=o),t?t.element.appendChild(r):d.parentNode.insertBefore(r,d),c.push(r);this.shadows=c}return this},xGetter:function(e){return"circle"===this.element.nodeName&&(e={x:"cx",y:"cy"}[e]||e),this._defaultGetter(e)},_defaultGetter:function(e){return e=Ue(this[e],this.element?this.element.getAttribute(e):null,0),/^[\-0-9\.]+$/.test(e)&&(e=parseFloat(e)),e},dSetter:function(e,t,i){e&&e.join&&(e=e.join(" ")),/(NaN| {2}|^$)/.test(e)&&(e="M 0 0"),i.setAttribute(t,e),this[t]=e},dashstyleSetter:function(e){var i;if(e=e&&e.toLowerCase()){for(e=e.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),i=e.length;i--;)e[i]=t(e[i])*this["stroke-width"];e=e.join(",").replace("NaN","none"),this.element.setAttribute("stroke-dasharray",e)}},alignSetter:function(e){this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[e])},opacitySetter:function(e,t,i){this[t]=e,i.setAttribute(t,e)},titleSetter:function(e){var t=this.element.getElementsByTagName("title")[0];t||(t=oe.createElementNS(Ce,"title"),this.element.appendChild(t)),t.appendChild(oe.createTextNode(String(Ue(e),"").replace(/<[^>]*>/g,"")))},textSetter:function(e){e!==this.textStr&&(delete this.bBox,this.textStr=e,this.added&&this.renderer.buildText(this))},fillSetter:function(e,t,i){"string"==typeof e?i.setAttribute(t,e):e&&this.colorGradient(e,t,i)},zIndexSetter:function(e,i){var n,r,o,a=this.renderer,s=this.parentGroup,a=(s||a).element||a.box,l=this.element;n=this.added;var d;if(c(e)&&(l.setAttribute(i,e),e=+e,this[i]===e&&(n=!1),this[i]=e),n){for((e=this.zIndex)&&s&&(s.handleZ=!0),s=a.childNodes,d=0;d<s.length&&!o;d++)n=s[d],r=u(n,"zIndex"),n!==l&&(t(r)>e||!c(e)&&c(r))&&(a.insertBefore(l,n),o=!0);o||a.appendChild(l)}return o},_defaultSetter:function(e,t,i){i.setAttribute(t,e)}},L.prototype.yGetter=L.prototype.xGetter,L.prototype.translateXSetter=L.prototype.translateYSetter=L.prototype.rotationSetter=L.prototype.verticalAlignSetter=L.prototype.scaleXSetter=L.prototype.scaleYSetter=function(e,t){this[t]=e,this.doTransform=!0},L.prototype["stroke-widthSetter"]=L.prototype.strokeSetter=function(e,t,i){this[t]=e,this.stroke&&this["stroke-width"]?(this.strokeWidth=this["stroke-width"],L.prototype.fillSetter.call(this,this.stroke,"stroke",i),i.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===t&&0===e&&this.hasStroke&&(i.removeAttribute("stroke"),this.hasStroke=!1)};var ct=function(){this.init.apply(this,arguments)};if(ct.prototype={Element:L,init:function(e,t,i,n,r){var o,a=location,n=this.createElement("svg").attr({version:"1.1"}).css(this.getStyle(n));o=n.element,e.appendChild(o),e.innerHTML.indexOf("xmlns")===-1&&u(o,"xmlns",Ce),this.isSVG=!0,this.box=o,this.boxWrapper=n,this.alignedObjects=[],this.url=(Ee||xe)&&oe.getElementsByTagName("base").length?a.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",this.createElement("desc").add().element.appendChild(oe.createTextNode("Created with Highcharts 4.1.7")),this.defs=this.createElement("defs").add(),this.forExport=r,this.gradients={},this.cache={},this.setSize(t,i,!1);var s;Ee&&e.getBoundingClientRect&&(this.subPixelFix=t=function(){h(e,{left:0,top:0}),s=e.getBoundingClientRect(),h(e,{left:ue(s.left)-s.left+"px",top:ue(s.top)-s.top+"px"})},t(),Ke(ae,"resize",t))},getStyle:function(e){return this.style=Fe({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},e)},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var e=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),E(this.gradients||{}),this.gradients=null,e&&(this.defs=e.destroy()),this.subPixelFix&&Qe(ae,"resize",this.subPixelFix),this.alignedObjects=null},createElement:function(e){var t=new this.Element;return t.init(this,e),t},draw:function(){},buildText:function(e){for(var i,n,r=e.element,o=this,a=o.forExport,s=Ue(e.textStr,"").toString(),l=s.indexOf("<")!==-1,c=r.childNodes,d=u(r,"x"),p=e.styles,f=e.textWidth,m=p&&p.lineHeight,g=p&&p.textShadow,v=p&&"ellipsis"===p.textOverflow,y=c.length,b=f&&!e.added&&this.box,_=function(e){return m?t(m):o.fontMetrics(/(px|em)$/.test(e&&e.style.fontSize)?e.style.fontSize:p&&p.fontSize||o.style.fontSize||12,e).h},w=function(e){return e.replace(/&lt;/g,"<").replace(/&gt;/g,">")};y--;)r.removeChild(c[y]);l||g||v||s.indexOf(" ")!==-1?(i=/<.*style="([^"]+)".*>/,n=/<.*href="(http[^"]+)".*>/,b&&b.appendChild(r),s=l?s.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[s],""===s[s.length-1]&&s.pop(),Ye(s,function(t,s){var l,c=0,t=t.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||");l=t.split("|||"),Ye(l,function(t){if(""!==t||1===l.length){var m,g={},y=oe.createElementNS(Ce,"tspan");if(i.test(t)&&(m=t.match(i)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),u(y,"style",m)),n.test(t)&&!a&&(u(y,"onclick",'location.href="'+t.match(n)[1]+'"'),h(y,{cursor:"pointer"})),t=w(t.replace(/<(.|\n)*?>/g,"")||" ")," "!==t){if(y.appendChild(oe.createTextNode(t)),c?g.dx=0:s&&null!==d&&(g.x=d),u(y,g),r.appendChild(y),!c&&s&&(!ke&&a&&h(y,{display:"block"}),u(y,"dy",_(y))),f){for(var b,x,E,g=t.replace(/([^\^])-/g,"$1- ").split(" "),A=l.length>1||s||g.length>1&&"nowrap"!==p.whiteSpace,C=[],k=_(y),$=1,T=e.rotation,L=t,D=L.length;(A||v)&&(g.length||C.length);)e.rotation=0,b=e.getBBox(!0),E=b.width,!ke&&o.forExport&&(E=o.measureSpanWidth(y.firstChild.data,e.styles)),b=E>f,void 0===x&&(x=b),v&&x?(D/=2,""===L||!b&&D<.5?g=[]:(b&&(x=!0),L=t.substring(0,L.length+(b?-1:1)*ue(D)),g=[L+(f>3?"…":"")],y.removeChild(y.firstChild))):b&&1!==g.length?(y.removeChild(y.firstChild),C.unshift(g.pop())):(g=C,C=[],g.length&&($++,y=oe.createElementNS(Ce,"tspan"),u(y,{dy:k,x:d}),m&&u(y,"style",m),r.appendChild(y)),E>f&&(f=E)),g.length&&y.appendChild(oe.createTextNode(g.join(" ").replace(/- /g,"-")));x&&e.attr("title",e.textStr),e.rotation=T}c++}}})}),b&&b.removeChild(r),g&&e.applyTextShadow&&e.applyTextShadow(g)):r.appendChild(oe.createTextNode(w(s)))},getContrast:function(e){return e=lt(e).rgba,e[0]+e[1]+e[2]>384?"#000000":"#FFFFFF"},button:function(t,i,n,r,o,a,s,l,c){var u,d,h,p,f,m,g=this.label(t,i,n,c,null,null,null,null,"button"),v=0,t={x1:0,y1:0,x2:0,y2:1},o=e({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:t,stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},o);return h=o.style,delete o.style,a=e(o,{stroke:"#68A",fill:{linearGradient:t,stops:[[0,"#FFF"],[1,"#ACF"]]}},a),p=a.style,delete a.style,s=e(o,{stroke:"#68A",fill:{linearGradient:t,stops:[[0,"#9BD"],[1,"#CDF"]]}},s),f=s.style,delete s.style,l=e(o,{style:{color:"#CCC"}},l),m=l.style,delete l.style,Ke(g.element,_e?"mouseover":"mouseenter",function(){3!==v&&g.attr(a).css(p)}),Ke(g.element,_e?"mouseout":"mouseleave",function(){3!==v&&(u=[o,a,s][v],d=[h,p,f][v],g.attr(u).css(d))}),g.setState=function(e){(g.state=v=e)?2===e?g.attr(s).css(f):3===e&&g.attr(l).css(m):g.attr(o).css(h)},g.on("click",function(){3!==v&&r.call(g)}).attr(o).css(Fe({cursor:"default"},h))},crispLine:function(e,t){return e[1]===e[4]&&(e[1]=e[4]=le(e[1])-t%2/2),e[2]===e[5]&&(e[2]=e[5]=le(e[2])+t%2/2),e},path:function(e){var t={fill:Ie};return r(e)?t.d=e:n(e)&&Fe(t,e),this.createElement("path").attr(t)},circle:function(e,t,i){return e=n(e)?e:{x:e,y:t,r:i},t=this.createElement("circle"),t.xSetter=function(e){this.element.setAttribute("cx",e)},t.ySetter=function(e){this.element.setAttribute("cy",e)},t.attr(e)},arc:function(e,t,i,r,o,a){return n(e)&&(t=e.y,i=e.r,r=e.innerR,o=e.start,a=e.end,e=e.x),e=this.symbol("arc",e||0,t||0,i||0,i||0,{innerR:r||0,start:o||0,end:a||0}),e.r=i,e},rect:function(e,t,i,r,o,a){var o=n(e)?e.r:o,s=this.createElement("rect"),e=n(e)?e:e===S?{}:{x:e,y:t,width:de(i,0),height:de(r,0)};return a!==S&&(e.strokeWidth=a,e=s.crisp(e)),o&&(e.r=o),s.rSetter=function(e){u(this.element,{rx:e,ry:e})},s.attr(e)},setSize:function(e,t,i){var n=this.alignedObjects,r=n.length;for(this.width=e,this.height=t,this.boxWrapper[Ue(i,!0)?"animate":"attr"]({width:e,height:t});r--;)n[r].align()},g:function(e){var t=this.createElement("g");return c(e)?t.attr({class:"highcharts-"+e}):t},image:function(e,t,i,n,r){var o={preserveAspectRatio:Ie};return arguments.length>1&&Fe(o,{x:t,y:i,width:n,height:r}),o=this.createElement("image").attr(o),o.element.setAttributeNS?o.element.setAttributeNS("http://www.w3.org/1999/xlink","href",e):o.element.setAttribute("hc-svg-href",e),o},symbol:function(e,t,i,n,r,o){var a,s,l,c=this.symbols[e],c=c&&c(le(t),le(i),n,r,o),u=/^url\((.*?)\)$/;return c?(a=this.path(c),Fe(a,{symbolName:e,x:t,y:i,width:n,height:r}),o&&Fe(a,o)):u.test(e)&&(l=function(e,t){e.element&&(e.attr({width:t[0],height:t[1]}),e.alignByTranslate||e.translate(le((n-t[0])/2),le((r-t[1])/2)))},s=e.match(u)[1],e=Le[s]||o&&o.width&&o.height&&[o.width,o.height],a=this.image(s).attr({x:t,y:i}),a.isImg=!0,e?l(a,e):(a.attr({width:0,height:0}),p("img",{onload:function(){l(a,Le[s]=[this.width,this.height])},src:s}))),a},symbols:{circle:function(e,t,i,n){var r=.166*i;return["M",e+i/2,t,"C",e+i+r,t,e+i+r,t+n,e+i/2,t+n,"C",e-r,t+n,e-r,t,e+i/2,t,"Z"]},square:function(e,t,i,n){return["M",e,t,"L",e+i,t,e+i,t+n,e,t+n,"Z"]},triangle:function(e,t,i,n){return["M",e+i/2,t,"L",e+i,t+n,e,t+n,"Z"]},"triangle-down":function(e,t,i,n){return["M",e,t,"L",e+i,t,e+i/2,t+n,"Z"]},diamond:function(e,t,i,n){return["M",e+i/2,t,"L",e+i,t+n/2,e+i/2,t+n,e,t+n/2,"Z"]},arc:function(e,t,i,n,r){var o=r.start,i=r.r||i||n,a=r.end-.001,n=r.innerR,s=r.open,l=fe(o),c=me(o),u=fe(a),a=me(a),r=r.end-o<ge?0:1;return["M",e+i*l,t+i*c,"A",i,i,0,r,1,e+i*u,t+i*a,s?"M":"L",e+n*u,t+n*a,"A",n,n,0,r,0,e+n*l,t+n*c,s?"":"Z"]},callout:function(e,t,i,n,r){var o,a=he(r&&r.r||0,i,n),s=a+6,l=r&&r.anchorX,r=r&&r.anchorY;return o=["M",e+a,t,"L",e+i-a,t,"C",e+i,t,e+i,t,e+i,t+a,"L",e+i,t+n-a,"C",e+i,t+n,e+i,t+n,e+i-a,t+n,"L",e+a,t+n,"C",e,t+n,e,t+n,e,t+n-a,"L",e,t+a,"C",e,t,e,t,e+a,t],l&&l>i&&r>t+s&&r<t+n-s?o.splice(13,3,"L",e+i,r-6,e+i+6,r,e+i,r+6,e+i,t+n-a):l&&l<0&&r>t+s&&r<t+n-s?o.splice(33,3,"L",e,r+6,e-6,r,e,r-6,e,t+a):r&&r>n&&l>e+s&&l<e+i-s?o.splice(23,3,"L",l+6,t+n,l,t+n+6,l-6,t+n,e+a,t+n):r&&r<0&&l>e+s&&l<e+i-s&&o.splice(3,3,"L",l-6,t,l,t-6,l+6,t,i-a,t),o}},clipRect:function(e,t,i,n){var r="highcharts-"+De++,o=this.createElement("clipPath").attr({id:r}).add(this.defs),e=this.rect(e,t,i,n,0).add(o);return e.id=r,e.clipPath=o,e.count=0,e},text:function(e,t,i,n){var r=Te||!ke&&this.forExport,o={};return n&&!this.forExport?this.html(e,t,i):(o.x=Math.round(t||0),i&&(o.y=Math.round(i)),(e||0===e)&&(o.text=e),e=this.createElement("text").attr(o),r&&e.css({position:"absolute"}),n||(e.xSetter=function(e,t,i){var n,r,o=i.getElementsByTagName("tspan"),a=i.getAttribute(t);for(r=0;r<o.length;r++)n=o[r],n.getAttribute(t)===a&&n.setAttribute(t,e);i.setAttribute(t,e)}),e)},fontMetrics:function(e,i){var n,r,e=e||this.style.fontSize;return i&&ae.getComputedStyle&&(i=i.element||i,e=(n=ae.getComputedStyle(i,""))&&n.fontSize),e=/px/.test(e)?t(e):/em/.test(e)?12*parseFloat(e):12,n=e<24?e+3:le(1.2*e),r=le(.8*n),{h:n,b:r,f:e}},rotCorr:function(e,t,i){var n=e;return t&&i&&(n=de(n*fe(t*ve),4)),{x:-e/3*me(t*ve),y:n}},label:function(t,i,n,r,o,a,s,l,u){function d(){var e,t;e=A.element.style,m=(void 0===g||void 0===v||E.styles.textAlign)&&c(A.textStr)&&A.getBBox(),E.width=(g||m.width||0)+2*k+$,E.height=(v||m.height||0)+2*k,_=k+x.fontMetrics(e&&e.fontSize,A).b,w&&(f||(e=le(-C*k)+T,t=(l?-_:0)+T,E.box=f=r?x.symbol(r,e,t,E.width,E.height,D):x.rect(e,t,E.width,E.height,0,D[je]),f.attr("fill",Ie).add(E)),f.isImg||f.attr(Fe({width:le(E.width),height:le(E.height)},D)),D=null)}function h(){var e,t=E.styles,t=t&&t.textAlign,i=$+k*(1-C);e=l?0:_,c(g)&&m&&("center"===t||"right"===t)&&(i+={center:.5,right:1}[t]*(g-m.width)),i===A.x&&e===A.y||(A.attr("x",i),e!==S&&A.attr("y",e)),A.x=i,A.y=e}function p(e,t){f?f.attr(e,t):D[e]=t}var f,m,g,v,y,b,_,w,x=this,E=x.g(u),A=x.text("",0,0,s).attr({zIndex:1}),C=0,k=3,$=0,T=0,D={};E.onAdd=function(){A.add(E),E.attr({text:t||0===t?t:"",x:i,y:n}),f&&c(o)&&E.attr({anchorX:o,anchorY:a})},E.widthSetter=function(e){g=e},E.heightSetter=function(e){v=e},E.paddingSetter=function(e){c(e)&&e!==k&&(k=E.padding=e,h())},E.paddingLeftSetter=function(e){c(e)&&e!==$&&($=e,h())},E.alignSetter=function(e){C={left:0,center:.5,right:1}[e]},E.textSetter=function(e){e!==S&&A.textSetter(e),d(),h()},E["stroke-widthSetter"]=function(e,t){e&&(w=!0),T=e%2/2,p(t,e)},E.strokeSetter=E.fillSetter=E.rSetter=function(e,t){"fill"===t&&e&&(w=!0),p(t,e)},E.anchorXSetter=function(e,t){o=e,p(t,le(e)-T-y)},E.anchorYSetter=function(e,t){a=e,p(t,e-b)},E.xSetter=function(e){E.x=e,C&&(e-=C*((g||m.width)+k)),y=le(e),E.attr("translateX",y)},E.ySetter=function(e){b=E.y=le(e),E.attr("translateY",b)};var M=E.css;return Fe(E,{css:function(t){if(t){var i={},t=e(t);Ye(E.textProps,function(e){t[e]!==S&&(i[e]=t[e],delete t[e])}),A.css(i)}return M.call(E,t)},getBBox:function(){return{width:m.width+2*k,height:m.height+2*k,x:m.x-k,y:m.y-k}},shadow:function(e){return f&&f.shadow(e),E},destroy:function(){Qe(E.element,"mouseenter"),Qe(E.element,"mouseleave"),A&&(A=A.destroy()),f&&(f=f.destroy()),L.prototype.destroy.call(E),E=x=d=h=p=null}})}},P=ct,Fe(L.prototype,{htmlCss:function(e){var t=this.element;return(t=e&&"SPAN"===t.tagName&&e.width)&&(delete e.width,this.textWidth=t,this.updateTransform()),e&&"ellipsis"===e.textOverflow&&(e.whiteSpace="nowrap",e.overflow="hidden"),this.styles=Fe(this.styles,e),h(this.element,e),this},htmlGetBBox:function(){var e=this.element;return"text"===e.nodeName&&(e.style.position="absolute"),{x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}},htmlUpdateTransform:function(){if(this.added){var e=this.renderer,i=this.element,n=this.translateX||0,r=this.translateY||0,o=this.x||0,a=this.y||0,s=this.textAlign||"left",l={left:0,center:.5,right:1}[s],u=this.shadows,d=this.styles;if(h(i,{marginLeft:n,marginTop:r}),u&&Ye(u,function(e){h(e,{marginLeft:n+1,marginTop:r+1})}),this.inverted&&Ye(i.childNodes,function(t){e.invertChild(t,i)}),"SPAN"===i.tagName){var p,f=this.rotation,m=t(this.textWidth),g=[f,s,i.innerHTML,this.textWidth].join(",");g!==this.cTT&&(p=e.fontMetrics(i.style.fontSize).b,c(f)&&this.setSpanRotation(f,l,p),u=Ue(this.elemWidth,i.offsetWidth),u>m&&/[ \-]/.test(i.textContent||i.innerText)&&(h(i,{width:m+"px",display:"block",whiteSpace:d&&d.whiteSpace||"normal"}),u=m),this.getSpanCorrection(u,p,l,f,s)),h(i,{left:o+(this.xCorr||0)+"px",top:a+(this.yCorr||0)+"px"}),xe&&(p=i.offsetHeight),this.cTT=g}}else this.alignOnAdd=!0},setSpanRotation:function(e,t,i){var n={},r=_e?"-ms-transform":xe?"-webkit-transform":Ee?"MozTransform":be?"-o-transform":"";n[r]=n.transform="rotate("+e+"deg)",n[r+(Ee?"Origin":"-origin")]=n.transformOrigin=100*t+"% "+i+"px",h(this.element,n)},getSpanCorrection:function(e,t,i){this.xCorr=-e*i,this.yCorr=-t}}),Fe(ct.prototype,{html:function(e,t,i){var n=this.createElement("span"),r=n.element,o=n.renderer;return n.textSetter=function(e){e!==r.innerHTML&&delete this.bBox,r.innerHTML=this.textStr=e},n.xSetter=n.ySetter=n.alignSetter=n.rotationSetter=function(e,t){"align"===t&&(t="textAlign"),n[t]=e,n.htmlUpdateTransform()},n.attr({text:e,x:le(t),y:le(i)}).css({position:"absolute",fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),r.style.whiteSpace="nowrap",n.css=n.htmlCss,o.isSVG&&(n.add=function(e){var t,i=o.box.parentNode,a=[];if(this.parentGroup=e){if(t=e.div,!t){for(;e;)a.push(e),e=e.parentGroup;Ye(a.reverse(),function(e){var n,r=u(e.element,"class");r&&(r={className:r}),t=e.div=e.div||p(Ne,r,{position:"absolute",left:(e.translateX||0)+"px",top:(e.translateY||0)+"px"},t||i),n=t.style,Fe(e,{translateXSetter:function(t,i){n.left=t+"px",e[i]=t,e.doTransform=!0},translateYSetter:function(t,i){n.top=t+"px",e[i]=t,e.doTransform=!0},visibilitySetter:function(e,t){n[t]=e}})})}}else t=i;return t.appendChild(r),n.added=!0,n.alignOnAdd&&n.htmlUpdateTransform(),n}),n}}),!ke&&!Te){Ge={init:function(e,t){var i=["<",t,' filled="f" stroked="f"'],n=["position: ","absolute",";"],r=t===Ne;("shape"===t||r)&&n.push("left:0;top:0;width:1px;height:1px;"),n.push("visibility: ",r?"hidden":"visible"),i.push(' style="',n.join(""),'"/>'),t&&(i=r||"span"===t||"img"===t?i.join(""):e.prepVML(i),this.element=p(i)),this.renderer=e},add:function(e){var t=this.renderer,i=this.element,n=t.box,n=e?e.element||e:n;return e&&e.inverted&&t.invertChild(i,n),n.appendChild(i),this.added=!0,this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform(),this.onAdd&&this.onAdd(),this},updateTransform:L.prototype.htmlUpdateTransform,setSpanRotation:function(){var e=this.rotation,t=fe(e*ve),i=me(e*ve);h(this.element,{filter:e?["progid:DXImageTransform.Microsoft.Matrix(M11=",t,", M12=",-i,", M21=",i,", M22=",t,", sizingMethod='auto expand')"].join(""):Ie})},getSpanCorrection:function(e,t,i,n,r){var o,a=n?fe(n*ve):1,s=n?me(n*ve):0,l=Ue(this.elemHeight,this.element.offsetHeight);this.xCorr=a<0&&-e,this.yCorr=s<0&&-l,o=a*s<0,this.xCorr+=s*t*(o?1-i:i),this.yCorr-=a*t*(n?o?i:1-i:1),r&&"left"!==r&&(this.xCorr-=e*i*(a<0?-1:1),n&&(this.yCorr-=l*i*(s<0?-1:1)),h(this.element,{textAlign:r}))},pathToVML:function(e){for(var t=e.length,i=[];t--;)o(e[t])?i[t]=le(10*e[t])-5:"Z"===e[t]?i[t]="x":(i[t]=e[t],!e.isArc||"wa"!==e[t]&&"at"!==e[t]||(i[t+5]===i[t+7]&&(i[t+7]+=e[t+7]>e[t+5]?1:-1),i[t+6]===i[t+8]&&(i[t+8]+=e[t+8]>e[t+6]?1:-1)));return i.join(" ")||"x"},clip:function(e){var t,i=this;return e?(t=e.members,l(t,i),t.push(i),i.destroyClip=function(){l(t,i)},e=e.getCSS(i)):(i.destroyClip&&i.destroyClip(),e={clip:we?"inherit":"rect(auto)"}),i.css(e)},css:L.prototype.htmlCss,safeRemoveChild:function(e){e.parentNode&&A(e)},destroy:function(){return this.destroyClip&&this.destroyClip(),L.prototype.destroy.apply(this)},on:function(e,t){return this.element["on"+e]=function(){var e=ae.event;e.target=e.srcElement,t(e)},this},cutOffPath:function(e,i){var n,e=e.split(/[ ,]/);return n=e.length,9!==n&&11!==n||(e[n-4]=e[n-2]=t(e[n-2])-10*i),e.join(" ")},shadow:function(e,i,n){var r,o,a,s,l,c,u,d=[],h=this.element,f=this.renderer,m=h.style,g=h.path;if(g&&"string"!=typeof g.value&&(g="x"),l=g,e){for(c=Ue(e.width,3),u=(e.opacity||.15)/c,r=1;r<=3;r++)s=2*c+1-2*r,n&&(l=this.cutOffPath(g.value,s+.5)),a=['<shape isShadow="true" strokeweight="',s,'" filled="false" path="',l,'" coordsize="10 10" style="',h.style.cssText,'" />'],o=p(f.prepVML(a),null,{left:t(m.left)+Ue(e.offsetX,1),top:t(m.top)+Ue(e.offsetY,1)}),n&&(o.cutOff=s+1),a=['<stroke color="',e.color||"black",'" opacity="',u*r,'"/>'],p(f.prepVML(a),null,null,o),i?i.element.appendChild(o):h.parentNode.insertBefore(o,h),d.push(o);this.shadows=d}return this},updateShadows:Me,setAttr:function(e,t){we?this.element[e]=t:this.element.setAttribute(e,t)},classSetter:function(e){this.element.className=e},dashstyleSetter:function(e,t,i){(i.getElementsByTagName("stroke")[0]||p(this.renderer.prepVML(["<stroke/>"]),null,null,i))[t]=e||"solid",this[t]=e},dSetter:function(e,t,i){var n=this.shadows,e=e||[];if(this.d=e.join&&e.join(" "),i.path=e=this.pathToVML(e),n)for(i=n.length;i--;)n[i].path=n[i].cutOff?this.cutOffPath(e,n[i].cutOff):e;this.setAttr(t,e)},fillSetter:function(e,t,i){var n=i.nodeName;"SPAN"===n?i.style.color=e:"IMG"!==n&&(i.filled=e!==Ie,this.setAttr("fillcolor",this.renderer.color(e,i,t,this)))},opacitySetter:Me,rotationSetter:function(e,t,i){i=i.style,this[t]=i[t]=e,i.left=-le(me(e*ve)+1)+"px",i.top=le(fe(e*ve))+"px"},strokeSetter:function(e,t,i){this.setAttr("strokecolor",this.renderer.color(e,i,t))},"stroke-widthSetter":function(e,t,i){i.stroked=!!e,this[t]=e,o(e)&&(e+="px"),this.setAttr("strokeweight",e)},titleSetter:function(e,t){this.setAttr(t,e)},visibilitySetter:function(e,t,i){"inherit"===e&&(e="visible"),this.shadows&&Ye(this.shadows,function(i){i.style[t]=e}),"DIV"===i.nodeName&&(e="hidden"===e?"-999em":0,we||(i.style[t]=e?"visible":"hidden"),t="top"),i.style[t]=e},xSetter:function(e,t,i){this[t]=e,"x"===t?t="left":"y"===t&&(t="top"),this.updateClipping?(this[t]=e,this.updateClipping()):i.style[t]=e},zIndexSetter:function(e,t,i){i.style[t]=e}},re.VMLElement=Ge=f(L,Ge),Ge.prototype.ySetter=Ge.prototype.widthSetter=Ge.prototype.heightSetter=Ge.prototype.xSetter;var ut={Element:Ge,isIE8:ye.indexOf("MSIE 8.0")>-1,init:function(e,t,i,n){var r;if(this.alignedObjects=[],n=this.createElement(Ne).css(Fe(this.getStyle(n),{position:"relative"})),r=n.element,e.appendChild(n.element),this.isVML=!0,this.box=r,this.boxWrapper=n,this.cache={},this.setSize(t,i,!1),!oe.namespaces.hcv){oe.namespaces.add("hcv","urn:schemas-microsoft-com:vml");try{oe.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}catch(e){oe.styleSheets[0].cssText+="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(e,t,i,r){var o=this.createElement(),a=n(e);return Fe(o,{members:[],count:0,left:(a?e.x:e)+1,top:(a?e.y:t)+1,width:(a?e.width:i)-1,height:(a?e.height:r)-1,getCSS:function(e){var t=e.element,i=t.nodeName,e=e.inverted,n=this.top-("shape"===i?t.offsetTop:0),r=this.left,t=r+this.width,o=n+this.height,n={clip:"rect("+le(e?r:n)+"px,"+le(e?o:t)+"px,"+le(e?t:o)+"px,"+le(e?n:r)+"px)"};return!e&&we&&"DIV"===i&&Fe(n,{width:t+"px",height:o+"px"}),n},updateClipping:function(){Ye(o.members,function(e){e.element&&e.css(o.getCSS(e))})}})},color:function(e,t,i,n){var r,o,a,s=this,l=/^rgba/,c=Ie;if(e&&e.linearGradient?a="gradient":e&&e.radialGradient&&(a="pattern"),a){var u,d,h,f,m,g,v,y,b=e.linearGradient||e.radialGradient,_="",e=e.stops,w=[],x=function(){o=['<fill colors="'+w.join(",")+'" opacity="',m,'" o:opacity2="',f,'" type="',a,'" ',_,'focus="100%" method="any" />'],p(s.prepVML(o),null,null,t)};if(h=e[0],y=e[e.length-1],h[0]>0&&e.unshift([0,h[1]]),y[0]<1&&e.push([1,y[1]]),Ye(e,function(e,t){l.test(e[1])?(r=lt(e[1]),u=r.get("rgb"),d=r.get("a")):(u=e[1],d=1),w.push(100*e[0]+"% "+u),t?(m=d,g=u):(f=d,v=u)}),"fill"===i)if("gradient"===a)i=b.x1||b[0]||0,e=b.y1||b[1]||0,h=b.x2||b[2]||0,b=b.y2||b[3]||0,_='angle="'+(90-180*se.atan((b-e)/(h-i))/ge)+'"',x();else{var E,c=b.r,A=2*c,C=2*c,k=b.cx,$=b.cy,T=t.radialReference,c=function(){T&&(E=n.getBBox(),k+=(T[0]-E.x)/E.width-.5,$+=(T[1]-E.y)/E.height-.5,A*=T[2]/E.width,C*=T[2]/E.height),_='src="'+O.global.VMLRadialGradientURL+'" size="'+A+","+C+'" origin="0.5,0.5" position="'+k+","+$+'" color2="'+v+'" ',x()};n.added?c():n.onAdd=c,c=g}else c=u}else l.test(e)&&"IMG"!==t.tagName?(r=lt(e),o=["<",i,' opacity="',r.get("a"),'"/>'],p(this.prepVML(o),null,null,t),c=r.get("rgb")):(c=t.getElementsByTagName(i),c.length&&(c[0].opacity=1,c[0].type="solid"),c=e);return c},prepVML:function(e){var t=this.isIE8,e=e.join("");return t?(e=e.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),e=e.indexOf('style="')===-1?e.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):e.replace('style="','style="display:inline-block;behavior:url(#default#VML);')):e=e.replace("<","<hcv:"),e},text:ct.prototype.html,path:function(e){var t={coordsize:"10 10"};return r(e)?t.d=e:n(e)&&Fe(t,e),this.createElement("shape").attr(t)},circle:function(e,t,i){var r=this.symbol("circle");return n(e)&&(i=e.r,t=e.y,e=e.x),r.isCircle=!0,r.r=i,r.attr({x:e,y:t})},g:function(e){var t;return e&&(t={className:"highcharts-"+e,class:"highcharts-"+e}),this.createElement(Ne).attr(t)},image:function(e,t,i,n,r){var o=this.createElement("img").attr({src:e});return arguments.length>1&&o.attr({x:t,y:i,width:n,height:r}),o},createElement:function(e){return"rect"===e?this.symbol(e):ct.prototype.createElement.call(this,e)},invertChild:function(e,i){var n=this,r=i.style,o="IMG"===e.tagName&&e.style;h(e,{flip:"x",left:t(r.width)-(o?t(o.top):1),top:t(r.height)-(o?t(o.left):1),rotation:-90}),Ye(e.childNodes,function(t){n.invertChild(t,e)})},symbols:{arc:function(e,t,i,n,r){var o=r.start,a=r.end,s=r.r||i||n,i=r.innerR,n=fe(o),l=me(o),c=fe(a),u=me(a);return a-o===0?["x"]:(o=["wa",e-s,t-s,e+s,t+s,e+s*n,t+s*l,e+s*c,t+s*u],r.open&&!i&&o.push("e","M",e,t),o.push("at",e-i,t-i,e+i,t+i,e+i*c,t+i*u,e+i*n,t+i*l,"x","e"),o.isArc=!0,o)},circle:function(e,t,i,n,r){return r&&(i=n=2*r.r),r&&r.isCircle&&(e-=i/2,t-=n/2),["wa",e,t,e+i,t+n,e+i,t+n/2,e+i,t+n/2,"e"]},rect:function(e,t,i,n,r){return ct.prototype.symbols[c(r)&&r.r?"callout":"square"].call(0,e,t,i,n,r)}}};re.VMLRenderer=Ge=function(){this.init.apply(this,arguments)},Ge.prototype=e(ct.prototype,ut),P=Ge}ct.prototype.measureSpanWidth=function(e,t){var i,n=oe.createElement("span");return i=oe.createTextNode(e),n.appendChild(i),h(n,t),this.box.appendChild(n),i=n.offsetWidth,A(n),i};var dt;Te&&(re.CanVGRenderer=Ge=function(){Ce="http://www.w3.org/1999/xhtml"},Ge.prototype.symbols={},dt=function(){function e(){var e,i=t.length;for(e=0;e<i;e++)t[e]();t=[]}var t=[];return{push:function(i,n){0===t.length&&qe(n,e),
t.push(i)}}}(),P=Ge),D.prototype={addLabel:function(){var t,i=this.axis,n=i.options,r=i.chart,o=i.categories,a=i.names,l=this.pos,u=n.labels,d=i.tickPositions,h=l===d[0],p=l===d[d.length-1],a=o?Ue(o[l],a[l],l):l,o=this.label,d=d.info;i.isDatetimeAxis&&d&&(t=n.dateTimeLabelFormats[d.higherRanks[l]||d.unitName]),this.isFirst=h,this.isLast=p,n=i.labelFormatter.call({axis:i,chart:r,isFirst:h,isLast:p,dateTimeLabelFormat:t,value:i.isLog?k(s(a)):a}),c(o)?o&&o.attr({text:n}):(this.labelLength=(this.label=o=c(n)&&u.enabled?r.renderer.text(n,0,0,u.useHTML).css(e(u.style)).add(i.labelGroup):null)&&o.getBBox().width,this.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(e){var t,i=this.axis,n=e.x,r=i.chart.chartWidth,o=i.chart.spacing,a=Ue(i.labelLeft,he(i.pos,o[3])),o=Ue(i.labelRight,de(i.pos+i.len,r-o[1])),s=this.label,l=this.rotation,c={left:0,center:.5,right:1}[i.labelAlign],u=s.getBBox().width,d=i.slotWidth,h=1,p={};l?l<0&&n-c*u<a?t=le(n/fe(l*ve)-a):l>0&&n+c*u>o&&(t=le((r-n)/fe(l*ve))):(r=n+(1-c)*u,n-c*u<a?d=e.x+d*(1-c)-a:r>o&&(d=o-e.x+d*c,h=-1),d=he(i.slotWidth,d),d<i.slotWidth&&"center"===i.labelAlign&&(e.x+=h*(i.slotWidth-d-c*(i.slotWidth-he(u,d)))),(u>d||i.autoRotation&&s.styles.width)&&(t=d)),t&&(p.width=t,i.options.labels.style.textOverflow||(p.textOverflow="ellipsis"),s.css(p))},getPosition:function(e,t,i,n){var r=this.axis,o=r.chart,a=n&&o.oldChartHeight||o.chartHeight;return{x:e?r.translate(t+i,null,null,n)+r.transB:r.left+r.offset+(r.opposite?(n&&o.oldChartWidth||o.chartWidth)-r.right-r.left:0),y:e?a-r.bottom+r.offset-(r.opposite?r.height:0):a-r.translate(t+i,null,null,n)-r.transB}},getLabelPosition:function(e,t,i,n,r,o,a,s){var l=this.axis,c=l.transA,u=l.reversed,d=l.staggerLines,h=l.tickRotCorr||{x:0,y:0},i=Ue(r.y,h.y+(2===l.side?8:-(i.getBBox().height/2))),e=e+r.x+h.x-(o&&n?o*c*(u?-1:1):0),t=t+i-(o&&!n?o*c*(u?1:-1):0);return d&&(t+=a/(s||1)%d*(l.labelOffset/d)),{x:e,y:le(t)}},getMarkPath:function(e,t,i,n,r,o){return o.crispLine(["M",e,t,"L",e+(r?0:-i),t+(r?i:0)],n)},render:function(e,t,i){var n=this.axis,r=n.options,o=n.chart.renderer,a=n.horiz,s=this.type,l=this.label,c=this.pos,u=r.labels,d=this.gridLine,h=s?s+"Grid":"grid",p=s?s+"Tick":"tick",f=r[h+"LineWidth"],m=r[h+"LineColor"],g=r[h+"LineDashStyle"],v=r[p+"Length"],h=r[p+"Width"]||0,y=r[p+"Color"],b=r[p+"Position"],p=this.mark,_=u.step,w=!0,x=n.tickmarkOffset,E=this.getPosition(a,c,x,t),A=E.x,E=E.y,C=a&&A===n.pos+n.len||!a&&E===n.pos?-1:1,i=Ue(i,1);this.isActive=!0,f&&(c=n.getPlotLinePath(c+x,f*C,t,!0),d===S&&(d={stroke:m,"stroke-width":f},g&&(d.dashstyle=g),s||(d.zIndex=1),t&&(d.opacity=0),this.gridLine=d=f?o.path(c).attr(d).add(n.gridGroup):null),!t&&d&&c&&d[this.isNew?"attr":"animate"]({d:c,opacity:i})),h&&v&&("inside"===b&&(v=-v),n.opposite&&(v=-v),s=this.getMarkPath(A,E,v,h*C,a,o),p?p.animate({d:s,opacity:i}):this.mark=o.path(s).attr({stroke:y,"stroke-width":h,opacity:i}).add(n.axisGroup)),l&&!isNaN(A)&&(l.xy=E=this.getLabelPosition(A,E,l,a,u,x,e,_),this.isFirst&&!this.isLast&&!Ue(r.showFirstLabel,1)||this.isLast&&!this.isFirst&&!Ue(r.showLastLabel,1)?w=!1:a&&!n.isRadial&&!u.step&&!u.rotation&&!t&&0!==i&&this.handleOverflow(E),_&&e%_&&(w=!1),w&&!isNaN(E.y)?(E.opacity=i,l[this.isNew?"attr":"animate"](E),this.isNew=!1):l.attr("y",-9999))},destroy:function(){E(this,this.axis)}},re.PlotLineOrBand=function(e,t){this.axis=e,t&&(this.options=t,this.id=t.id)},re.PlotLineOrBand.prototype={render:function(){var t,i=this,n=i.axis,r=n.horiz,o=i.options,s=o.label,l=i.label,u=o.width,d=o.to,h=o.from,p=c(h)&&c(d),f=o.value,m=o.dashStyle,g=i.svgElem,v=[],y=o.color,b=o.zIndex,_=o.events,E={},A=n.chart.renderer;if(n.isLog&&(h=a(h),d=a(d),f=a(f)),u)v=n.getPlotLinePath(f,u),E={stroke:y,"stroke-width":u},m&&(E.dashstyle=m);else{if(!p)return;v=n.getPlotBandPath(h,d,o),y&&(E.fill=y),o.borderWidth&&(E.stroke=o.borderColor,E["stroke-width"]=o.borderWidth)}if(c(b)&&(E.zIndex=b),g)v?g.animate({d:v},null,g.onGetPath):(g.hide(),g.onGetPath=function(){g.show()},l&&(i.label=l=l.destroy()));else if(v&&v.length&&(i.svgElem=g=A.path(v).attr(E).add(),_))for(t in o=function(e){g.on(e,function(t){_[e].apply(i,[t])})},_)o(t);return s&&c(s.text)&&v&&v.length&&n.width>0&&n.height>0?(s=e({align:r&&p&&"center",x:r?!p&&4:10,verticalAlign:!r&&p&&"middle",y:r?p?16:10:p?6:-4,rotation:r&&!p&&90},s),l||(E={align:s.textAlign||s.align,rotation:s.rotation},c(b)&&(E.zIndex=b),i.label=l=A.text(s.text,0,0,s.useHTML).attr(E).css(s.style).add()),n=[v[1],v[4],p?v[6]:v[1]],p=[v[2],v[5],p?v[7]:v[2]],v=w(n),r=w(p),l.align(s,!1,{x:v,y:r,width:x(n)-v,height:x(p)-r}),l.show()):l&&l.hide(),i},destroy:function(){l(this.axis.plotLinesAndBands,this),delete this.axis,E(this)}};var ht=re.Axis=function(){this.init.apply(this,arguments)};ht.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#D8D8D8",labels:{enabled:!0,style:{color:"#606060",cursor:"default",fontSize:"11px"},x:0,y:15},lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#707070"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,tickWidth:0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return re.numberFormat(this.total,-1)},style:e(rt.line.dataLabels.style,{color:"#000000"})}},defaultLeftAxisOptions:{labels:{x:-15,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0,y:null},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0,y:-15},title:{rotation:0}},init:function(e,t){var i=t.isX;this.horiz=e.inverted?!i:i,this.coll=(this.isXAxis=i)?"xAxis":"yAxis",this.opposite=t.opposite,this.side=t.side||(this.horiz?this.opposite?0:2:this.opposite?1:3),this.setOptions(t);var n=this.options,r=n.type;this.labelFormatter=n.labels.formatter||this.defaultLabelFormatter,this.userOptions=t,this.minPixelPadding=0,this.chart=e,this.reversed=n.reversed,this.zoomEnabled=n.zoomEnabled!==!1,this.categories=n.categories||"category"===r,this.names=this.names||[],this.isLog="logarithmic"===r,this.isDatetimeAxis="datetime"===r,this.isLinked=c(n.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=n.minRange||n.maxZoom,this.range=n.range,this.offset=n.offset||0,this.stacks={},this.oldStacks={},this.min=this.max=null,this.crosshair=Ue(n.crosshair,d(e.options.tooltip.crosshairs)[i?0:1],!1);var o,n=this.options.events;Ve(this,e.axes)===-1&&(i&&!this.isColorAxis?e.axes.splice(e.xAxis.length,0,this):e.axes.push(this),e[this.coll].push(this)),this.series=this.series||[],e.inverted&&i&&this.reversed===S&&(this.reversed=!0),this.removePlotLine=this.removePlotBand=this.removePlotBandOrLine;for(o in n)Ke(this,o,n[o]);this.isLog&&(this.val2lin=a,this.lin2val=s)},setOptions:function(t){this.options=e(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],e(O[this.coll],t))},defaultLabelFormatter:function(){var e,t=this.axis,i=this.value,n=t.categories,r=this.dateTimeLabelFormat,o=O.lang.numericSymbols,a=o&&o.length,s=t.options.labels.format,t=t.isLog?i:t.tickInterval;if(s)e=v(s,this);else if(n)e=i;else if(r)e=R(r,i);else if(a&&t>=1e3)for(;a--&&e===S;)n=Math.pow(1e3,a+1),t>=n&&10*i%n===0&&null!==o[a]&&(e=re.numberFormat(i/n,-1)+o[a]);return e===S&&(e=pe(i)>=1e4?re.numberFormat(i,-1):re.numberFormat(i,-1,S,"")),e},getSeriesExtremes:function(){var e=this,t=e.chart;e.hasVisibleSeries=!1,e.dataMin=e.dataMax=e.ignoreMinPadding=e.ignoreMaxPadding=null,e.buildStacks&&e.buildStacks(),Ye(e.series,function(i){if(i.visible||!t.options.chart.ignoreHiddenSeries){var n;n=i.options.threshold;var r;e.hasVisibleSeries=!0,e.isLog&&n<=0&&(n=null),e.isXAxis?(n=i.xData,n.length&&(e.dataMin=he(Ue(e.dataMin,n[0]),w(n)),e.dataMax=de(Ue(e.dataMax,n[0]),x(n)))):(i.getExtremes(),r=i.dataMax,i=i.dataMin,c(i)&&c(r)&&(e.dataMin=he(Ue(e.dataMin,i),i),e.dataMax=de(Ue(e.dataMax,r),r)),c(n)&&(e.dataMin>=n?(e.dataMin=n,e.ignoreMinPadding=!0):e.dataMax<n&&(e.dataMax=n,e.ignoreMaxPadding=!0)))}})},translate:function(e,t,i,n,r,a){var s=this.linkedParent||this,l=1,c=0,u=n?s.oldTransA:s.transA,n=n?s.oldMin:s.min,d=s.minPixelPadding,r=(s.doPostTranslate||s.isLog&&r)&&s.lin2val;return u||(u=s.transA),i&&(l*=-1,c=s.len),s.reversed&&(l*=-1,c-=l*(s.sector||s.len)),t?(e=e*l+c,e-=d,e=e/u+n,r&&(e=s.lin2val(e))):(r&&(e=s.val2lin(e)),"between"===a&&(a=.5),e=l*(e-n)*u+c+l*d+(o(a)?u*a*s.pointRange:0)),e},toPixels:function(e,t){return this.translate(e,!1,!this.horiz,null,!0)+(t?0:this.pos)},toValue:function(e,t){return this.translate(e-(t?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(e,t,i,n,r){var o,a,s,l=this.chart,c=this.left,u=this.top,d=i&&l.oldChartHeight||l.chartHeight,h=i&&l.oldChartWidth||l.chartWidth;o=this.transB;var p=function(e,t,i){return(e<t||e>i)&&(n?e=he(de(t,e),i):s=!0),e},r=Ue(r,this.translate(e,null,null,i)),e=i=le(r+o);return o=a=le(d-r-o),isNaN(r)?s=!0:this.horiz?(o=u,a=d-this.bottom,e=i=p(e,c,c+this.width)):(e=c,i=h-this.right,o=a=p(o,u,u+this.height)),s&&!n?null:l.renderer.crispLine(["M",e,o,"L",i,a],t||1)},getLinearTickPositions:function(e,t,i){var n,r=k(ce(t/e)*e),a=k(ue(i/e)*e),s=[];if(t===i&&o(t))return[t];for(t=r;t<=a&&(s.push(t),t=k(t+e),t!==n);)n=t;return s},getMinorTickPositions:function(){var e,t=this.options,i=this.tickPositions,n=this.minorTickInterval,r=[],o=this.min;e=this.max;var a=e-o;if(a&&a/n<this.len/3)if(this.isLog)for(t=i.length,e=1;e<t;e++)r=r.concat(this.getLogTickPositions(n,i[e-1],i[e],!0));else if(this.isDatetimeAxis&&"auto"===t.minorTickInterval)r=r.concat(this.getTimeTicks(this.normalizeTimeTickInterval(n),o,e,t.startOfWeek));else for(i=o+(i[0]-o)%n;i<=e;i+=n)r.push(i);return this.trimTicks(r),r},adjustForMinRange:function(){var e,t,i,n,r,o,a=this.options,s=this.min,l=this.max,u=this.dataMax-this.dataMin>=this.minRange;if(this.isXAxis&&this.minRange===S&&!this.isLog&&(c(a.min)||c(a.max)?this.minRange=null:(Ye(this.series,function(e){for(r=e.xData,i=o=e.xIncrement?1:r.length-1;i>0;i--)n=r[i]-r[i-1],(t===S||n<t)&&(t=n)}),this.minRange=he(5*t,this.dataMax-this.dataMin))),l-s<this.minRange){var d=this.minRange;e=(d-l+s)/2,e=[s-e,Ue(a.min,s-e)],u&&(e[2]=this.dataMin),s=x(e),l=[s+d,Ue(a.max,s+d)],u&&(l[2]=this.dataMax),l=w(l),l-s<d&&(e[0]=l-d,e[1]=Ue(a.min,l-d),s=x(e))}this.min=s,this.max=l},setAxisTranslation:function(e){var t,n=this,r=n.max-n.min,o=n.axisPointRange||0,a=0,s=0,l=n.linkedParent,u=!!n.categories,d=n.transA,h=n.isXAxis;(h||u||o)&&(l?(a=l.minPointOffset,s=l.pointRangePadding):Ye(n.series,function(e){var l=u?1:h?e.pointRange:n.axisPointRange||0,d=e.options.pointPlacement,p=e.closestPointRange;l>r&&(l=0),o=de(o,l),n.single||(a=de(a,i(d)?0:l/2),s=de(s,"on"===d?0:l)),!e.noSharedTooltip&&c(p)&&(t=c(t)?he(t,p):p)}),l=n.ordinalSlope&&t?n.ordinalSlope/t:1,n.minPointOffset=a*=l,n.pointRangePadding=s*=l,n.pointRange=he(o,r),h&&(n.closestPointRange=t)),e&&(n.oldTransA=d),n.translationSlope=n.transA=d=n.len/(r+s||1),n.transB=n.horiz?n.left:n.bottom,n.minPixelPadding=d*a},setTickInterval:function(e){var t=this,i=t.chart,n=t.options,r=t.isLog,s=t.isDatetimeAxis,l=t.isXAxis,u=t.isLinked,d=n.maxPadding,h=n.minPadding,p=n.tickInterval,f=n.tickPixelInterval,m=t.categories;!s&&!m&&!u&&this.getTickAmount(),u?(t.linkedParent=i[t.coll][n.linkedTo],i=t.linkedParent.getExtremes(),t.min=Ue(i.min,i.dataMin),t.max=Ue(i.max,i.dataMax),n.type!==t.linkedParent.options.type&&C(11,1)):(t.min=Ue(t.userMin,n.min,t.dataMin),t.max=Ue(t.userMax,n.max,t.dataMax)),r&&(!e&&he(t.min,Ue(t.dataMin,t.min))<=0&&C(10,1),t.min=k(a(t.min)),t.max=k(a(t.max))),t.range&&c(t.max)&&(t.userMin=t.min=de(t.min,t.max-t.range),t.userMax=t.max,t.range=null),t.beforePadding&&t.beforePadding(),t.adjustForMinRange(),m||t.axisPointRange||t.usePercentage||u||!c(t.min)||!c(t.max)||!(i=t.max-t.min)||(c(n.min)||c(t.userMin)||!h||!(t.dataMin<0)&&t.ignoreMinPadding||(t.min-=i*h),c(n.max)||c(t.userMax)||!d||!(t.dataMax>0)&&t.ignoreMaxPadding||(t.max+=i*d)),o(n.floor)&&(t.min=de(t.min,n.floor)),o(n.ceiling)&&(t.max=he(t.max,n.ceiling)),t.tickInterval=t.min===t.max||void 0===t.min||void 0===t.max?1:u&&!p&&f===t.linkedParent.options.tickPixelInterval?p=t.linkedParent.tickInterval:Ue(p,this.tickAmount?(t.max-t.min)/de(this.tickAmount-1,1):void 0,m?1:(t.max-t.min)*f/de(t.len,f)),l&&!e&&Ye(t.series,function(e){e.processData(t.min!==t.oldMin||t.max!==t.oldMax)}),t.setAxisTranslation(!0),t.beforeSetTickPositions&&t.beforeSetTickPositions(),t.postProcessTickInterval&&(t.tickInterval=t.postProcessTickInterval(t.tickInterval)),t.pointRange&&(t.tickInterval=de(t.pointRange,t.tickInterval)),e=Ue(n.minTickInterval,t.isDatetimeAxis&&t.closestPointRange),!p&&t.tickInterval<e&&(t.tickInterval=e),s||r||p||(t.tickInterval=b(t.tickInterval,null,y(t.tickInterval),Ue(n.allowDecimals,!(t.tickInterval>.5&&t.tickInterval<5&&t.max>1e3&&t.max<9999)),!!this.tickAmount)),!this.tickAmount&&this.len&&(t.tickInterval=t.unsquish()),this.setTickPositions()},setTickPositions:function(){var e,t,i=this.options,n=i.tickPositions,r=i.tickPositioner,o=i.startOnTick,a=i.endOnTick;this.tickmarkOffset=this.categories&&"between"===i.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===i.minorTickInterval&&this.tickInterval?this.tickInterval/5:i.minorTickInterval,this.tickPositions=e=n&&n.slice(),!e&&(this.tickPositions=e=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,i.units),this.min,this.max,i.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max),r&&(r=r.apply(this,[this.min,this.max])))&&(this.tickPositions=e=r),this.isLinked||(this.trimTicks(e,o,a),this.min===this.max&&c(this.min)&&!this.tickAmount&&(t=!0,this.min-=.5,this.max+=.5),this.single=t,!n&&!r&&this.adjustTickAmount())},trimTicks:function(e,t,i){var n=e[0],r=e[e.length-1],o=this.minPointOffset||0;t?this.min=n:this.min-o>n&&e.shift(),i?this.max=r:this.max+o<r&&e.pop(),0===e.length&&c(n)&&e.push((r+n)/2)},getTickAmount:function(){var e,t={},i=this.options,n=i.tickAmount,r=i.tickPixelInterval;!c(i.tickInterval)&&this.len<r&&!this.isRadial&&!this.isLog&&i.startOnTick&&i.endOnTick&&(n=2),!n&&this.chart.options.chart.alignTicks!==!1&&i.alignTicks!==!1&&(Ye(this.chart[this.coll],function(i){var n=i.options,r=i.horiz,n=[r?n.left:n.top,r?n.width:n.height,n.pane].join(",");t[n]?i.series.length&&(e=!0):t[n]=1}),e&&(n=ue(this.len/r)+1)),n<4&&(this.finalTickAmt=n,n=5),this.tickAmount=n},adjustTickAmount:function(){var e=this.tickInterval,t=this.tickPositions,i=this.tickAmount,n=this.finalTickAmt,r=t&&t.length;if(r<i){for(;t.length<i;)t.push(k(t[t.length-1]+e));this.transA*=(r-1)/(i-1),this.max=t[t.length-1]}else r>i&&(this.tickInterval*=2,this.setTickPositions());if(c(n)){for(e=i=t.length;e--;)(3===n&&e%2===1||n<=2&&e>0&&e<i-1)&&t.splice(e,1);this.finalTickAmt=S}},setScale:function(){var e,t,i,n,r=this.stacks;if(this.oldMin=this.min,this.oldMax=this.max,this.oldAxisLength=this.len,this.setAxisSize(),n=this.len!==this.oldAxisLength,Ye(this.series,function(e){(e.isDirtyData||e.isDirty||e.xAxis.isDirty)&&(i=!0)}),n||i||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax){if(!this.isXAxis)for(e in r)for(t in r[e])r[e][t].total=null,r[e][t].cum=0;this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty||(this.isDirty=n||this.min!==this.oldMin||this.max!==this.oldMax)}else if(!this.isXAxis){this.oldStacks&&(r=this.stacks=this.oldStacks);for(e in r)for(t in r[e])r[e][t].cum=r[e][t].total}},setExtremes:function(e,t,i,n,r){var o=this,a=o.chart,i=Ue(i,!0);Ye(o.series,function(e){delete e.kdTree}),r=Fe(r,{min:e,max:t}),et(o,"setExtremes",r,function(){o.userMin=e,o.userMax=t,o.eventArgs=r,o.isDirtyExtremes=!0,i&&a.redraw(n)})},zoom:function(e,t){var i=this.dataMin,n=this.dataMax,r=this.options;return this.allowZoomOutside||(c(i)&&e<=he(i,Ue(r.min,i))&&(e=S),c(n)&&t>=de(n,Ue(r.max,n))&&(t=S)),this.displayBtn=e!==S||t!==S,this.setExtremes(e,t,!1,S,{trigger:"zoom"}),!0},setAxisSize:function(){var e=this.chart,t=this.options,i=t.offsetLeft||0,n=this.horiz,r=Ue(t.width,e.plotWidth-i+(t.offsetRight||0)),o=Ue(t.height,e.plotHeight),a=Ue(t.top,e.plotTop),t=Ue(t.left,e.plotLeft+i),i=/%$/;i.test(o)&&(o=parseFloat(o)/100*e.plotHeight),i.test(a)&&(a=parseFloat(a)/100*e.plotHeight+e.plotTop),this.left=t,this.top=a,this.width=r,this.height=o,this.bottom=e.chartHeight-o-a,this.right=e.chartWidth-r-t,this.len=de(n?r:o,0),this.pos=n?t:a},getExtremes:function(){var e=this.isLog;return{min:e?k(s(this.min)):this.min,max:e?k(s(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(e){var t=this.isLog,i=t?s(this.min):this.min,t=t?s(this.max):this.max;return null===e?e=t<0?t:i:i>e?e=i:t<e&&(e=t),this.translate(e,0,1,0,1)},autoLabelAlign:function(e){return e=(Ue(e,0)-90*this.side+720)%360,e>15&&e<165?"right":e>195&&e<345?"left":"center"},unsquish:function(){var e,t,i,n=this.ticks,r=this.options.labels,o=this.horiz,a=this.tickInterval,s=a,l=this.len/(((this.categories?1:0)+this.max-this.min)/a),u=r.rotation,d=this.chart.renderer.fontMetrics(r.style.fontSize,n[0]&&n[0].label),h=Number.MAX_VALUE,p=function(e){return e/=l||1,e=e>1?ue(e):1,e*a};return o?(i=c(u)?[u]:l<Ue(r.autoRotationLimit,80)&&!r.staggerLines&&!r.step&&r.autoRotation)&&Ye(i,function(i){var n;(i===u||i&&i>=-90&&i<=90)&&(t=p(pe(d.h/me(ve*i))),n=t+pe(i/360),n<h&&(h=n,e=i,s=t))}):s=p(d.h),this.autoRotation=i,this.labelRotation=e,s},renderUnsquish:function(){var t,n=this.chart,r=n.renderer,o=this.tickPositions,a=this.ticks,s=this.options.labels,l=this.horiz,c=n.margin,u=this.categories?o.length:o.length-1,d=this.slotWidth=l&&!s.step&&!s.rotation&&(this.staggerLines||1)*n.plotWidth/u||!l&&(c[3]&&c[3]-n.spacing[3]||.33*n.chartWidth),h=de(1,le(d-2*(s.padding||5))),p={},c=r.fontMetrics(s.style.fontSize,a[0]&&a[0].label),u=s.style.textOverflow,f=0;if(i(s.rotation)||(p.rotation=s.rotation),this.autoRotation)Ye(o,function(e){(e=a[e])&&e.labelLength>f&&(f=e.labelLength)}),f>h&&f>c.h?p.rotation=this.labelRotation:this.labelRotation=0;else if(d&&(t={width:h+"px"},!u))for(t.textOverflow="clip",d=o.length;!l&&d--;)h=o[d],(h=a[h].label)&&("ellipsis"===h.styles.textOverflow&&h.css({textOverflow:"clip"}),h.getBBox().height>this.len/o.length-(c.h-c.f)&&(h.specCss={textOverflow:"ellipsis"}));p.rotation&&(t={width:(f>.5*n.chartHeight?.33*n.chartHeight:n.chartHeight)+"px"},!u)&&(t.textOverflow="ellipsis"),this.labelAlign=p.align=s.align||this.autoLabelAlign(this.labelRotation),Ye(o,function(i){var n=(i=a[i])&&i.label;n&&(t&&n.css(e(t,n.specCss)),delete n.specCss,n.attr(p),i.rotation=p.rotation)}),this.tickRotCorr=r.rotCorr(c.b,this.labelRotation||0,2===this.side)},hasData:function(){return this.hasVisibleSeries||c(this.min)&&c(this.max)&&!!this.tickPositions},getOffset:function(){var e,t,i,n,r=this,o=r.chart,a=o.renderer,s=r.options,l=r.tickPositions,u=r.ticks,d=r.horiz,h=r.side,p=o.inverted?[1,0,3,2][h]:h,f=0,m=0,g=s.title,v=s.labels,y=0,b=o.axisOffset,o=o.clipOffset,_=[-1,1,1,-1][h];if(e=r.hasData(),r.showAxis=t=e||Ue(s.showEmpty,!0),r.staggerLines=r.horiz&&v.staggerLines,r.axisGroup||(r.gridGroup=a.g("grid").attr({zIndex:s.gridZIndex||1}).add(),r.axisGroup=a.g("axis").attr({zIndex:s.zIndex||2}).add(),r.labelGroup=a.g("axis-labels").attr({zIndex:v.zIndex||7}).addClass("highcharts-"+r.coll.toLowerCase()+"-labels").add()),e||r.isLinked)Ye(l,function(e){u[e]?u[e].addLabel():u[e]=new D(r,e)}),r.renderUnsquish(),Ye(l,function(e){0!==h&&2!==h&&{1:"left",3:"right"}[h]!==r.labelAlign||(y=de(u[e].getLabelSize(),y))}),r.staggerLines&&(y*=r.staggerLines,r.labelOffset=y);else for(n in u)u[n].destroy(),delete u[n];g&&g.text&&g.enabled!==!1&&(r.axisTitle||(r.axisTitle=a.text(g.text,0,0,g.useHTML).attr({zIndex:7,rotation:g.rotation||0,align:g.textAlign||{low:"left",middle:"center",high:"right"}[g.align]}).addClass("highcharts-"+this.coll.toLowerCase()+"-title").css(g.style).add(r.axisGroup),r.axisTitle.isNew=!0),t&&(f=r.axisTitle.getBBox()[d?"height":"width"],i=g.offset,m=c(i)?0:Ue(g.margin,d?5:10)),r.axisTitle[t?"show":"hide"]()),r.offset=_*Ue(s.offset,b[h]),r.tickRotCorr=r.tickRotCorr||{x:0,y:0},a=2===h?r.tickRotCorr.y:0,d=y+m+(y&&_*(d?Ue(v.y,r.tickRotCorr.y+8):v.x)-a),r.axisTitleMargin=Ue(i,d),b[h]=de(b[h],r.axisTitleMargin+f+_*r.offset,d),f=2*ce(s.lineWidth/2),s.offset&&(f=de(0,f-s.offset)),o[p]=de(o[p],f)},getLinePath:function(e){var t=this.chart,i=this.opposite,n=this.offset,r=this.horiz,o=this.left+(i?this.width:0)+n,n=t.chartHeight-this.bottom-(i?this.height:0)+n;return i&&(e*=-1),t.renderer.crispLine(["M",r?this.left:o,r?n:this.top,"L",r?t.chartWidth-this.right:o,r?n:t.chartHeight-this.bottom],e)},getTitlePosition:function(){var e=this.horiz,i=this.left,n=this.top,r=this.len,o=this.options.title,a=e?i:n,s=this.opposite,l=this.offset,c=o.x||0,u=o.y||0,d=t(o.style.fontSize||12),r={low:a+(e?0:r),middle:a+r/2,high:a+(e?r:0)}[o.align],i=(e?n+this.height:i)+(e?1:-1)*(s?-1:1)*this.axisTitleMargin+(2===this.side?d:0);return{x:e?r+c:i+(s?this.width:0)+l+c,y:e?i+u-(s?this.height:0)+l:r+u}},render:function(){var e,t,i,n=this,r=n.chart,o=r.renderer,a=n.options,l=n.isLog,u=n.isLinked,d=n.tickPositions,h=n.axisTitle,p=n.ticks,f=n.minorTicks,m=n.alternateBands,g=a.stackLabels,v=a.alternateGridColor,y=n.tickmarkOffset,b=a.lineWidth,_=r.hasRendered&&c(n.oldMin)&&!isNaN(n.oldMin),w=n.showAxis;n.labelEdge.length=0,n.overlap=!1,Ye([p,f,m],function(e){for(var t in e)e[t].isActive=!1}),(n.hasData()||u)&&(n.minorTickInterval&&!n.categories&&Ye(n.getMinorTickPositions(),function(e){f[e]||(f[e]=new D(n,e,"minor")),_&&f[e].isNew&&f[e].render(null,!0),f[e].render(null,!1,1)}),d.length&&(Ye(d,function(e,t){(!u||e>=n.min&&e<=n.max)&&(p[e]||(p[e]=new D(n,e)),_&&p[e].isNew&&p[e].render(t,!0,.1),p[e].render(t))}),y&&(0===n.min||n.single))&&(p[-1]||(p[-1]=new D(n,(-1),null,(!0))),p[-1].render(-1)),v&&Ye(d,function(e,r){r%2===0&&e<n.max&&(m[e]||(m[e]=new re.PlotLineOrBand(n)),t=e+y,i=d[r+1]!==S?d[r+1]+y:n.max,m[e].options={from:l?s(t):t,to:l?s(i):i,color:v},m[e].render(),m[e].isActive=!0)}),n._addedPlotLB||(Ye((a.plotLines||[]).concat(a.plotBands||[]),function(e){n.addPlotBandOrLine(e)}),n._addedPlotLB=!0)),Ye([p,f,m],function(e){var t,i,n=[],o=j?j.duration||500:0,a=function(){for(i=n.length;i--;)e[n[i]]&&!e[n[i]].isActive&&(e[n[i]].destroy(),delete e[n[i]])};for(t in e)e[t].isActive||(e[t].render(t,!1,0),e[t].isActive=!1,n.push(t));e!==m&&r.hasRendered&&o?o&&setTimeout(a,o):a()}),b&&(e=n.getLinePath(b),n.axisLine?n.axisLine.animate({d:e}):n.axisLine=o.path(e).attr({stroke:a.lineColor,"stroke-width":b,zIndex:7}).add(n.axisGroup),n.axisLine[w?"show":"hide"]()),h&&w&&(h[h.isNew?"attr":"animate"](n.getTitlePosition()),h.isNew=!1),g&&g.enabled&&n.renderStackTotals(),n.isDirty=!1},redraw:function(){this.render(),Ye(this.plotLinesAndBands,function(e){e.render()}),Ye(this.series,function(e){e.isDirty=!0})},destroy:function(e){var t,i=this,n=i.stacks,r=i.plotLinesAndBands;e||Qe(i);for(t in n)E(n[t]),n[t]=null;for(Ye([i.ticks,i.minorTicks,i.alternateBands],function(e){E(e)}),e=r.length;e--;)r[e].destroy();Ye("stackTotalGroup,axisLine,axisTitle,axisGroup,cross,gridGroup,labelGroup".split(","),function(e){i[e]&&(i[e]=i[e].destroy())}),this.cross&&this.cross.destroy()},drawCrosshair:function(e,t){var i,n=this.crosshair,r=n.animation;!this.crosshair||(c(t)||!Ue(this.crosshair.snap,!0))===!1||t&&t.series&&t.series[this.coll]!==this?this.hideCrosshair():(Ue(n.snap,!0)?c(t)&&(i=this.isXAxis?t.plotX:this.len-t.plotY):i=this.horiz?e.chartX-this.pos:this.len-e.chartY+this.pos,i=this.isRadial?this.getPlotLinePath(this.isXAxis?t.x:Ue(t.stackY,t.y))||null:this.getPlotLinePath(null,null,null,null,i)||null,null===i?this.hideCrosshair():this.cross?this.cross.attr({visibility:"visible"})[r?"animate":"attr"]({d:i},r):(r=this.categories&&!this.isRadial,r={"stroke-width":n.width||(r?this.transA:1),stroke:n.color||(r?"rgba(155,200,255,0.2)":"#C0C0C0"),zIndex:n.zIndex||2},n.dashStyle&&(r.dashstyle=n.dashStyle),this.cross=this.chart.renderer.path(i).attr(r).add()))},hideCrosshair:function(){this.cross&&this.cross.hide()}},Fe(ht.prototype,{getPlotBandPath:function(e,t){var i=this.getPlotLinePath(t,null,null,!0),n=this.getPlotLinePath(e,null,null,!0);return n&&i&&n.toString()!==i.toString()?n.push(i[4],i[5],i[1],i[2]):n=null,n},addPlotBand:function(e){return this.addPlotBandOrLine(e,"plotBands")},addPlotLine:function(e){return this.addPlotBandOrLine(e,"plotLines")},addPlotBandOrLine:function(e,t){var i=new re.PlotLineOrBand(this,e).render(),n=this.userOptions;return i&&(t&&(n[t]=n[t]||[],n[t].push(e)),this.plotLinesAndBands.push(i)),i},removePlotBandOrLine:function(e){for(var t=this.plotLinesAndBands,i=this.options,n=this.userOptions,r=t.length;r--;)t[r].id===e&&t[r].destroy();Ye([i.plotLines||[],n.plotLines||[],i.plotBands||[],n.plotBands||[]],function(t){for(r=t.length;r--;)t[r].id===e&&l(t,t[r])})}}),ht.prototype.getTimeTicks=function(e,t,i,n){var r,o=[],a={},s=O.global.useUTC,l=new U(t-g(t)),u=e.unitRange,d=e.count;if(c(t)){l[X](u>=F.second?0:d*ce(l.getMilliseconds()/d)),u>=F.second&&l[K](u>=F.minute?0:d*ce(l.getSeconds()/d)),u>=F.minute&&l[Q](u>=F.hour?0:d*ce(l[W]()/d)),u>=F.hour&&l[ee](u>=F.day?0:d*ce(l[q]()/d)),u>=F.day&&l[te](u>=F.month?1:d*ce(l[Y]()/d)),u>=F.month&&(l[ie](u>=F.year?0:d*ce(l[J]()/d)),r=l[Z]()),u>=F.year&&(r-=r%d,l[ne](r)),u===F.week&&l[te](l[Y]()-l[V]()+Ue(n,1)),t=1,(B||G)&&(l=l.getTime(),l=new U(l+g(l))),r=l[Z]();for(var n=l.getTime(),h=l[J](),p=l[Y](),f=(F.day+(s?g(l):6e4*l.getTimezoneOffset()))%F.day;n<i;)o.push(n),u===F.year?n=z(r+t*d,0):u===F.month?n=z(r,h+t*d):s||u!==F.day&&u!==F.week?n+=u*d:n=z(r,h,p+t*d*(u===F.day?1:7)),t++;o.push(n),Ye(Je(o,function(e){return u<=F.hour&&e%F.day===f}),function(e){a[e]="day"})}return o.info=Fe(e,{higherRanks:a,totalRange:u*d}),o},ht.prototype.normalizeTimeTickInterval=function(e,t){var i,n=t||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],r=n[n.length-1],o=F[r[0]],a=r[1];for(i=0;i<n.length&&(r=n[i],o=F[r[0]],a=r[1],!(n[i+1]&&e<=(o*a[a.length-1]+F[n[i+1][0]])/2));i++);return o===F.year&&e<5*o&&(a=[1,2,5]),n=b(e/o,a,"year"===r[0]?de(y(e/o),1):1),{unitRange:o,count:n,unitName:r[0]}},ht.prototype.getLogTickPositions=function(e,t,i,n){var r=this.options,o=this.len,l=[];if(n||(this._minorAutoInterval=null),e>=.5)e=le(e),l=this.getLinearTickPositions(e,t,i);else if(e>=.08)for(var c,u,d,h,p,o=ce(t),r=e>.3?[1,2,4]:e>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];o<i+1&&!p;o++)for(u=r.length,c=0;c<u&&!p;c++)d=a(s(o)*r[c]),d>t&&(!n||h<=i)&&h!==S&&l.push(h),h>i&&(p=!0),h=d;else t=s(t),i=s(i),e=r[n?"minorTickInterval":"tickInterval"],e=Ue("auto"===e?null:e,this._minorAutoInterval,(i-t)*(r.tickPixelInterval/(n?5:1))/((n?o/this.tickPositions.length:o)||1)),e=b(e,null,y(e)),l=Xe(this.getLinearTickPositions(e,t,i),a),n||(this._minorAutoInterval=e/5);return n||(this.tickInterval=e),l};var pt=re.Tooltip=function(){this.init.apply(this,arguments)};pt.prototype={init:function(e,i){var n=i.borderWidth,r=i.style,o=t(r.padding);this.chart=e,this.options=i,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.label=e.renderer.label("",0,0,i.shape||"callout",null,null,i.useHTML,null,"tooltip").attr({padding:o,fill:i.backgroundColor,"stroke-width":n,r:i.borderRadius,zIndex:8}).css(r).css({padding:0}).add().attr({y:-9999}),Te||this.label.shadow(i.shadow),this.shared=i.shared},destroy:function(){this.label&&(this.label=this.label.destroy()),clearTimeout(this.hideTimer),clearTimeout(this.tooltipTimeout)},move:function(e,t,i,n){var r=this,o=r.now,a=r.options.animation!==!1&&!r.isHidden&&(pe(e-o.x)>1||pe(t-o.y)>1),s=r.followPointer||r.len>1;Fe(o,{x:a?(2*o.x+e)/3:e,y:a?(o.y+t)/2:t,anchorX:s?S:a?(2*o.anchorX+i)/3:i,anchorY:s?S:a?(o.anchorY+n)/2:n}),r.label.attr(o),a&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){r&&r.move(e,t,i,n)},32))},hide:function(e){var t=this;clearTimeout(this.hideTimer),this.isHidden||(this.hideTimer=setTimeout(function(){t.label.fadeOut(),t.isHidden=!0},Ue(e,this.options.hideDelay,500)))},getAnchor:function(e,t){var i,n,r,o=this.chart,a=o.inverted,s=o.plotTop,l=o.plotLeft,c=0,u=0,e=d(e);return i=e[0].tooltipPos,this.followPointer&&t&&(t.chartX===S&&(t=o.pointer.normalize(t)),i=[t.chartX-o.plotLeft,t.chartY-s]),i||(Ye(e,function(e){n=e.series.yAxis,r=e.series.xAxis,c+=e.plotX+(!a&&r?r.left-l:0),u+=(e.plotLow?(e.plotLow+e.plotHigh)/2:e.plotY)+(!a&&n?n.top-s:0)}),c/=e.length,u/=e.length,i=[a?o.plotWidth-u:c,this.shared&&!a&&e.length>1&&t?t.chartY-s:a?o.plotHeight-c:u]),Xe(i,le)},getPosition:function(e,t,i){var n,r=this.chart,o=this.distance,a={},s=i.h||0,l=["y",r.chartHeight,t,i.plotY+r.plotTop],c=["x",r.chartWidth,e,i.plotX+r.plotLeft],u=Ue(i.ttBelow,r.inverted&&!i.negative||!r.inverted&&i.negative),d=function(e,t,i,n){var r=i<n-o,l=n+o+i<t,c=n-o-i;if(n+=o,u&&l)a[e]=n;else if(!u&&r)a[e]=c;else if(r)a[e]=c-s<0?c:c-s;else{if(!l)return!1;a[e]=n+s+i>t?n:n+s}},h=function(e,t,i,n){return!(n<o||n>t-o)&&void(a[e]=n<i/2?1:n>t-i/2?t-i-2:n-i/2)},p=function(e){var t=l;l=c,c=t,n=e},f=function(){d.apply(0,l)!==!1?h.apply(0,c)===!1&&!n&&(p(!0),f()):n?a.x=a.y=0:(p(!0),f())};return(r.inverted||this.len>1)&&p(),f(),a},defaultFormatter:function(e){var t,i=this.points||d(this);return t=[e.tooltipFooterHeaderFormatter(i[0])],t=t.concat(e.bodyFormatter(i)),t.push(e.tooltipFooterHeaderFormatter(i[0],!0)),t.join("")},refresh:function(e,t){var i,n,r,o,a=this.chart,s=this.label,l=this.options,c={},u=[];o=l.formatter||this.defaultFormatter;var h,c=a.hoverPoints,p=this.shared;clearTimeout(this.hideTimer),this.followPointer=d(e)[0].series.tooltipOptions.followPointer,r=this.getAnchor(e,t),i=r[0],n=r[1],!p||e.series&&e.series.noSharedTooltip?c=e.getLabelConfig():(a.hoverPoints=e,c&&Ye(c,function(e){e.setState()}),Ye(e,function(e){e.setState("hover"),u.push(e.getLabelConfig())}),c={x:e[0].category,y:e[0].y},c.points=u,this.len=u.length,e=e[0]),o=o.call(c,this),c=e.series,this.distance=Ue(c.tooltipOptions.distance,16),o===!1?this.hide():(this.isHidden&&(nt(s),s.attr("opacity",1).show()),s.attr({text:o}),h=l.borderColor||e.color||c.color||"#606060",s.attr({stroke:h}),this.updatePosition({plotX:i,plotY:n,negative:e.negative,ttBelow:e.ttBelow,h:r[2]||0}),this.isHidden=!1),et(a,"tooltipRefresh",{text:o,x:i+a.plotLeft,y:n+a.plotTop,borderColor:h})},updatePosition:function(e){var t=this.chart,i=this.label,i=(this.options.positioner||this.getPosition).call(this,i.width,i.height,e);this.move(le(i.x),le(i.y||0),e.plotX+t.plotLeft,e.plotY+t.plotTop)},getXDateFormat:function(e,t,i){var n,r,o,t=t.dateTimeLabelFormats,a=i&&i.closestPointRange,s={millisecond:15,second:12,minute:9,hour:6,day:3},l="millisecond";if(a){o=R("%m-%d %H:%M:%S.%L",e.x);for(r in F){if(a===F.week&&+R("%w",e.x)===i.options.startOfWeek&&"00:00:00.000"===o.substr(6)){r="week";break}if(F[r]>a){r=l;break}if(s[r]&&o.substr(s[r])!=="01-01 00:00:00.000".substr(s[r]))break;
"week"!==r&&(l=r)}r&&(n=t[r])}else n=t.day;return n||t.year},tooltipFooterHeaderFormatter:function(e,t){var i=t?"footer":"header",n=e.series,r=n.tooltipOptions,a=r.xDateFormat,s=n.xAxis,l=s&&"datetime"===s.options.type&&o(e.key),i=r[i+"Format"];return l&&!a&&(a=this.getXDateFormat(e,r,s)),l&&a&&(i=i.replace("{point.key}","{point.key:"+a+"}")),v(i,{point:e,series:n})},bodyFormatter:function(e){return Xe(e,function(e){var t=e.series.tooltipOptions;return(t.pointFormatter||e.point.tooltipFormatter).call(e.point,t.pointFormat)})}};var ft;N=oe.documentElement.ontouchstart!==S;var mt=re.Pointer=function(e,t){this.init(e,t)};if(mt.prototype={init:function(e,t){var i,n=t.chart,r=n.events,o=Te?"":n.zoomType,n=e.inverted;this.options=t,this.chart=e,this.zoomX=i=/x/.test(o),this.zoomY=o=/y/.test(o),this.zoomHor=i&&!n||o&&n,this.zoomVert=o&&!n||i&&n,this.hasZoom=i||o,this.runChartClick=r&&!!r.click,this.pinchDown=[],this.lastValidTouch={},re.Tooltip&&t.tooltip.enabled&&(e.tooltip=new pt(e,t.tooltip),this.followTouchMove=Ue(t.tooltip.followTouchMove,!0)),this.setDOMEvents()},normalize:function(e,t){var i,n,e=e||window.event,e=tt(e);return e.target||(e.target=e.srcElement),n=e.touches?e.touches.length?e.touches.item(0):e.changedTouches[0]:e,t||(this.chartPosition=t=Ze(this.chart.container)),n.pageX===S?(i=de(e.x,e.clientX-t.left),n=e.y):(i=n.pageX-t.left,n=n.pageY-t.top),Fe(e,{chartX:le(i),chartY:le(n)})},getCoordinates:function(e){var t={xAxis:[],yAxis:[]};return Ye(this.chart.axes,function(i){t[i.isXAxis?"xAxis":"yAxis"].push({axis:i,value:i.toValue(e[i.horiz?"chartX":"chartY"])})}),t},runPointActions:function(e){var t,i,n,r,o,a=this.chart,s=a.series,l=a.tooltip,c=!!l&&l.shared,u=a.hoverPoint,d=a.hoverSeries,h=a.chartWidth,p=[];if(!c&&!d)for(t=0;t<s.length;t++)!s[t].directTouch&&s[t].options.stickyTracking||(s=[]);if(!c&&d&&d.directTouch&&u?r=u:(Ye(s,function(t){i=t.noSharedTooltip&&c,n=!c&&t.directTouch,t.visible&&!i&&!n&&Ue(t.options.enableMouseTracking,!0)&&(o=t.searchPoint(e,!i&&1===t.kdDimensions))&&p.push(o)}),Ye(p,function(e){e&&"number"==typeof e.dist&&e.dist<h&&(h=e.dist,r=e)})),r&&(r!==this.prevKDPoint||l&&l.isHidden)){if(c&&!r.series.noSharedTooltip){for(t=p.length;t--;)(p[t].clientX!==r.clientX||p[t].series.noSharedTooltip)&&p.splice(t,1);p.length&&l&&l.refresh(p,e),Ye(p,function(t){t!==r&&t.onMouseOver(e)}),(d&&d.directTouch&&u||r).onMouseOver(e)}else l&&l.refresh(r,e),r.onMouseOver(e);this.prevKDPoint=r}else s=d&&d.tooltipOptions.followPointer,l&&s&&!l.isHidden&&(s=l.getAnchor([{}],e),l.updatePosition({plotX:s[0],plotY:s[1]}));l&&!this._onDocumentMouseMove&&(this._onDocumentMouseMove=function(e){Se[ft]&&Se[ft].pointer.onDocumentMouseMove(e)},Ke(oe,"mousemove",this._onDocumentMouseMove)),Ye(a.axes,function(t){t.drawCrosshair(e,Ue(r,u))})},reset:function(e,t){var i=this.chart,n=i.hoverSeries,r=i.hoverPoint,o=i.hoverPoints,a=i.tooltip,s=a&&a.shared?o:r;(e=e&&a&&s)&&d(s)[0].plotX===S&&(e=!1),e?(a.refresh(s),r&&(r.setState(r.state,!0),Ye(i.axes,function(e){Ue(e.options.crosshair&&e.options.crosshair.snap,!0)?e.drawCrosshair(null,r):e.hideCrosshair()}))):(r&&r.onMouseOut(),o&&Ye(o,function(e){e.setState()}),n&&n.onMouseOut(),a&&a.hide(t),this._onDocumentMouseMove&&(Qe(oe,"mousemove",this._onDocumentMouseMove),this._onDocumentMouseMove=null),Ye(i.axes,function(e){e.hideCrosshair()}),this.hoverX=i.hoverPoints=i.hoverPoint=null)},scaleGroups:function(e,t){var i,n=this.chart;Ye(n.series,function(r){i=e||r.getPlotBox(),r.xAxis&&r.xAxis.zoomEnabled&&(r.group.attr(i),r.markerGroup&&(r.markerGroup.attr(i),r.markerGroup.clip(t?n.clipRect:null)),r.dataLabelsGroup&&r.dataLabelsGroup.attr(i))}),n.clipRect.attr(t||n.clipBox)},dragStart:function(e){var t=this.chart;t.mouseIsDown=e.type,t.cancelClick=!1,t.mouseDownX=this.mouseDownX=e.chartX,t.mouseDownY=this.mouseDownY=e.chartY},drag:function(e){var t,i=this.chart,n=i.options.chart,r=e.chartX,o=e.chartY,a=this.zoomHor,s=this.zoomVert,l=i.plotLeft,c=i.plotTop,u=i.plotWidth,d=i.plotHeight,h=this.mouseDownX,p=this.mouseDownY,f=n.panKey&&e[n.panKey+"Key"];r<l?r=l:r>l+u&&(r=l+u),o<c?o=c:o>c+d&&(o=c+d),this.hasDragged=Math.sqrt(Math.pow(h-r,2)+Math.pow(p-o,2)),this.hasDragged>10&&(t=i.isInsidePlot(h-l,p-c),i.hasCartesianSeries&&(this.zoomX||this.zoomY)&&t&&!f&&!this.selectionMarker&&(this.selectionMarker=i.renderer.rect(l,c,a?1:u,s?1:d,0).attr({fill:n.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add()),this.selectionMarker&&a&&(r-=h,this.selectionMarker.attr({width:pe(r),x:(r>0?0:r)+h})),this.selectionMarker&&s&&(r=o-p,this.selectionMarker.attr({height:pe(r),y:(r>0?0:r)+p})),t&&!this.selectionMarker&&n.panning&&i.pan(e,n.panning))},drop:function(e){var t=this,i=this.chart,n=this.hasPinched;if(this.selectionMarker){var r,o={xAxis:[],yAxis:[],originalEvent:e.originalEvent||e},a=this.selectionMarker,s=a.attr?a.attr("x"):a.x,l=a.attr?a.attr("y"):a.y,u=a.attr?a.attr("width"):a.width,d=a.attr?a.attr("height"):a.height;(this.hasDragged||n)&&(Ye(i.axes,function(i){if(i.zoomEnabled&&c(i.min)&&(n||t[{xAxis:"zoomX",yAxis:"zoomY"}[i.coll]])){var a=i.horiz,h="touchend"===e.type?i.minPixelPadding:0,p=i.toValue((a?s:l)+h),a=i.toValue((a?s+u:l+d)-h);o[i.coll].push({axis:i,min:he(p,a),max:de(p,a)}),r=!0}}),r&&et(i,"selection",o,function(e){i.zoom(Fe(e,n?{animation:!1}:null))})),this.selectionMarker=this.selectionMarker.destroy(),n&&this.scaleGroups()}i&&(h(i.container,{cursor:i._cursor}),i.cancelClick=this.hasDragged>10,i.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(e){e=this.normalize(e),e.preventDefault&&e.preventDefault(),this.dragStart(e)},onDocumentMouseUp:function(e){Se[ft]&&Se[ft].pointer.drop(e)},onDocumentMouseMove:function(e){var t=this.chart,i=this.chartPosition,e=this.normalize(e,i);i&&!this.inClass(e.target,"highcharts-tracker")&&!t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop)&&this.reset()},onContainerMouseLeave:function(){var e=Se[ft];e&&(e.pointer.reset(),e.pointer.chartPosition=null)},onContainerMouseMove:function(e){var t=this.chart;ft=t.index,e=this.normalize(e),e.returnValue=!1,"mousedown"===t.mouseIsDown&&this.drag(e),(this.inClass(e.target,"highcharts-tracker")||t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop))&&!t.openMenu&&this.runPointActions(e)},inClass:function(e,t){for(var i;e;){if(i=u(e,"class")){if(i.indexOf(t)!==-1)return!0;if(i.indexOf("highcharts-container")!==-1)return!1}e=e.parentNode}},onTrackerMouseOut:function(e){var t=this.chart.hoverSeries,i=(e=e.relatedTarget||e.toElement)&&e.point&&e.point.series;!t||t.options.stickyTracking||this.inClass(e,"highcharts-tooltip")||i===t||t.onMouseOut()},onContainerClick:function(e){var t=this.chart,i=t.hoverPoint,n=t.plotLeft,r=t.plotTop,e=this.normalize(e);e.originalEvent=e,t.cancelClick||(i&&this.inClass(e.target,"highcharts-tracker")?(et(i.series,"click",Fe(e,{point:i})),t.hoverPoint&&i.firePointEvent("click",e)):(Fe(e,this.getCoordinates(e)),t.isInsidePlot(e.chartX-n,e.chartY-r)&&et(t,"click",e)))},setDOMEvents:function(){var e=this,t=e.chart.container;t.onmousedown=function(t){e.onContainerMouseDown(t)},t.onmousemove=function(t){e.onContainerMouseMove(t)},t.onclick=function(t){e.onContainerClick(t)},Ke(t,"mouseleave",e.onContainerMouseLeave),1===Pe&&Ke(oe,"mouseup",e.onDocumentMouseUp),N&&(t.ontouchstart=function(t){e.onContainerTouchStart(t)},t.ontouchmove=function(t){e.onContainerTouchMove(t)},1===Pe&&Ke(oe,"touchend",e.onDocumentTouchEnd))},destroy:function(){var e;Qe(this.chart.container,"mouseleave",this.onContainerMouseLeave),Pe||(Qe(oe,"mouseup",this.onDocumentMouseUp),Qe(oe,"touchend",this.onDocumentTouchEnd)),clearInterval(this.tooltipTimeout);for(e in this)this[e]=null}},Fe(re.Pointer.prototype,{pinchTranslate:function(e,t,i,n,r,o){(this.zoomHor||this.pinchHor)&&this.pinchTranslateDirection(!0,e,t,i,n,r,o),(this.zoomVert||this.pinchVert)&&this.pinchTranslateDirection(!1,e,t,i,n,r,o)},pinchTranslateDirection:function(e,t,i,n,r,o,a,s){var l,c,u,d=this.chart,h=e?"x":"y",p=e?"X":"Y",f="chart"+p,m=e?"width":"height",g=d["plot"+(e?"Left":"Top")],v=s||1,y=d.inverted,b=d.bounds[e?"h":"v"],_=1===t.length,w=t[0][f],x=i[0][f],E=!_&&t[1][f],A=!_&&i[1][f],i=function(){!_&&pe(w-E)>20&&(v=s||pe(x-A)/pe(w-E)),c=(g-x)/v+w,l=d["plot"+(e?"Width":"Height")]/v};i(),t=c,t<b.min?(t=b.min,u=!0):t+l>b.max&&(t=b.max-l,u=!0),u?(x-=.8*(x-a[h][0]),_||(A-=.8*(A-a[h][1])),i()):a[h]=[x,A],y||(o[h]=c-g,o[m]=l),o=y?1/v:v,r[m]=l,r[h]=t,n[y?e?"scaleY":"scaleX":"scale"+p]=v,n["translate"+p]=o*g+(x-o*w)},pinch:function(e){var t=this,i=t.chart,n=t.pinchDown,r=e.touches,o=r.length,a=t.lastValidTouch,s=t.hasZoom,l=t.selectionMarker,c={},u=1===o&&(t.inClass(e.target,"highcharts-tracker")&&i.runTrackerClick||t.runChartClick),d={};o>1&&(t.initiated=!0),s&&t.initiated&&!u&&e.preventDefault(),Xe(r,function(e){return t.normalize(e)}),"touchstart"===e.type?(Ye(r,function(e,t){n[t]={chartX:e.chartX,chartY:e.chartY}}),a.x=[n[0].chartX,n[1]&&n[1].chartX],a.y=[n[0].chartY,n[1]&&n[1].chartY],Ye(i.axes,function(e){if(e.zoomEnabled){var t=i.bounds[e.horiz?"h":"v"],n=e.minPixelPadding,r=e.toPixels(Ue(e.options.min,e.dataMin)),o=e.toPixels(Ue(e.options.max,e.dataMax)),a=he(r,o),r=de(r,o);t.min=he(e.pos,a-n),t.max=de(e.pos+e.len,r+n)}}),t.res=!0):n.length&&(l||(t.selectionMarker=l=Fe({destroy:Me},i.plotBox)),t.pinchTranslate(n,r,c,l,d,a),t.hasPinched=s,t.scaleGroups(c,d),!s&&t.followTouchMove&&1===o?this.runPointActions(t.normalize(e)):t.res&&(t.res=!1,this.reset(!1,0)))},touch:function(e,t){var i=this.chart;ft=i.index,1===e.touches.length?(e=this.normalize(e),i.isInsidePlot(e.chartX-i.plotLeft,e.chartY-i.plotTop)&&!i.openMenu?(t&&this.runPointActions(e),this.pinch(e)):t&&this.reset()):2===e.touches.length&&this.pinch(e)},onContainerTouchStart:function(e){this.touch(e,!0)},onContainerTouchMove:function(e){this.touch(e)},onDocumentTouchEnd:function(e){Se[ft]&&Se[ft].pointer.drop(e)}}),ae.PointerEvent||ae.MSPointerEvent){var gt={},vt=!!ae.PointerEvent,yt=function(){var e,t=[];t.item=function(e){return this[e]};for(e in gt)gt.hasOwnProperty(e)&&t.push({pageX:gt[e].pageX,pageY:gt[e].pageY,target:gt[e].target});return t},bt=function(e,t,i,n){e=e.originalEvent||e,"touch"!==e.pointerType&&e.pointerType!==e.MSPOINTER_TYPE_TOUCH||!Se[ft]||(n(e),n=Se[ft].pointer,n[t]({type:i,target:e.currentTarget,preventDefault:Me,touches:yt()}))};Fe(mt.prototype,{onContainerPointerDown:function(e){bt(e,"onContainerTouchStart","touchstart",function(e){gt[e.pointerId]={pageX:e.pageX,pageY:e.pageY,target:e.currentTarget}})},onContainerPointerMove:function(e){bt(e,"onContainerTouchMove","touchmove",function(e){gt[e.pointerId]={pageX:e.pageX,pageY:e.pageY},gt[e.pointerId].target||(gt[e.pointerId].target=e.currentTarget)})},onDocumentPointerUp:function(e){bt(e,"onDocumentTouchEnd","touchend",function(e){delete gt[e.pointerId]})},batchMSEvents:function(e){e(this.chart.container,vt?"pointerdown":"MSPointerDown",this.onContainerPointerDown),e(this.chart.container,vt?"pointermove":"MSPointerMove",this.onContainerPointerMove),e(oe,vt?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),ze(mt.prototype,"init",function(e,t,i){e.call(this,t,i),this.hasZoom&&h(t.container,{"-ms-touch-action":Ie,"touch-action":Ie})}),ze(mt.prototype,"setDOMEvents",function(e){e.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(Ke)}),ze(mt.prototype,"destroy",function(e){this.batchMSEvents(Qe),e.call(this)})}var _t=re.Legend=function(e,t){this.init(e,t)};_t.prototype={init:function(t,i){var n=this,r=i.itemStyle,o=i.itemMarginTop||0;this.options=i,i.enabled&&(n.itemStyle=r,n.itemHiddenStyle=e(r,i.itemHiddenStyle),n.itemMarginTop=o,n.padding=r=Ue(i.padding,8),n.initialItemX=r,n.initialItemY=r-5,n.maxItemWidth=0,n.chart=t,n.itemHeight=0,n.symbolWidth=Ue(i.symbolWidth,16),n.pages=[],n.render(),Ke(n.chart,"endResize",function(){n.positionCheckboxes()}))},colorizeItem:function(e,t){var i,n=this.options,r=e.legendItem,o=e.legendLine,a=e.legendSymbol,s=this.itemHiddenStyle.color,n=t?n.itemStyle.color:s,l=t?e.legendColor||e.color||"#CCC":s,s=e.options&&e.options.marker,c={fill:l};if(r&&r.css({fill:n,color:n}),o&&o.attr({stroke:l}),a){if(s&&a.isMarker)for(i in c.stroke=l,s=e.convertAttribs(s))r=s[i],r!==S&&(c[i]=r);a.attr(c)}},positionItem:function(e){var t=this.options,i=t.symbolPadding,t=!t.rtl,n=e._legendItemPos,r=n[0],n=n[1],o=e.checkbox;(e=e.legendGroup)&&e.element&&e.translate(t?r:this.legendWidth-r-2*i-4,n),o&&(o.x=r,o.y=n)},destroyItem:function(e){var t=e.checkbox;Ye(["legendItem","legendLine","legendSymbol","legendGroup"],function(t){e[t]&&(e[t]=e[t].destroy())}),t&&A(e.checkbox)},destroy:function(){var e=this.group,t=this.box;t&&(this.box=t.destroy()),e&&(this.group=e.destroy())},positionCheckboxes:function(e){var t,i=this.group.alignAttr,n=this.clipHeight||this.legendHeight;i&&(t=i.translateY,Ye(this.allItems,function(r){var o,a=r.checkbox;a&&(o=t+a.y+(e||0)+3,h(a,{left:i.translateX+r.checkboxOffset+a.x-20+"px",top:o+"px",display:o>t-6&&o<t+n-6?"":Ie}))}))},renderTitle:function(){var e=this.padding,t=this.options.title,i=0;t.text&&(this.title||(this.title=this.chart.renderer.label(t.text,e-3,e-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(t.style).add(this.group)),e=this.title.getBBox(),i=e.height,this.offsetWidth=e.width,this.contentGroup.attr({translateY:i})),this.titleHeight=i},setText:function(e){var t=this.options;e.legendItem.attr({text:t.labelFormat?v(t.labelFormat,e):t.labelFormatter.call(e)})},renderItem:function(t){var i=this.chart,n=i.renderer,r=this.options,o="horizontal"===r.layout,a=this.symbolWidth,s=r.symbolPadding,l=this.itemStyle,c=this.itemHiddenStyle,u=this.padding,d=o?Ue(r.itemDistance,20):0,h=!r.rtl,p=r.width,f=r.itemMarginBottom||0,m=this.itemMarginTop,g=this.initialItemX,v=t.legendItem,y=t.series&&t.series.drawLegendSymbol?t.series:t,b=y.options,b=this.createCheckboxForItem&&b&&b.showCheckbox,_=r.useHTML;v||(t.legendGroup=n.g("legend-item").attr({zIndex:1}).add(this.scrollGroup),t.legendItem=v=n.text("",h?a+s:-s,this.baseline||0,_).css(e(t.visible?l:c)).attr({align:h?"left":"right",zIndex:2}).add(t.legendGroup),this.baseline||(this.fontMetrics=n.fontMetrics(l.fontSize,v),this.baseline=this.fontMetrics.f+3+m,v.attr("y",this.baseline)),y.drawLegendSymbol(this,t),this.setItemEvents&&this.setItemEvents(t,v,_,l,c),this.colorizeItem(t,t.visible),b&&this.createCheckboxForItem(t)),this.setText(t),n=v.getBBox(),a=t.checkboxOffset=r.itemWidth||t.legendItemWidth||a+s+n.width+d+(b?20:0),this.itemHeight=s=le(t.legendItemHeight||n.height),o&&this.itemX-g+a>(p||i.chartWidth-2*u-g-r.x)&&(this.itemX=g,this.itemY+=m+this.lastLineHeight+f,this.lastLineHeight=0),this.maxItemWidth=de(this.maxItemWidth,a),this.lastItemY=m+this.itemY+f,this.lastLineHeight=de(s,this.lastLineHeight),t._legendItemPos=[this.itemX,this.itemY],o?this.itemX+=a:(this.itemY+=m+s+f,this.lastLineHeight=s),this.offsetWidth=p||de((o?this.itemX-g-d:a)+u,this.offsetWidth)},getAllItems:function(){var e=[];return Ye(this.chart.series,function(t){var i=t.options;Ue(i.showInLegend,!c(i.linkedTo)&&S,!0)&&(e=e.concat(t.legendItems||("point"===i.legendType?t.data:t)))}),e},adjustMargins:function(e,t){var i=this.chart,n=this.options,r=n.align[0]+n.verticalAlign[0]+n.layout[0];this.display&&!n.floating&&Ye([/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],function(o,a){o.test(r)&&!c(e[a])&&(i[Re[a]]=de(i[Re[a]],i.legend[(a+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][a]*n[a%2?"x":"y"]+Ue(n.margin,12)+t[a]))})},render:function(){var e,t,i,n,r=this,o=r.chart,a=o.renderer,s=r.group,l=r.box,c=r.options,u=r.padding,d=c.borderWidth,h=c.backgroundColor;r.itemX=r.initialItemX,r.itemY=r.initialItemY,r.offsetWidth=0,r.lastItemY=0,s||(r.group=s=a.g("legend").attr({zIndex:7}).add(),r.contentGroup=a.g().attr({zIndex:1}).add(s),r.scrollGroup=a.g().add(r.contentGroup)),r.renderTitle(),e=r.getAllItems(),_(e,function(e,t){return(e.options&&e.options.legendIndex||0)-(t.options&&t.options.legendIndex||0)}),c.reversed&&e.reverse(),r.allItems=e,r.display=t=!!e.length,r.lastLineHeight=0,Ye(e,function(e){r.renderItem(e)}),i=(c.width||r.offsetWidth)+u,n=r.lastItemY+r.lastLineHeight+r.titleHeight,n=r.handleOverflow(n),n+=u,(d||h)&&(l?i>0&&n>0&&(l[l.isNew?"attr":"animate"](l.crisp({width:i,height:n})),l.isNew=!1):(r.box=l=a.rect(0,0,i,n,c.borderRadius,d||0).attr({stroke:c.borderColor,"stroke-width":d||0,fill:h||Ie}).add(s).shadow(c.shadow),l.isNew=!0),l[t?"show":"hide"]()),r.legendWidth=i,r.legendHeight=n,Ye(e,function(e){r.positionItem(e)}),t&&s.align(Fe({width:i,height:n},c),!0,"spacingBox"),o.isResizing||this.positionCheckboxes()},handleOverflow:function(e){var t,i,n=this,r=this.chart,o=r.renderer,a=this.options,s=a.y,s=r.spacingBox.height+("top"===a.verticalAlign?-s:s)-this.padding,l=a.maxHeight,c=this.clipRect,u=a.navigation,d=Ue(u.animation,!0),h=u.arrowSize||12,p=this.nav,f=this.pages,m=this.padding,g=this.allItems,v=function(e){c.attr({height:e}),n.contentGroup.div&&(n.contentGroup.div.style.clip="rect("+m+"px,9999px,"+(m+e)+"px,0)")};return"horizontal"===a.layout&&(s/=2),l&&(s=he(s,l)),f.length=0,e>s?(this.clipHeight=t=de(s-20-this.titleHeight-m,0),this.currentPage=Ue(this.currentPage,1),this.fullHeight=e,Ye(g,function(e,n){var r=e._legendItemPos[1],o=le(e.legendItem.getBBox().height),a=f.length;(!a||r-f[a-1]>t&&(i||r)!==f[a-1])&&(f.push(i||r),a++),n===g.length-1&&r+o-f[a-1]>t&&f.push(r),r!==i&&(i=r)}),c||(c=n.clipRect=o.clipRect(0,m,9999,0),n.contentGroup.clip(c)),v(t),p||(this.nav=p=o.g().attr({zIndex:1}).add(this.group),this.up=o.symbol("triangle",0,0,h,h).on("click",function(){n.scroll(-1,d)}).add(p),this.pager=o.text("",15,10).css(u.style).add(p),this.down=o.symbol("triangle-down",0,0,h,h).on("click",function(){n.scroll(1,d)}).add(p)),n.scroll(0),e=s):p&&(v(r.chartHeight),p.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),e},scroll:function(e,t){var i=this.pages,n=i.length,r=this.currentPage+e,o=this.clipHeight,a=this.options.navigation,s=a.activeColor,a=a.inactiveColor,l=this.pager,c=this.padding;r>n&&(r=n),r>0&&(t!==S&&$(t,this.chart),this.nav.attr({translateX:c,translateY:o+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({fill:1===r?a:s}).css({cursor:1===r?"default":"pointer"}),l.attr({text:r+"/"+n}),this.down.attr({x:18+this.pager.getBBox().width,fill:r===n?a:s}).css({cursor:r===n?"default":"pointer"}),i=-i[r-1]+this.initialItemY,this.scrollGroup.animate({translateY:i}),this.currentPage=r,this.positionCheckboxes(i))}},ut=re.LegendSymbolMixin={drawRectangle:function(e,t){var i=e.options.symbolHeight||e.fontMetrics.f;t.legendSymbol=this.chart.renderer.rect(0,e.baseline-i+1,e.symbolWidth,i,e.options.symbolRadius||0).attr({zIndex:3}).add(t.legendGroup)},drawLineMarker:function(e){var t,i=this.options,n=i.marker;t=e.symbolWidth;var r,o=this.chart.renderer,a=this.legendGroup,e=e.baseline-le(.3*e.fontMetrics.b);i.lineWidth&&(r={"stroke-width":i.lineWidth},i.dashStyle&&(r.dashstyle=i.dashStyle),this.legendLine=o.path(["M",0,e,"L",t,e]).attr(r).add(a)),n&&n.enabled!==!1&&(i=n.radius,this.legendSymbol=t=o.symbol(this.symbol,t/2-i,e-i,2*i,2*i).add(a),t.isMarker=!0)}},(/Trident\/7\.0/.test(ye)||Ee)&&ze(_t.prototype,"positionItem",function(e,t){var i=this,n=function(){t._legendItemPos&&e.call(i,t)};n(),setTimeout(n)}),Ge=re.Chart=function(){this.init.apply(this,arguments)},Ge.prototype={callbacks:[],init:function(t,i){var n,r=t.series;t.series=null,n=e(O,t),n.series=t.series=r,this.userOptions=t,r=n.chart,this.margin=this.splashArray("margin",r),this.spacing=this.splashArray("spacing",r);var o=r.events;this.bounds={h:{},v:{}},this.callback=i,this.isResizing=0,this.options=n,this.axes=[],this.series=[],this.hasCartesianSeries=r.showAxes;var a,s=this;if(s.index=Se.length,Se.push(s),Pe++,r.reflow!==!1&&Ke(s,"load",function(){s.initReflow()}),o)for(a in o)Ke(s,a,o[a]);s.xAxis=[],s.yAxis=[],s.animation=!Te&&Ue(r.animation,!0),s.pointCount=s.colorCounter=s.symbolCounter=0,s.firstRender()},initSeries:function(e){var t=this.options.chart;return(t=He[e.type||t.type||t.defaultSeriesType])||C(17,!0),t=new t,t.init(this,e),t},isInsidePlot:function(e,t,i){var n=i?t:e,e=i?e:t;return n>=0&&n<=this.plotWidth&&e>=0&&e<=this.plotHeight},redraw:function(e){var t,i,n=this.axes,r=this.series,o=this.pointer,a=this.legend,s=this.isDirtyLegend,l=this.hasCartesianSeries,c=this.isDirtyBox,u=r.length,d=u,h=this.renderer,p=h.isHidden(),f=[];for($(e,this),p&&this.cloneRenderTo(),this.layOutTitles();d--;)if(e=r[d],e.options.stacking&&(t=!0,e.isDirty)){i=!0;break}if(i)for(d=u;d--;)e=r[d],e.options.stacking&&(e.isDirty=!0);Ye(r,function(e){e.isDirty&&"point"===e.options.legendType&&(e.updateTotals&&e.updateTotals(),s=!0)}),s&&a.options.enabled&&(a.render(),this.isDirtyLegend=!1),t&&this.getStacks(),l&&!this.isResizing&&(this.maxTicks=null,Ye(n,function(e){e.setScale()})),this.getMargins(),l&&(Ye(n,function(e){e.isDirty&&(c=!0)}),Ye(n,function(e){e.isDirtyExtremes&&(e.isDirtyExtremes=!1,f.push(function(){et(e,"afterSetExtremes",Fe(e.eventArgs,e.getExtremes())),delete e.eventArgs})),(c||t)&&e.redraw()})),c&&this.drawChartBox(),Ye(r,function(e){e.isDirty&&e.visible&&(!e.isCartesian||e.xAxis)&&e.redraw()}),o&&o.reset(!0),h.draw(),et(this,"redraw"),p&&this.cloneRenderTo(!0),Ye(f,function(e){e.call()})},get:function(e){var t,i,n=this.axes,r=this.series;for(t=0;t<n.length;t++)if(n[t].options.id===e)return n[t];for(t=0;t<r.length;t++)if(r[t].options.id===e)return r[t];for(t=0;t<r.length;t++)for(i=r[t].points||[],n=0;n<i.length;n++)if(i[n].id===e)return i[n];return null},getAxes:function(){var e=this,t=this.options,i=t.xAxis=d(t.xAxis||{}),t=t.yAxis=d(t.yAxis||{});Ye(i,function(e,t){e.index=t,e.isX=!0}),Ye(t,function(e,t){e.index=t}),i=i.concat(t),Ye(i,function(t){new ht(e,t)})},getSelectedPoints:function(){var e=[];return Ye(this.series,function(t){e=e.concat(Je(t.points||[],function(e){return e.selected}))}),e},getSelectedSeries:function(){return Je(this.series,function(e){return e.selected})},getStacks:function(){var e=this;Ye(e.yAxis,function(e){e.stacks&&e.hasVisibleSeries&&(e.oldStacks=e.stacks)}),Ye(e.series,function(t){!t.options.stacking||t.visible!==!0&&e.options.chart.ignoreHiddenSeries!==!1||(t.stackKey=t.type+Ue(t.options.stack,""))})},setTitle:function(t,i,n){var r,o,a=this,s=a.options;o=s.title=e(s.title,t),r=s.subtitle=e(s.subtitle,i),s=r,Ye([["title",t,o],["subtitle",i,s]],function(e){var t=e[0],i=a[t],n=e[1],e=e[2];i&&n&&(a[t]=i=i.destroy()),e&&e.text&&!i&&(a[t]=a.renderer.text(e.text,0,0,e.useHTML).attr({align:e.align,class:"highcharts-"+t,zIndex:e.zIndex||4}).css(e.style).add())}),a.layOutTitles(n)},layOutTitles:function(e){var t=0,i=this.title,n=this.subtitle,r=this.options,o=r.title,r=r.subtitle,a=this.renderer,s=this.spacingBox.width-44;!i||(i.css({width:(o.width||s)+"px"}).align(Fe({y:a.fontMetrics(o.style.fontSize,i).b-3},o),!1,"spacingBox"),o.floating||o.verticalAlign)||(t=i.getBBox().height),n&&(n.css({width:(r.width||s)+"px"}).align(Fe({y:t+(o.margin-13)+a.fontMetrics(o.style.fontSize,n).b},r),!1,"spacingBox"),!r.floating&&!r.verticalAlign&&(t=ue(t+n.getBBox().height))),i=this.titleOffset!==t,this.titleOffset=t,!this.isDirtyBox&&i&&(this.isDirtyBox=i,this.hasRendered&&Ue(e,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var e=this.options.chart,t=e.width,e=e.height,i=this.renderToClone||this.renderTo;c(t)||(this.containerWidth=We(i,"width")),c(e)||(this.containerHeight=We(i,"height")),this.chartWidth=de(0,t||this.containerWidth||600),this.chartHeight=de(0,Ue(e,this.containerHeight>19?this.containerHeight:400))},cloneRenderTo:function(e){var t=this.renderToClone,i=this.container;e?t&&(this.renderTo.appendChild(i),A(t),delete this.renderToClone):(i&&i.parentNode===this.renderTo&&this.renderTo.removeChild(i),this.renderToClone=t=this.renderTo.cloneNode(0),h(t,{position:"absolute",top:"-9999px",display:"block"}),t.style.setProperty&&t.style.setProperty("display","block","important"),oe.body.appendChild(t),i&&t.appendChild(i))},getContainer:function(){var e,n,r,o,a=this.options.chart;this.renderTo=e=a.renderTo,o="highcharts-"+De++,i(e)&&(this.renderTo=e=oe.getElementById(e)),e||C(13,!0),n=t(u(e,"data-highcharts-chart")),!isNaN(n)&&Se[n]&&Se[n].hasRendered&&Se[n].destroy(),u(e,"data-highcharts-chart",this.index),e.innerHTML="",!a.skipClone&&!e.offsetWidth&&this.cloneRenderTo(),this.getChartSize(),n=this.chartWidth,r=this.chartHeight,this.container=e=p(Ne,{className:"highcharts-container"+(a.className?" "+a.className:""),id:o},Fe({position:"relative",overflow:"hidden",width:n+"px",height:r+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},a.style),this.renderToClone||e),this._cursor=e.style.cursor,this.renderer=a.forExport?new ct(e,n,r,a.style,(!0)):new P(e,n,r,a.style),Te&&this.renderer.create(this,e,n,r),this.renderer.chartIndex=this.index},getMargins:function(e){var t=this.spacing,i=this.margin,n=this.titleOffset;this.resetMargins(),n&&!c(i[0])&&(this.plotTop=de(this.plotTop,n+this.options.title.margin+t[0])),this.legend.adjustMargins(i,t),this.extraBottomMargin&&(this.marginBottom+=this.extraBottomMargin),this.extraTopMargin&&(this.plotTop+=this.extraTopMargin),e||this.getAxisMargins()},getAxisMargins:function(){var e=this,t=e.axisOffset=[0,0,0,0],i=e.margin;e.hasCartesianSeries&&Ye(e.axes,function(e){e.getOffset()}),Ye(Re,function(n,r){c(i[r])||(e[n]+=t[r])}),e.setChartSize()},reflow:function(e){var t=this,i=t.options.chart,n=t.renderTo,r=i.width||We(n,"width"),o=i.height||We(n,"height"),i=e?e.target:ae,n=function(){t.container&&(t.setSize(r,o,!1),t.hasUserSize=null)};t.hasUserSize||t.isPrinting||!r||!o||i!==ae&&i!==oe||(r===t.containerWidth&&o===t.containerHeight||(clearTimeout(t.reflowTimeout),e?t.reflowTimeout=setTimeout(n,100):n()),t.containerWidth=r,t.containerHeight=o)},initReflow:function(){var e=this,t=function(t){e.reflow(t)};Ke(ae,"resize",t),Ke(e,"destroy",function(){Qe(ae,"resize",t)})},setSize:function(e,t,i){var n,r,o,a=this;a.isResizing+=1,o=function(){a&&et(a,"endResize",null,function(){a.isResizing-=1})},$(i,a),a.oldChartHeight=a.chartHeight,a.oldChartWidth=a.chartWidth,c(e)&&(a.chartWidth=n=de(0,le(e)),a.hasUserSize=!!n),c(t)&&(a.chartHeight=r=de(0,le(t))),(j?it:h)(a.container,{width:n+"px",height:r+"px"},j),a.setChartSize(!0),a.renderer.setSize(n,r,i),a.maxTicks=null,Ye(a.axes,function(e){e.isDirty=!0,e.setScale()}),Ye(a.series,function(e){e.isDirty=!0}),a.isDirtyLegend=!0,a.isDirtyBox=!0,a.layOutTitles(),a.getMargins(),a.redraw(i),a.oldChartHeight=null,et(a,"resize"),j===!1?o():setTimeout(o,j&&j.duration||500)},setChartSize:function(e){var t,i,n,r,o=this.inverted,a=this.renderer,s=this.chartWidth,l=this.chartHeight,c=this.options.chart,u=this.spacing,d=this.clipOffset;this.plotLeft=t=le(this.plotLeft),this.plotTop=i=le(this.plotTop),this.plotWidth=n=de(0,le(s-t-this.marginRight)),this.plotHeight=r=de(0,le(l-i-this.marginBottom)),this.plotSizeX=o?r:n,this.plotSizeY=o?n:r,this.plotBorderWidth=c.plotBorderWidth||0,this.spacingBox=a.spacingBox={x:u[3],y:u[0],width:s-u[3]-u[1],height:l-u[0]-u[2]},this.plotBox=a.plotBox={x:t,y:i,width:n,height:r},s=2*ce(this.plotBorderWidth/2),o=ue(de(s,d[3])/2),a=ue(de(s,d[0])/2),this.clipBox={x:o,y:a,width:ce(this.plotSizeX-de(s,d[1])/2-o),height:de(0,ce(this.plotSizeY-de(s,d[2])/2-a))},e||Ye(this.axes,function(e){e.setAxisSize(),e.setAxisTranslation()})},resetMargins:function(){var e=this;Ye(Re,function(t,i){e[t]=Ue(e.margin[i],e.spacing[i])}),e.axisOffset=[0,0,0,0],e.clipOffset=[0,0,0,0]},drawChartBox:function(){var e,t=this.options.chart,i=this.renderer,n=this.chartWidth,r=this.chartHeight,o=this.chartBackground,a=this.plotBackground,s=this.plotBorder,l=this.plotBGImage,c=t.borderWidth||0,u=t.backgroundColor,d=t.plotBackgroundColor,h=t.plotBackgroundImage,p=t.plotBorderWidth||0,f=this.plotLeft,m=this.plotTop,g=this.plotWidth,v=this.plotHeight,y=this.plotBox,b=this.clipRect,_=this.clipBox;e=c+(t.shadow?8:0),(c||u)&&(o?o.animate(o.crisp({width:n-e,height:r-e})):(o={fill:u||Ie},c&&(o.stroke=t.borderColor,o["stroke-width"]=c),this.chartBackground=i.rect(e/2,e/2,n-e,r-e,t.borderRadius,c).attr(o).addClass("highcharts-background").add().shadow(t.shadow))),d&&(a?a.animate(y):this.plotBackground=i.rect(f,m,g,v,0).attr({fill:d}).add().shadow(t.plotShadow)),h&&(l?l.animate(y):this.plotBGImage=i.image(h,f,m,g,v).add()),b?b.animate({width:_.width,height:_.height}):this.clipRect=i.clipRect(_),p&&(s?s.animate(s.crisp({x:f,y:m,width:g,height:v,strokeWidth:-p})):this.plotBorder=i.rect(f,m,g,v,0,-p).attr({stroke:t.plotBorderColor,"stroke-width":p,fill:Ie,zIndex:1}).add()),this.isDirtyBox=!1},propFromSeries:function(){var e,t,i,n=this,r=n.options.chart,o=n.options.series;Ye(["inverted","angular","polar"],function(a){for(e=He[r.type||r.defaultSeriesType],i=n[a]||r[a]||e&&e.prototype[a],t=o&&o.length;!i&&t--;)(e=He[o[t].type])&&e.prototype[a]&&(i=!0);n[a]=i})},linkSeries:function(){var e=this,t=e.series;Ye(t,function(e){e.linkedSeries.length=0}),Ye(t,function(t){var n=t.options.linkedTo;i(n)&&(n=":previous"===n?e.series[t.index-1]:e.get(n))&&(n.linkedSeries.push(t),t.linkedParent=n)})},renderSeries:function(){Ye(this.series,function(e){e.translate(),e.render()})},renderLabels:function(){var e=this,i=e.options.labels;i.items&&Ye(i.items,function(n){var r=Fe(i.style,n.style),o=t(r.left)+e.plotLeft,a=t(r.top)+e.plotTop+12;delete r.left,delete r.top,e.renderer.text(n.html,o,a).attr({zIndex:2}).css(r).add()})},render:function(){var e,t,i,n,r=this.axes,o=this.renderer,a=this.options;this.setTitle(),this.legend=new _t(this,a.legend),this.getStacks(),this.getMargins(!0),this.setChartSize(),e=this.plotWidth,t=this.plotHeight-=13,Ye(r,function(e){e.setScale()}),this.getAxisMargins(),i=e/this.plotWidth>1.1,n=t/this.plotHeight>1.1,(i||n)&&(this.maxTicks=null,Ye(r,function(e){(e.horiz&&i||!e.horiz&&n)&&e.setTickInterval(!0)}),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries&&Ye(r,function(e){e.render()}),this.seriesGroup||(this.seriesGroup=o.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.showCredits(a.credits),this.hasRendered=!0},showCredits:function(e){e.enabled&&!this.credits&&(this.credits=this.renderer.text(e.text,0,0).on("click",function(){e.href&&(location.href=e.href)}).attr({align:e.position.align,zIndex:8}).css(e.style).add().align(e.position))},destroy:function(){var e,t=this,i=t.axes,n=t.series,r=t.container,o=r&&r.parentNode;for(et(t,"destroy"),Se[t.index]=S,Pe--,t.renderTo.removeAttribute("data-highcharts-chart"),Qe(t),e=i.length;e--;)i[e]=i[e].destroy();for(e=n.length;e--;)n[e]=n[e].destroy();Ye("title,subtitle,chartBackground,plotBackground,plotBGImage,plotBorder,seriesGroup,clipRect,credits,pointer,scroller,rangeSelector,legend,resetZoomButton,tooltip,renderer".split(","),function(e){var i=t[e];i&&i.destroy&&(t[e]=i.destroy())}),r&&(r.innerHTML="",Qe(r),o&&A(r));for(e in t)delete t[e]},isReadyToRender:function(){var e=this;return!(!ke&&ae==ae.top&&"complete"!==oe.readyState||Te&&!ae.canvg)||(Te?dt.push(function(){e.firstRender()},e.options.global.canvasToolsURL):oe.attachEvent("onreadystatechange",function(){oe.detachEvent("onreadystatechange",e.firstRender),"complete"===oe.readyState&&e.firstRender()}),!1)},firstRender:function(){var e=this,t=e.options,i=e.callback;e.isReadyToRender()&&(e.getContainer(),et(e,"init"),e.resetMargins(),e.setChartSize(),e.propFromSeries(),e.getAxes(),Ye(t.series||[],function(t){e.initSeries(t)}),e.linkSeries(),et(e,"beforeRender"),re.Pointer&&(e.pointer=new mt(e,t)),e.render(),e.renderer.draw(),i&&i.apply(e,[e]),Ye(e.callbacks,function(t){e.index!==S&&t.apply(e,[e])}),et(e,"load"),e.cloneRenderTo(!0))},splashArray:function(e,t){var i=t[e],i=n(i)?i:[i,i,i,i];return[Ue(t[e+"Top"],i[0]),Ue(t[e+"Right"],i[1]),Ue(t[e+"Bottom"],i[2]),Ue(t[e+"Left"],i[3])]}};var wt=re.CenteredSeriesMixin={getCenter:function(){var e,t,i=this.options,n=this.chart,r=2*(i.slicedOffset||0),o=n.plotWidth-2*r,n=n.plotHeight-2*r,a=i.center,a=[Ue(a[0],"50%"),Ue(a[1],"50%"),i.size||"100%",i.innerSize||0],s=he(o,n);
for(e=0;e<4;++e)t=a[e],i=e<2||2===e&&/%$/.test(t),a[e]=(/%$/.test(t)?[o,n,s,a[2]][e]*parseFloat(t)/100:parseFloat(t))+(i?r:0);return a}},xt=function(){};xt.prototype={init:function(e,t,i){return this.series=e,this.color=e.color,this.applyOptions(t,i),this.pointAttr={},e.options.colorByPoint&&(t=e.options.colors||e.chart.options.colors,this.color=this.color||t[e.colorCounter++],e.colorCounter===t.length)&&(e.colorCounter=0),e.chart.pointCount++,this},applyOptions:function(e,t){var i=this.series,n=i.options.pointValKey||i.pointValKey,e=xt.prototype.optionsToObject.call(this,e);return Fe(this,e),this.options=this.options?Fe(this.options,e):e,n&&(this.y=this[n]),this.x===S&&i&&(this.x=t===S?i.autoIncrement():t),this},optionsToObject:function(e){var t={},i=this.series,n=i.options.keys,o=n||i.pointArrayMap||["y"],a=o.length,s=0,l=0;if("number"==typeof e||null===e)t[o[0]]=e;else if(r(e))for(!n&&e.length>a&&(i=typeof e[0],"string"===i?t.name=e[0]:"number"===i&&(t.x=e[0]),s++);l<a;)t[o[l++]]=e[s++];else"object"==typeof e&&(t=e,e.dataLabels&&(i._hasPointLabels=!0),e.marker&&(i._hasPointMarkers=!0));return t},destroy:function(){var e,t=this.series.chart,i=t.hoverPoints;t.pointCount--,i&&(this.setState(),l(i,this),!i.length)&&(t.hoverPoints=null),this===t.hoverPoint&&this.onMouseOut(),(this.graphic||this.dataLabel)&&(Qe(this),this.destroyElements()),this.legendItem&&t.legend.destroyItem(this);for(e in this)this[e]=null},destroyElements:function(){for(var e,t="graphic,dataLabel,dataLabelUpper,group,connector,shadowGroup".split(","),i=6;i--;)e=t[i],this[e]&&(this[e]=this[e].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(e){var t=this.series,i=t.tooltipOptions,n=Ue(i.valueDecimals,""),r=i.valuePrefix||"",o=i.valueSuffix||"";return Ye(t.pointArrayMap||["y"],function(t){t="{point."+t,(r||o)&&(e=e.replace(t+"}",r+t+"}"+o)),e=e.replace(t+"}",t+":,."+n+"f}")}),v(e,{point:this,series:this.series})},firePointEvent:function(e,t,i){var n=this,r=this.series.options;(r.point.events[e]||n.options&&n.options.events&&n.options.events[e])&&this.importEvents(),"click"===e&&r.allowPointSelect&&(i=function(e){n.select&&n.select(null,e.ctrlKey||e.metaKey||e.shiftKey)}),et(this,e,t,i)}};var Et=re.Series=function(){};Et.prototype={isCartesian:!0,type:"line",pointClass:xt,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],init:function(e,t){var i,n,r=this,o=e.series,a=function(e,t){return Ue(e.options.index,e._i)-Ue(t.options.index,t._i)};r.chart=e,r.options=t=r.setOptions(t),r.linkedSeries=[],r.bindAxes(),Fe(r,{name:t.name,state:"",pointAttr:{},visible:t.visible!==!1,selected:t.selected===!0}),Te&&(t.animation=!1),n=t.events;for(i in n)Ke(r,i,n[i]);(n&&n.click||t.point&&t.point.events&&t.point.events.click||t.allowPointSelect)&&(e.runTrackerClick=!0),r.getColor(),r.getSymbol(),Ye(r.parallelArrays,function(e){r[e+"Data"]=[]}),r.setData(t.data,!1),r.isCartesian&&(e.hasCartesianSeries=!0),o.push(r),r._i=o.length-1,_(o,a),this.yAxis&&_(this.yAxis.series,a),Ye(o,function(e,t){e.index=t,e.name=e.name||"Series "+(t+1)})},bindAxes:function(){var e,t=this,i=t.options,n=t.chart;Ye(t.axisTypes||[],function(r){Ye(n[r],function(n){e=n.options,(i[r]===e.index||i[r]!==S&&i[r]===e.id||i[r]===S&&0===e.index)&&(n.series.push(t),t[r]=n,n.isDirty=!0)}),!t[r]&&t.optionalAxis!==r&&C(18,!0)})},updateParallelArrays:function(e,t){var i=e.series,n=arguments;Ye(i.parallelArrays,"number"==typeof t?function(n){var r="y"===n&&i.toYData?i.toYData(e):e[n];i[n+"Data"][t]=r}:function(e){Array.prototype[t].apply(i[e+"Data"],Array.prototype.slice.call(n,2))})},autoIncrement:function(){var e,t=this.options,i=this.xIncrement,n=t.pointIntervalUnit,i=Ue(i,t.pointStart,0);return this.pointInterval=e=Ue(this.pointInterval,t.pointInterval,1),"month"!==n&&"year"!==n||(t=new U(i),t="month"===n?+t[ie](t[J]()+e):+t[ne](t[Z]()+e),e=t-i),this.xIncrement=i+e,i},getSegments:function(){var e,t=-1,i=[],n=this.points,r=n.length;if(r)if(this.options.connectNulls){for(e=r;e--;)null===n[e].y&&n.splice(e,1);n.length&&(i=[n])}else Ye(n,function(e,o){null===e.y?(o>t+1&&i.push(n.slice(t+1,o)),t=o):o===r-1&&i.push(n.slice(t+1,o+1))});this.segments=i},setOptions:function(t){var i=this.chart,n=i.options.plotOptions,i=i.userOptions||{},r=i.plotOptions||{},o=n[this.type];return this.userOptions=t,n=e(o,n.series,t),this.tooltipOptions=e(O.tooltip,O.plotOptions[this.type].tooltip,i.tooltip,r.series&&r.series.tooltip,r[this.type]&&r[this.type].tooltip,t.tooltip),null===o.marker&&delete n.marker,this.zoneAxis=n.zoneAxis,t=this.zones=(n.zones||[]).slice(),!n.negativeColor&&!n.negativeFillColor||n.zones||t.push({value:n[this.zoneAxis+"Threshold"]||n.threshold||0,color:n.negativeColor,fillColor:n.negativeFillColor}),t.length&&c(t[t.length-1].value)&&t.push({color:this.color,fillColor:this.fillColor}),n},getCyclic:function(e,t,i){var n=this.userOptions,r="_"+e+"Index",o=e+"Counter";t||(c(n[r])?t=n[r]:(n[r]=t=this.chart[o]%i.length,this.chart[o]+=1),t=i[t]),this[e]=t},getColor:function(){this.options.colorByPoint||this.getCyclic("color",this.options.color||rt[this.type].color,this.chart.options.colors)},getSymbol:function(){var e=this.options.marker;this.getCyclic("symbol",e.symbol,this.chart.options.symbols),/^url/.test(this.symbol)&&(e.radius=0)},drawLegendSymbol:ut.drawLineMarker,setData:function(e,t,n,a){var s,l=this,c=l.points,u=c&&c.length||0,d=l.options,h=l.chart,p=null,f=l.xAxis,m=f&&!!f.categories,g=d.turboThreshold,v=this.xData,y=this.yData,b=(s=l.pointArrayMap)&&s.length,e=e||[];if(s=e.length,t=Ue(t,!0),a!==!1&&s&&u===s&&!l.cropped&&!l.hasGroupedData&&l.visible)Ye(e,function(e,t){c[t].update&&c[t].update(e,!1,null,!1)});else{if(l.xIncrement=null,l.pointRange=m?1:d.pointRange,l.colorCounter=0,Ye(this.parallelArrays,function(e){l[e+"Data"].length=0}),g&&s>g){for(n=0;null===p&&n<s;)p=e[n],n++;if(o(p)){for(m=Ue(d.pointStart,0),d=Ue(d.pointInterval,1),n=0;n<s;n++)v[n]=m,y[n]=e[n],m+=d;l.xIncrement=m}else if(r(p))if(b)for(n=0;n<s;n++)d=e[n],v[n]=d[0],y[n]=d.slice(1,b+1);else for(n=0;n<s;n++)d=e[n],v[n]=d[0],y[n]=d[1];else C(12)}else for(n=0;n<s;n++)e[n]!==S&&(d={series:l},l.pointClass.prototype.applyOptions.apply(d,[e[n]]),l.updateParallelArrays(d,n),m&&d.name)&&(f.names[d.x]=d.name);for(i(y[0])&&C(14,!0),l.data=[],l.options.data=e,n=u;n--;)c[n]&&c[n].destroy&&c[n].destroy();f&&(f.minRange=f.userMinRange),l.isDirty=l.isDirtyData=h.isDirtyBox=!0,n=!1}t&&h.redraw(n)},processData:function(e){var t,i=this.xData,n=this.yData,r=i.length;t=0;var o,a,s,l=this.xAxis,c=this.options;s=c.cropThreshold;var u,d,h=this.isCartesian;if(h&&!this.isDirty&&!l.isDirty&&!this.yAxis.isDirty&&!e)return!1;for(l&&(e=l.getExtremes(),u=e.min,d=e.max),h&&this.sorted&&(!s||r>s||this.forceCrop)&&(i[r-1]<u||i[0]>d?(i=[],n=[]):(i[0]<u||i[r-1]>d)&&(t=this.cropData(this.xData,this.yData,u,d),i=t.xData,n=t.yData,t=t.start,o=!0)),s=i.length-1;s>=0;s--)r=i[s]-i[s-1],r>0&&(a===S||r<a)?a=r:r<0&&this.requireSorting&&C(15);this.cropped=o,this.cropStart=t,this.processedXData=i,this.processedYData=n,null===c.pointRange&&(this.pointRange=a||1),this.closestPointRange=a},cropData:function(e,t,i,n){var r,o=e.length,a=0,s=o,l=Ue(this.cropShoulder,1);for(r=0;r<o;r++)if(e[r]>=i){a=de(0,r-l);break}for(;r<o;r++)if(e[r]>n){s=r+l;break}return{xData:e.slice(a,s),yData:t.slice(a,s),start:a,end:s}},generatePoints:function(){var e,t,i,n,r=this.options.data,o=this.data,a=this.processedXData,s=this.processedYData,l=this.pointClass,c=a.length,u=this.cropStart||0,h=this.hasGroupedData,p=[];for(o||h||(o=[],o.length=r.length,o=this.data=o),n=0;n<c;n++)t=u+n,h?p[n]=(new l).init(this,[a[n]].concat(d(s[n]))):(o[t]?i=o[t]:r[t]!==S&&(o[t]=i=(new l).init(this,r[t],a[n])),p[n]=i),p[n].index=t;if(o&&(c!==(e=o.length)||h))for(n=0;n<e;n++)n===u&&!h&&(n+=c),o[n]&&(o[n].destroyElements(),o[n].plotX=S);this.data=o,this.points=p},getExtremes:function(e){var t,i=this.yAxis,n=this.processedXData,r=[],o=0;t=this.xAxis.getExtremes();var a,s,l,c,u=t.min,d=t.max,e=e||this.stackedYData||this.processedYData;for(t=e.length,c=0;c<t;c++)if(s=n[c],l=e[c],a=null!==l&&l!==S&&(!i.isLog||l.length||l>0),s=this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||(n[c+1]||s)>=u&&(n[c-1]||s)<=d,a&&s)if(a=l.length)for(;a--;)null!==l[a]&&(r[o++]=l[a]);else r[o++]=l;this.dataMin=w(r),this.dataMax=x(r)},translate:function(){this.processedXData||this.processData(),this.generatePoints();for(var e,t,i,n=this.options,r=n.stacking,a=this.xAxis,s=a.categories,l=this.yAxis,u=this.points,d=u.length,h=!!this.modifyValue,p=n.pointPlacement,f="between"===p||o(p),m=n.threshold,g=n.startFromThreshold?m:0,v=Number.MAX_VALUE,n=0;n<d;n++){var y=u[n],b=y.x,_=y.y;t=y.low;var w=r&&l.stacks[(this.negStacks&&_<(g?0:m)?"-":"")+this.stackKey];l.isLog&&null!==_&&_<=0&&(y.y=_=null,C(10)),y.plotX=e=he(de(-1e5,a.translate(b,0,0,0,1,p,"flags"===this.type)),1e5),r&&this.visible&&w&&w[b]&&(w=w[b],_=w.points[this.index+","+n],t=_[0],_=_[1],t===g&&(t=Ue(m,l.min)),l.isLog&&t<=0&&(t=null),y.total=y.stackTotal=w.total,y.percentage=w.total&&y.y/w.total*100,y.stackY=_,w.setOffset(this.pointXOffset||0,this.barW||0)),y.yBottom=c(t)?l.translate(t,0,1,0,1):null,h&&(_=this.modifyValue(_,y)),y.plotY=t="number"==typeof _&&_!==1/0?he(de(-1e5,l.translate(_,0,1,0,1)),1e5):S,y.isInside=t!==S&&t>=0&&t<=l.len&&e>=0&&e<=a.len,y.clientX=f?a.translate(b,0,0,0,1):e,y.negative=y.y<(m||0),y.category=s&&s[y.x]!==S?s[y.x]:y.x,n&&(v=he(v,pe(e-i))),i=e}this.closestPointRangePx=v,this.getSegments()},setClip:function(e){var t=this.chart,i=t.renderer,n=t.inverted,r=this.clipBox,o=r||t.clipBox,a=this.sharedClipKey||["_sharedClip",e&&e.duration,e&&e.easing,o.height].join(","),s=t[a],l=t[a+"m"];s||(e&&(o.width=0,t[a+"m"]=l=i.clipRect(-99,n?-t.plotLeft:-t.plotTop,99,n?t.chartWidth:t.chartHeight)),t[a]=s=i.clipRect(o)),e&&(s.count+=1),this.options.clip!==!1&&(this.group.clip(e||r?s:t.clipRect),this.markerGroup.clip(l),this.sharedClipKey=a),e||(s.count-=1,s.count<=0&&a&&t[a]&&(r||(t[a]=t[a].destroy()),t[a+"m"]&&(t[a+"m"]=t[a+"m"].destroy())))},animate:function(e){var t,i=this.chart,r=this.options.animation;r&&!n(r)&&(r=rt[this.type].animation),e?this.setClip(r):(t=this.sharedClipKey,(e=i[t])&&e.animate({width:i.plotSizeX},r),i[t+"m"]&&i[t+"m"].animate({width:i.plotSizeX+99},r),this.animate=null)},afterAnimate:function(){this.setClip(),et(this,"afterAnimate")},drawPoints:function(){var e,t,i,n,r,o,a,s,l,c,u,d,h=this.points,p=this.chart,f=this.options.marker,m=this.pointAttr[""],g=this.markerGroup,v=Ue(f.enabled,this.xAxis.isRadial,this.closestPointRangePx>2*f.radius);if(f.enabled!==!1||this._hasPointMarkers)for(n=h.length;n--;)r=h[n],t=ce(r.plotX),i=r.plotY,l=r.graphic,c=r.marker||{},u=!!r.marker,e=v&&c.enabled===S||c.enabled,d=r.isInside,e&&i!==S&&!isNaN(i)&&null!==r.y?(e=r.pointAttr[r.selected?"select":""]||m,o=e.r,a=Ue(c.symbol,this.symbol),s=0===a.indexOf("url"),l?l[d?"show":"hide"](!0).animate(Fe({x:t-o,y:i-o},l.symbolName?{width:2*o,height:2*o}:{})):d&&(o>0||s)&&(r.graphic=p.renderer.symbol(a,t-o,i-o,2*o,2*o,u?c:f).attr(e).add(g))):l&&(r.graphic=l.destroy())},convertAttribs:function(e,t,i,n){var r,o,a=this.pointAttrToOptions,s={},e=e||{},t=t||{},i=i||{},n=n||{};for(r in a)o=a[r],s[r]=Ue(e[o],t[r],i[r],n[r]);return s},getAttribs:function(){var e,t=this,i=t.options,n=rt[t.type].marker?i.marker:i,r=n.states,o=r.hover,a=t.color,s=t.options.negativeColor;e={stroke:a,fill:a};var l,u,d=t.points||[],h=[],p=t.pointAttrToOptions;u=t.hasPointSpecificOptions;var f=n.lineColor,m=n.fillColor;l=i.turboThreshold;var g,v=t.zones,y=t.zoneAxis||"y";if(i.marker?(o.radius=o.radius||n.radius+o.radiusPlus,o.lineWidth=o.lineWidth||n.lineWidth+o.lineWidthPlus):(o.color=o.color||lt(o.color||a).brighten(o.brightness).get(),o.negativeColor=o.negativeColor||lt(o.negativeColor||s).brighten(o.brightness).get()),h[""]=t.convertAttribs(n,e),Ye(["hover","select"],function(e){h[e]=t.convertAttribs(r[e],h[""])}),t.pointAttr=h,a=d.length,!l||a<l||u)for(;a--;){if(l=d[a],(n=l.options&&l.options.marker||l.options)&&n.enabled===!1&&(n.radius=0),v.length){for(u=0,e=v[u];l[y]>=e.value;)e=v[++u];l.color=l.fillColor=e.color}if(u=i.colorByPoint||l.color,l.options)for(g in p)c(n[p[g]])&&(u=!0);u?(n=n||{},u=[],r=n.states||{},e=r.hover=r.hover||{},i.marker||(e.color=e.color||!l.options.color&&o[l.negative&&s?"negativeColor":"color"]||lt(l.color).brighten(e.brightness||o.brightness).get()),e={color:l.color},m||(e.fillColor=l.color),f||(e.lineColor=l.color),n.hasOwnProperty("color")&&!n.color&&delete n.color,u[""]=t.convertAttribs(Fe(e,n),h[""]),u.hover=t.convertAttribs(r.hover,h.hover,u[""]),u.select=t.convertAttribs(r.select,h.select,u[""])):u=h,l.pointAttr=u}},destroy:function(){var e,t,i,n,r=this,o=r.chart,a=/AppleWebKit\/533/.test(ye),s=r.data||[];for(et(r,"destroy"),Qe(r),Ye(r.axisTypes||[],function(e){(n=r[e])&&(l(n.series,r),n.isDirty=n.forceRedraw=!0)}),r.legendItem&&r.chart.legend.destroyItem(r),e=s.length;e--;)(t=s[e])&&t.destroy&&t.destroy();r.points=null,clearTimeout(r.animationTimeout);for(i in r)r[i]instanceof L&&!r[i].survive&&(e=a&&"group"===i?"hide":"destroy",r[i][e]());o.hoverSeries===r&&(o.hoverSeries=null),l(o.series,r);for(i in r)delete r[i]},getSegmentPath:function(e){var t=this,i=[],n=t.options.step;return Ye(e,function(r,o){var a,s=r.plotX,l=r.plotY;t.getPointSpline?i.push.apply(i,t.getPointSpline(e,r,o)):(i.push(o?"L":"M"),n&&o&&(a=e[o-1],"right"===n?i.push(a.plotX,l):"center"===n?i.push((a.plotX+s)/2,a.plotY,(a.plotX+s)/2,l):i.push(s,a.plotY)),i.push(r.plotX,r.plotY))}),i},getGraphPath:function(){var e,t=this,i=[],n=[];return Ye(t.segments,function(r){e=t.getSegmentPath(r),r.length>1?i=i.concat(e):n.push(r[0])}),t.singlePoints=n,t.graphPath=i},drawGraph:function(){var e=this,t=this.options,i=[["graph",t.lineColor||this.color,t.dashStyle]],n=t.lineWidth,r="square"!==t.linecap,o=this.getGraphPath(),a=this.fillGraph&&this.color||Ie;Ye(this.zones,function(n,r){i.push(["zoneGraph"+r,n.color||e.color,n.dashStyle||t.dashStyle])}),Ye(i,function(i,s){var l=i[0],c=e[l];c?(nt(c),c.animate({d:o})):(n||a)&&o.length&&(c={stroke:i[1],"stroke-width":n,fill:a,zIndex:1},i[2]?c.dashstyle=i[2]:r&&(c["stroke-linecap"]=c["stroke-linejoin"]="round"),e[l]=e.chart.renderer.path(o).attr(c).add(e.group).shadow(s<2&&t.shadow))})},applyZones:function(){var e,t,i,n,r,o,a,s=this,l=this.chart,c=l.renderer,u=this.zones,d=this.clips||[],h=this.graph,p=this.area,f=de(l.chartWidth,l.chartHeight),m=this[(this.zoneAxis||"y")+"Axis"],g=m.reversed,v=l.inverted,y=m.horiz,b=!1;u.length&&(h||p)&&(h&&h.hide(),p&&p.hide(),n=m.getExtremes(),Ye(u,function(u,_){e=g?y?l.plotWidth:0:y?0:m.toPixels(n.min),e=he(de(Ue(t,e),0),f),t=he(de(le(m.toPixels(Ue(u.value,n.max),!0)),0),f),b&&(e=t=m.toPixels(n.max)),r=Math.abs(e-t),o=he(e,t),a=de(e,t),m.isXAxis?(i={x:v?a:o,y:0,width:r,height:f},y||(i.x=l.plotHeight-i.x)):(i={x:0,y:v?a:o,width:f,height:r},y&&(i.y=l.plotWidth-i.y)),l.inverted&&c.isVML&&(i=m.isXAxis?{x:0,y:g?o:a,height:i.width,width:l.chartWidth}:{x:i.y-l.plotLeft-l.spacingBox.x,y:0,width:i.height,height:l.chartHeight}),d[_]?d[_].animate(i):(d[_]=c.clipRect(i),h&&s["zoneGraph"+_].clip(d[_]),p&&s["zoneArea"+_].clip(d[_])),b=u.value>n.max}),this.clips=d)},invertGroups:function(){function e(){var e={width:t.yAxis.len,height:t.xAxis.len};Ye(["group","markerGroup"],function(i){t[i]&&t[i].attr(e).invert()})}var t=this,i=t.chart;t.xAxis&&(Ke(i,"resize",e),Ke(t,"destroy",function(){Qe(i,"resize",e)}),e(),t.invertGroups=e)},plotGroup:function(e,t,i,n,r){var o=this[e],a=!o;return a&&(this[e]=o=this.chart.renderer.g(t).attr({visibility:i,zIndex:n||.1}).add(r)),o[a?"attr":"animate"](this.getPlotBox()),o},getPlotBox:function(){var e=this.chart,t=this.xAxis,i=this.yAxis;return e.inverted&&(t=i,i=this.xAxis),{translateX:t?t.left:e.plotLeft,translateY:i?i.top:e.plotTop,scaleX:1,scaleY:1}},render:function(){var e,t=this,i=t.chart,n=t.options,r=(e=n.animation)&&!!t.animate&&i.renderer.isSVG&&Ue(e.duration,500)||0,o=t.visible?"visible":"hidden",a=n.zIndex,s=t.hasRendered,l=i.seriesGroup;e=t.plotGroup("group","series",o,a,l),t.markerGroup=t.plotGroup("markerGroup","markers",o,a,l),r&&t.animate(!0),t.getAttribs(),e.inverted=!!t.isCartesian&&i.inverted,t.drawGraph&&(t.drawGraph(),t.applyZones()),Ye(t.points,function(e){e.redraw&&e.redraw()}),t.drawDataLabels&&t.drawDataLabels(),t.visible&&t.drawPoints(),t.drawTracker&&t.options.enableMouseTracking!==!1&&t.drawTracker(),i.inverted&&t.invertGroups(),n.clip!==!1&&!t.sharedClipKey&&!s&&e.clip(i.clipRect),r&&t.animate(),s||(r?t.animationTimeout=setTimeout(function(){t.afterAnimate()},r):t.afterAnimate()),t.isDirty=t.isDirtyData=!1,t.hasRendered=!0},redraw:function(){var e=this.chart,t=this.isDirtyData,i=this.isDirty,n=this.group,r=this.xAxis,o=this.yAxis;n&&(e.inverted&&n.attr({width:e.plotWidth,height:e.plotHeight}),n.animate({translateX:Ue(r&&r.left,e.plotLeft),translateY:Ue(o&&o.top,e.plotTop)})),this.translate(),this.render(),t&&et(this,"updatedData"),(i||t)&&delete this.kdTree},kdDimensions:1,kdAxisArray:["clientX","plotY"],searchPoint:function(e,t){var i=this.xAxis,n=this.yAxis,r=this.chart.inverted;return this.searchKDTree({clientX:r?i.len-e.chartY+i.pos:e.chartX-i.pos,plotY:r?n.len-e.chartX+n.pos:e.chartY-n.pos},t)},buildKDTree:function(){function e(t,n,r){var o,a;if(a=t&&t.length)return o=i.kdAxisArray[n%r],t.sort(function(e,t){return e[o]-t[o]}),a=Math.floor(a/2),{point:t[a],left:e(t.slice(0,a),n+1,r),right:e(t.slice(a+1),n+1,r)}}function t(){var t=Je(i.points,function(e){return null!==e.y});i.kdTree=e(t,n,n)}var i=this,n=i.kdDimensions;delete i.kdTree,i.options.kdSync?t():setTimeout(t)},searchKDTree:function(e,t){function i(e,t,s,l){var u,d,h=t.point,p=n.kdAxisArray[s%l],f=h;return d=c(e[r])&&c(h[r])?Math.pow(e[r]-h[r],2):null,u=c(e[o])&&c(h[o])?Math.pow(e[o]-h[o],2):null,u=(d||0)+(u||0),h.dist=c(u)?Math.sqrt(u):Number.MAX_VALUE,h.distX=c(d)?Math.sqrt(d):Number.MAX_VALUE,p=e[p]-h[p],u=p<0?"left":"right",d=p<0?"right":"left",t[u]&&(u=i(e,t[u],s+1,l),f=u[a]<f[a]?u:h),t[d]&&Math.sqrt(p*p)<f[a]&&(e=i(e,t[d],s+1,l),f=e[a]<f[a]?e:f),f}var n=this,r=this.kdAxisArray[0],o=this.kdAxisArray[1],a=t?"distX":"dist";if(this.kdTree||this.buildKDTree(),this.kdTree)return i(e,this.kdTree,this.kdDimensions,this.kdDimensions)}},M.prototype={destroy:function(){E(this,this.axis)},render:function(e){var t=this.options,i=t.format,i=i?v(i,this):t.formatter.call(this);this.label?this.label.attr({text:i,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(i,null,null,t.useHTML).css(t.style).attr({align:this.textAlign,rotation:t.rotation,visibility:"hidden"}).add(e)},setOffset:function(e,t){var i=this.axis,n=i.chart,r=n.inverted,o=i.reversed,o=this.isNegative&&!o||!this.isNegative&&o,a=i.translate(i.usePercentage?100:this.total,0,0,0,1),i=i.translate(0),i=pe(a-i),s=n.xAxis[0].translate(this.x)+e,l=n.plotHeight,o={x:r?o?a:a-i:s,y:r?l-s-t:o?l-a-i:l-a,width:r?i:t,height:r?t:i};(r=this.label)&&(r.align(this.alignOptions,null,o),o=r.alignAttr,r[this.options.crop===!1||n.isInsidePlot(o.x,o.y)?"show":"hide"](!0))}},ht.prototype.buildStacks=function(){var e=this.series,t=Ue(this.options.reversedStacks,!0),i=e.length;if(!this.isXAxis){for(this.usePercentage=!1;i--;)e[t?i:e.length-i-1].setStackedPoints();if(this.usePercentage)for(i=0;i<e.length;i++)e[i].setPercentStacks()}},ht.prototype.renderStackTotals=function(){var e,t,i=this.chart,n=i.renderer,r=this.stacks,o=this.stackTotalGroup;o||(this.stackTotalGroup=o=n.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()),o.translate(i.plotLeft,i.plotTop);for(e in r)for(t in i=r[e])i[t].render(o)},Et.prototype.setStackedPoints=function(){if(this.options.stacking&&(this.visible===!0||this.chart.options.chart.ignoreHiddenSeries===!1)){var e,t,i,n,r,o,a=this.processedXData,s=this.processedYData,l=[],c=s.length,u=this.options,d=u.threshold,h=u.startFromThreshold?d:0,p=u.stack,u=u.stacking,f=this.stackKey,m="-"+f,g=this.negStacks,v=this.yAxis,y=v.stacks,b=v.oldStacks;for(n=0;n<c;n++)r=a[n],o=s[n],i=this.index+","+n,t=(e=g&&o<(h?0:d))?m:f,y[t]||(y[t]={}),y[t][r]||(b[t]&&b[t][r]?(y[t][r]=b[t][r],y[t][r].total=null):y[t][r]=new M(v,v.options.stackLabels,e,r,p)),t=y[t][r],t.points[i]=[Ue(t.cum,h)],"percent"===u?(e=e?f:m,g&&y[e]&&y[e][r]?(e=y[e][r],t.total=e.total=de(e.total,t.total)+pe(o)||0):t.total=k(t.total+(pe(o)||0))):t.total=k(t.total+(o||0)),t.cum=Ue(t.cum,h)+(o||0),t.points[i].push(t.cum),l[n]=t.cum;"percent"===u&&(v.usePercentage=!0),this.stackedYData=l,v.oldStacks={}}},Et.prototype.setPercentStacks=function(){var e=this,t=e.stackKey,i=e.yAxis.stacks,n=e.processedXData;Ye([t,"-"+t],function(t){for(var r,o,a,s=n.length;s--;)o=n[s],r=(a=i[t]&&i[t][o])&&a.points[e.index+","+s],(o=r)&&(a=a.total?100/a.total:0,o[0]=k(o[0]*a),o[1]=k(o[1]*a),e.stackedYData[s]=o[1])})},Fe(Ge.prototype,{addSeries:function(e,t,i){var n,r=this;return e&&(t=Ue(t,!0),et(r,"addSeries",{options:e},function(){n=r.initSeries(e),r.isDirtyLegend=!0,r.linkSeries(),t&&r.redraw(i)})),n},addAxis:function(t,i,n,r){var o=i?"xAxis":"yAxis",a=this.options;new ht(this,e(t,{index:this[o].length,isX:i})),a[o]=d(a[o]||{}),a[o].push(t),Ue(n,!0)&&this.redraw(r)},showLoading:function(e){var t=this,i=t.options,n=t.loadingDiv,r=i.loading,o=function(){n&&h(n,{left:t.plotLeft+"px",top:t.plotTop+"px",width:t.plotWidth+"px",height:t.plotHeight+"px"})};n||(t.loadingDiv=n=p(Ne,{className:"highcharts-loading"},Fe(r.style,{zIndex:10,display:Ie}),t.container),t.loadingSpan=p("span",null,r.labelStyle,n),Ke(t,"redraw",o)),t.loadingSpan.innerHTML=e||i.lang.loading,t.loadingShown||(h(n,{opacity:0,display:""}),it(n,{opacity:r.style.opacity},{duration:r.showDuration||0}),t.loadingShown=!0),o()},hideLoading:function(){var e=this.options,t=this.loadingDiv;t&&it(t,{opacity:0},{duration:e.loading.hideDuration||100,complete:function(){h(t,{display:Ie})}}),this.loadingShown=!1}}),Fe(xt.prototype,{update:function(e,t,i,o){function a(){l.applyOptions(e),null===l.y&&u&&(l.graphic=u.destroy()),n(e)&&!r(e)&&(l.redraw=function(){u&&(e&&e.marker&&e.marker.symbol?l.graphic=u.destroy():u.attr(l.pointAttr[l.state||""])[l.visible===!1?"hide":"show"]()),e&&e.dataLabels&&l.dataLabel&&(l.dataLabel=l.dataLabel.destroy()),l.redraw=null}),s=l.index,c.updateParallelArrays(l,s),p&&l.name&&(p[l.x]=l.name),h.data[s]=l.options,c.isDirty=c.isDirtyData=!0,!c.fixedBox&&c.hasCartesianSeries&&(d.isDirtyBox=!0),"point"===h.legendType&&(d.isDirtyLegend=!0),t&&d.redraw(i)}var s,l=this,c=l.series,u=l.graphic,d=c.chart,h=c.options,p=c.xAxis&&c.xAxis.names,t=Ue(t,!0);o===!1?a():l.firePointEvent("update",{options:e},a)},remove:function(e,t){this.series.removePoint(Ve(this,this.series.data),e,t)}}),Fe(Et.prototype,{addPoint:function(e,t,i,n){var r,o=this,a=o.options,s=o.data,l=o.graph,c=o.area,u=o.chart,d=o.xAxis&&o.xAxis.names,h=l&&l.shift||0,p=["graph","area"],l=a.data,f=o.xData;if($(n,u),i){for(n=o.zones.length;n--;)p.push("zoneGraph"+n,"zoneArea"+n);Ye(p,function(e){o[e]&&(o[e].shift=h+1)})}if(c&&(c.isArea=!0),t=Ue(t,!0),c={series:o},o.pointClass.prototype.applyOptions.apply(c,[e]),p=c.x,n=f.length,o.requireSorting&&p<f[n-1])for(r=!0;n&&f[n-1]>p;)n--;o.updateParallelArrays(c,"splice",n,0,0),o.updateParallelArrays(c,n),d&&c.name&&(d[p]=c.name),l.splice(n,0,e),r&&(o.data.splice(n,0,null),o.processData()),"point"===a.legendType&&o.generatePoints(),i&&(s[0]&&s[0].remove?s[0].remove(!1):(s.shift(),o.updateParallelArrays(c,"shift"),l.shift())),o.isDirty=!0,o.isDirtyData=!0,t&&(o.getAttribs(),u.redraw())},removePoint:function(e,t,i){var n=this,r=n.data,o=r[e],a=n.points,s=n.chart,l=function(){r.length===a.length&&a.splice(e,1),r.splice(e,1),n.options.data.splice(e,1),n.updateParallelArrays(o||{series:n},"splice",e,1),o&&o.destroy(),n.isDirty=!0,n.isDirtyData=!0,t&&s.redraw()};$(i,s),t=Ue(t,!0),o?o.firePointEvent("remove",null,l):l()},remove:function(e,t){var i=this,n=i.chart,e=Ue(e,!0);i.isRemoving||(i.isRemoving=!0,et(i,"remove",null,function(){i.destroy(),n.isDirtyLegend=n.isDirtyBox=!0,n.linkSeries(),e&&n.redraw(t)})),i.isRemoving=!1},update:function(t,i){var n,r=this,o=this.chart,a=this.userOptions,s=this.type,l=He[s].prototype,c=["group","markerGroup","dataLabelsGroup"];(t.type&&t.type!==s||void 0!==t.zIndex)&&(c.length=0),Ye(c,function(e){c[e]=r[e],delete r[e]}),t=e(a,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},t),this.remove(!1);for(n in l)this[n]=S;Fe(this,He[t.type||s].prototype),Ye(c,function(e){r[e]=c[e]}),this.init(o,t),o.linkSeries(),Ue(i,!0)&&o.redraw(!1)}}),Fe(ht.prototype,{update:function(t,i){var n=this.chart,t=n.options[this.coll][this.options.index]=e(this.userOptions,t);this.destroy(!0),this._addedPlotLB=this.chart._labelPanes=S,this.init(n,Fe(t,{events:S})),n.isDirtyBox=!0,Ue(i,!0)&&n.redraw()},remove:function(e){for(var t=this.chart,i=this.coll,n=this.series,r=n.length;r--;)n[r]&&n[r].remove(!1);l(t.axes,this),l(t[i],this),t.options[i].splice(this.options.index,1),Ye(t[i],function(e,t){e.options.index=t}),this.destroy(),t.isDirtyBox=!0,Ue(e,!0)&&t.redraw()},setTitle:function(e,t){this.update({title:e},t)},setCategories:function(e,t){this.update({categories:e},t)}});var At=f(Et);He.line=At,rt.area=e(Be,{threshold:0});var Ct=f(Et,{type:"area",getSegments:function(){var e,t,i,n,r=this,o=[],a=[],s=[],l=this.xAxis,c=this.yAxis,u=c.stacks[this.stackKey],d={},h=this.points,p=this.options.connectNulls;if(this.options.stacking&&!this.cropped){for(i=0;i<h.length;i++)d[h[i].x]=h[i];for(n in u)null!==u[n].total&&s.push(+n);s.sort(function(e,t){return e-t}),Ye(s,function(n){var o,s=0;if(!p||d[n]&&null!==d[n].y)if(d[n])a.push(d[n]);else{for(i=r.index;i<=c.series.length;i++)if(o=u[n].points[i+","+n]){s=o[1];break}e=l.translate(n),t=c.toPixels(s,!0),a.push({y:null,plotX:e,clientX:e,plotY:t,yBottom:t,onMouseOver:Me})}}),a.length&&o.push(a)}else Et.prototype.getSegments.call(this),o=this.segments;this.segments=o},getSegmentPath:function(e){var t,i=Et.prototype.getSegmentPath.call(this,e),n=[].concat(i),r=this.options;t=i.length;var o,a=this.yAxis.getThreshold(r.threshold);if(3===t&&n.push("L",i[1],i[2]),r.stacking&&!this.closedStacks)for(t=e.length-1;t>=0;t--)o=Ue(e[t].yBottom,a),t<e.length-1&&r.step&&n.push(e[t+1].plotX,o),n.push(e[t].plotX,o);else this.closeSegment(n,e,a);return this.areaPath=this.areaPath.concat(n),i},closeSegment:function(e,t,i){e.push("L",t[t.length-1].plotX,i,"L",t[0].plotX,i)},drawGraph:function(){this.areaPath=[],Et.prototype.drawGraph.apply(this);var e=this,t=this.areaPath,i=this.options,n=[["area",this.color,i.fillColor]];Ye(this.zones,function(t,r){n.push(["zoneArea"+r,t.color||e.color,t.fillColor||i.fillColor])}),Ye(n,function(n){var r=n[0],o=e[r];o?o.animate({d:t}):e[r]=e.chart.renderer.path(t).attr({fill:Ue(n[2],lt(n[1]).setOpacity(Ue(i.fillOpacity,.75)).get()),zIndex:0}).add(e.group)})},drawLegendSymbol:ut.drawRectangle});He.area=Ct,rt.spline=e(Be),At=f(Et,{type:"spline",getPointSpline:function(e,t,i){var n,r,o,a,s=t.plotX,l=t.plotY,c=e[i-1],u=e[i+1];if(c&&u){e=c.plotY,o=u.plotX;var d,u=u.plotY;n=(1.5*s+c.plotX)/2.5,r=(1.5*l+e)/2.5,o=(1.5*s+o)/2.5,a=(1.5*l+u)/2.5,d=(a-r)*(o-s)/(o-n)+l-a,r+=d,a+=d,r>e&&r>l?(r=de(e,l),a=2*l-r):r<e&&r<l&&(r=he(e,l),a=2*l-r),a>u&&a>l?(a=de(u,l),r=2*l-a):a<u&&a<l&&(a=he(u,l),r=2*l-a),t.rightContX=o,t.rightContY=a}return i?(t=["C",c.rightContX||c.plotX,c.rightContY||c.plotY,n||s,r||l,s,l],c.rightContX=c.rightContY=null):t=["M",s,l],t}}),He.spline=At,rt.areaspline=e(rt.area),Ct=Ct.prototype,At=f(At,{type:"areaspline",closedStacks:!0,getSegmentPath:Ct.getSegmentPath,closeSegment:Ct.closeSegment,drawGraph:Ct.drawGraph,drawLegendSymbol:ut.drawRectangle}),He.areaspline=At,rt.column=e(Be,{borderColor:"#FFFFFF",borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:!1,halo:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0}),At=f(Et,{type:"column",pointAttrToOptions:{stroke:"borderColor",fill:"color",r:"borderRadius"},cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){Et.prototype.init.apply(this,arguments);var e=this,t=e.chart;t.hasRendered&&Ye(t.series,function(t){t.type===e.type&&(t.isDirty=!0)})},getColumnMetrics:function(){var e,t,i=this,n=i.options,r=i.xAxis,o=i.yAxis,a=r.reversed,s={},l=0;n.grouping===!1?l=1:Ye(i.chart.series,function(n){var r=n.options,a=n.yAxis;n.type===i.type&&n.visible&&o.len===a.len&&o.pos===a.pos&&(r.stacking?(e=n.stackKey,s[e]===S&&(s[e]=l++),t=s[e]):r.grouping!==!1&&(t=l++),n.columnIndex=t)});var r=he(pe(r.transA)*(r.ordinalSlope||n.pointRange||r.closestPointRange||r.tickInterval||1),r.len),u=r*n.groupPadding,d=(r-2*u)/l,h=n.pointWidth,n=c(h)?(d-h)/2:d*n.pointPadding,h=Ue(h,d-2*n);return i.columnMetrics={width:h,offset:n+(u+((a?l-(i.columnIndex||0):i.columnIndex)||0)*d-r/2)*(a?-1:1)}},translate:function(){var e=this,t=e.chart,i=e.options,n=e.borderWidth=Ue(i.borderWidth,e.closestPointRange*e.xAxis.transA<2?0:1),r=e.yAxis,o=e.translatedThreshold=r.getThreshold(i.threshold),a=Ue(i.minPointLength,5),s=e.getColumnMetrics(),l=s.width,c=e.barW=de(l,1+2*n),u=e.pointXOffset=s.offset,d=-(n%2?.5:0),h=n%2?.5:1;t.inverted&&(o-=.5,t.renderer.isVML&&(h+=1)),i.pointPadding&&(c=ue(c)),Et.prototype.translate.apply(e),Ye(e.points,function(i){var n,s,p=Ue(i.yBottom,o),f=999+pe(p),f=he(de(-f,i.plotY),r.len+f),m=i.plotX+u,g=c,v=he(f,p);n=de(f,p)-v,pe(n)<a&&a&&(n=a,s=!r.reversed&&!i.negative||r.reversed&&i.negative,v=le(pe(v-o)>a?p-a:o-(s?a:0))),i.barX=m,i.pointWidth=l,g=le(m+g)+d,m=le(m)+d,g-=m,p=pe(v)<.5,n=he(le(v+n)+h,9e4),v=le(v)+h,n-=v,p&&(v-=1,n+=1),i.tooltipPos=t.inverted?[r.len+r.pos-t.plotLeft-f,e.xAxis.len-m-g/2,n]:[m+g/2,f+r.pos-t.plotTop,n],i.shapeType="rect",i.shapeArgs={x:m,y:v,width:g,height:n}})},getSymbol:Me,drawLegendSymbol:ut.drawRectangle,drawGraph:Me,drawPoints:function(){var t,i,n=this,r=this.chart,o=n.options,a=r.renderer,s=o.animationLimit||250;Ye(n.points,function(l){var u=l.plotY,d=l.graphic;u===S||isNaN(u)||null===l.y?d&&(l.graphic=d.destroy()):(t=l.shapeArgs,u=c(n.borderWidth)?{"stroke-width":n.borderWidth}:{},i=l.pointAttr[l.selected?"select":""]||n.pointAttr[""],d?(nt(d),d.attr(u)[r.pointCount<s?"animate":"attr"](e(t))):l.graphic=a[l.shapeType](t).attr(u).attr(i).add(n.group).shadow(o.shadow,null,o.stacking&&!o.borderRadius))})},animate:function(e){var t=this.yAxis,i=this.options,n=this.chart.inverted,r={};ke&&(e?(r.scaleY=.001,e=he(t.pos+t.len,de(t.pos,t.toPixels(i.threshold))),n?r.translateX=e-t.len:r.translateY=e,this.group.attr(r)):(r.scaleY=1,r[n?"translateX":"translateY"]=t.pos,this.group.animate(r,this.options.animation),this.animate=null))},remove:function(){var e=this,t=e.chart;t.hasRendered&&Ye(t.series,function(t){t.type===e.type&&(t.isDirty=!0)}),Et.prototype.remove.apply(e,arguments)}}),He.column=At,rt.bar=e(rt.column),Ct=f(At,{type:"bar",inverted:!0}),He.bar=Ct,rt.scatter=e(Be,{lineWidth:0,marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{series.color}">●</span> <span style="font-size: 10px;"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}),Ct=f(Et,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,kdDimensions:2,drawGraph:function(){this.options.lineWidth&&Et.prototype.drawGraph.call(this)}}),He.scatter=Ct,rt.pie=e(Be,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.name},x:0},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{
brightness:.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}}),Be={type:"pie",isCartesian:!1,pointClass:f(xt,{init:function(){xt.prototype.init.apply(this,arguments);var e,t=this;return Fe(t,{visible:t.visible!==!1,name:Ue(t.name,"Slice")}),e=function(e){t.slice("select"===e.type)},Ke(t,"select",e),Ke(t,"unselect",e),t},setVisible:function(e,t){var i=this,n=i.series,r=n.chart,o=n.options.ignoreHiddenPoint,t=Ue(t,o);e!==i.visible&&(i.visible=i.options.visible=e=e===S?!i.visible:e,n.options.data[Ve(i,n.data)]=i.options,Ye(["graphic","dataLabel","connector","shadowGroup"],function(t){i[t]&&i[t][e?"show":"hide"](!0)}),i.legendItem&&r.legend.colorizeItem(i,e),!e&&"hover"===i.state&&i.setState(""),o&&(n.isDirty=!0),t&&r.redraw())},slice:function(e,t,i){var n=this.series;$(i,n.chart),Ue(t,!0),this.sliced=this.options.sliced=e=c(e)?e:!this.sliced,n.options.data[Ve(this,n.data)]=this.options,e=e?this.slicedTranslation:{translateX:0,translateY:0},this.graphic.animate(e),this.shadowGroup&&this.shadowGroup.animate(e)},haloPath:function(e){var t=this.shapeArgs,i=this.series.chart;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(i.plotLeft+t.x,i.plotTop+t.y,t.r+e,t.r+e,{innerR:this.shapeArgs.r,start:t.start,end:t.end})}}),requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},getColor:Me,animate:function(e){var t=this,i=t.points,n=t.startAngleRad;e||(Ye(i,function(e){var i=e.graphic,r=e.shapeArgs;i&&(i.attr({r:e.startR||t.center[3]/2,start:n,end:n}),i.animate({r:r.r,start:r.start,end:r.end},t.options.animation))}),t.animate=null)},setData:function(e,t,i,n){Et.prototype.setData.call(this,e,!1,i,n),this.processData(),this.generatePoints(),Ue(t,!0)&&this.chart.redraw(i)},updateTotals:function(){var e,t,i=0,n=this.points,r=n.length,o=this.options.ignoreHiddenPoint;for(e=0;e<r;e++)t=n[e],i+=o&&!t.visible?0:t.y;for(this.total=i,e=0;e<r;e++)t=n[e],t.percentage=i>0&&(t.visible||!o)?t.y/i*100:0,t.total=i},generatePoints:function(){Et.prototype.generatePoints.call(this),this.updateTotals()},translate:function(e){this.generatePoints();var t,i,n,r,o,a=0,s=this.options,l=s.slicedOffset,c=l+s.borderWidth,u=s.startAngle||0,d=this.startAngleRad=ge/180*(u-90),u=(this.endAngleRad=ge/180*(Ue(s.endAngle,u+360)-90))-d,h=this.points,p=s.dataLabels.distance,s=s.ignoreHiddenPoint,f=h.length;for(e||(this.center=e=this.getCenter()),this.getX=function(t,i){return n=se.asin(he((t-e[1])/(e[2]/2+p),1)),e[0]+(i?-1:1)*fe(n)*(e[2]/2+p)},r=0;r<f;r++)o=h[r],t=d+a*u,s&&!o.visible||(a+=o.percentage/100),i=d+a*u,o.shapeType="arc",o.shapeArgs={x:e[0],y:e[1],r:e[2]/2,innerR:e[3]/2,start:le(1e3*t)/1e3,end:le(1e3*i)/1e3},n=(i+t)/2,n>1.5*ge?n-=2*ge:n<-ge/2&&(n+=2*ge),o.slicedTranslation={translateX:le(fe(n)*l),translateY:le(me(n)*l)},t=fe(n)*e[2]/2,i=me(n)*e[2]/2,o.tooltipPos=[e[0]+.7*t,e[1]+.7*i],o.half=n<-ge/2||n>ge/2?1:0,o.angle=n,c=he(c,p/2),o.labelPos=[e[0]+t+fe(n)*p,e[1]+i+me(n)*p,e[0]+t+fe(n)*c,e[1]+i+me(n)*c,e[0]+t,e[1]+i,p<0?"center":o.half?"right":"left",n]},drawGraph:null,drawPoints:function(){var e,t,i,n,r,o=this,a=o.chart.renderer,s=o.options.shadow;s&&!o.shadowGroup&&(o.shadowGroup=a.g("shadow").add(o.group)),Ye(o.points,function(l){t=l.graphic,n=l.shapeArgs,i=l.shadowGroup,s&&!i&&(i=l.shadowGroup=a.g("shadow").add(o.shadowGroup)),e=l.sliced?l.slicedTranslation:{translateX:0,translateY:0},i&&i.attr(e),t?t.animate(Fe(n,e)):(r={"stroke-linejoin":"round"},l.visible||(r.visibility="hidden"),l.graphic=t=a[l.shapeType](n).setRadialReference(o.center).attr(l.pointAttr[l.selected?"select":""]).attr(r).attr(e).add(o.group).shadow(s,i))})},searchPoint:Me,sortByAngle:function(e,t){e.sort(function(e,i){return void 0!==e.angle&&(i.angle-e.angle)*t})},drawLegendSymbol:ut.drawRectangle,getCenter:wt.getCenter,getSymbol:Me},Be=f(Et,Be),He.pie=Be,Et.prototype.drawDataLabels=function(){var t,i,n,r,o=this,a=o.options,s=a.cursor,l=a.dataLabels,u=o.points,d=o.hasRendered||0,h=o.chart.renderer;(l.enabled||o._hasPointLabels)&&(o.dlProcessOptions&&o.dlProcessOptions(l),r=o.plotGroup("dataLabelsGroup","data-labels",l.defer?"hidden":"visible",l.zIndex||6),Ue(l.defer,!0)&&(r.attr({opacity:+d}),d||Ke(o,"afterAnimate",function(){o.visible&&r.show(),r[a.animation?"animate":"attr"]({opacity:1},{duration:200})})),i=l,Ye(u,function(u){var d,p,f,m,g=u.dataLabel,y=u.connector,b=!0,_={};if(t=u.dlOptions||u.options&&u.options.dataLabels,d=Ue(t&&t.enabled,i.enabled),g&&!d)u.dataLabel=g.destroy();else if(d){if(l=e(i,t),m=l.style,d=l.rotation,p=u.getLabelConfig(),n=l.format?v(l.format,p):l.formatter.call(p,l),m.color=Ue(l.color,m.color,o.color,"black"),g)c(n)?(g.attr({text:n}),b=!1):(u.dataLabel=g=g.destroy(),y&&(u.connector=y.destroy()));else if(c(n)){g={fill:l.backgroundColor,stroke:l.borderColor,"stroke-width":l.borderWidth,r:l.borderRadius||0,rotation:d,padding:l.padding,zIndex:1},"contrast"===m.color&&(_.color=l.inside||l.distance<0||a.stacking?h.getContrast(u.color||o.color):"#000000"),s&&(_.cursor=s);for(f in g)g[f]===S&&delete g[f];g=u.dataLabel=h[d?"text":"label"](n,0,-999,l.shape,null,null,l.useHTML).attr(g).css(Fe(m,_)).add(r).shadow(l.shadow)}g&&o.alignDataLabel(u,g,l,null,b)}}))},Et.prototype.alignDataLabel=function(e,t,i,n,r){var o=this.chart,a=o.inverted,s=Ue(e.plotX,-999),l=Ue(e.plotY,-999),c=t.getBBox(),u=o.renderer.fontMetrics(i.style.fontSize).b,d=this.visible&&(e.series.forceDL||o.isInsidePlot(s,le(l),a)||n&&o.isInsidePlot(s,a?n.x+1:n.y+n.height-1,a));d&&(n=Fe({x:a?o.plotWidth-l:s,y:le(a?o.plotHeight-s:l),width:0,height:0},n),Fe(i,{width:c.width,height:c.height}),i.rotation?(e=o.renderer.rotCorr(u,i.rotation),t[r?"attr":"animate"]({x:n.x+i.x+n.width/2+e.x,y:n.y+i.y+n.height/2}).attr({align:i.align})):(t.align(i,null,n),a=t.alignAttr,"justify"===Ue(i.overflow,"justify")?this.justifyDataLabel(t,i,a,c,n,r):Ue(i.crop,!0)&&(d=o.isInsidePlot(a.x,a.y)&&o.isInsidePlot(a.x+c.width,a.y+c.height)),i.shape&&t.attr({anchorX:e.plotX,anchorY:e.plotY}))),d||(t.attr({y:-999}),t.placed=!1)},Et.prototype.justifyDataLabel=function(e,t,i,n,r,o){var a,s,l=this.chart,c=t.align,u=t.verticalAlign,d=e.box?0:e.padding||0;a=i.x+d,a<0&&("right"===c?t.align="left":t.x=-a,s=!0),a=i.x+n.width-d,a>l.plotWidth&&("left"===c?t.align="right":t.x=l.plotWidth-a,s=!0),a=i.y+d,a<0&&("bottom"===u?t.verticalAlign="top":t.y=-a,s=!0),a=i.y+n.height-d,a>l.plotHeight&&("top"===u?t.verticalAlign="bottom":t.y=l.plotHeight-a,s=!0),s&&(e.placed=!o,e.align(t,null,r))},He.pie&&(He.pie.prototype.drawDataLabels=function(){var e,t,i,n,r,o,a,s,l,c,u,d=this,h=d.data,p=d.chart,f=d.options.dataLabels,m=Ue(f.connectorPadding,10),g=Ue(f.connectorWidth,1),v=p.plotWidth,y=p.plotHeight,b=Ue(f.softConnector,!0),_=f.distance,w=d.center,E=w[2]/2,A=w[1],C=_>0,k=[[],[]],$=[0,0,0,0],T=function(e,t){return t.y-e.y};if(d.visible&&(f.enabled||d._hasPointLabels)){for(Et.prototype.drawDataLabels.apply(d),Ye(h,function(e){e.dataLabel&&e.visible&&k[e.half].push(e)}),c=2;c--;){var L,D=[],M=[],S=k[c],P=S.length;if(P){for(d.sortByAngle(S,c-.5),u=h=0;!h&&S[u];)h=S[u]&&S[u].dataLabel&&(S[u].dataLabel.getBBox().height||21),u++;if(_>0){for(r=he(A+E+_,p.plotHeight),u=de(0,A-E-_);u<=r;u+=h)D.push(u);if(r=D.length,P>r){for(e=[].concat(S),e.sort(T),u=P;u--;)e[u].rank=u;for(u=P;u--;)S[u].rank>=r&&S.splice(u,1);P=S.length}for(u=0;u<P;u++){e=S[u],o=e.labelPos,e=9999;var N,I;for(I=0;I<r;I++)N=pe(D[I]-o[1]),N<e&&(e=N,L=I);if(L<u&&null!==D[u])L=u;else for(r<P-u+L&&null!==D[u]&&(L=r-P+u);null===D[L];)L++;M.push({i:L,y:D[L]}),D[L]=null}M.sort(T)}for(u=0;u<P;u++)e=S[u],o=e.labelPos,n=e.dataLabel,l=e.visible===!1?"hidden":"inherit",e=o[1],_>0?(r=M.pop(),L=r.i,s=r.y,(e>s&&null!==D[L+1]||e<s&&null!==D[L-1])&&(s=he(de(0,e),p.plotHeight))):s=e,a=f.justify?w[0]+(c?-1:1)*(E+_):d.getX(s===A-E-_||s===A+E+_?e:s,c),n._attr={visibility:l,align:o[6]},n._pos={x:a+f.x+({left:m,right:-m}[o[6]]||0),y:s+f.y-10},n.connX=a,n.connY=s,null===this.options.size&&(r=n.width,a-r<m?$[3]=de(le(r-a+m),$[3]):a+r>v-m&&($[1]=de(le(a+r-v+m),$[1])),s-h/2<0?$[0]=de(le(-s+h/2),$[0]):s+h/2>y&&($[2]=de(le(s+h/2-y),$[2])))}}(0===x($)||this.verifyDataLabelOverflow($))&&(this.placeDataLabels(),C&&g&&Ye(this.points,function(e){t=e.connector,o=e.labelPos,(n=e.dataLabel)&&n._pos&&e.visible?(l=n._attr.visibility,a=n.connX,s=n.connY,i=b?["M",a+("left"===o[6]?5:-5),s,"C",a,s,2*o[2]-o[4],2*o[3]-o[5],o[2],o[3],"L",o[4],o[5]]:["M",a+("left"===o[6]?5:-5),s,"L",o[2],o[3],"L",o[4],o[5]],t?(t.animate({d:i}),t.attr("visibility",l)):e.connector=t=d.chart.renderer.path(i).attr({"stroke-width":g,stroke:f.connectorColor||e.color||"#606060",visibility:l}).add(d.dataLabelsGroup)):t&&(e.connector=t.destroy())}))}},He.pie.prototype.placeDataLabels=function(){Ye(this.points,function(e){var t=e.dataLabel;t&&e.visible&&((e=t._pos)?(t.attr(t._attr),t[t.moved?"animate":"attr"](e),t.moved=!0):t&&t.attr({y:-999}))})},He.pie.prototype.alignDataLabel=Me,He.pie.prototype.verifyDataLabelOverflow=function(e){var t,i=this.center,n=this.options,r=n.center,o=n.minSize||80,a=o;return null!==r[0]?a=de(i[2]-de(e[1],e[3]),o):(a=de(i[2]-e[1]-e[3],o),i[0]+=(e[3]-e[1])/2),null!==r[1]?a=de(he(a,i[2]-de(e[0],e[2])),o):(a=de(he(a,i[2]-e[0]-e[2]),o),i[1]+=(e[0]-e[2])/2),a<i[2]?(i[2]=a,i[3]=/%$/.test(n.innerSize||0)?a*parseFloat(n.innerSize||0)/100:parseFloat(n.innerSize||0),this.translate(i),Ye(this.points,function(e){e.dataLabel&&(e.dataLabel._pos=null)}),this.drawDataLabels&&this.drawDataLabels()):t=!0,t}),He.column&&(He.column.prototype.alignDataLabel=function(t,i,n,r,o){var a=this.chart.inverted,s=t.series,l=t.dlBox||t.shapeArgs,c=Ue(t.below,t.plotY>Ue(this.translatedThreshold,s.yAxis.len)),u=Ue(n.inside,!!this.options.stacking);l&&(r=e(l),a&&(r={x:s.yAxis.len-r.y-r.height,y:s.xAxis.len-r.x-r.width,width:r.height,height:r.width}),!u)&&(a?(r.x+=c?0:r.width,r.width=0):(r.y+=c?r.height:0,r.height=0)),n.align=Ue(n.align,!a||u?"center":c?"right":"left"),n.verticalAlign=Ue(n.verticalAlign,a||u?"middle":c?"top":"bottom"),Et.prototype.alignDataLabel.call(this,t,i,n,r,o)}),function(e){var t=e.Chart,i=e.each,n=e.pick,r=HighchartsAdapter.addEvent;t.prototype.callbacks.push(function(e){function t(){var t=[];i(e.series,function(e){var r=e.options.dataLabels;(r.enabled||e._hasPointLabels)&&!r.allowOverlap&&e.visible&&i(e.points,function(e){e.dataLabel&&(e.dataLabel.labelrank=n(e.labelrank,e.shapeArgs&&e.shapeArgs.height),t.push(e.dataLabel))})}),e.hideOverlappingLabels(t)}t(),r(e,"redraw",t)}),t.prototype.hideOverlappingLabels=function(e){var t,i,n,r,o=e.length;for(i=0;i<o;i++)(t=e[i])&&(t.oldOpacity=t.opacity,t.newOpacity=1);for(e.sort(function(e,t){return t.labelrank-e.labelrank}),i=0;i<o;i++)for(n=e[i],t=i+1;t<o;++t)r=e[t],n&&r&&n.placed&&r.placed&&0!==n.newOpacity&&0!==r.newOpacity&&!(r.alignAttr.x>n.alignAttr.x+n.width||r.alignAttr.x+r.width<n.alignAttr.x||r.alignAttr.y>n.alignAttr.y+n.height||r.alignAttr.y+r.height<n.alignAttr.y)&&((n.labelrank<r.labelrank?n:r).newOpacity=0);for(i=0;i<o;i++)(t=e[i])&&(t.oldOpacity!==t.newOpacity&&t.placed&&(t.alignAttr.opacity=t.newOpacity,t[t.isOld&&t.newOpacity?"animate":"attr"](t.alignAttr)),t.isOld=!0)}}(re),Be=re.TrackerMixin={drawTrackerPoint:function(){var e=this,t=e.chart,i=t.pointer,n=e.options.cursor,r=n&&{cursor:n},o=function(e){for(var i,n=e.target;n&&!i;)i=n.point,n=n.parentNode;i!==S&&i!==t.hoverPoint&&i.onMouseOver(e)};Ye(e.points,function(e){e.graphic&&(e.graphic.element.point=e),e.dataLabel&&(e.dataLabel.element.point=e)}),e._hasTracking||(Ye(e.trackerGroups,function(t){e[t]&&(e[t].addClass("highcharts-tracker").on("mouseover",o).on("mouseout",function(e){i.onTrackerMouseOut(e)}).css(r),N)&&e[t].on("touchstart",o)}),e._hasTracking=!0)},drawTrackerGraph:function(){var e,t=this,i=t.options,n=i.trackByArea,r=[].concat(n?t.areaPath:t.graphPath),o=r.length,a=t.chart,s=a.pointer,l=a.renderer,c=a.options.tooltip.snap,u=t.tracker,d=i.cursor,h=d&&{cursor:d},d=t.singlePoints,p=function(){a.hoverSeries!==t&&t.onMouseOver()},f="rgba(192,192,192,"+(ke?1e-4:.002)+")";if(o&&!n)for(e=o+1;e--;)"M"===r[e]&&r.splice(e+1,0,r[e+1]-c,r[e+2],"L"),(e&&"M"===r[e]||e===o)&&r.splice(e,0,"L",r[e-2]+c,r[e-1]);for(e=0;e<d.length;e++)o=d[e],r.push("M",o.plotX-c,o.plotY,"L",o.plotX+c,o.plotY);u?u.attr({d:r}):(t.tracker=l.path(r).attr({"stroke-linejoin":"round",visibility:t.visible?"visible":"hidden",stroke:f,fill:n?f:Ie,"stroke-width":i.lineWidth+(n?0:2*c),zIndex:2}).add(t.group),Ye([t.tracker,t.markerGroup],function(e){e.addClass("highcharts-tracker").on("mouseover",p).on("mouseout",function(e){s.onTrackerMouseOut(e)}).css(h),N&&e.on("touchstart",p)}))}},He.column&&(At.prototype.drawTracker=Be.drawTrackerPoint),He.pie&&(He.pie.prototype.drawTracker=Be.drawTrackerPoint),He.scatter&&(Ct.prototype.drawTracker=Be.drawTrackerPoint),Fe(_t.prototype,{setItemEvents:function(e,t,i,n,r){var o=this;(i?t:e.legendGroup).on("mouseover",function(){e.setState("hover"),t.css(o.options.itemHoverStyle)}).on("mouseout",function(){t.css(e.visible?n:r),e.setState()}).on("click",function(t){var i=function(){e.setVisible()},t={browserEvent:t};e.firePointEvent?e.firePointEvent("legendItemClick",t,i):et(e,"legendItemClick",t,i)})},createCheckboxForItem:function(e){e.checkbox=p("input",{type:"checkbox",checked:e.selected,defaultChecked:e.selected},this.options.itemCheckboxStyle,this.chart.container),Ke(e.checkbox,"click",function(t){et(e.series||e,"checkboxClick",{checked:t.target.checked,item:e},function(){e.select()})})}}),O.legend.itemStyle.cursor="pointer",Fe(Ge.prototype,{showResetZoom:function(){var e=this,t=O.lang,i=e.options.chart.resetZoomButton,n=i.theme,r=n.states,o="chart"===i.relativeTo?null:"plotBox";this.resetZoomButton=e.renderer.button(t.resetZoom,null,null,function(){e.zoomOut()},n,r&&r.hover).attr({align:i.position.align,title:t.resetZoomTitle}).add().align(i.position,!1,o)},zoomOut:function(){var e=this;et(e,"selection",{resetSelection:!0},function(){e.zoom()})},zoom:function(e){var t,i,r=this.pointer,o=!1;!e||e.resetSelection?Ye(this.axes,function(e){t=e.zoom()}):Ye(e.xAxis.concat(e.yAxis),function(e){var i=e.axis,n=i.isXAxis;(r[n?"zoomX":"zoomY"]||r[n?"pinchX":"pinchY"])&&(t=i.zoom(e.min,e.max),i.displayBtn&&(o=!0))}),i=this.resetZoomButton,o&&!i?this.showResetZoom():!o&&n(i)&&(this.resetZoomButton=i.destroy()),t&&this.redraw(Ue(this.options.chart.animation,e&&e.animation,this.pointCount<100))},pan:function(e,t){var i,n=this,r=n.hoverPoints;r&&Ye(r,function(e){e.setState()}),Ye("xy"===t?[1,0]:[1],function(t){var r=e[t?"chartX":"chartY"],o=n[t?"xAxis":"yAxis"][0],a=n[t?"mouseDownX":"mouseDownY"],s=(o.pointRange||0)/2,l=o.getExtremes(),c=o.toValue(a-r,!0)+s,s=o.toValue(a+n[t?"plotWidth":"plotHeight"]-r,!0)-s,a=a>r;o.series.length&&(a||c>he(l.dataMin,l.min))&&(!a||s<de(l.dataMax,l.max))&&(o.setExtremes(c,s,!1,!1,{trigger:"pan"}),i=!0),n[t?"mouseDownX":"mouseDownY"]=r}),i&&n.redraw(!1),h(n.container,{cursor:"move"})}}),Fe(xt.prototype,{select:function(e,t){var i=this,n=i.series,r=n.chart,e=Ue(e,!i.selected);i.firePointEvent(e?"select":"unselect",{accumulate:t},function(){i.selected=i.options.selected=e,n.options.data[Ve(i,n.data)]=i.options,i.setState(e&&"select"),t||Ye(r.getSelectedPoints(),function(e){e.selected&&e!==i&&(e.selected=e.options.selected=!1,n.options.data[Ve(e,n.data)]=e.options,e.setState(""),e.firePointEvent("unselect"))})})},onMouseOver:function(e){var t=this.series,i=t.chart,n=i.tooltip,r=i.hoverPoint;i.hoverSeries!==t&&t.onMouseOver(),r&&r!==this&&r.onMouseOut(),this.series&&(this.firePointEvent("mouseOver"),n&&(!n.shared||t.noSharedTooltip)&&n.refresh(this,e),this.setState("hover"),i.hoverPoint=this)},onMouseOut:function(){var e=this.series.chart,t=e.hoverPoints;this.firePointEvent("mouseOut"),t&&Ve(this,t)!==-1||(this.setState(),e.hoverPoint=null)},importEvents:function(){if(!this.hasImportedEvents){var t,i=e(this.series.options.point,this.options).events;this.events=i;for(t in i)Ke(this,t,i[t]);this.hasImportedEvents=!0}},setState:function(t,i){var n,r=this.plotX,o=this.plotY,a=this.series,s=a.options.states,l=rt[a.type].marker&&a.options.marker,c=l&&!l.enabled,u=l&&l.states[t],d=u&&u.enabled===!1,h=a.stateMarkerGraphic,p=this.marker||{},f=a.chart,m=a.halo,t=t||"";n=this.pointAttr[t]||a.pointAttr[t],t===this.state&&!i||this.selected&&"select"!==t||s[t]&&s[t].enabled===!1||t&&(d||c&&u.enabled===!1)||t&&p.states&&p.states[t]&&p.states[t].enabled===!1||(this.graphic?(l=l&&this.graphic.symbolName&&n.r,this.graphic.attr(e(n,l?{x:r-l,y:o-l,width:2*l,height:2*l}:{})),h&&h.hide()):(t&&u&&(l=u.radius,p=p.symbol||a.symbol,h&&h.currentSymbol!==p&&(h=h.destroy()),h?h[i?"animate":"attr"]({x:r-l,y:o-l}):p&&(a.stateMarkerGraphic=h=f.renderer.symbol(p,r-l,o-l,2*l,2*l).attr(n).add(a.markerGroup),h.currentSymbol=p)),h&&(h[t&&f.isInsidePlot(r,o,f.inverted)?"show":"hide"](),h.element.point=this)),(r=s[t]&&s[t].halo)&&r.size?(m||(a.halo=m=f.renderer.path().add(f.seriesGroup)),m.attr(Fe({fill:lt(this.color||a.color).setOpacity(r.opacity).get()},r.attributes))[i?"animate":"attr"]({d:this.haloPath(r.size)})):m&&m.attr({d:[]}),this.state=t)},haloPath:function(e){var t=this.series,i=t.chart,n=t.getPlotBox(),r=i.inverted;return i.renderer.symbols.circle(n.translateX+(r?t.yAxis.len-this.plotY:this.plotX)-e,n.translateY+(r?t.xAxis.len-this.plotX:this.plotY)-e,2*e,2*e)}}),Fe(Et.prototype,{onMouseOver:function(){var e=this.chart,t=e.hoverSeries;t&&t!==this&&t.onMouseOut(),this.options.events.mouseOver&&et(this,"mouseOver"),this.setState("hover"),e.hoverSeries=this},onMouseOut:function(){var e=this.options,t=this.chart,i=t.tooltip,n=t.hoverPoint;t.hoverSeries=null,n&&n.onMouseOut(),this&&e.events.mouseOut&&et(this,"mouseOut"),i&&!e.stickyTracking&&(!i.shared||this.noSharedTooltip)&&i.hide(),this.setState()},setState:function(e){var t=this.options,i=this.graph,n=t.states,r=t.lineWidth,t=0,e=e||"";if(this.state!==e&&(this.state=e,!(n[e]&&n[e].enabled===!1)&&(e&&(r=n[e].lineWidth||r+(n[e].lineWidthPlus||0)),i&&!i.dashstyle)))for(e={"stroke-width":r},i.attr(e);this["zoneGraph"+t];)this["zoneGraph"+t].attr(e),t+=1},setVisible:function(e,t){var i,n=this,r=n.chart,o=n.legendItem,a=r.options.chart.ignoreHiddenSeries,s=n.visible;i=(n.visible=e=n.userOptions.visible=e===S?!s:e)?"show":"hide",Ye(["group","dataLabelsGroup","markerGroup","tracker"],function(e){n[e]&&n[e][i]()}),r.hoverSeries!==n&&(r.hoverPoint&&r.hoverPoint.series)!==n||n.onMouseOut(),o&&r.legend.colorizeItem(n,e),n.isDirty=!0,n.options.stacking&&Ye(r.series,function(e){e.options.stacking&&e.visible&&(e.isDirty=!0)}),Ye(n.linkedSeries,function(t){t.setVisible(e,!1)}),a&&(r.isDirtyBox=!0),t!==!1&&r.redraw(),et(n,i)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(e){this.selected=e=e===S?!this.selected:e,this.checkbox&&(this.checkbox.checked=e),et(this,e?"select":"unselect")},drawTracker:Be.drawTrackerGraph}),Fe(re,{Color:lt,Point:xt,Tick:D,Renderer:P,SVGElement:L,SVGRenderer:ct,arrayMin:w,arrayMax:x,charts:Se,dateFormat:R,error:C,format:v,pathAnim:H,getOptions:function(){return O},hasBidiBug:$e,isTouchDevice:Ae,setOptions:function(t){return O=e(!0,O,t),T(),O},addEvent:Ke,removeEvent:Qe,createElement:p,discardElement:A,css:h,each:Ye,map:Xe,merge:e,splat:d,extendClass:f,pInt:t,svg:ke,canvas:Te,vml:!ke&&!Te,product:"Highcharts",version:"4.1.7"})}(),function(e,t,i){"use strict";function n(e){var i=[];return l(i,t.noop).chars(e),i.join("")}function r(e){var t={};e=e.split(",");var i;for(i=0;i<e.length;i++)t[e[i]]=!0;return t}function o(e,i){function n(e,n,o,s){if(n=t.lowercase(n),x[n])for(;y.last()&&E[y.last()];)r("",y.last());w[n]&&y.last()==n&&r("",n),(s=_[n]||!!s)||y.push(n);var l={};o.replace(h,function(e,t,i,n,r){l[t]=a(i||n||r||"")}),i.start&&i.start(n,l,s)}function r(e,n){var r,o=0;if(n=t.lowercase(n))for(o=y.length-1;0<=o&&y[o]!=n;o--);if(0<=o){for(r=y.length-1;r>=o;r--)i.end&&i.end(y[r]);y.length=o}}"string"!=typeof e&&(e=null===e||"undefined"==typeof e?"":""+e);var o,s,l,y=[],b=e;for(y.last=function(){return y[y.length-1]};e;){if(l="",s=!0,y.last()&&A[y.last()]?(e=e.replace(new RegExp("([\\W\\w]*)<\\s*\\/\\s*"+y.last()+"[^>]*>","i"),function(e,t){return t=t.replace(m,"$1").replace(v,"$1"),i.chars&&i.chars(a(t)),""}),r("",y.last())):(0===e.indexOf("<!--")?(o=e.indexOf("--",4),0<=o&&e.lastIndexOf("-->",o)===o&&(i.comment&&i.comment(e.substring(4,o)),e=e.substring(o+3),s=!1)):g.test(e)?(o=e.match(g))&&(e=e.replace(o[0],""),s=!1):f.test(e)?(o=e.match(d))&&(e=e.substring(o[0].length),o[0].replace(d,r),s=!1):p.test(e)&&((o=e.match(u))?(o[4]&&(e=e.substring(o[0].length),o[0].replace(u,n)),s=!1):(l+="<",e=e.substring(1))),s&&(o=e.indexOf("<"),l+=0>o?e:e.substring(0,o),e=0>o?"":e.substring(o),i.chars&&i.chars(a(l)))),e==b)throw c("badparse",e);b=e}r()}function a(e){return e?(T.innerHTML=e.replace(/</g,"&lt;"),T.textContent):""}function s(e){return e.replace(/&/g,"&amp;").replace(y,function(e){var t=e.charCodeAt(0);return e=e.charCodeAt(1),"&#"+(1024*(t-55296)+(e-56320)+65536)+";"}).replace(b,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function l(e,i){var n=!1,r=t.bind(e,e.push);return{start:function(e,o,a){e=t.lowercase(e),!n&&A[e]&&(n=e),n||!0!==C[e]||(r("<"),r(e),t.forEach(o,function(n,o){var a=t.lowercase(o),l="img"===e&&"src"===a||"background"===a;!0!==$[a]||!0===k[a]&&!i(n,l)||(r(" "),r(o),r('="'),r(s(n)),r('"'))}),r(a?"/>":">"))},end:function(e){e=t.lowercase(e),n||!0!==C[e]||(r("</"),r(e),r(">")),e==n&&(n=!1)},chars:function(e){n||r(s(e))}}}var c=t.$$minErr("$sanitize"),u=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,d=/^<\/\s*([\w:-]+)[^>]*>/,h=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,p=/^</,f=/^<\//,m=/\x3c!--(.*?)--\x3e/g,g=/<!DOCTYPE([^>]*?)>/i,v=/<!\[CDATA\[(.*?)]]\x3e/g,y=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,b=/([^\#-~| |!])/g,_=r("area,br,col,hr,img,wbr");e=r("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),i=r("rp,rt");var w=t.extend({},i,e),x=t.extend({},e,r("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),E=t.extend({},i,r("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var"));e=r("animate,animateColor,animateMotion,animateTransform,circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,set,stop,svg,switch,text,title,tspan,use");var A=r("script,style"),C=t.extend({},_,x,E,w,e),k=r("background,cite,href,longdesc,src,usemap,xlink:href");e=r("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,target,title,type,valign,value,vspace,width"),i=r("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,attributeName,attributeType,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan");var $=t.extend({},k,i,e),T=document.createElement("pre");t.module("ngSanitize",[]).provider("$sanitize",function(){this.$get=["$$sanitizeUri",function(e){return function(t){var i=[];return o(t,l(i,function(t,i){return!/^unsafe/.test(e(t,i))})),i.join("")}}]}),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var i=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/,r=/^mailto:/;return function(o,a){function s(e){e&&p.push(n(e))}function l(e,i){p.push("<a "),t.isDefined(a)&&p.push('target="',a,'" '),p.push('href="',e.replace(/"/g,"&quot;"),'">'),s(i),p.push("</a>")}if(!o)return o;for(var c,u,d,h=o,p=[];c=h.match(i);)u=c[0],c[2]||c[4]||(u=(c[3]?"http://":"mailto:")+u),d=c.index,s(h.substr(0,d)),l(u,c[0].replace(r,"")),h=h.substring(d+c[0].length);return s(h),e(p.join(""))}}])}(window,window.angular),function(){function e(e){this.tokens=[],this.tokens.links={},this.options=e||c.defaults,this.rules=u.normal,this.options.gfm&&(this.options.tables?this.rules=u.tables:this.rules=u.gfm)}function t(e,t){if(this.options=t||c.defaults,this.links=e,this.rules=d.normal,this.renderer=this.options.renderer||new i,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.options.breaks?this.rules=d.breaks:this.rules=d.gfm:this.options.pedantic&&(this.rules=d.pedantic)}function i(e){this.options=e||{}}function n(e){this.tokens=[],this.token=null,this.options=e||c.defaults,this.options.renderer=this.options.renderer||new i,this.renderer=this.options.renderer,this.renderer.options=this.options}function r(e,t){return e.replace(t?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function o(e){return e.replace(/&([#\w]+);/g,function(e,t){return t=t.toLowerCase(),"colon"===t?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""})}function a(e,t){return e=e.source,t=t||"",function i(n,r){return n?(r=r.source||r,r=r.replace(/(^|[^\[])\^/g,"$1"),e=e.replace(n,r),i):new RegExp(e,t)}}function s(){}function l(e){for(var t,i,n=1;n<arguments.length;n++){t=arguments[n];for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e}function c(t,i,o){if(o||"function"==typeof i){o||(o=i,i=null),i=l({},c.defaults,i||{});var a,s,u=i.highlight,d=0;try{a=e.lex(t,i)}catch(e){return o(e)}s=a.length;var h=function(e){if(e)return i.highlight=u,o(e);var t;try{t=n.parse(a,i)}catch(t){e=t}return i.highlight=u,e?o(e):o(null,t)};if(!u||u.length<3)return h();if(delete i.highlight,!s)return h();for(;d<a.length;d++)!function(e){return"code"!==e.type?--s||h():u(e.text,e.lang,function(t,i){return t?h(t):null==i||i===e.text?--s||h():(e.text=i,e.escaped=!0,void(--s||h()))})}(a[d])}else try{return i&&(i=l({},c.defaults,i)),n.parse(e.lex(t,i),i)}catch(e){if(e.message+="\nPlease report this to https://github.com/chjj/marked.",(i||c.defaults).silent)return"<p>An error occured:</p><pre>"+r(e.message+"",!0)+"</pre>";throw e}}var u={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:s,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:s,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:s,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};u.bullet=/(?:[*+-]|\d+\.)/,u.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,u.item=a(u.item,"gm")(/bull/g,u.bullet)(),u.list=a(u.list)(/bull/g,u.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+u.def.source+")")(),u.blockquote=a(u.blockquote)("def",u.def)(),u._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b",u.html=a(u.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,u._tag)(),u.paragraph=a(u.paragraph)("hr",u.hr)("heading",u.heading)("lheading",u.lheading)("blockquote",u.blockquote)("tag","<"+u._tag)("def",u.def)(),u.normal=l({},u),u.gfm=l({},u.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\s*\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),u.gfm.paragraph=a(u.paragraph)("(?!","(?!"+u.gfm.fences.source.replace("\\1","\\2")+"|"+u.list.source.replace("\\1","\\3")+"|")(),u.tables=l({},u.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),e.rules=u,e.lex=function(t,i){var n=new e(i);return n.lex(t)},e.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},e.prototype.token=function(e,t,i){for(var n,r,o,a,s,l,c,d,h,e=e.replace(/^ +$/gm,"");e;)if((o=this.rules.newline.exec(e))&&(e=e.substring(o[0].length),o[0].length>1&&this.tokens.push({type:"space"})),o=this.rules.code.exec(e))e=e.substring(o[0].length),o=o[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?o:o.replace(/\n+$/,"")});else if(o=this.rules.fences.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"code",lang:o[2],text:o[3]||""});else if(o=this.rules.heading.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"heading",depth:o[1].length,text:o[2]});else if(t&&(o=this.rules.nptable.exec(e))){for(e=e.substring(o[0].length),l={type:"table",header:o[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3].replace(/\n$/,"").split("\n")},d=0;d<l.align.length;d++)/^ *-+: *$/.test(l.align[d])?l.align[d]="right":/^ *:-+: *$/.test(l.align[d])?l.align[d]="center":/^ *:-+ *$/.test(l.align[d])?l.align[d]="left":l.align[d]=null;for(d=0;d<l.cells.length;d++)l.cells[d]=l.cells[d].split(/ *\| */);this.tokens.push(l)}else if(o=this.rules.lheading.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"heading",depth:"="===o[2]?1:2,text:o[1]});else if(o=this.rules.hr.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"hr"});else if(o=this.rules.blockquote.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"blockquote_start"}),o=o[0].replace(/^ *> ?/gm,""),this.token(o,t,!0),this.tokens.push({type:"blockquote_end"});else if(o=this.rules.list.exec(e)){for(e=e.substring(o[0].length),a=o[2],this.tokens.push({type:"list_start",ordered:a.length>1}),o=o[0].match(this.rules.item),n=!1,h=o.length,d=0;d<h;d++)l=o[d],c=l.length,l=l.replace(/^ *([*+-]|\d+\.) +/,""),~l.indexOf("\n ")&&(c-=l.length,l=this.options.pedantic?l.replace(/^ {1,4}/gm,""):l.replace(new RegExp("^ {1,"+c+"}","gm"),"")),this.options.smartLists&&d!==h-1&&(s=u.bullet.exec(o[d+1])[0],a===s||a.length>1&&s.length>1||(e=o.slice(d+1).join("\n")+e,d=h-1)),r=n||/\n\n(?!\s*$)/.test(l),d!==h-1&&(n="\n"===l.charAt(l.length-1),r||(r=n)),this.tokens.push({type:r?"loose_item_start":"list_item_start"}),this.token(l,!1,i),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(o=this.rules.html.exec(e))e=e.substring(o[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===o[1]||"script"===o[1]||"style"===o[1]),text:o[0]});else if(!i&&t&&(o=this.rules.def.exec(e)))e=e.substring(o[0].length),
this.tokens.links[o[1].toLowerCase()]={href:o[2],title:o[3]};else if(t&&(o=this.rules.table.exec(e))){for(e=e.substring(o[0].length),l={type:"table",header:o[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3].replace(/(?: *\| *)?\n$/,"").split("\n")},d=0;d<l.align.length;d++)/^ *-+: *$/.test(l.align[d])?l.align[d]="right":/^ *:-+: *$/.test(l.align[d])?l.align[d]="center":/^ *:-+ *$/.test(l.align[d])?l.align[d]="left":l.align[d]=null;for(d=0;d<l.cells.length;d++)l.cells[d]=l.cells[d].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(l)}else if(t&&(o=this.rules.paragraph.exec(e)))e=e.substring(o[0].length),this.tokens.push({type:"paragraph",text:"\n"===o[1].charAt(o[1].length-1)?o[1].slice(0,-1):o[1]});else if(o=this.rules.text.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"text",text:o[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var d={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:s,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:[^_]|__)+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:s,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};d._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,d._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,d.link=a(d.link)("inside",d._inside)("href",d._href)(),d.reflink=a(d.reflink)("inside",d._inside)(),d.normal=l({},d),d.pedantic=l({},d.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),d.gfm=l({},d.normal,{escape:a(d.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:a(d.text)("]|","~]|")("|","|https?://|")()}),d.breaks=l({},d.gfm,{br:a(d.br)("{2,}","*")(),text:a(d.gfm.text)("{2,}","*")()}),t.rules=d,t.output=function(e,i,n){var r=new t(i,n);return r.output(e)},t.prototype.output=function(e){for(var t,i,n,o,a="";e;)if(o=this.rules.escape.exec(e))e=e.substring(o[0].length),a+=o[1];else if(o=this.rules.autolink.exec(e))e=e.substring(o[0].length),"@"===o[2]?(i=":"===o[1].charAt(6)?this.mangle(o[1].substring(7)):this.mangle(o[1]),n=this.mangle("mailto:")+i):(i=r(o[1]),n=i),a+=this.renderer.link(n,null,i);else if(this.inLink||!(o=this.rules.url.exec(e))){if(o=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(o[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(o[0])&&(this.inLink=!1),e=e.substring(o[0].length),a+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(o[0]):r(o[0]):o[0];else if(o=this.rules.link.exec(e))e=e.substring(o[0].length),this.inLink=!0,a+=this.outputLink(o,{href:o[2],title:o[3]}),this.inLink=!1;else if((o=this.rules.reflink.exec(e))||(o=this.rules.nolink.exec(e))){if(e=e.substring(o[0].length),t=(o[2]||o[1]).replace(/\s+/g," "),t=this.links[t.toLowerCase()],!t||!t.href){a+=o[0].charAt(0),e=o[0].substring(1)+e;continue}this.inLink=!0,a+=this.outputLink(o,t),this.inLink=!1}else if(o=this.rules.strong.exec(e))e=e.substring(o[0].length),a+=this.renderer.strong(this.output(o[2]||o[1]));else if(o=this.rules.em.exec(e))e=e.substring(o[0].length),a+=this.renderer.em(this.output(o[2]||o[1]));else if(o=this.rules.code.exec(e))e=e.substring(o[0].length),a+=this.renderer.codespan(r(o[2],!0));else if(o=this.rules.br.exec(e))e=e.substring(o[0].length),a+=this.renderer.br();else if(o=this.rules.del.exec(e))e=e.substring(o[0].length),a+=this.renderer.del(this.output(o[1]));else if(o=this.rules.text.exec(e))e=e.substring(o[0].length),a+=this.renderer.text(r(this.smartypants(o[0])));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}else e=e.substring(o[0].length),i=r(o[1]),n=i,a+=this.renderer.link(n,null,i);return a},t.prototype.outputLink=function(e,t){var i=r(t.href),n=t.title?r(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(i,n,this.output(e[1])):this.renderer.image(i,n,r(e[1]))},t.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014\/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014\/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):e},t.prototype.mangle=function(e){if(!this.options.mangle)return e;for(var t,i="",n=e.length,r=0;r<n;r++)t=e.charCodeAt(r),Math.random()>.5&&(t="x"+t.toString(16)),i+="&#"+t+";";return i},i.prototype.code=function(e,t,i){if(this.options.highlight){var n=this.options.highlight(e,t);null!=n&&n!==e&&(i=!0,e=n)}return t?'<pre><code class="'+this.options.langPrefix+r(t,!0)+'">'+(i?e:r(e,!0))+"\n</code></pre>\n":"<pre><code>"+(i?e:r(e,!0))+"\n</code></pre>"},i.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},i.prototype.html=function(e){return e},i.prototype.heading=function(e,t,i){return"<h"+t+' id="'+this.options.headerPrefix+i.toLowerCase().replace(/[^\w]+/g,"-")+'">'+e+"</h"+t+">\n"},i.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},i.prototype.list=function(e,t){var i=t?"ol":"ul";return"<"+i+">\n"+e+"</"+i+">\n"},i.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},i.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},i.prototype.table=function(e,t){return"<table>\n<thead>\n"+e+"</thead>\n<tbody>\n"+t+"</tbody>\n</table>\n"},i.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},i.prototype.tablecell=function(e,t){var i=t.header?"th":"td",n=t.align?"<"+i+' style="text-align:'+t.align+'">':"<"+i+">";return n+e+"</"+i+">\n"},i.prototype.strong=function(e){return"<strong>"+e+"</strong>"},i.prototype.em=function(e){return"<em>"+e+"</em>"},i.prototype.codespan=function(e){return"<code>"+e+"</code>"},i.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},i.prototype.del=function(e){return"<del>"+e+"</del>"},i.prototype.link=function(e,t,i){if(this.options.sanitize){try{var n=decodeURIComponent(o(e)).replace(/[^\w:]/g,"").toLowerCase()}catch(e){return""}if(0===n.indexOf("javascript:")||0===n.indexOf("vbscript:"))return""}var r='<a href="'+e+'"';return t&&(r+=' title="'+t+'"'),r+=">"+i+"</a>"},i.prototype.image=function(e,t,i){var n='<img src="'+e+'" alt="'+i+'"';return t&&(n+=' title="'+t+'"'),n+=this.options.xhtml?"/>":">"},i.prototype.text=function(e){return e},n.parse=function(e,t,i){var r=new n(t,i);return r.parse(e)},n.prototype.parse=function(e){this.inline=new t(e.links,this.options,this.renderer),this.tokens=e.reverse();for(var i="";this.next();)i+=this.tok();return i},n.prototype.next=function(){return this.token=this.tokens.pop()},n.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},n.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},n.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var e,t,i,n,r,o="",a="";for(i="",e=0;e<this.token.header.length;e++)n={header:!0,align:this.token.align[e]},i+=this.renderer.tablecell(this.inline.output(this.token.header[e]),{header:!0,align:this.token.align[e]});for(o+=this.renderer.tablerow(i),e=0;e<this.token.cells.length;e++){for(t=this.token.cells[e],i="",r=0;r<t.length;r++)i+=this.renderer.tablecell(this.inline.output(t[r]),{header:!1,align:this.token.align[r]});a+=this.renderer.tablerow(i)}return this.renderer.table(o,a);case"blockquote_start":for(var a="";"blockquote_end"!==this.next().type;)a+=this.tok();return this.renderer.blockquote(a);case"list_start":for(var a="",s=this.token.ordered;"list_end"!==this.next().type;)a+=this.tok();return this.renderer.list(a,s);case"list_item_start":for(var a="";"list_item_end"!==this.next().type;)a+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(a);case"loose_item_start":for(var a="";"list_item_end"!==this.next().type;)a+=this.tok();return this.renderer.listitem(a);case"html":var l=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(l);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},s.exec=s,c.options=c.setOptions=function(e){return l(c.defaults,e),c},c.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,sanitizer:null,mangle:!0,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new i,xhtml:!1},c.Parser=n,c.parser=n.parse,c.Renderer=i,c.Lexer=e,c.lexer=e.lex,c.InlineLexer=t,c.inlineLexer=t.output,c.parse=c,"undefined"!=typeof module&&"object"==typeof exports?module.exports=c:"function"==typeof define&&define.amd?define(function(){return c}):this.marked=c}.call(function(){return this||("undefined"!=typeof window?window:global)}()),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.angularMarked=e()}}(function(){return function e(t,i,n){function r(a,s){if(!i[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=i[a]={exports:{}};t[a][0].call(u.exports,function(e){var i=t[a][1][e];return r(i?i:e)},u,u.exports,e,t,i,n)}return i[a].exports}for(var o="function"==typeof require&&require,a=0;a<n.length;a++)r(n[a]);return r}({1:[function(e,t,i){"use strict";t.exports="hc.marked",angular.module("hc.marked",[]).provider("marked",function(){var t=this;t.setRenderer=function(e){this.renderer=e},t.setOptions=function(e){this.defaults=e},t.$get=["$log","$window",function(i,n){function r(e){return"<span ng-non-bindable>"+e+"</span>"}var o;try{o=e("marked")}catch(e){o=n.marked||marked}if(angular.isUndefined(o))return void i.error("angular-marked Error: marked not loaded.  See installation instructions.");var a=new o.Renderer;if(t.renderer)for(var s=Object.keys(t.renderer),l=s.length;l--;)a[s[l]]=t.renderer[s[l]];var c=a.code.bind(a);a.code=function(e,t,i){return r(c(e,t,i))};var u=a.codespan.bind(a);return a.codespan=function(e){return r(u(e))},t.defaults=t.defaults||{},t.defaults.renderer=a,o.setOptions(t.defaults),o}]}).directive("marked",["marked","$templateRequest","$compile",function(e,t,i){return{restrict:"AE",replace:!0,scope:{opts:"=",marked:"=",compile:"@",src:"="},link:function(n,r,o){function a(e){if(!e)return e;var t,i=e.replace(/\t/g,"  ").split(/\r?\n/),n=null,r=i.length;for(t=0;t<r;t++){var o=i[t],a=o.match(/^(\s*)/)[0].length;a!==o.length&&(n=a<n||null===n?a:n)}if(null!==n&&n>0)for(t=0;t<r;t++)i[t]=i[t].substr(n);return i.join("\n")}function s(t){t=a(t||""),r.html(e(t,n.opts||null)),n.$eval(o.compile)&&i(r.contents())(n.$parent)}s(n.marked||r.text()||""),o.marked&&n.$watch("marked",s),o.src&&n.$watch("src",function(e){t(e,!0).then(function(e){s(e)},function(){s(""),n.$emit("$markedIncludeError",o.src)})})}}}])},{marked:"marked"}]},{},[1])(1)}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=function(t,i){return void 0===i&&(i="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(i),i}:e(jQuery)}(function(e){function t(t,i,n){"string"==typeof n&&(n={className:n}),this.options=x(w,e.isPlainObject(n)?n:{}),this.loadHTML(),this.wrapper=e(p.html),this.options.clickToHide&&this.wrapper.addClass(r+"-hidable"),this.wrapper.data(r,this),this.arrow=this.wrapper.find("."+r+"-arrow"),this.container=this.wrapper.find("."+r+"-container"),this.container.append(this.userContainer),t&&t.length&&(this.elementType=t.attr("type"),this.originalElement=t,this.elem=k(t),this.elem.data(r,this),this.elem.before(this.wrapper)),this.container.hide(),this.run(i)}var i=[].indexOf||function(e){for(var t=0,i=this.length;t<i;t++)if(t in this&&this[t]===e)return t;return-1},n="notify",r=n+"js",o=n+"!blank",a={t:"top",m:"middle",b:"bottom",l:"left",c:"center",r:"right"},s=["l","c","r"],l=["t","m","b"],c=["t","b","l","r"],u={t:"b",m:null,b:"t",l:"r",c:null,r:"l"},d=function(t){var i;return i=[],e.each(t.split(/\W+/),function(e,t){var n;if(n=t.toLowerCase().charAt(0),a[n])return i.push(n)}),i},h={},p={name:"core",html:'<div class="'+r+'-wrapper">\n\t<div class="'+r+'-arrow"></div>\n\t<div class="'+r+'-container"></div>\n</div>',css:"."+r+"-corner {\n\tposition: fixed;\n\tmargin: 5px;\n\tz-index: 1050;\n}\n\n."+r+"-corner ."+r+"-wrapper,\n."+r+"-corner ."+r+"-container {\n\tposition: relative;\n\tdisplay: block;\n\theight: inherit;\n\twidth: inherit;\n\tmargin: 3px;\n}\n\n."+r+"-wrapper {\n\tz-index: 1;\n\tposition: absolute;\n\tdisplay: inline-block;\n\theight: 0;\n\twidth: 0;\n}\n\n."+r+"-container {\n\tdisplay: none;\n\tz-index: 1;\n\tposition: absolute;\n}\n\n."+r+"-hidable {\n\tcursor: pointer;\n}\n\n[data-notify-text],[data-notify-html] {\n\tposition: relative;\n}\n\n."+r+"-arrow {\n\tposition: absolute;\n\tz-index: 2;\n\twidth: 0;\n\theight: 0;\n}"},f={"border-radius":["-webkit-","-moz-"]},m=function(e){return h[e]},g=function(e){if(!e)throw"Missing Style name";h[e]&&delete h[e]},v=function(t,i){if(!t)throw"Missing Style name";if(!i)throw"Missing Style definition";if(!i.html)throw"Missing Style HTML";var o=h[t];o&&o.cssElem&&(window.console&&console.warn(n+": overwriting style '"+t+"'"),h[t].cssElem.remove()),i.name=t,h[t]=i;var a="";i.classes&&e.each(i.classes,function(t,n){return a+="."+r+"-"+i.name+"-"+t+" {\n",e.each(n,function(t,i){return f[t]&&e.each(f[t],function(e,n){return a+="\t"+n+t+": "+i+";\n"}),a+="\t"+t+": "+i+";\n"}),a+="}\n"}),i.css&&(a+="/* styles for "+i.name+" */\n"+i.css),a&&(i.cssElem=y(a),i.cssElem.attr("id","notify-"+i.name));var s={},l=e(i.html);b("html",l,s),b("text",l,s),i.fields=s},y=function(t){var i;i=A("style"),i.attr("type","text/css"),e("head").append(i);try{i.html(t)}catch(e){i[0].styleSheet.cssText=t}return i},b=function(t,i,n){var r;return"html"!==t&&(t="text"),r="data-notify-"+t,_(i,"["+r+"]").each(function(){var i;i=e(this).attr(r),i||(i=o),n[i]=t})},_=function(e,t){return e.is(t)?e:e.find(t)},w={clickToHide:!0,autoHide:!0,autoHideDelay:5e3,arrowShow:!0,arrowSize:5,breakNewLines:!0,elementPosition:"bottom",globalPosition:"top right",style:"bootstrap",className:"error",showAnimation:"slideDown",showDuration:400,hideAnimation:"slideUp",hideDuration:200,gap:5},x=function(t,i){var n;return n=function(){},n.prototype=t,e.extend(!0,new n,i)},E=function(t){return e.extend(w,t)},A=function(t){return e("<"+t+"></"+t+">")},C={},k=function(t){var i;return t.is("[type=radio]")&&(i=t.parents("form:first").find("[type=radio]").filter(function(i,n){return e(n).attr("name")===t.attr("name")}),t=i.first()),t},$=function(e,t,i){var n,r;if("string"==typeof i)i=parseInt(i,10);else if("number"!=typeof i)return;if(!isNaN(i))return n=a[u[t.charAt(0)]],r=t,void 0!==e[n]&&(t=a[n.charAt(0)],i=-i),void 0===e[t]?e[t]=i:e[t]+=i,null},T=function(e,t,i){if("l"===e||"t"===e)return 0;if("c"===e||"m"===e)return i/2-t/2;if("r"===e||"b"===e)return i-t;throw"Invalid alignment"},L=function(e){return L.e=L.e||A("div"),L.e.text(e).html()};t.prototype.loadHTML=function(){var t;t=this.getStyle(),this.userContainer=e(t.html),this.userFields=t.fields},t.prototype.show=function(e,t){var i,n,r,o,a;if(n=function(i){return function(){if(e||i.elem||i.destroy(),t)return t()}}(this),a=this.container.parent().parents(":hidden").length>0,r=this.container.add(this.arrow),i=[],a&&e)o="show";else if(a&&!e)o="hide";else if(!a&&e)o=this.options.showAnimation,i.push(this.options.showDuration);else{if(a||e)return n();o=this.options.hideAnimation,i.push(this.options.hideDuration)}return i.push(n),r[o].apply(r,i)},t.prototype.setGlobalPosition=function(){var t=this.getPosition(),i=t[0],n=t[1],o=a[i],s=a[n],l=i+"|"+n,c=C[l];if(!c||!document.contains(c[0])){c=C[l]=A("div");var u={};u[o]=0,"middle"===s?u.top="45%":"center"===s?u.left="45%":u[s]=0,c.css(u).addClass(r+"-corner"),e("body").append(c)}return c.prepend(this.wrapper)},t.prototype.setElementPosition=function(){var t,n,r,o,d,h,p,f,m,g,v,y,b,_,w,x,E,A,C,k,L,D,M,S,P,N,I,O,R;for(I=this.getPosition(),S=I[0],D=I[1],M=I[2],v=this.elem.position(),f=this.elem.outerHeight(),y=this.elem.outerWidth(),m=this.elem.innerHeight(),g=this.elem.innerWidth(),R=this.wrapper.position(),d=this.container.height(),h=this.container.width(),A=a[S],k=u[S],L=a[k],p={},p[L]="b"===S?f:"r"===S?y:0,$(p,"top",v.top-R.top),$(p,"left",v.left-R.left),O=["top","left"],_=0,x=O.length;_<x;_++)P=O[_],C=parseInt(this.elem.css("margin-"+P),10),C&&$(p,P,C);if(b=Math.max(0,this.options.gap-(this.options.arrowShow?r:0)),$(p,L,b),this.options.arrowShow){for(r=this.options.arrowSize,n=e.extend({},p),t=this.userContainer.css("border-color")||this.userContainer.css("border-top-color")||this.userContainer.css("background-color")||"white",w=0,E=c.length;w<E;w++)P=c[w],N=a[P],P!==k&&(o=N===A?t:"transparent",n["border-"+N]=r+"px solid "+o);$(p,a[k],r),i.call(c,D)>=0&&$(n,a[D],2*r)}else this.arrow.hide();if(i.call(l,S)>=0?($(p,"left",T(D,h,y)),n&&$(n,"left",T(D,r,g))):i.call(s,S)>=0&&($(p,"top",T(D,d,f)),n&&$(n,"top",T(D,r,m))),this.container.is(":visible")&&(p.display="block"),this.container.removeAttr("style").css(p),n)return this.arrow.removeAttr("style").css(n)},t.prototype.getPosition=function(){var e,t,n,r,o,a,u,h;if(h=this.options.position||(this.elem?this.options.elementPosition:this.options.globalPosition),e=d(h),0===e.length&&(e[0]="b"),t=e[0],i.call(c,t)<0)throw"Must be one of ["+c+"]";return(1===e.length||(n=e[0],i.call(l,n)>=0&&(r=e[1],i.call(s,r)<0))||(o=e[0],i.call(s,o)>=0&&(a=e[1],i.call(l,a)<0)))&&(e[1]=(u=e[0],i.call(s,u)>=0?"m":"l")),2===e.length&&(e[2]=e[1]),e},t.prototype.getStyle=function(e){var t;if(e||(e=this.options.style),e||(e="default"),t=h[e],!t)throw"Missing style: "+e;return t},t.prototype.updateClasses=function(){var t,i;return t=["base"],e.isArray(this.options.className)?t=t.concat(this.options.className):this.options.className&&t.push(this.options.className),i=this.getStyle(),t=e.map(t,function(e){return r+"-"+i.name+"-"+e}).join(" "),this.userContainer.attr("class",t)},t.prototype.run=function(t,i){var n,r,a,s,l;if(e.isPlainObject(i)?e.extend(this.options,i):"string"===e.type(i)&&(this.options.className=i),this.container&&!t)return void this.show(!1);if(this.container||t){r={},e.isPlainObject(t)?r=t:r[o]=t;for(a in r)n=r[a],s=this.userFields[a],s&&("text"===s&&(n=L(n),this.options.breakNewLines&&(n=n.replace(/\n/g,"<br/>"))),l=a===o?"":"="+a,_(this.userContainer,"[data-notify-"+s+l+"]").html(n));this.updateClasses(),this.elem?this.setElementPosition():this.setGlobalPosition(),this.show(!0),this.options.autoHide&&(clearTimeout(this.autohideTimer),this.autohideTimer=setTimeout(this.show.bind(this,!1),this.options.autoHideDelay))}},t.prototype.destroy=function(){this.wrapper.data(r,null),this.wrapper.remove()},e[n]=function(i,r,o){return i&&i.nodeName||i.jquery?e(i)[n](r,o):(o=r,r=i,new t(null,r,o)),i},e.fn[n]=function(i,n){return e(this).each(function(){var o=k(e(this)).data(r);o&&o.destroy();new t(e(this),i,n)}),this},e.extend(e[n],{defaults:E,addStyle:v,removeStyle:g,pluginOptions:w,getStyle:m,insertCSS:y}),v("bootstrap",{html:"<div>\n<span data-notify-text></span>\n</div>",classes:{base:{"font-weight":"bold",padding:"8px 15px 8px 14px","text-shadow":"0 1px 0 rgba(255, 255, 255, 0.5)","background-color":"#fcf8e3",border:"1px solid #fbeed5","border-radius":"4px","white-space":"nowrap","padding-left":"25px","background-repeat":"no-repeat","background-position":"3px 7px"},error:{color:"#B94A48","background-color":"#F2DEDE","border-color":"#EED3D7","background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAtRJREFUeNqkVc1u00AQHq+dOD+0poIQfkIjalW0SEGqRMuRnHos3DjwAH0ArlyQeANOOSMeAA5VjyBxKBQhgSpVUKKQNGloFdw4cWw2jtfMOna6JOUArDTazXi/b3dm55socPqQhFka++aHBsI8GsopRJERNFlY88FCEk9Yiwf8RhgRyaHFQpPHCDmZG5oX2ui2yilkcTT1AcDsbYC1NMAyOi7zTX2Agx7A9luAl88BauiiQ/cJaZQfIpAlngDcvZZMrl8vFPK5+XktrWlx3/ehZ5r9+t6e+WVnp1pxnNIjgBe4/6dAysQc8dsmHwPcW9C0h3fW1hans1ltwJhy0GxK7XZbUlMp5Ww2eyan6+ft/f2FAqXGK4CvQk5HueFz7D6GOZtIrK+srupdx1GRBBqNBtzc2AiMr7nPplRdKhb1q6q6zjFhrklEFOUutoQ50xcX86ZlqaZpQrfbBdu2R6/G19zX6XSgh6RX5ubyHCM8nqSID6ICrGiZjGYYxojEsiw4PDwMSL5VKsC8Yf4VRYFzMzMaxwjlJSlCyAQ9l0CW44PBADzXhe7xMdi9HtTrdYjFYkDQL0cn4Xdq2/EAE+InCnvADTf2eah4Sx9vExQjkqXT6aAERICMewd/UAp/IeYANM2joxt+q5VI+ieq2i0Wg3l6DNzHwTERPgo1ko7XBXj3vdlsT2F+UuhIhYkp7u7CarkcrFOCtR3H5JiwbAIeImjT/YQKKBtGjRFCU5IUgFRe7fF4cCNVIPMYo3VKqxwjyNAXNepuopyqnld602qVsfRpEkkz+GFL1wPj6ySXBpJtWVa5xlhpcyhBNwpZHmtX8AGgfIExo0ZpzkWVTBGiXCSEaHh62/PoR0p/vHaczxXGnj4bSo+G78lELU80h1uogBwWLf5YlsPmgDEd4M236xjm+8nm4IuE/9u+/PH2JXZfbwz4zw1WbO+SQPpXfwG/BBgAhCNZiSb/pOQAAAAASUVORK5CYII=)"},success:{color:"#468847","background-color":"#DFF0D8","border-color":"#D6E9C6","background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAutJREFUeNq0lctPE0Ecx38zu/RFS1EryqtgJFA08YCiMZIAQQ4eRG8eDGdPJiYeTIwHTfwPiAcvXIwXLwoXPaDxkWgQ6islKlJLSQWLUraPLTv7Gme32zoF9KSTfLO7v53vZ3d/M7/fIth+IO6INt2jjoA7bjHCJoAlzCRw59YwHYjBnfMPqAKWQYKjGkfCJqAF0xwZjipQtA3MxeSG87VhOOYegVrUCy7UZM9S6TLIdAamySTclZdYhFhRHloGYg7mgZv1Zzztvgud7V1tbQ2twYA34LJmF4p5dXF1KTufnE+SxeJtuCZNsLDCQU0+RyKTF27Unw101l8e6hns3u0PBalORVVVkcaEKBJDgV3+cGM4tKKmI+ohlIGnygKX00rSBfszz/n2uXv81wd6+rt1orsZCHRdr1Imk2F2Kob3hutSxW8thsd8AXNaln9D7CTfA6O+0UgkMuwVvEFFUbbAcrkcTA8+AtOk8E6KiQiDmMFSDqZItAzEVQviRkdDdaFgPp8HSZKAEAL5Qh7Sq2lIJBJwv2scUqkUnKoZgNhcDKhKg5aH+1IkcouCAdFGAQsuWZYhOjwFHQ96oagWgRoUov1T9kRBEODAwxM2QtEUl+Wp+Ln9VRo6BcMw4ErHRYjH4/B26AlQoQQTRdHWwcd9AH57+UAXddvDD37DmrBBV34WfqiXPl61g+vr6xA9zsGeM9gOdsNXkgpEtTwVvwOklXLKm6+/p5ezwk4B+j6droBs2CsGa/gNs6RIxazl4Tc25mpTgw/apPR1LYlNRFAzgsOxkyXYLIM1V8NMwyAkJSctD1eGVKiq5wWjSPdjmeTkiKvVW4f2YPHWl3GAVq6ymcyCTgovM3FzyRiDe2TaKcEKsLpJvNHjZgPNqEtyi6mZIm4SRFyLMUsONSSdkPeFtY1n0mczoY3BHTLhwPRy9/lzcziCw9ACI+yql0VLzcGAZbYSM5CCSZg1/9oc/nn7+i8N9p/8An4JMADxhH+xHfuiKwAAAABJRU5ErkJggg==)"},info:{color:"#3A87AD","background-color":"#D9EDF7","border-color":"#BCE8F1","background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QYFAhkSsdes/QAAA8dJREFUOMvVlGtMW2UYx//POaWHXg6lLaW0ypAtw1UCgbniNOLcVOLmAjHZolOYlxmTGXVZdAnRfXQm+7SoU4mXaOaiZsEpC9FkiQs6Z6bdCnNYruM6KNBw6YWewzl9z+sHImEWv+vz7XmT95f/+3/+7wP814v+efDOV3/SoX3lHAA+6ODeUFfMfjOWMADgdk+eEKz0pF7aQdMAcOKLLjrcVMVX3xdWN29/GhYP7SvnP0cWfS8caSkfHZsPE9Fgnt02JNutQ0QYHB2dDz9/pKX8QjjuO9xUxd/66HdxTeCHZ3rojQObGQBcuNjfplkD3b19Y/6MrimSaKgSMmpGU5WevmE/swa6Oy73tQHA0Rdr2Mmv/6A1n9w9suQ7097Z9lM4FlTgTDrzZTu4StXVfpiI48rVcUDM5cmEksrFnHxfpTtU/3BFQzCQF/2bYVoNbH7zmItbSoMj40JSzmMyX5qDvriA7QdrIIpA+3cdsMpu0nXI8cV0MtKXCPZev+gCEM1S2NHPvWfP/hL+7FSr3+0p5RBEyhEN5JCKYr8XnASMT0xBNyzQGQeI8fjsGD39RMPk7se2bd5ZtTyoFYXftF6y37gx7NeUtJJOTFlAHDZLDuILU3j3+H5oOrD3yWbIztugaAzgnBKJuBLpGfQrS8wO4FZgV+c1IxaLgWVU0tMLEETCos4xMzEIv9cJXQcyagIwigDGwJgOAtHAwAhisQUjy0ORGERiELgG4iakkzo4MYAxcM5hAMi1WWG1yYCJIcMUaBkVRLdGeSU2995TLWzcUAzONJ7J6FBVBYIggMzmFbvdBV44Corg8vjhzC+EJEl8U1kJtgYrhCzgc/vvTwXKSib1paRFVRVORDAJAsw5FuTaJEhWM2SHB3mOAlhkNxwuLzeJsGwqWzf5TFNdKgtY5qHp6ZFf67Y/sAVadCaVY5YACDDb3Oi4NIjLnWMw2QthCBIsVhsUTU9tvXsjeq9+X1d75/KEs4LNOfcdf/+HthMnvwxOD0wmHaXr7ZItn2wuH2SnBzbZAbPJwpPx+VQuzcm7dgRCB57a1uBzUDRL4bfnI0RE0eaXd9W89mpjqHZnUI5Hh2l2dkZZUhOqpi2qSmpOmZ64Tuu9qlz/SEXo6MEHa3wOip46F1n7633eekV8ds8Wxjn37Wl63VVa+ej5oeEZ/82ZBETJjpJ1Rbij2D3Z/1trXUvLsblCK0XfOx0SX2kMsn9dX+d+7Kf6h8o4AIykuffjT8L20LU+w4AZd5VvEPY+XpWqLV327HR7DzXuDnD8r+ovkBehJ8i+y8YAAAAASUVORK5CYII=)"},warn:{color:"#C09853","background-color":"#FCF8E3","border-color":"#FBEED5","background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAABJlBMVEXr6eb/2oD/wi7/xjr/0mP/ykf/tQD/vBj/3o7/uQ//vyL/twebhgD/4pzX1K3z8e349vK6tHCilCWbiQymn0jGworr6dXQza3HxcKkn1vWvV/5uRfk4dXZ1bD18+/52YebiAmyr5S9mhCzrWq5t6ufjRH54aLs0oS+qD751XqPhAybhwXsujG3sm+Zk0PTwG6Shg+PhhObhwOPgQL4zV2nlyrf27uLfgCPhRHu7OmLgAafkyiWkD3l49ibiAfTs0C+lgCniwD4sgDJxqOilzDWowWFfAH08uebig6qpFHBvH/aw26FfQTQzsvy8OyEfz20r3jAvaKbhgG9q0nc2LbZxXanoUu/u5WSggCtp1anpJKdmFz/zlX/1nGJiYmuq5Dx7+sAAADoPUZSAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfdBgUBGhh4aah5AAAAlklEQVQY02NgoBIIE8EUcwn1FkIXM1Tj5dDUQhPU502Mi7XXQxGz5uVIjGOJUUUW81HnYEyMi2HVcUOICQZzMMYmxrEyMylJwgUt5BljWRLjmJm4pI1hYp5SQLGYxDgmLnZOVxuooClIDKgXKMbN5ggV1ACLJcaBxNgcoiGCBiZwdWxOETBDrTyEFey0jYJ4eHjMGWgEAIpRFRCUt08qAAAAAElFTkSuQmCC)"}}}),e(function(){y(p.css).attr("id","core-notify"),e(document).on("click","."+r+"-hidable",function(t){e(this).trigger("notify-hide")}),e(document).on("notify-hide","."+r+"-wrapper",function(t){var i=e(this).data(r);i&&i.show(!1)})})}),!function(e,t,i){"use strict";!function(){t.module("ngMaterial",["ng","ngAnimate","material.core","material.core.gestures","material.core.theming.palette","material.core.theming","material.components.autocomplete","material.components.backdrop","material.components.bottomSheet","material.components.button","material.components.card","material.components.checkbox","material.components.chips","material.components.content","material.components.dialog","material.components.divider","material.components.gridList","material.components.icon","material.components.list","material.components.input","material.components.progressCircular","material.components.progressLinear","material.components.radioButton","material.components.select","material.components.sidenav","material.components.slider","material.components.sticky","material.components.subheader","material.components.swipe","material.components.switch","material.components.tabs","material.components.toast","material.components.toolbar","material.components.tooltip","material.components.whiteframe"])}(),function(){function e(e,t){e.decorator("$$rAF",["$delegate",i]),t.theme("default").primaryPalette("indigo").accentPalette("pink").warnPalette("red").backgroundPalette("grey")}function i(e){return e.throttle=function(t){var i,n,r,o;return function(){i=arguments,o=this,r=t,n||(n=!0,e(function(){r.apply(o,i),n=!1}))}},e}t.module("material.core",["material.core.gestures","material.core.theming"]).config(e),e.$inject=["$provide","$mdThemingProvider"]}(),function(){function e(e,t){function i(e){return n?"webkit"+e.charAt(0).toUpperCase()+e.substring(1):e}var n=/webkit/i.test(t.vendorPrefix);return{KEY_CODE:{ENTER:13,ESCAPE:27,SPACE:32,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,TAB:9,BACKSPACE:8,DELETE:46},CSS:{TRANSITIONEND:"transitionend"+(n?" webkitTransitionEnd":""),ANIMATIONEND:"animationend"+(n?" webkitAnimationEnd":""),TRANSFORM:i("transform"),TRANSFORM_ORIGIN:i("transformOrigin"),TRANSITION:i("transition"),TRANSITION_DURATION:i("transitionDuration"),ANIMATION_PLAY_STATE:i("animationPlayState"),ANIMATION_DURATION:i("animationDuration"),ANIMATION_NAME:i("animationName"),ANIMATION_TIMING:i("animationTimingFunction"),ANIMATION_DIRECTION:i("animationDirection")},MEDIA:{sm:"(max-width: 600px)","gt-sm":"(min-width: 600px)",md:"(min-width: 600px) and (max-width: 960px)","gt-md":"(min-width: 960px)",lg:"(min-width: 960px) and (max-width: 1200px)","gt-lg":"(min-width: 1200px)"},MEDIA_PRIORITY:["gt-lg","lg","gt-md","md","gt-sm","sm"]}}t.module("material.core").factory("$mdConstant",e),e.$inject=["$$rAF","$sniffer"]}(),function(){function e(e,i){function n(){return[].concat(y)}function r(){return y.length}function o(e){return y.length&&e>-1&&e<y.length}function a(e){return!!e&&o(h(e)+1)}function s(e){return!!e&&o(h(e)-1)}function l(e){return o(e)?y[e]:null}function c(e,t){return y.filter(function(i){return i[e]===t})}function u(e,i){return e?(t.isNumber(i)||(i=y.length),y.splice(i,0,e),h(e)):-1}function d(e){p(e)&&y.splice(h(e),1)}function h(e){return y.indexOf(e)}function p(e){return e&&h(e)>-1}function f(){return y.length?y[0]:null}function m(){return y.length?y[y.length-1]:null}function g(e,n,r,a){r=r||v;for(var s=h(n);;){if(!o(s))return null;var l=s+(e?-1:1),c=null;if(o(l)?c=y[l]:i&&(c=e?m():f(),l=h(c)),null===c||l===a)return null;if(r(c))return c;t.isUndefined(a)&&(a=l),s=l}}var v=function(){return!0};e&&!t.isArray(e)&&(e=Array.prototype.slice.call(e)),i=!!i;var y=e||[];return{items:n,count:r,inRange:o,contains:p,indexOf:h,itemAt:l,findBy:c,add:u,remove:d,first:f,last:m,next:t.bind(null,g,!1),previous:t.bind(null,g,!0),hasPrevious:s,hasNext:a}}t.module("material.core").config(["$provide",function(t){t.decorator("$mdUtil",["$delegate",function(t){return t.iterator=e,t}])}])}(),function(){function e(e,i,n){function r(e){var i=h[e];t.isUndefined(i)&&(i=h[e]=o(e));var n=f[i];return t.isUndefined(n)&&(n=a(i)),n}function o(t){return e.MEDIA[t]||("("!==t.charAt(0)?"("+t+")":t)}function a(e){var t=p[e]=n.matchMedia(e);return t.addListener(s),f[t.media]=!!t.matches}function s(e){i.$evalAsync(function(){f[e.media]=!!e.matches})}function l(e){return p[e]}function c(t,i){for(var n=0;n<e.MEDIA_PRIORITY.length;n++){var r=e.MEDIA_PRIORITY[n];if(p[h[r]].matches){var o=d(t,i+"-"+r);if(t[o])return t[o]}}return t[d(t,i)]}function u(i,n,r){var o=[];return i.forEach(function(i){var a=d(n,i);n[a]&&o.push(n.$observe(a,t.bind(void 0,r,null)));for(var s in e.MEDIA){if(a=d(n,i+"-"+s),!n[a])return;o.push(n.$observe(a,t.bind(void 0,r,s)))}}),function(){o.forEach(function(e){e()})}}function d(e,t){return m[t]||(m[t]=e.$normalize(t))}var h={},p={},f={},m={};return r.getResponsiveAttribute=c,r.getQuery=l,r.watchResponsiveAttributes=u,r}t.module("material.core").factory("$mdMedia",e),e.$inject=["$mdConstant","$rootScope","$window"]}(),function(){var n=["0","0","0"];t.module("material.core").factory("$mdUtil",["$cacheFactory","$document","$timeout","$q","$window","$mdConstant",function(r,o,a,s,l,c){function u(e){return e[0]||e}var d;return d={now:e.performance?t.bind(e.performance,e.performance.now):Date.now,clientRect:function(e,t,i){var n=u(e);t=u(t||n.offsetParent||document.body);var r=n.getBoundingClientRect(),o=i?t.getBoundingClientRect():{left:0,top:0,width:0,height:0};return{left:r.left-o.left,top:r.top-o.top,width:r.width,height:r.height}},offsetRect:function(e,t){return d.clientRect(e,t,!0)},disableScrollAround:function(e){function i(){function e(e){s.contains(e.target)&&(e.preventDefault(),e.stopImmediatePropagation())}function i(e){e.preventDefault()}var n=t.element('<div class="md-scroll-mask"><div class="md-scroll-mask-bar"></div></div>'),a=l.getComputedStyle(s),c=s.getBoundingClientRect(),u=c.width-s.clientWidth;return r(n[0],{zIndex:"auto"==a.zIndex?2:a.zIndex+1,width:c.width+"px",height:c.height+"px",top:c.top+"px",left:c.left+"px"}),n[0].firstElementChild.style.width=u+"px",o[0].body.appendChild(n[0]),n.on("wheel",i),n.on("touchmove",i),o.on("keydown",e),function(){n.off("wheel"),n.off("touchmove"),n[0].parentNode.removeChild(n[0]),o.off("keydown",e)}}function n(){var e=s.getAttribute("style")||"",t=s.scrollTop;return r(s,{position:"fixed",width:"100%",overflowY:"scroll",transform:"translateY(-"+t+"px)","-webkit-transform":"translateY(-"+t+"px)"}),function(){s.setAttribute("style",e),s.scrollTop=t}}function r(e,t){for(var i in t)e.style[i]=t[i]}function a(e){return e instanceof t.element&&(e=e[0]),e.scrollHeight>e.offsetHeight}e=e instanceof t.element?e[0]:e;for(var s,c=e;c=this.getClosest(c,"MD-CONTENT",!0);)a(c)&&(s=t.element(c)[0]);return s||(s=o[0].body,a(s))?"BODY"==s.nodeName?n():i():t.noop},floatingScrollbars:function(){if(this.floatingScrollbars.cached===i){
var e=t.element('<div style="width: 100%; z-index: -1; position: absolute; height: 35px; overflow-y: scroll"><div style="height: 60;"></div></div>');o[0].body.appendChild(e[0]),this.floatingScrollbars.cached=e[0].offsetWidth==e[0].childNodes[0].offsetWidth,e.remove()}return this.floatingScrollbars.cached},forceFocus:function(t){var i=t[0]||t;document.addEventListener("click",function e(t){t.target===i&&t.$focus&&(i.focus(),t.stopImmediatePropagation(),t.preventDefault(),i.removeEventListener("click",e))},!0);var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!1,!0,e,{},0,0,0,0,!1,!1,!1,!1,0,null),n.$material=!0,n.$focus=!0,i.dispatchEvent(n)},transitionEndPromise:function(e,t){function i(t){t&&t.target!==e[0]||(e.off(c.CSS.TRANSITIONEND,i),n.resolve())}t=t||{};var n=s.defer();return e.on(c.CSS.TRANSITIONEND,i),t.timeout&&a(i,t.timeout),n.promise},fakeNgModel:function(){return{$fake:!0,$setTouched:t.noop,$setViewValue:function(e){this.$viewValue=e,this.$render(e),this.$viewChangeListeners.forEach(function(e){e()})},$isEmpty:function(e){return 0===(""+e).length},$parsers:[],$formatters:[],$viewChangeListeners:[],$render:t.noop}},debounce:function(e,t,n,r){var o;return function(){var s=n,l=Array.prototype.slice.call(arguments);a.cancel(o),o=a(function(){o=i,e.apply(s,l)},t||10,r)}},throttle:function(e,t){var i;return function(){var n=this,r=arguments,o=d.now();(!i||o-i>t)&&(e.apply(n,r),i=o)}},time:function(e){var t=d.now();return e(),d.now()-t},nextUid:function(){for(var e,t=n.length;t;){if(t--,e=n[t].charCodeAt(0),57==e)return n[t]="A",n.join("");if(90!=e)return n[t]=String.fromCharCode(e+1),n.join("");n[t]="0"}return n.unshift("0"),n.join("")},disconnectScope:function(e){if(e&&e.$root!==e&&!e.$$destroyed){var t=e.$parent;e.$$disconnected=!0,t.$$childHead===e&&(t.$$childHead=e.$$nextSibling),t.$$childTail===e&&(t.$$childTail=e.$$prevSibling),e.$$prevSibling&&(e.$$prevSibling.$$nextSibling=e.$$nextSibling),e.$$nextSibling&&(e.$$nextSibling.$$prevSibling=e.$$prevSibling),e.$$nextSibling=e.$$prevSibling=null}},reconnectScope:function(e){if(e&&e.$root!==e&&e.$$disconnected){var t=e,i=t.$parent;t.$$disconnected=!1,t.$$prevSibling=i.$$childTail,i.$$childHead?(i.$$childTail.$$nextSibling=t,i.$$childTail=t):i.$$childHead=i.$$childTail=t}},getClosest:function(e,i,n){if(e instanceof t.element&&(e=e[0]),i=i.toUpperCase(),n&&(e=e.parentNode),!e)return null;do if(e.nodeName===i)return e;while(e=e.parentNode);return null},extractElementByName:function(e,i){for(var n=0,r=e.length;r>n;n++)if(e[n].nodeName.toLowerCase()===i)return t.element(e[n]);return e},initOptionalProperties:function(e,i,n){n=n||{},t.forEach(e.$$isolateBindings,function(r,o){if(r.optional&&t.isUndefined(e[o])){var a=i.hasOwnProperty(i.$normalize(r.attrName));e[o]=t.isDefined(n[o])?n[o]:a}})}}}]),t.element.prototype.focus=t.element.prototype.focus||function(){return this.length&&this[0].focus(),this},t.element.prototype.blur=t.element.prototype.blur||function(){return this.length&&this[0].blur(),this}}(),function(){function e(e,i,n){function r(e,n,r){var o=e[0]||e;!o||o.hasAttribute(n)&&0!==o.getAttribute(n).length||l(o,n)||(r=t.isString(r)?r.trim():"",r.length?e.attr(n,r):i.warn('ARIA: Attribute "',n,'", required for accessibility, is missing on node:',o))}function o(t,i,n){e(function(){r(t,i,n())})}function a(e,t){o(e,t,function(){return s(e)})}function s(e){return e.text().trim()}function l(e,t){function i(e){var t=e.currentStyle?e.currentStyle:n.getComputedStyle(e);return"none"===t.display}var r=e.hasChildNodes(),o=!1;if(r)for(var a=e.childNodes,s=0;s<a.length;s++){var l=a[s];1===l.nodeType&&l.hasAttribute(t)&&(i(l)||(o=!0))}return o}return{expect:r,expectAsync:o,expectWithText:a}}t.module("material.core").service("$mdAria",e),e.$inject=["$$rAF","$log","$window"]}(),function(){function e(e,i,n,r,o,a){this.compile=function(s){var l=s.templateUrl,c=s.template||"",u=s.controller,d=s.controllerAs,h=s.resolve||{},p=s.locals||{},f=s.transformTemplate||t.identity,m=s.bindToController;return t.forEach(h,function(e,i){h[i]=t.isString(e)?n.get(e):n.invoke(e)}),t.extend(h,p),h.$template=l?i.get(l,{cache:a}).then(function(e){return e.data}):e.when(c),e.all(h).then(function(e){var i=f(e.$template),n=s.element||t.element("<div>").html(i.trim()).contents(),a=r(n);return{locals:e,element:n,link:function(i){if(e.$scope=i,u){var r=o(u,e,!0);m&&t.extend(r.instance,e);var s=r();n.data("$ngControllerController",s),n.children().data("$ngControllerController",s),d&&(i[d]=s)}return a(i)}}})}}t.module("material.core").service("$mdCompiler",e),e.$inject=["$q","$http","$injector","$compile","$controller","$templateCache"]}(),function(){function i(){}function n(i,n,r){function o(e,t,i){var n=p[t.replace(/^\$md./,"")];if(!n)throw new Error("Failed to register element with handler "+t+". Available handlers: "+Object.keys(p).join(", "));return n.registerElement(e,i)}function a(e,n){var r=new i(e);return t.extend(r,n),p[e]=r,m}var l=navigator.userAgent||navigator.vendor||e.opera,u=l.match(/ipad|iphone|ipod/i),d=l.match(/android/i),h="undefined"!=typeof e.jQuery&&t.element===e.jQuery,m={handler:a,register:o,isHijackingClicks:(u||d)&&!h&&!f};return m.isHijackingClicks&&m.handler("click",{options:{maxDistance:6},onEnd:function(e,t){t.distance<this.state.options.maxDistance&&this.dispatchEvent(e,"click")}}),m.handler("press",{onStart:function(e,t){this.dispatchEvent(e,"$md.pressdown")},onEnd:function(e,t){this.dispatchEvent(e,"$md.pressup")}}).handler("hold",{options:{maxDistance:6,delay:500},onCancel:function(){r.cancel(this.state.timeout)},onStart:function(e,i){return this.state.registeredParent?(this.state.pos={x:i.x,y:i.y},void(this.state.timeout=r(t.bind(this,function(){this.dispatchEvent(e,"$md.hold"),this.cancel()}),this.state.options.delay,!1))):this.cancel()},onMove:function(e,t){e.preventDefault();var i=this.state.pos.x-t.x,n=this.state.pos.y-t.y;Math.sqrt(i*i+n*n)>this.options.maxDistance&&this.cancel()},onEnd:function(){this.onCancel()}}).handler("drag",{options:{minDistance:6,horizontal:!0,cancelMultiplier:1.5},onStart:function(e){this.state.registeredParent||this.cancel()},onMove:function(e,t){var i,n;e.preventDefault(),this.state.dragPointer?this.dispatchDragMove(e):(this.state.options.horizontal?(i=Math.abs(t.distanceX)>this.state.options.minDistance,n=Math.abs(t.distanceY)>this.state.options.minDistance*this.state.options.cancelMultiplier):(i=Math.abs(t.distanceY)>this.state.options.minDistance,n=Math.abs(t.distanceX)>this.state.options.minDistance*this.state.options.cancelMultiplier),i?(this.state.dragPointer=s(e),c(e,this.state.dragPointer),this.dispatchEvent(e,"$md.dragstart",this.state.dragPointer)):n&&this.cancel())},dispatchDragMove:n.throttle(function(e){this.state.isRunning&&(c(e,this.state.dragPointer),this.dispatchEvent(e,"$md.drag",this.state.dragPointer))}),onEnd:function(e,t){this.state.dragPointer&&(c(e,this.state.dragPointer),this.dispatchEvent(e,"$md.dragend",this.state.dragPointer))}}).handler("swipe",{options:{minVelocity:.65,minDistance:10},onEnd:function(e,t){if(Math.abs(t.velocityX)>this.state.options.minVelocity&&Math.abs(t.distanceX)>this.state.options.minDistance){var i="left"==t.directionX?"$md.swipeleft":"$md.swiperight";this.dispatchEvent(e,i)}}})}function r(e){this.name=e,this.state={}}function o(){function i(e,i,n){n=n||d;var r=new t.element.Event(i);r.$material=!0,r.pointer=n,r.srcEvent=e,t.extend(r,{clientX:n.x,clientY:n.y,screenX:n.x,screenY:n.y,pageX:n.x,pageY:n.y,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey,metaKey:e.metaKey}),t.element(n.target).trigger(r)}function n(t,i,n){n=n||d;var r;"click"===i?(r=document.createEvent("MouseEvents"),r.initMouseEvent("click",!0,!0,e,t.detail,n.x,n.y,n.x,n.y,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget||null)):(r=document.createEvent("CustomEvent"),r.initCustomEvent(i,!0,!0,{})),r.$material=!0,r.pointer=n,r.srcEvent=t,n.target.dispatchEvent(r)}var o="undefined"!=typeof e.jQuery&&t.element===e.jQuery;return r.prototype={options:{},dispatchEvent:o?i:n,onStart:t.noop,onMove:t.noop,onEnd:t.noop,onCancel:t.noop,start:function(e,i){if(!this.state.isRunning){var n=this.getNearestParent(e.target),r=n&&n.$mdGesture[this.name]||{};this.state={isRunning:!0,options:t.extend({},this.options,r),registeredParent:n},this.onStart(e,i)}},move:function(e,t){this.state.isRunning&&this.onMove(e,t)},end:function(e,t){this.state.isRunning&&(this.onEnd(e,t),this.state.isRunning=!1)},cancel:function(e,t){this.onCancel(e,t),this.state={}},getNearestParent:function(e){for(var t=e;t;){if((t.$mdGesture||{})[this.name])return t;t=t.parentNode}return null},registerElement:function(e,t){function i(){delete e[0].$mdGesture[n.name],e.off("$destroy",i)}var n=this;return e[0].$mdGesture=e[0].$mdGesture||{},e[0].$mdGesture[this.name]=t||{},e.on("$destroy",i),i}},r}function a(e,i){function n(e,t){var n;for(var r in p)n=p[r],n instanceof i&&("start"===e&&n.cancel(),n[e](t,d))}function r(e){if(!d){var t=+Date.now();h&&!l(e,h)&&t-h.endTime<1500||(d=s(e),n("start",e))}}function o(e){d&&l(e,d)&&(c(e,d),n("move",e))}function a(e){d&&l(e,d)&&(c(e,d),d.endTime=+Date.now(),n("end",e),h=d,d=null)}document.contains||(document.contains=function(e){return document.body.contains(e)}),!m&&e.isHijackingClicks&&(document.addEventListener("click",function(e){var t=0===e.clientX&&0===e.clientY;t||e.$material||e.isIonicTap||(e.preventDefault(),e.stopPropagation())},!0),m=!0);var u="mousedown touchstart pointerdown",f="mousemove touchmove pointermove",g="mouseup mouseleave touchend touchcancel pointerup pointercancel";t.element(document).on(u,r).on(f,o).on(g,a).on("$$mdGestureReset",function(){h=d=null})}function s(e){var t=u(e),i={startTime:+Date.now(),target:e.target,type:e.type.charAt(0)};return i.startX=i.x=t.pageX,i.startY=i.y=t.pageY,i}function l(e,t){return e&&t&&e.type.charAt(0)===t.type}function c(e,t){var i=u(e),n=t.x=i.pageX,r=t.y=i.pageY;t.distanceX=n-t.startX,t.distanceY=r-t.startY,t.distance=Math.sqrt(t.distanceX*t.distanceX+t.distanceY*t.distanceY),t.directionX=t.distanceX>0?"right":t.distanceX<0?"left":"",t.directionY=t.distanceY>0?"up":t.distanceY<0?"down":"",t.duration=+Date.now()-t.startTime,t.velocityX=t.distanceX/t.duration,t.velocityY=t.distanceY/t.duration}function u(e){return e=e.originalEvent||e,e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0]||e}var d,h,p={},f=!1,m=!1;t.module("material.core.gestures",[]).provider("$mdGesture",i).factory("$$MdGestureHandler",o).run(a),i.prototype={skipClickHijack:function(){return f=!0},$get:["$$MdGestureHandler","$$rAF","$timeout",function(e,t,i){return new n(e,t,i)}]},n.$inject=["$$MdGestureHandler","$$rAF","$timeout"],a.$inject=["$mdGesture","$$MdGestureHandler"]}(),function(){function e(){function e(e){function i(e){return l.optionsFactory=e.options,l.methods=(e.methods||[]).concat(a),c}function n(e,t){return s[e]=t,c}function r(t,i){if(i=i||{},i.methods=i.methods||[],i.options=i.options||function(){return{}},/^cancel|hide|show$/.test(t))throw new Error("Preset '"+t+"' in "+e+" is reserved!");if(i.methods.indexOf("_options")>-1)throw new Error("Method '_options' in "+e+" is reserved!");return l.presets[t]={methods:i.methods.concat(a),optionsFactory:i.options,argOption:i.argOption},c}function o(i,n,r){function o(e){return e&&e._options&&(e=e._options),d.show(t.extend({},u,e))}function a(t,i){var n={};return n[e]=h,r.invoke(t||function(){return i},{},n)}var c,u,d=i(),h={hide:d.hide,cancel:d.cancel,show:o};return c=l.methods||[],u=a(l.optionsFactory,{}),t.forEach(s,function(e,t){h[t]=e}),t.forEach(l.presets,function(e,i){function n(e){this._options=t.extend({},r,e)}var r=a(e.optionsFactory,{}),o=(e.methods||[]).concat(c);if(t.extend(r,{$type:i}),t.forEach(o,function(e){n.prototype[e]=function(t){return this._options[e]=t,this}}),e.argOption){var s="show"+i.charAt(0).toUpperCase()+i.slice(1);h[s]=function(e){var t=h[i](e);return h.show(t)}}h[i]=function(i){return arguments.length&&e.argOption&&!t.isObject(i)&&!t.isArray(i)?(new n)[e.argOption](i):new n(i)}}),h}var a=["onHide","onShow","onRemove"],s={},l={presets:{}},c={setDefaults:i,addPreset:r,addMethod:n,$get:o};return c.addPreset("build",{methods:["controller","controllerAs","resolve","template","templateUrl","themable","transformTemplate","parent"]}),o.$inject=["$$interimElement","$animate","$injector"],c}function n(e,n,r,o,a,s,l,c,u){function d(e){return e&&t.isString(e)?e.replace(/\{\{/g,h).replace(/}}/g,p):e}var h=l.startSymbol(),p=l.endSymbol(),f="{{"===h&&"}}"===p,m=f?t.identity:d;return function(){function l(e){if(g.length)return f.cancel().then(function(){return l(e)});var t=new p(e);return g.push(t),t.show().then(function(){return t.deferred.promise})}function d(e){var t=g.shift();return t&&t.remove().then(function(){t.deferred.resolve(e)})}function h(e){var t=g.shift();return n.when(t&&t.remove().then(function(){t.deferred.reject(e)}))}function p(l){var d,h,p,g,v;return l=l||{},l=t.extend({preserveScope:!1,scope:l.scope||r.$new(l.isolateScope),onShow:function(e,t,i){return s.enter(t,i.parent)},onRemove:function(e,t,i){return t&&s.leave(t)||n.when()}},l),l.template&&(l.template=m(l.template)),d={options:l,deferred:n.defer(),show:function(){var i;return i=l.skipCompile?n(function(e){e({locals:{},link:function(){return l.element}})}):c.compile(l),g=i.then(function(i){function r(){l.hideDelay&&(h=o(f.cancel,l.hideDelay))}if(t.extend(i.locals,d.options),p=i.link(l.scope),t.isFunction(l.parent)?l.parent=l.parent(l.scope,p,l):t.isString(l.parent)&&(l.parent=t.element(e[0].querySelector(l.parent))),!(l.parent||{}).length){var s;a[0]&&a[0].querySelector&&(s=a[0].querySelector(":not(svg) > body")),s||(s=a[0]),"#comment"==s.nodeName&&(s=e[0].body),l.parent=t.element(s)}l.themable&&u(p);var c=l.onShow(l.scope,p,l);return n.when(c).then(function(){(l.onComplete||t.noop)(l.scope,p,l),r()})},function(e){g=!0,d.deferred.reject(e)})},cancelTimeout:function(){h&&(o.cancel(h),h=i)},remove:function(){return d.cancelTimeout(),v=n.when(g).then(function(){var e=!p||l.onRemove(l.scope,p,l);return n.when(e).then(function(){l.preserveScope||l.scope.$destroy(),v=!0})})}}}var f,g=[];return f={show:l,hide:d,cancel:h}}}return e.$get=n,n.$inject=["$document","$q","$rootScope","$timeout","$rootElement","$animate","$interpolate","$mdCompiler","$mdTheming"],e}t.module("material.core").provider("$$interimElement",e)}(),function(){function e(e,i){function n(e){return e&&""!==e}var r,o=[],a={};return r={notFoundError:function(t){e.error("No instance found for handle",t)},getInstances:function(){return o},get:function(e){if(!n(e))return null;var t,i,r;for(t=0,i=o.length;i>t;t++)if(r=o[t],r.$$mdHandle===e)return r;return null},register:function(e,i){function n(){var t=o.indexOf(e);-1!==t&&o.splice(t,1)}function r(){var t=a[i];t&&(t.resolve(e),delete a[i])}return i?(e.$$mdHandle=i,o.push(e),r(),n):t.noop},when:function(e){if(n(e)){var t=i.defer(),o=r.get(e);return o?t.resolve(o):a[e]=t,t.promise}return i.reject("Invalid `md-component-id` value.")}}}t.module("material.core").factory("$mdComponentRegistry",e),e.$inject=["$log","$q"]}(),function(){function e(e){return{controller:t.noop,link:function(t,i,n){n.hasOwnProperty("mdInkRippleCheckbox")?e.attachCheckboxBehavior(t,i):e.attachButtonBehavior(t,i)}}}function i(e,i){function n(e,i,n){return s(e,i,t.extend({fullRipple:!0,isMenuItem:i.hasClass("md-menu-item"),center:!1,dimBackground:!0},n))}function r(e,i,n){return s(e,i,t.extend({center:!0,dimBackground:!1,fitRipple:!0},n))}function o(e,i,n){return s(e,i,t.extend({center:!1,dimBackground:!0,outline:!1,rippleSize:"full"},n))}function a(e,i,n){return s(e,i,t.extend({center:!1,dimBackground:!0,outline:!1,rippleSize:"full"},n))}function s(n,r,o){function a(){var e=r.data("$mdRippleContainer");return e?e:(e=t.element('<div class="md-ripple-container">'),r.append(e),r.data("$mdRippleContainer",e),e)}function s(e){function t(e){var t="#"===e.charAt(0)?e.substr(1):e,i=t.length/3,n=t.substr(0,i),r=t.substr(i,i),o=t.substr(2*i);return 1===i&&(n+=n,r+=r,o+=o),"rgba("+parseInt(n,16)+","+parseInt(r,16)+","+parseInt(o,16)+",0.1)"}function i(e){return e.replace(")",", 0.1)").replace("(","a(")}if(e)return 0===e.indexOf("rgba")?e.replace(/\d?\.?\d*\s*\)\s*$/,"0.1)"):0===e.indexOf("rgb")?i(e):0===e.indexOf("#")?t(e):void 0}function l(e,t){v.splice(v.indexOf(e),1),0===v.length&&a().css({backgroundColor:""}),i(function(){e.remove()},t,!1)}function c(e){var t=v.indexOf(e),i=y[t]||{},n=!(v.length>1)&&_,r=!(v.length>1)&&w;n||i.animating||r?e.addClass("md-ripple-visible"):e&&(e.removeClass("md-ripple-visible"),o.outline&&e.css({width:f+"px",height:f+"px",marginLeft:-1*f+"px",marginTop:-1*f+"px"}),l(e,o.outline?450:650))}function u(n,l){function u(e){var i=t.element('<div class="md-ripple" data-counter="'+g++ +'">');return v.unshift(i),y.unshift({animating:!0}),p.append(i),e&&i.css(e),i}function d(e,t){var i,n,r,a=p.prop("offsetWidth"),s=p.prop("offsetHeight");return o.isMenuItem?n=Math.sqrt(Math.pow(a,2)+Math.pow(s,2)):o.outline?(r=x.getBoundingClientRect(),e-=r.left,t-=r.top,a=Math.max(e,a-e),s=Math.max(t,s-t),n=2*Math.sqrt(Math.pow(a,2)+Math.pow(s,2))):(i=o.fullRipple?1.1:.8,n=Math.sqrt(Math.pow(a,2)+Math.pow(s,2))*i,o.fitRipple&&(n=Math.min(s,a,n))),n}function h(e,t,i){function n(e){return e.replace("rgba","rgb").replace(/,[^\),]+\)/,")")}var r=x.getBoundingClientRect(),a={backgroundColor:n(A),borderColor:n(A),width:e+"px",height:e+"px"};return o.outline?(a.width=0,a.height=0):a.marginLeft=a.marginTop=e*-.5+"px",o.center?a.left=a.top="50%":(a.left=Math.round((t-r.left)/p.prop("offsetWidth")*100)+"%",a.top=Math.round((i-r.top)/p.prop("offsetHeight")*100)+"%"),a}A=s(r.attr("md-ink-ripple"))||s(e.getComputedStyle(o.colorElement[0]).color||"rgb(0, 0, 0)");var p=a(),m=d(n,l),b=h(m,n,l),_=u(b),w=v.indexOf(_),E=y[w]||{};return f=m,E.animating=!0,i(function(){o.dimBackground&&p.css({backgroundColor:A}),_.addClass("md-ripple-placed md-ripple-scaled"),_.css(o.outline?{borderWidth:.5*m+"px",marginLeft:m*-.5+"px",marginTop:m*-.5+"px"}:{left:"50%",top:"50%"}),c(_),i(function(){E.animating=!1,c(_)},o.outline?450:225,!1)},0,!1),_}function d(e){p()&&(u(e.pointer.x,e.pointer.y),w=!0)}function h(){w=!1;var e=v[v.length-1];i(function(){c(e)},0,!1)}function p(){function e(e){return e&&e.hasAttribute&&e.hasAttribute("disabled")}var t=x.parentNode,i=t&&t.parentNode,n=i&&i.parentNode;return!(e(x)||e(t)||e(i)||e(n))}if(r.controller("mdNoInk"))return t.noop;o=t.extend({colorElement:r,mousedown:!0,hover:!0,focus:!0,center:!1,mousedownPauseTime:150,dimBackground:!1,outline:!1,fullRipple:!0,isMenuItem:!1,fitRipple:!1},o);var f,m=r.controller("mdInkRipple")||{},g=0,v=[],y=[],b=r.attr("md-highlight"),_=!1,w=!1,x=r[0],E=r.attr("md-ripple-size"),A=s(r.attr("md-ink-ripple"))||s(o.colorElement.length&&e.getComputedStyle(o.colorElement[0]).color||"rgb(0, 0, 0)");switch(E){case"full":o.fullRipple=!0;break;case"partial":o.fullRipple=!1}return o.mousedown&&r.on("$md.pressdown",d).on("$md.pressup",h),m.createRipple=u,b&&n.$watch(b,function(e){_=e,_&&!v.length&&i(function(){u(0,0)},0,!1),t.forEach(v,c)}),function(){r.off("$md.pressdown",d).off("$md.pressup",h),a().remove()}}return{attachButtonBehavior:n,attachCheckboxBehavior:r,attachTabBehavior:o,attachListControlBehavior:a,attach:s}}function n(){return function(){return{controller:t.noop}}}t.module("material.core").factory("$mdInkRipple",i).directive("mdInkRipple",e).directive("mdNoInk",n()).directive("mdNoBar",n()).directive("mdNoStretch",n()),e.$inject=["$mdInkRipple"],i.$inject=["$window","$timeout"]}(),function(){t.module("material.core.theming.palette",[]).constant("$mdColorPalette",{red:{50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 400 A100",contrastStrongLightColors:"500 600 700 A200 A400 A700"},pink:{50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 400 A100",contrastStrongLightColors:"500 600 A200 A400 A700"},purple:{50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200 A400 A700"},"deep-purple":{50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",A100:"#b388ff",A200:"#7c4dff",A400:"#651fff",A700:"#6200ea",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200"},indigo:{50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200 A400"},blue:{50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff",contrastDefaultColor:"light",contrastDarkColors:"100 200 300 400 A100",contrastStrongLightColors:"500 600 700 A200 A400 A700"},"light-blue":{50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900 A700",contrastStrongLightColors:"500 600 700 800 A700"},cyan:{50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",A100:"#84ffff",A200:"#18ffff",A400:"#00e5ff",A700:"#00b8d4",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900",contrastStrongLightColors:"500 600 700 800"},teal:{50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",A100:"#a7ffeb",A200:"#64ffda",A400:"#1de9b6",A700:"#00bfa5",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900",contrastStrongLightColors:"500 600 700"},green:{50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900",contrastStrongLightColors:"500 600 700"},"light-green":{50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",A100:"#ccff90",A200:"#b2ff59",A400:"#76ff03",A700:"#64dd17",contrastDefaultColor:"dark",contrastLightColors:"800 900",contrastStrongLightColors:"800 900"},lime:{50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",A100:"#f4ff81",A200:"#eeff41",A400:"#c6ff00",A700:"#aeea00",contrastDefaultColor:"dark",contrastLightColors:"900",contrastStrongLightColors:"900"},yellow:{50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",A100:"#ffff8d",A200:"#ffff00",A400:"#ffea00",A700:"#ffd600",contrastDefaultColor:"dark"},amber:{50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",A100:"#ffe57f",A200:"#ffd740",A400:"#ffc400",A700:"#ffab00",contrastDefaultColor:"dark"},orange:{50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00",contrastDefaultColor:"dark",contrastLightColors:"800 900",contrastStrongLightColors:"800 900"},"deep-orange":{50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",A100:"#ff9e80",A200:"#ff6e40",A400:"#ff3d00",A700:"#dd2c00",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 400 A100 A200",contrastStrongLightColors:"500 600 700 800 900 A400 A700"},brown:{50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723",A100:"#d7ccc8",A200:"#bcaaa4",A400:"#8d6e63",A700:"#5d4037",contrastDefaultColor:"light",contrastDarkColors:"50 100 200",contrastStrongLightColors:"300 400"},grey:{0:"#ffffff",50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",1e3:"#000000",A100:"#ffffff",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161",contrastDefaultColor:"dark",contrastLightColors:"600 700 800 900"},"blue-grey":{50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238",A100:"#cfd8dc",A200:"#b0bec5",A400:"#78909c",A700:"#455a64",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300",contrastStrongLightColors:"400 500"}})}(),function(){function e(e){function n(e,t){return t=t||{},u[e]=a(e,t),v}function r(e,i){return a(e,t.extend({},u[e]||{},i))}function a(e,t){var i=A.filter(function(e){return!t[e]});if(i.length)throw new Error("Missing colors %1 in palette %2!".replace("%1",i.join(", ")).replace("%2",e));return t}function s(e,i){if(d[e])return d[e];i=i||"default";var n="string"==typeof i?d[i]:i,r=new l(e);return n&&t.forEach(n.colors,function(e,i){r.colors[i]={name:e.name,hues:t.extend({},e.hues)}}),d[e]=r,r}function l(e){function i(e){if(e=0===arguments.length||!!e,e!==n.isDark){n.isDark=e,n.foregroundPalette=n.isDark?f:p,n.foregroundShadow=n.isDark?m:g;var i=n.isDark?E:x,r=n.isDark?x:E;return t.forEach(i,function(e,t){var i=n.colors[t],o=r[t];if(i)for(var a in i.hues)i.hues[a]===o[a]&&(i.hues[a]=e[a])}),n}}var n=this;n.name=e,n.colors={},n.dark=i,i(!1),_.forEach(function(e){var i=(n.isDark?E:x)[e];n[e+"Palette"]=function(r,o){var a=n.colors[e]={name:r,hues:t.extend({},i,o)};return Object.keys(a.hues).forEach(function(e){if(!i[e])throw new Error("Invalid hue name '%1' in theme %2's %3 color %4. Available hue names: %4".replace("%1",e).replace("%2",n.name).replace("%3",r).replace("%4",Object.keys(i).join(", ")))}),Object.keys(a.hues).map(function(e){return a.hues[e]}).forEach(function(t){if(-1==A.indexOf(t))throw new Error("Invalid hue value '%1' in theme %2's %3 color %4. Available hue values: %5".replace("%1",t).replace("%2",n.name).replace("%3",e).replace("%4",r).replace("%5",A.join(", ")))}),n},n[e+"Color"]=function(){var t=Array.prototype.slice.call(arguments);return console.warn("$mdThemingProviderTheme."+e+"Color() has been deprecated. Use $mdThemingProviderTheme."+e+"Palette() instead."),n[e+"Palette"].apply(n,t)}})}function h(e,n){function r(e){return e===i||""===e||o.THEMES[e]!==i}function o(t,n){n===i&&(n=t,t=i),t===i&&(t=e),o.inherit(n,n)}return o.inherit=function(i,o){function a(e){r(e)||n.warn("Attempted to use unregistered theme '"+e+"'. Register it with $mdThemingProvider.theme().");var t=i.data("$mdThemeName");t&&i.removeClass("md-"+t+"-theme"),i.addClass("md-"+e+"-theme"),i.data("$mdThemeName",e)}var s=o.controller("mdTheme"),l=i.attr("md-theme-watch");if((b||t.isDefined(l))&&"false"!=l){var c=e.$watch(function(){return s&&s.$mdTheme||y},a);i.on("$destroy",c)}else{var u=s&&s.$mdTheme||y;a(u)}},o.THEMES=t.extend({},d),o.defaultTheme=function(){return y},o.registered=r,o}u={},d={};var v,y="default",b=!1;return t.extend(u,e),h.$inject=["$rootScope","$log"],v={definePalette:n,extendPalette:r,theme:s,setDefaultTheme:function(e){y=e},alwaysWatchTheme:function(e){b=e},$get:h,_LIGHT_DEFAULT_HUES:x,_DARK_DEFAULT_HUES:E,_PALETTES:u,_THEMES:d,_parseRules:o,_rgba:c}}function n(e,t,i){return{priority:100,link:{pre:function(n,r,o){var a={$setTheme:function(t){e.registered(t)||i.warn("attempted to use unregistered theme '"+t+"'"),a.$mdTheme=t}};r.data("$mdThemeController",a),a.$setTheme(t(o.mdTheme)(n)),o.$observe("mdTheme",a.$setTheme)}}}}function r(e){return e}function o(e,i,n){s(e,i),n=n.replace(/THEME_NAME/g,e.name);var r=[],o=e.colors[i],a=new RegExp(".md-"+e.name+"-theme","g"),l=new RegExp("('|\")?{{\\s*("+i+")-(color|contrast)-?(\\d\\.?\\d*)?\\s*}}(\"|')?","g"),d=/'?"?\{\{\s*([a-zA-Z]+)-(A?\d+|hue\-[0-3]|shadow)-?(\d\.?\d*)?\s*\}\}'?"?/g,h=u[o.name];return n=n.replace(d,function(t,i,n,r){return"foreground"===i?"shadow"==n?e.foregroundShadow:e.foregroundPalette[n]||e.foregroundPalette[1]:(0===n.indexOf("hue")&&(n=e.colors[i].hues[n]),c((u[e.colors[i].name][n]||"").value,r))}),t.forEach(o.hues,function(t,i){var o=n.replace(l,function(e,i,n,r,o){return c(h[t]["color"===r?"value":"contrast"],o)});"default"!==i&&(o=o.replace(a,".md-"+e.name+"-theme.md-"+i)),r.push(o)}),r}function a(e){function i(e){var i=e.contrastDefaultColor,n=e.contrastLightColors||[],r=e.contrastStrongLightColors||[],o=e.contrastDarkColors||[];"string"==typeof n&&(n=n.split(" ")),"string"==typeof r&&(r=r.split(" ")),"string"==typeof o&&(o=o.split(" ")),delete e.contrastDefaultColor,delete e.contrastLightColors,delete e.contrastStrongLightColors,delete e.contrastDarkColors,t.forEach(e,function(a,s){function c(){return"light"===i?o.indexOf(s)>-1?v:r.indexOf(s)>-1?b:y:n.indexOf(s)>-1?r.indexOf(s)>-1?b:y:v}if(!t.isObject(a)){var u=l(a);if(!u)throw new Error("Color %1, in palette %2's hue %3, is invalid. Hex or rgb(a) color expected.".replace("%1",a).replace("%2",e.name).replace("%3",s));e[s]={value:u,contrast:c()}}})}var n=document.getElementsByTagName("head")[0],r=n?n.firstElementChild:null,a=e.has("$MD_THEME_CSS")?e.get("$MD_THEME_CSS"):"";if(r&&0!==a.length){t.forEach(u,i);var s={},c=a.split(/\}(?!(\}|'|"|;))/).filter(function(e){return e&&e.length}).map(function(e){return e.trim()+"}"}),p=new RegExp("md-("+_.join("|")+")","g");_.forEach(function(e){s[e]=""}),c.forEach(function(e){for(var t,i=(e.match(p),0);t=_[i];i++)if(e.indexOf(".md-"+t)>-1)return s[t]+=e;for(i=0;t=_[i];i++)if(e.indexOf(t)>-1)return s[t]+=e;return s[w]+=e}),t.forEach(d,function(e){h[e.name]||(_.forEach(function(t){for(var i=o(e,t,s[t]);i.length;){var a=document.createElement("style");a.setAttribute("type","text/css"),a.appendChild(document.createTextNode(i.shift())),n.insertBefore(a,r)}}),e.colors.primary.name==e.colors.accent.name&&console.warn("$mdThemingProvider: Using the same palette for primary and accent. This violates the material design spec."),h[e.name]=!0)})}}function s(e,t){if(!u[(e.colors[t]||{}).name])throw new Error("You supplied an invalid color palette for theme %1's %2 palette. Available palettes: %3".replace("%1",e.name).replace("%2",t).replace("%3",Object.keys(u).join(", ")))}function l(e){if(t.isArray(e)&&3==e.length)return e;if(/^rgb/.test(e))return e.replace(/(^\s*rgba?\(|\)\s*$)/g,"").split(",").map(function(e,t){return 3==t?parseFloat(e,10):parseInt(e,10)});if("#"==e.charAt(0)&&(e=e.substring(1)),/^([a-fA-F0-9]{3}){1,2}$/g.test(e)){var i=e.length/3,n=e.substr(0,i),r=e.substr(i,i),o=e.substr(2*i);return 1===i&&(n+=n,r+=r,o+=o),[parseInt(n,16),parseInt(r,16),parseInt(o,16)]}}function c(e,i){return e?(4==e.length&&(e=t.copy(e),i?e.pop():i=e.pop()),i&&("number"==typeof i||"string"==typeof i&&i.length)?"rgba("+e.join(",")+","+i+")":"rgb("+e.join(",")+")"):"rgb('0,0,0')"}t.module("material.core.theming",["material.core.theming.palette"]).directive("mdTheme",n).directive("mdThemable",r).provider("$mdTheming",e).run(a);var u,d,h={},p={name:"dark",1:"rgba(0,0,0,0.87)",2:"rgba(0,0,0,0.54)",
3:"rgba(0,0,0,0.26)",4:"rgba(0,0,0,0.12)"},f={name:"light",1:"rgba(255,255,255,1.0)",2:"rgba(255,255,255,0.7)",3:"rgba(255,255,255,0.3)",4:"rgba(255,255,255,0.12)"},m="1px 1px 0px rgba(0,0,0,0.4), -1px -1px 0px rgba(0,0,0,0.4)",g="",v=l("rgba(0,0,0,0.87)"),y=l("rgba(255,255,255,0.87"),b=l("rgb(255,255,255)"),_=["primary","accent","warn","background"],w="primary",x={accent:{default:"A200","hue-1":"A100","hue-2":"A400","hue-3":"A700"},background:{default:"A100","hue-1":"300","hue-2":"800","hue-3":"900"}},E={background:{default:"800","hue-1":"300","hue-2":"600","hue-3":"900"}};_.forEach(function(e){var t={default:"500","hue-1":"300","hue-2":"800","hue-3":"A100"};x[e]||(x[e]=t),E[e]||(E[e]=t)});var A=["50","100","200","300","400","500","600","700","800","900","A100","A200","A400","A700"];e.$inject=["$mdColorPalette"],n.$inject=["$mdTheming","$interpolate","$log"],r.$inject=["$mdTheming"],a.$inject=["$injector"]}(),function(){t.module("material.components.autocomplete",["material.core","material.components.icon"])}(),function(){function e(e){return e}t.module("material.components.backdrop",["material.core"]).directive("mdBackdrop",e),e.$inject=["$mdTheming"]}(),function(){function e(){return{restrict:"E"}}function i(e){function i(e,i,o,a,s,l,c,u,d){function h(n,r,d){r=o.extractElementByName(r,"md-bottom-sheet"),m=s('<md-backdrop class="md-opaque md-bottom-sheet-backdrop">')(n),m.on("click",function(){a(c.cancel)}),l.inherit(m,d.parent),e.enter(m,d.parent,null);var h=new f(r,d.parent);return d.bottomSheet=h,d.targetEvent&&t.element(d.targetEvent.target).blur(),l.inherit(h.element,d.parent),d.disableParentScroll&&(d.lastOverflow=d.parent.css("overflow"),d.parent.css("overflow","hidden")),e.enter(h.element,d.parent).then(function(){var e=t.element(r[0].querySelector("button")||r[0].querySelector("a")||r[0].querySelector("[ng-click]"));e.focus(),d.escapeToClose&&(d.rootElementKeyupCallback=function(e){e.keyCode===i.KEY_CODE.ESCAPE&&a(c.cancel)},u.on("keyup",d.rootElementKeyupCallback))})}function p(i,n,r){var o=r.bottomSheet;return e.leave(m),e.leave(o.element).then(function(){r.disableParentScroll&&(r.parent.css("overflow",r.lastOverflow),delete r.lastOverflow),o.cleanup(),r.targetEvent&&t.element(r.targetEvent.target).focus()})}function f(e,t){function o(t){e.css(i.CSS.TRANSITION_DURATION,"0ms")}function s(t){var n=t.pointer.distanceY;5>n&&(n=Math.max(-r,n/2)),e.css(i.CSS.TRANSFORM,"translate3d(0,"+(r+n)+"px,0)")}function l(t){if(t.pointer.distanceY>0&&(t.pointer.distanceY>20||Math.abs(t.pointer.velocityY)>n)){var r=e.prop("offsetHeight")-t.pointer.distanceY,o=Math.min(r/t.pointer.velocityY*.75,500);e.css(i.CSS.TRANSITION_DURATION,o+"ms"),a(c.cancel)}else e.css(i.CSS.TRANSITION_DURATION,""),e.css(i.CSS.TRANSFORM,"")}var u=d.register(t,"drag",{horizontal:!1});return t.on("$md.dragstart",o).on("$md.drag",s).on("$md.dragend",l),{element:e,cleanup:function(){u(),t.off("$md.dragstart",o).off("$md.drag",s).off("$md.dragend",l)}}}var m;return{themable:!0,targetEvent:null,onShow:h,onRemove:p,escapeToClose:!0,disableParentScroll:!0}}var n=.5,r=80;return i.$inject=["$animate","$mdConstant","$mdUtil","$timeout","$compile","$mdTheming","$mdBottomSheet","$rootElement","$mdGesture"],e("$mdBottomSheet").setDefaults({methods:["disableParentScroll","escapeToClose","targetEvent"],options:i})}t.module("material.components.bottomSheet",["material.core","material.components.backdrop"]).directive("mdBottomSheet",e).provider("$mdBottomSheet",i),i.$inject=["$$interimElementProvider"]}(),function(){function e(e,i,n,r){function o(e){return t.isDefined(e.href)||t.isDefined(e.ngHref)||t.isDefined(e.ngLink)||t.isDefined(e.uiSref)}function a(e,t){return o(t)?'<a class="md-button" ng-transclude></a>':'<button class="md-button" ng-transclude></button>'}function s(a,s,l){var c=s[0];i(s),e.attachButtonBehavior(a,s);var u=c.textContent.trim();u||n.expect(s,"aria-label"),o(l)&&t.isDefined(l.ngDisabled)&&a.$watch(l.ngDisabled,function(e){s.attr("tabindex",e?-1:0)}),s.on("click",function(e){l.disabled===!0&&(e.preventDefault(),e.stopImmediatePropagation())}),a.mouseActive=!1,s.on("mousedown",function(){a.mouseActive=!0,r(function(){a.mouseActive=!1},100)}).on("focus",function(){a.mouseActive===!1&&s.addClass("md-focused")}).on("blur",function(){s.removeClass("md-focused")})}return{restrict:"EA",replace:!0,transclude:!0,template:a,link:s}}t.module("material.components.button",["material.core"]).directive("mdButton",e),e.$inject=["$mdInkRipple","$mdTheming","$mdAria","$timeout"]}(),function(){function e(e){return{restrict:"E",link:function(t,i,n){e(i)}}}t.module("material.components.card",["material.core"]).directive("mdCard",e),e.$inject=["$mdTheming"]}(),function(){function e(e,i,n,r,o,a,s){function l(i,l){return l.type="checkbox",l.tabindex=l.tabindex||"0",i.attr("role",l.type),function(i,l,u,d){function h(e,t,n){u[e]&&i.$watch(u[e],function(e){n[e]&&l.attr(t,n[e])})}function p(e){var t=e.which||e.keyCode;(t===r.KEY_CODE.SPACE||t===r.KEY_CODE.ENTER)&&(e.preventDefault(),l.hasClass("md-focused")||l.addClass("md-focused"),f(e))}function f(e){l[0].hasAttribute("disabled")||i.$apply(function(){var t=u.ngChecked?u.checked:!d.$viewValue;d.$setViewValue(t,e&&e.type),d.$render()})}function m(){d.$viewValue?l.addClass(c):l.removeClass(c)}d=d||a.fakeNgModel(),o(l),u.ngChecked&&i.$watch(i.$eval.bind(i,u.ngChecked),d.$setViewValue.bind(d)),h("ngDisabled","tabindex",{true:"-1",false:u.tabindex}),n.expectWithText(l,"aria-label"),e.link.pre(i,{on:t.noop,0:{}},u,[d]),i.mouseActive=!1,l.on("click",f).on("keypress",p).on("mousedown",function(){i.mouseActive=!0,s(function(){i.mouseActive=!1},100)}).on("focus",function(){i.mouseActive===!1&&l.addClass("md-focused")}).on("blur",function(){l.removeClass("md-focused")}),d.$render=m}}e=e[0];var c="md-checked";return{restrict:"E",transclude:!0,require:"?ngModel",priority:210,template:'<div class="md-container" md-ink-ripple md-ink-ripple-checkbox><div class="md-icon"></div></div><div ng-transclude class="md-label"></div>',compile:l}}t.module("material.components.checkbox",["material.core"]).directive("mdCheckbox",e),e.$inject=["inputDirective","$mdInkRipple","$mdAria","$mdConstant","$mdTheming","$mdUtil","$timeout"]}(),function(){t.module("material.components.chips",["material.core","material.components.autocomplete"])}(),function(){function e(e){function t(e,t){this.$scope=e,this.$element=t}return{restrict:"E",controller:["$scope","$element",t],link:function(t,n,r){n[0],e(n),t.$broadcast("$mdContentLoaded",n),i(n[0])}}}function i(e){t.element(e).on("$md.pressdown",function(t){"t"===t.pointer.type&&(t.$materialScrollFixed||(t.$materialScrollFixed=!0,0===e.scrollTop?e.scrollTop=1:e.scrollHeight===e.scrollTop+e.offsetHeight&&(e.scrollTop-=1)))})}t.module("material.components.content",["material.core"]).directive("mdContent",e),e.$inject=["$mdTheming"]}(),function(){function e(e,t){return{restrict:"E",link:function(i,n,r){t(n),e(function(){var e=n[0].querySelector("md-dialog-content");e&&e.scrollHeight>e.clientHeight&&n.addClass("md-content-overflow")})}}}function i(e){function i(e,t){return{template:['<md-dialog md-theme="{{ dialog.theme }}" aria-label="{{ dialog.ariaLabel }}">','<md-dialog-content role="document" tabIndex="-1">','<h2 class="md-title">{{ dialog.title }}</h2>',"<p>{{ dialog.content }}</p>","</md-dialog-content>",'<div class="md-actions">','<md-button ng-if="dialog.$type == \'confirm\'" ng-click="dialog.abort()" class="md-primary">',"{{ dialog.cancel }}","</md-button>",'<md-button ng-click="dialog.hide()" class="md-primary">',"{{ dialog.ok }}","</md-button>","</div>","</md-dialog>"].join(""),controller:function(){this.hide=function(){e.hide(!0)},this.abort=function(){e.cancel()}},controllerAs:"dialog",bindToController:!0,theme:t.defaultTheme()}}function n(e,i,n,r,o,a,s,l,c,u,d){function h(e){var t=document.querySelector("md-dialog");t&&!t.contains(e.target)&&(e.stopImmediatePropagation(),t.focus())}function p(e,u,d){function p(){var e=u[0].querySelector(".dialog-close");if(!e){var i=u[0].querySelectorAll(".md-actions button");e=i[i.length-1]}return t.element(e)}t.element(i[0].body).addClass("md-dialog-is-showing"),u=n.extractElementByName(u,"md-dialog"),d.parent=t.element(d.parent),d.popInTarget=t.element((d.targetEvent||{}).target);var f=p();if(d.hasBackdrop){var g=d.parent[0]==i[0].body&&i[0].documentElement&&i[0].documentElement.scrollTop?t.element(i[0].documentElement):d.parent,b=g.prop("scrollTop");d.backdrop=t.element('<md-backdrop class="md-dialog-backdrop md-opaque">'),d.backdrop.css("top",b+"px"),o.inherit(d.backdrop,d.parent),c.enter(d.backdrop,d.parent),u.css("top",b+"px")}var _="dialog",w=f;return"alert"===d.$type&&(_="alertdialog",w=u.find("md-dialog-content")),m(u.find("md-dialog"),_,d),document.addEventListener("focus",h,!0),d.disableParentScroll&&(d.lastOverflow=d.parent.css("overflow"),d.parent.css("overflow","hidden")),y(u,d.parent,d.popInTarget&&d.popInTarget.length&&d.popInTarget).then(function(){v(u,!0),d.escapeToClose&&(d.rootElementKeyupCallback=function(e){e.keyCode===r.KEY_CODE.ESCAPE&&s(a.cancel)},l.on("keyup",d.rootElementKeyupCallback)),d.clickOutsideToClose&&(d.dialogClickOutsideCallback=function(e){e.target===u[0]&&s(a.cancel)},u.on("click",d.dialogClickOutsideCallback)),d.focusOnOpen&&w.focus()})}function f(e,n,r){return t.element(i[0].body).removeClass("md-dialog-is-showing"),r.backdrop&&c.leave(r.backdrop),r.disableParentScroll&&(r.parent.css("overflow",r.lastOverflow),delete r.lastOverflow),r.escapeToClose&&l.off("keyup",r.rootElementKeyupCallback),r.clickOutsideToClose&&n.off("click",r.dialogClickOutsideCallback),v(n,!1),document.removeEventListener("focus",h,!0),b(n,r.parent,r.popInTarget&&r.popInTarget.length&&r.popInTarget).then(function(){n.remove(),r.popInTarget&&r.popInTarget.focus()})}function m(t,i,r){t.attr({role:i,tabIndex:"-1"});var o=t.find("md-dialog-content");0===o.length&&(o=t);var a=t.attr("id")||"dialog_"+n.nextUid();o.attr("id",a),t.attr("aria-describedby",a),r.ariaLabel?e.expect(t,"aria-label",r.ariaLabel):e.expectAsync(t,"aria-label",function(){var e=o.text().split(/\s+/);return e.length>3&&(e=e.slice(0,3).concat("...")),e.join(" ")})}function g(e,t){return-1!==t.indexOf(e.nodeName)||void 0}function v(e,t){function i(e){for(;e.parentNode;){if(e===document.body)return;for(var r=e.parentNode.children,o=0;o<r.length;o++)e===r[o]||g(r[o],["SCRIPT","STYLE"])||r[o].setAttribute(n,t);i(e=e.parentNode)}}var n="aria-hidden";e=e[0],i(e)}function y(e,t,i){var o=e.find("md-dialog");return t.append(e),_(o,i),u(function(){o.addClass("transition-in").css(r.CSS.TRANSFORM,"")}),n.transitionEndPromise(o)}function b(e,t,i){var r=e.find("md-dialog");return r.addClass("transition-out").removeClass("transition-in"),_(r,i),n.transitionEndPromise(r)}function _(e,t){if(t){var i=t[0].getBoundingClientRect(),n=e[0].getBoundingClientRect(),o=Math.min(.5,i.width/n.width),a=Math.min(.5,i.height/n.height);e.css(r.CSS.TRANSFORM,"translate3d("+(-n.left+i.left+i.width/2-n.width/2)+"px,"+(-n.top+i.top+i.height/2-n.height/2)+"px,0) scale("+o+","+a+")")}}return{hasBackdrop:!0,isolateScope:!0,onShow:p,onRemove:f,clickOutsideToClose:!1,escapeToClose:!0,targetEvent:null,focusOnOpen:!0,disableParentScroll:!0,transformTemplate:function(e){return'<div class="md-dialog-container">'+e+"</div>"}}}return i.$inject=["$mdDialog","$mdTheming"],n.$inject=["$mdAria","$document","$mdUtil","$mdConstant","$mdTheming","$mdDialog","$timeout","$rootElement","$animate","$$rAF","$q"],e("$mdDialog").setDefaults({methods:["disableParentScroll","hasBackdrop","clickOutsideToClose","escapeToClose","targetEvent","parent"],options:n}).addPreset("alert",{methods:["title","content","ariaLabel","ok","theme"],options:i}).addPreset("confirm",{methods:["title","content","ariaLabel","ok","cancel","theme"],options:i})}t.module("material.components.dialog",["material.core","material.components.backdrop"]).directive("mdDialog",e).provider("$mdDialog",i),e.$inject=["$$rAF","$mdTheming"],i.$inject=["$$interimElementProvider"]}(),function(){function e(e){return{restrict:"E",link:e}}t.module("material.components.divider",["material.core"]).directive("mdDivider",e),e.$inject=["$mdTheming"]}(),function(){function e(e,n,r,o){function a(i,a,s,l){function c(){for(var e in n.MEDIA)o(e),o.getQuery(n.MEDIA[e]).addListener(E);return o.watchResponsiveAttributes(["md-cols","md-row-height"],s,d)}function u(){l.layoutDelegate=t.noop,A();for(var e in n.MEDIA)o.getQuery(n.MEDIA[e]).removeListener(E)}function d(e){null==e?l.invalidateLayout():o(e)&&l.invalidateLayout()}function h(e){var n=g(),o={tileSpans:v(n),colCount:y(),rowMode:w(),rowHeight:_(),gutter:b()};if(e||!t.equals(o,C)){var s=r(o.colCount,o.tileSpans,n).map(function(e,i){return{grid:{element:a,style:m(o.colCount,i,o.gutter,o.rowMode,o.rowHeight)},tiles:e.map(function(e,i){return{element:t.element(n[i]),style:f(e.position,e.spans,o.colCount,o.rowCount,o.gutter,o.rowMode,o.rowHeight)}})}}).reflow().performance();i.mdOnLayout({$event:{performance:s}}),C=o}}function p(e){return k+e+$}function f(e,t,i,n,r,o,a){var s=1/i*100,l=(i-1)/i,c=T({share:s,gutterShare:l,gutter:r}),u={left:L({unit:c,offset:e.col,gutter:r}),width:D({unit:c,span:t.col,gutter:r}),paddingTop:"",marginTop:"",top:"",height:""};switch(o){case"fixed":u.top=L({unit:a,offset:e.row,gutter:r}),u.height=D({unit:a,span:t.row,gutter:r});break;case"ratio":var d=s/a,h=T({share:d,gutterShare:l,gutter:r});u.paddingTop=D({unit:h,span:t.row,gutter:r}),u.marginTop=L({unit:h,offset:e.row,gutter:r});break;case"fit":var p=(n-1)/n,d=1/n*100,h=T({share:d,gutterShare:p,gutter:r});u.top=L({unit:h,offset:e.row,gutter:r}),u.height=D({unit:h,span:t.row,gutter:r})}return u}function m(e,t,i,n,r){var o={height:"",paddingBottom:""};switch(n){case"fixed":o.height=D({unit:r,span:t,gutter:i});break;case"ratio":var a=1===e?0:(e-1)/e,s=1/e*100,l=s*(1/r),c=T({share:l,gutterShare:a,gutter:i});o.paddingBottom=D({unit:c,span:t,gutter:i});break;case"fit":}return o}function g(){return[].filter.call(a.children(),function(e){return"MD-GRID-TILE"==e.tagName})}function v(e){return[].map.call(e,function(e){var i=t.element(e).controller("mdGridTile");return{row:parseInt(o.getResponsiveAttribute(i.$attrs,"md-rowspan"),10)||1,col:parseInt(o.getResponsiveAttribute(i.$attrs,"md-colspan"),10)||1}})}function y(){var e=parseInt(o.getResponsiveAttribute(s,"md-cols"),10);if(isNaN(e))throw"md-grid-list: md-cols attribute was not found, or contained a non-numeric value";return e}function b(){return x(o.getResponsiveAttribute(s,"md-gutter")||1)}function _(){var e=o.getResponsiveAttribute(s,"md-row-height");switch(w()){case"fixed":return x(e);case"ratio":var t=e.split(":");return parseFloat(t[0])/parseFloat(t[1]);case"fit":return 0}}function w(){var e=o.getResponsiveAttribute(s,"md-row-height");return"fit"==e?"fit":-1!==e.indexOf(":")?"ratio":"fixed"}function x(e){return/\D$/.test(e)?e:e+"px"}a.attr("role","list"),l.layoutDelegate=h;var E=t.bind(l,l.invalidateLayout),A=c();i.$on("$destroy",u);var C,k=e.startSymbol(),$=e.endSymbol(),T=e(p("share")+"% - ("+p("gutter")+" * "+p("gutterShare")+")"),L=e("calc(("+p("unit")+" + "+p("gutter")+") * "+p("offset")+")"),D=e("calc(("+p("unit")+") * "+p("span")+" + ("+p("span")+" - 1) * "+p("gutter")+")")}return{restrict:"E",controller:i,scope:{mdOnLayout:"&"},link:a}}function i(e){this.layoutInvalidated=!1,this.tilesInvalidated=!1,this.$timeout_=e,this.layoutDelegate=t.noop}function n(e){function i(t,i){var n,a,s,l,c,u;return l=e.time(function(){a=r(t,i)}),n={layoutInfo:function(){return a},map:function(t){return c=e.time(function(){var e=n.layoutInfo();s=t(e.positioning,e.rowCount)}),n},reflow:function(t){return u=e.time(function(){var e=t||o;e(s.grid,s.tiles)}),n},performance:function(){return{tileCount:i.length,layoutTime:l,mapTime:c,reflowTime:u,totalTime:l+c+u}}}}function n(e,t){e.element.css(e.style),t.forEach(function(e){e.element.css(e.style)})}function r(e,t){function i(t,i){if(t.col>e)throw"md-grid-list: Tile at position "+i+" has a colspan ("+t.col+") that exceeds the column count ("+e+")";for(var a=0,u=0;u-a<t.col;)s>=e?n():(a=c.indexOf(0,s),-1!==a&&-1!==(u=o(a+1))?s=u+1:(a=u=0,n()));return r(a,t.col,t.row),s=a+t.col,{col:a,row:l}}function n(){s=0,l++,r(0,e,-1)}function r(e,t,i){for(var n=e;e+t>n;n++)c[n]=Math.max(c[n]+i,0)}function o(e){var t;for(t=e;t<c.length;t++)if(0!==c[t])return t;return t===c.length?t:void 0}function a(){for(var t=[],i=0;e>i;i++)t.push(0);return t}var s=0,l=0,c=a();return{positioning:t.map(function(e,t){return{spans:e,position:i(e,t)}}),rowCount:l+Math.max.apply(Math,c)}}var o=n;return i.animateWith=function(e){o=t.isFunction(e)?e:n},i}function r(e){function i(i,n,r,o){n.attr("role","listitem");var a=e.watchResponsiveAttributes(["md-colspan","md-rowspan"],r,t.bind(o,o.invalidateLayout));o.invalidateTiles(),i.$on("$destroy",function(){a(),o.invalidateLayout()}),t.isDefined(i.$parent.$index)&&i.$watch(function(){return i.$parent.$index},function(e,t){e!==t&&o.invalidateTiles()})}return{restrict:"E",require:"^mdGridList",template:"<figure ng-transclude></figure>",transclude:!0,scope:{},controller:["$attrs",function(e){this.$attrs=e}],link:i}}function o(){return{template:"<figcaption ng-transclude></figcaption>",transclude:!0}}t.module("material.components.gridList",["material.core"]).directive("mdGridList",e).directive("mdGridTile",r).directive("mdGridTileFooter",o).directive("mdGridTileHeader",o).factory("$mdGridLayout",n),e.$inject=["$interpolate","$mdConstant","$mdGridLayout","$mdMedia"],i.$inject=["$timeout"],i.prototype={invalidateTiles:function(){this.tilesInvalidated=!0,this.invalidateLayout()},invalidateLayout:function(){this.layoutInvalidated||(this.layoutInvalidated=!0,this.$timeout_(t.bind(this,this.layout)))},layout:function(){try{this.layoutDelegate(this.tilesInvalidated)}finally{this.layoutInvalidated=!1,this.tilesInvalidated=!1}}},n.$inject=["$mdUtil"],r.$inject=["$mdMedia"]}(),function(){function e(e,t,i){function n(e,t){return t.mdFontIcon?'<span class="md-font" ng-class="fontIcon"></span>':""}function r(n,r,o){function a(){var e=r.parent();return!(!e.attr("aria-label")&&!e.text())||!(!e.parent().attr("aria-label")&&!e.parent().text())}t(r);var s=o.alt||n.fontIcon||n.svgIcon,l=o.$normalize(o.$attr.mdSvgIcon||o.$attr.mdSvgSrc||"");""==o.alt||a()?i.expect(r,"aria-hidden","true"):(i.expect(r,"aria-label",s),i.expect(r,"role","img")),l&&o.$observe(l,function(t){r.empty(),t&&e(t).then(function(e){r.append(e)})})}return{scope:{fontIcon:"@mdFontIcon",svgIcon:"@mdSvgIcon",svgSrc:"@mdSvgSrc"},restrict:"E",template:n,link:r}}t.module("material.components.icon",["material.core"]).directive("mdIcon",e),e.$inject=["$mdIcon","$mdTheming","$mdAria"]}(),function(){function e(){}function i(e,t){this.url=e,this.iconSize=t||r.defaultIconSize}function n(e,i,n,r,o){function a(t){return function(i){return g[t]=h(i)?i:new p(i,e[t]),g[t].clone()}}function s(t){var i=e[t];return i?c(i.url).then(function(e){return new p(e,i)}):n.reject(t)}function l(t){function i(e){var i=t.slice(t.lastIndexOf(":")+1),r=e.querySelector("#"+i);return r?new p(r,o):n.reject(t)}var r=t.substring(0,t.lastIndexOf(":"))||"$default",o=e[r];return o?c(o.url).then(i):n.reject(t)}function c(e){return i.get(e,{cache:o}).then(function(e){return t.element("<div>").append(e.data).find("svg")[0]})}function u(e){var i;return t.isString(e)&&(i="icon "+e+" not found",r.warn(i)),n.reject(i||e)}function d(e){var i=t.isString(e)?e:e.message||e.data||e.statusText;return r.warn(i),n.reject(i)}function h(e){return t.isDefined(e.element)&&t.isDefined(e.config)}function p(e,i){"svg"!=e.tagName&&(e=t.element('<svg xmlns="http://www.w3.org/2000/svg">').append(e)[0]),e.getAttribute("xmlns")||e.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.element=e,this.config=i,this.prepare()}function f(){var i=this.config?this.config.iconSize:e.defaultIconSize;t.forEach({fit:"",height:"100%",width:"100%",preserveAspectRatio:"xMidYMid meet",viewBox:this.element.getAttribute("viewBox")||"0 0 "+i+" "+i},function(e,t){this.element.setAttribute(t,e)},this),t.forEach({"pointer-events":"none",display:"block"},function(e,t){this.element.style[t]=e},this)}function m(){return this.element.cloneNode(!0)}var g={},v=/[-a-zA-Z0-9@:%_\+.~#?&\/\/=]{2,256}\.[a-z]{2,4}\b(\/[-a-zA-Z0-9@:%_\+.~#?&\/\/=]*)?/i;return p.prototype={clone:m,prepare:f},function(e){return e=e||"",g[e]?n.when(g[e].clone()):v.test(e)?c(e).then(a(e)):(-1==e.indexOf(":")&&(e="$default:"+e),s(e).catch(l).catch(u).catch(d).then(a(e)))}}t.module("material.components.icon").provider("$mdIcon",e);var r={defaultIconSize:24};e.prototype={icon:function(e,t,n){return-1==e.indexOf(":")&&(e="$default:"+e),r[e]=new i(t,n),this},iconSet:function(e,t,n){return r[e]=new i(t,n),this},defaultIconSet:function(e,t){var n="$default";return r[n]||(r[n]=new i(e,t)),r[n].iconSize=t||r.defaultIconSize,this},defaultIconSize:function(e){return r.defaultIconSize=e,this},preloadIcons:function(e){var t=this,i=[{id:"md-tabs-arrow",url:"md-tabs-arrow.svg",svg:'<svg version="1.1" x="0px" y="0px" viewBox="0 0 24 24"><g><polygon points="15.4,7.4 14,6 8,12 14,18 15.4,16.6 10.8,12 "/></g></svg>'},{id:"md-close",url:"md-close.svg",svg:'<svg version="1.1" x="0px" y="0px" viewBox="0 0 24 24"><g><path d="M19 6.41l-1.41-1.41-5.59 5.59-5.59-5.59-1.41 1.41 5.59 5.59-5.59 5.59 1.41 1.41 5.59-5.59 5.59 5.59 1.41-1.41-5.59-5.59z"/></g></svg>'},{id:"md-cancel",url:"md-cancel.svg",svg:'<svg version="1.1" x="0px" y="0px" viewBox="0 0 24 24"><g><path d="M12 2c-5.53 0-10 4.47-10 10s4.47 10 10 10 10-4.47 10-10-4.47-10-10-10zm5 13.59l-1.41 1.41-3.59-3.59-3.59 3.59-1.41-1.41 3.59-3.59-3.59-3.59 1.41-1.41 3.59 3.59 3.59-3.59 1.41 1.41-3.59 3.59 3.59 3.59z"/></g></svg>'},{id:"md-menu",url:"md-menu.svg",svg:'<svg version="1.1" x="0px" y="0px" viewBox="0 0 100 100"><path d="M 50 0 L 100 14 L 92 80 L 50 100 L 8 80 L 0 14 Z" fill="#b2b2b2"></path><path d="M 50 5 L 6 18 L 13.5 77 L 50 94 Z" fill="#E42939"></path><path d="M 50 5 L 94 18 L 86.5 77 L 50 94 Z" fill="#B72833"></path><path d="M 50 7 L 83 75 L 72 75 L 65 59 L 50 59 L 50 50 L 61 50 L 50 26 Z" fill="#b2b2b2"></path><path d="M 50 7 L 17 75 L 28 75 L 35 59 L 50 59 L 50 50 L 39 50 L 50 26 Z" fill="#fff"></path></svg>'},{id:"md-toggle-arrow",url:"md-toggle-arrow-svg",svg:'<svg version="1.1" x="0px" y="0px" viewBox="0 0 48 48"><path d="M24 16l-12 12 2.83 2.83 9.17-9.17 9.17 9.17 2.83-2.83z"/><path d="M0 0h48v48h-48z" fill="none"/></svg>'}];i.forEach(function(i){t.icon(i.id,i.url),e.put(i.url,i.svg)})},$get:["$http","$q","$log","$templateCache",function(e,t,i,o){return this.preloadIcons(o),new n(r,e,t,i,o)}]}}(),function(){function e(e){return{restrict:"E",compile:function(t){return t[0].setAttribute("role","list"),e}}}function i(e,i,n){var r=["md-checkbox","md-switch"];return{restrict:"E",controller:"MdListController",compile:function(o,a){function s(){for(var e,t,i=["md-switch","md-checkbox"],n=0;t=i[n];++n)if((e=o.find(t)[0])&&!e.hasAttribute("aria-label")){var r=o.find("p")[0];if(!r)return;e.setAttribute("aria-label","Toggle "+r.textContent)}}function l(i){var n;if("div"==i?(n=t.element('<div class="md-no-style md-list-item-inner">'),n.append(o.contents()),o.addClass("md-proxy-focus")):(n=t.element('<md-button class="md-no-style"><div class="md-list-item-inner"></div></md-button>'),n[0].setAttribute("ng-click",o[0].getAttribute("ng-click")),o[0].removeAttribute("ng-click"),o[0].getAttribute("aria-label")&&(n[0].setAttribute("aria-label",o[0].getAttribute("aria-label")),o[0].removeAttribute("aria-label")),n.children().eq(0).append(o.contents())),o[0].setAttribute("tabindex","-1"),o.append(n),p&&p.hasAttribute("ng-click")){e.expect(p,"aria-label");var r=t.element('<md-button class="md-secondary-container md-icon-button">');r.attr("ng-click",p.getAttribute("ng-click")),p.removeAttribute("ng-click"),p.setAttribute("tabindex","-1"),p.classList.remove("md-secondary"),r.append(p),p=r[0]}p&&(p.hasAttribute("ng-click")||a.ngClick&&c(p))&&(o.addClass("md-with-secondary"),o.append(p))}function c(e){return-1!=r.indexOf(e.nodeName.toLowerCase())}function u(e,o,a,s){function l(){var e=o.children();e.length&&!e[0].hasAttribute("ng-click")&&t.forEach(r,function(e){t.forEach(d.querySelectorAll(e),function(e){u.push(e)})})}function c(){(u.length||h)&&(o.addClass("md-clickable"),s.attachRipple(e,t.element(o[0].querySelector(".md-no-style"))))}var u=[],d=o[0].firstElementChild,h=d&&d.hasAttribute("ng-click");l(),c(),o.hasClass("md-proxy-focus")&&u.length&&t.forEach(u,function(i){i=t.element(i),e.mouseActive=!1,i.on("mousedown",function(){e.mouseActive=!0,n(function(){e.mouseActive=!1},100)}).on("focus",function(){e.mouseActive===!1&&o.addClass("md-focused"),i.on("blur",function e(){o.removeClass("md-focused"),i.off("blur",e)})})}),h||u.length||d.addEventListener("keypress",function(e){if("INPUT"!=e.target.nodeName&&"TEXTAREA"!=e.target.nodeName){var t=e.which||e.keyCode;t==i.KEY_CODE.SPACE&&(d.click(),e.preventDefault(),e.stopPropagation())}}),o.off("click"),o.off("keypress"),u.length&&d&&o.children().eq(0).on("click",function(e){d.contains(e.target)&&t.forEach(u,function(i){e.target===i||i.contains(e.target)||t.element(i).triggerHandler("click")})})}var d,h,p=o[0].querySelector(".md-secondary");if(o[0].setAttribute("role","listitem"),a.ngClick)l("button");else{for(var f,m=0;f=r[m];++m)if(h=o[0].querySelector(f)){d=!0;break}d?l("div"):o.addClass("md-no-proxy")}return s(),u}}}function n(e,t,i){function n(e,t){var n={};i.attachListControlBehavior(e,t,n)}var r=this;r.attachRipple=n}t.module("material.components.list",["material.core"]).controller("MdListController",n).directive("mdList",e).directive("mdListItem",i),e.$inject=["$mdTheming"],i.$inject=["$mdAria","$mdConstant","$timeout"],n.$inject=["$scope","$element","$mdInkRipple"]}(),function(){function e(e,t){function i(t,i,n){e(i)}function n(e,i,n){var r=this;r.isErrorGetter=n.mdIsError&&t(n.mdIsError),r.delegateClick=function(){r.input.focus()},r.element=i,r.setFocused=function(e){i.toggleClass("md-input-focused",!!e)},r.setHasValue=function(e){i.toggleClass("md-input-has-value",!!e)},r.setInvalid=function(e){i.toggleClass("md-input-invalid",!!e)},e.$watch(function(){return r.label&&r.input},function(e){e&&!r.label.attr("for")&&r.label.attr("for",r.input.attr("id"))})}return n.$inject=["$scope","$element","$attrs"],{restrict:"E",link:i,controller:n}}function i(){return{restrict:"E",require:"^?mdInputContainer",link:function(e,t,i,n){n&&!i.mdNoFloat&&(n.label=t,e.$on("$destroy",function(){n.label=null}))}}}function n(e,i,n){function r(r,o,a,s){function l(e){return d.setHasValue(!h.$isEmpty(e)),e}function c(){d.setHasValue(o.val().length>0||(o[0].validity||{}).badInput)}function u(){function n(e){return u(),e}function a(){c.style.height="auto",c.scrollTop=0;var e=s();e&&(c.style.height=e+"px")}function s(){var e=c.scrollHeight-c.offsetHeight;return c.offsetHeight+(e>0?e:0)}function l(e){c.scrollTop=0;var t=c.scrollHeight-c.offsetHeight,i=c.offsetHeight+t;c.style.height=i+"px"}var c=o[0],u=e.debounce(a,1);h?(h.$formatters.push(n),h.$viewChangeListeners.push(n)):u(),o.on("keydown input",u),o.on("scroll",l),t.element(i).on("resize",u),r.$on("$destroy",function(){t.element(i).off("resize",u)})}var d=s[0],h=s[1]||e.fakeNgModel(),p=t.isDefined(a.readonly);if(d){if(d.input)throw new Error("<md-input-container> can only have *one* <input> or <textarea> child element!");d.input=o,d.label||n.expect(o,"aria-label",o.attr("placeholder")),o.addClass("md-input"),o.attr("id")||o.attr("id","input_"+e.nextUid()),"textarea"===o[0].tagName.toLowerCase()&&u();var f=d.isErrorGetter||function(){return h.$invalid&&h.$touched};r.$watch(f,d.setInvalid),h.$parsers.push(l),h.$formatters.push(l),o.on("input",c),p||o.on("focus",function(e){d.setFocused(!0)}).on("blur",function(e){d.setFocused(!1),c()}),r.$on("$destroy",function(){d.setFocused(!1),d.setHasValue(!1),d.input=null})}}return{restrict:"E",require:["^?mdInputContainer","?ngModel"],link:r}}function r(e){function i(i,n,r,o){function a(e){return u.text((n.val()||e||"").length+"/"+s),e}var s,l=o[0],c=o[1],u=t.element('<div class="md-char-counter">');r.$set("ngTrim","false"),c.element.append(u),l.$formatters.push(a),l.$viewChangeListeners.push(a),n.on("input keydown",function(){a()}),i.$watch(r.mdMaxlength,function(i){s=i,t.isNumber(i)&&i>0?(u.parent().length||e.enter(u,c.element,t.element(c.element[0].lastElementChild)),a()):e.leave(u)}),l.$validators["md-maxlength"]=function(e,i){return!t.isNumber(s)||0>s||(e||n.val()||i||"").length<=s}}return{restrict:"A",require:["ngModel","^mdInputContainer"],link:i}}function o(e){function i(i,r,o,a){if(a&&-1==n.indexOf(r[0].nodeName)&&!t.isDefined(a.element.attr("md-no-float"))){var s=o.placeholder;if(r.removeAttr("placeholder"),0==a.element.find("label").length){var l='<label ng-click="delegateClick()">'+s+"</label>";a.element.addClass("md-icon-float"),a.element.prepend(l)}else e.warn("The placeholder='"+s+"' will be ignored since this md-input-container has a child label element.")}}var n=["MD-SELECT"];return{restrict:"A",require:"^^?mdInputContainer",priority:200,link:i}}t.module("material.components.input",["material.core"]).directive("mdInputContainer",e).directive("label",i).directive("input",n).directive("textarea",n).directive("mdMaxlength",r).directive("placeholder",o),e.$inject=["$mdTheming","$parse"],n.$inject=["$mdUtil","$window","$mdAria"],r.$inject=["$animate"],o.$inject=["$log"]}(),function(){function e(e,t){function i(e){return e.attr("aria-valuemin",0),e.attr("aria-valuemax",100),e.attr("role","progressbar"),n}function n(i,n,o){t(n);var a=n[0],s=o.mdDiameter||48,l=s/48;a.style[e.CSS.TRANSFORM]="scale("+l+")",o.$observe("value",function(e){var t=r(e);n.attr("aria-valuenow",t)})}function r(e){return Math.max(0,Math.min(e||0,100))}return{restrict:"E",template:'<div class="md-spinner-wrapper"><div class="md-inner"><div class="md-gap"></div><div class="md-left"><div class="md-half-circle"></div></div><div class="md-right"><div class="md-half-circle"></div></div></div></div>',compile:i}}t.module("material.components.progressCircular",["material.core"]).directive("mdProgressCircular",e),e.$inject=["$mdConstant","$mdTheming"]}(),function(){function e(e,n,r){function o(e,t,i){return e.attr("aria-valuemin",0),e.attr("aria-valuemax",100),e.attr("role","progressbar"),a}function a(o,a,l){r(a);var c=a[0].querySelector(".md-bar1").style,u=a[0].querySelector(".md-bar2").style,d=t.element(a[0].querySelector(".md-container"));l.$observe("value",function(e){if("query"!=l.mdMode){var t=s(e);a.attr("aria-valuenow",t),u[n.CSS.TRANSFORM]=i[t]}}),l.$observe("mdBufferValue",function(e){c[n.CSS.TRANSFORM]=i[s(e)]}),e(function(){d.addClass("md-ready")})}function s(e){return e>100?100:0>e?0:Math.ceil(e||0)}return{restrict:"E",template:'<div class="md-container"><div class="md-dashed"></div><div class="md-bar md-bar1"></div><div class="md-bar md-bar2"></div></div>',compile:o}}t.module("material.components.progressLinear",["material.core"]).directive("mdProgressLinear",e),e.$inject=["$$rAF","$mdConstant","$mdTheming"];var i=function(){function e(e){var t=e/100,i=(e-100)/2;return"translateX("+i.toString()+"%) scale("+t.toString()+", 1)"}for(var t=new Array(101),i=0;101>i;i++)t[i]=e(i);return t}()}(),function(){function e(e,i,n,r){function o(o,a,s,l){function c(){a.hasClass("md-focused")||a.addClass("md-focused")}function u(n){var r=n.which||n.keyCode;switch(r){case i.KEY_CODE.LEFT_ARROW:case i.KEY_CODE.UP_ARROW:n.preventDefault(),d.selectPrevious(),c();break;case i.KEY_CODE.RIGHT_ARROW:case i.KEY_CODE.DOWN_ARROW:n.preventDefault(),d.selectNext(),c();break;case i.KEY_CODE.ENTER:var o=t.element(e.getClosest(a[0],"form"));o.length>0&&o.triggerHandler("submit")}}n(a);var d=l[0],h=l[1]||e.fakeNgModel();d.init(h),o.mouseActive=!1,a.attr({role:"radiogroup",tabIndex:a.attr("tabindex")||"0"}).on("keydown",u).on("mousedown",function(e){o.mouseActive=!0,r(function(){o.mouseActive=!1},100)}).on("focus",function(){o.mouseActive===!1&&d.$element.addClass("md-focused");
}).on("blur",function(){d.$element.removeClass("md-focused")})}function a(e){this._radioButtonRenderFns=[],this.$element=e}function s(){return{init:function(e){this._ngModelCtrl=e,this._ngModelCtrl.$render=t.bind(this,this.render)},add:function(e){this._radioButtonRenderFns.push(e)},remove:function(e){var t=this._radioButtonRenderFns.indexOf(e);-1!==t&&this._radioButtonRenderFns.splice(t,1)},render:function(){this._radioButtonRenderFns.forEach(function(e){e()})},setViewValue:function(e,t){this._ngModelCtrl.$setViewValue(e,t),this.render()},getViewValue:function(){return this._ngModelCtrl.$viewValue},selectNext:function(){return l(this.$element,1)},selectPrevious:function(){return l(this.$element,-1)},setActiveDescendant:function(e){this.$element.attr("aria-activedescendant",e)}}}function l(i,n){var r=e.iterator(i[0].querySelectorAll("md-radio-button"),!0);if(r.count()){var o=function(e){return!t.element(e).attr("disabled")},a=i[0].querySelector("md-radio-button.md-checked"),s=r[0>n?"previous":"next"](a,o)||r.first();t.element(s).triggerHandler("click")}}return a.prototype=s(),{restrict:"E",controller:["$element",a],require:["mdRadioGroup","?ngModel"],link:{pre:o}}}function i(e,t,i){function n(n,o,a,s){function l(e){o[0].hasAttribute("disabled")||n.$apply(function(){s.setViewValue(a.value,e&&e.type)})}function c(){var e=s.getViewValue()==a.value;e!==d&&(d=e,o.attr("aria-checked",e),e?(o.addClass(r),s.setActiveDescendant(o.attr("id"))):o.removeClass(r))}function u(i,n){function r(){return a.id||"radio_"+t.nextUid()}n.ariaId=r(),i.attr({id:n.ariaId,role:"radio","aria-checked":"false"}),e.expectWithText(i,"aria-label")}var d;i(o),u(o,n),s.add(c),a.$observe("value",c),o.on("click",l).on("$destroy",function(){s.remove(c)})}var r="md-checked";return{restrict:"E",require:"^mdRadioGroup",transclude:!0,template:'<div class="md-container" md-ink-ripple md-ink-ripple-checkbox><div class="md-off"></div><div class="md-on"></div></div><div ng-transclude class="md-label"></div>',link:n}}t.module("material.components.radioButton",["material.core"]).directive("mdRadioGroup",e).directive("mdRadioButton",i),e.$inject=["$mdUtil","$mdConstant","$mdTheming","$timeout"],i.$inject=["$mdAria","$mdUtil","$mdTheming"]}(),function(){function e(e,n,r,o,a,s,l){function c(a,c){var u=a.find("md-select-label").remove();if(u.length){if(!u[0].firstElementChild){var d=t.element("<span>");d.append(u.contents()),u.append(d)}}else u=t.element("<md-select-label><span></span></md-select-label>");if(u.append('<span class="md-select-icon" aria-hidden="true"></span>'),u.addClass("md-select-label"),u.attr("id","select_label_"+n.nextUid()),a.find("md-content").length||a.append(t.element("<md-content>").append(a.contents())),c.mdOnOpen&&a.find("md-content").prepend(t.element("<md-progress-circular>").attr("md-mode","indeterminate").attr("ng-hide","$$loadingAsyncDone").wrap("<div>").parent()),c.name){var h=t.element('<select class="md-visually-hidden">');h.attr({name:"."+c.name,"ng-model":c.ngModel,"aria-hidden":"true",tabindex:"-1"});var p=a.find("md-option");t.forEach(p,function(e){var i=t.element("<option>"+e.innerHTML+"</option>");e.hasAttribute("ng-value")?i.attr("ng-value",e.getAttribute("ng-value")):e.hasAttribute("value")&&i.attr("value",e.getAttribute("value")),h.append(i)}),a.parent().append(h)}var f='<div class="md-select-menu-container"><md-select-menu '+(t.isDefined(c.multiple)?"multiple":"")+">"+a.html()+"</md-select-menu></div>";return a.empty().append(u),c.tabindex=c.tabindex||"0",function(a,c,u,d){function h(){var e=c.attr("placeholder");e||(e=c.find("md-select-label").text()),o.expect(c,"aria-label",e)}function p(){_&&(x=x||_.find("md-select-menu").controller("mdSelectMenu"),E.setLabelText(x.selectedLabels()))}function m(){_=t.element(f);var e=_.find("md-select-menu");e.data("$ngModelController",A),e.data("$mdSelectController",E),w=a.$new(),_=s(_)(w),x=_.find("md-select-menu").controller("mdSelectMenu")}function g(e){var i=[32,13,38,40];if(-1!=i.indexOf(e.keyCode))e.preventDefault(),v(e);else if(e.keyCode<=90&&e.keyCode>=31){e.preventDefault();var n=x.optNodeForKeyboardSearch(e);if(!n)return;var r=t.element(n).controller("mdOption");x.isMultiple||x.deselect(Object.keys(x.selected)[0]),x.select(r.hashKey,r.value),x.refreshViewValue(),A.$render()}}function v(){a.$evalAsync(function(){y=!0,e.show({scope:w,preserveScope:!0,skipCompile:!0,element:_,target:c[0],hasBackdrop:!0,loadingAsync:!!u.mdOnOpen&&(a.$eval(u.mdOnOpen)||!0)}).then(function(e){y=!1})})}var y,b,_,w,x,E=d[0],A=d[1],C=d[2],k=c.find("md-select-label"),$=0!==k.text().length;if(m(),r(c),u.name&&C){var T=c.parent()[0].querySelector('select[name=".'+u.name+'"]');C.$removeControl(t.element(T).controller())}var L=A.$render;A.$render=function(){L(),p()},E.setLabelText=function(e){if(!$){E.setIsPlaceholder(!e),e=e||u.placeholder||"";var t=$?k:k.children().eq(0);t.text(e)}},E.setIsPlaceholder=function(e){e?k.addClass("md-placeholder"):k.removeClass("md-placeholder")},a.$$postDigest(function(){h(),p()});var D;u.$observe("ngMultiple",function(e){D&&D();var t=l(e);D=a.$watch(function(){return t(a)},function(e,t){(e!==i||t!==i)&&(e?c.attr("multiple","multiple"):c.removeAttr("multiple"),_&&(x.setMultiple(e),L=A.$render,A.$render=function(){L(),p()},x.refreshViewValue(),A.$render()))})}),u.$observe("disabled",function(e){"string"==typeof e&&(e=!0),(b===i||b!==e)&&(b=e,e?(c.attr({tabindex:-1,"aria-disabled":"true"}),c.off("click",v),c.off("keydown",g)):(c.attr({tabindex:u.tabindex,"aria-disabled":"false"}),c.on("click",v),c.on("keydown",g)))}),u.disabled||u.ngDisabled||(c.attr({tabindex:u.tabindex,"aria-disabled":"false"}),c.on("click",v),c.on("keydown",g)),c.attr({role:"combobox",id:"select_"+n.nextUid(),"aria-expanded":"false"}),a.$on("$destroy",function(){y?e.cancel().then(function(){_.remove()}):_.remove()})}}return{restrict:"E",require:["mdSelect","ngModel","?^form"],compile:c,controller:function(){}}}function n(e,n,r){function o(e,i,o,a){function s(){i.attr({id:"select_menu_"+n.nextUid(),role:"listbox","aria-multiselectable":u.isMultiple?"true":"false"})}function l(e){(13==e.keyCode||32==e.keyCode)&&c(e)}function c(i){var r=n.getClosest(i.target,"md-option"),o=r&&t.element(r).data("$mdOptionController");if(r&&o){var a=u.hashGetter(o.value),s=t.isDefined(u.selected[a]);e.$apply(function(){u.isMultiple?s?u.deselect(a):u.select(a,o.value):s||(u.deselect(Object.keys(u.selected)[0]),u.select(a,o.value)),u.refreshViewValue()})}}var u=a[0],d=a[1];r(i),i.on("click",c),i.on("keypress",l),d&&u.init(d),s()}function a(n,r,o){function a(){var e=u.ngModel.$modelValue||u.ngModel.$viewValue;if(t.isArray(e)){var i=Object.keys(u.selected),n=e.map(u.hashGetter),r=i.filter(function(e){return-1===n.indexOf(e)});r.forEach(u.deselect),n.forEach(function(t,i){u.select(t,e[i])})}}function l(){var e=u.ngModel.$viewValue||u.ngModel.$modelValue;Object.keys(u.selected).forEach(u.deselect),u.select(u.hashGetter(e),e)}var u=this;u.isMultiple=t.isDefined(r.multiple),u.selected={},u.options={},n.$watch(function(){return u.options},function(){u.ngModel.$render()},!0);var d;u.setMultiple=function(e){function i(e,i){return t.isArray(e||i||[])}var o=u.ngModel;u.isMultiple=e,d&&d(),u.isMultiple?(o.$validators["md-multiple"]=i,o.$render=a,n.$watchCollection(r.ngModel,function(e){i(e)&&a(e)})):(delete o.$validators["md-multiple"],o.$render=l)};var h,p,f,m="",g=300;u.optNodeForKeyboardSearch=function(e){h&&clearTimeout(h),h=setTimeout(function(){h=i,m="",f=i,p=i},g),m+=String.fromCharCode(e.keyCode);var n=new RegExp("^"+m,"i");p||(p=o.find("md-option"),f=new Array(p.length),t.forEach(p,function(e,t){f[t]=e.textContent.trim()}));for(var r=0;r<f.length;++r)if(n.test(f[r]))return p[r]},u.init=function(i){if(u.ngModel=i,i.$options&&i.$options.trackBy){var r={},o=e(i.$options.trackBy);u.hashGetter=function(e,t){return r.$value=e,o(t||n,r)}}else u.hashGetter=function(e){return t.isObject(e)?"$$object_"+(e.$$mdSelectId||(e.$$mdSelectId=++c)):e};u.setMultiple(u.isMultiple)},u.selectedLabels=function(){var e=s(o[0].querySelectorAll("md-option[selected]"));return e.length?e.map(function(e){return e.textContent}).join(", "):""},u.select=function(e,t){var i=u.options[e];i&&i.setSelected(!0),u.selected[e]=t},u.deselect=function(e){var t=u.options[e];t&&t.setSelected(!1),delete u.selected[e]},u.addOption=function(e,i){if(t.isDefined(u.options[e]))throw new Error('Duplicate md-option values are not allowed in a select. Duplicate value "'+i.value+'" found.');u.options[e]=i,t.isDefined(u.selected[e])&&(u.select(e,i.value),u.refreshViewValue())},u.removeOption=function(e){delete u.options[e]},u.refreshViewValue=function(){var e,t=[];for(var i in u.selected)t.push((e=u.options[i])?e.value:u.selected[i]);u.ngModel.$setViewValue(u.isMultiple?t:t[0])}}return a.$inject=["$scope","$attrs","$element"],{restrict:"E",require:["mdSelectMenu","?ngModel"],controller:a,link:{pre:o}}}function r(e,i){function n(e,i){return e.append(t.element('<div class="md-text">').append(e.contents())),e.attr("tabindex",i.tabindex||"0"),r}function r(n,r,o,a){function s(e,t){var i=u.hashGetter(t,n),r=u.hashGetter(e,n);c.hashKey=r,c.value=e,u.removeOption(i,c),u.addOption(r,c)}function l(){r.attr({role:"option","aria-selected":"false",id:"select_option_"+i.nextUid()})}var c=a[0],u=a[1];t.isDefined(o.ngValue)?n.$watch(o.ngValue,s):t.isDefined(o.value)?s(o.value):n.$watch(function(){return r.text()},s),n.$$postDigest(function(){o.$observe("selected",function(e){t.isDefined(e)&&(e?(u.isMultiple||u.deselect(Object.keys(u.selected)[0]),u.select(c.hashKey,c.value)):u.deselect(c.hashKey),u.refreshViewValue(),u.ngModel.$render())})}),e.attachButtonBehavior(n,r),l(),n.$on("$destroy",function(){u.removeOption(c.hashKey,c)})}function o(e){this.selected=!1,this.setSelected=function(t){t&&!this.selected?e.attr({selected:"selected","aria-selected":"true"}):!t&&this.selected&&(e.removeAttr("selected"),e.attr("aria-selected","false")),this.selected=t}}return o.$inject=["$element"],{restrict:"E",require:["mdOption","^^mdSelectMenu"],controller:o,compile:n}}function o(){function e(e,i){var n=e.find("label");n.length||(n=t.element("<label>"),e.prepend(n)),i.label&&n.text(i.label)}return{restrict:"E",compile:e}}function a(e){function n(e,n,a,c,u,d,h){function p(i,r,o){function l(){o.target.attr("aria-expanded","true")}function p(){function t(e){var t=s(f),i=t.indexOf(o.focusedNode);-1===i?i=0:"next"===e&&i<t.length-1?i++:"prev"===e&&i>0&&i--;var n=o.focusedNode=t[i];n&&n.focus()}function a(){t("next")}function l(){t("prev")}function u(){d.isMultiple||(o.restoreFocus=!0,i.$evalAsync(function(){e.hide(d.ngModel.$viewValue)}))}if(!o.isRemoved){var d=o.selectEl.controller("mdSelectMenu")||{};r.addClass("md-clickable"),o.backdrop&&o.backdrop.on("click",function(t){t.preventDefault(),t.stopPropagation(),o.restoreFocus=!1,i.$apply(e.cancel)}),o.selectEl.on("keydown",function(t){switch(t.keyCode){case n.KEY_CODE.SPACE:case n.KEY_CODE.ENTER:var r=c.getClosest(t.target,"md-option");r&&(o.selectEl.triggerHandler({type:"click",target:r}),t.preventDefault());break;case n.KEY_CODE.TAB:case n.KEY_CODE.ESCAPE:t.preventDefault(),o.restoreFocus=!0,i.$apply(e.cancel)}}),o.selectEl.on("keydown",function(e){switch(e.keyCode){case n.KEY_CODE.UP_ARROW:return l();case n.KEY_CODE.DOWN_ARROW:return a();default:if(e.keyCode>=31&&e.keyCode<=90){var t=o.selectEl.controller("mdSelectMenu").optNodeForKeyboardSearch(e);t&&t.focus()}}}),o.selectEl.on("click",u),o.selectEl.on("keydown",function(e){(32==e.keyCode||13==e.keyCode)&&u()})}}if(!o.target)throw new Error('$mdSelect.show() expected a target element in options.target but got "'+o.target+'"!');t.extend(o,{isRemoved:!1,target:t.element(o.target),parent:t.element(o.parent),selectEl:r.find("md-select-menu"),contentEl:r.find("md-content"),backdrop:o.hasBackdrop&&t.element('<md-backdrop class="md-select-backdrop md-click-catcher">')}),o.resizeFn=function(){a(function(){a(function(){m(i,r,o)})})},t.element(h).on("resize",o.resizeFn),t.element(h).on("orientationchange",o.resizeFn),l(),r.removeClass("md-leave");var f=o.selectEl[0].getElementsByTagName("md-option");return o.loadingAsync&&o.loadingAsync.then?o.loadingAsync.then(function(){i.$$loadingAsyncDone=!0,a(function(){a(function(){o.isRemoved||m(i,r,o)})})}):o.loadingAsync&&(i.$$loadingAsyncDone=!0),o.disableParentScroll&&!c.getClosest(o.target,"MD-DIALOG")?o.restoreScroll=c.disableScrollAround(o.target):o.disableParentScroll=!1,d(p,75,!1),o.backdrop&&(u.inherit(o.backdrop,o.parent),o.parent.append(o.backdrop)),o.parent.append(r),a(function(){a(function(){o.isRemoved||m(i,r,o)})}),c.transitionEndPromise(o.selectEl,{timeout:350})}function f(e,n,r){r.isRemoved=!0,n.addClass("md-leave").removeClass("md-clickable"),r.target.attr("aria-expanded","false"),t.element(h).off("resize",r.resizeFn),t.element(h).off("orientationchange",r.resizefn),r.resizeFn=i;var o=r.selectEl.controller("mdSelect");return o&&o.setLabelText(r.selectEl.controller("mdSelectMenu").selectedLabels()),c.transitionEndPromise(n,{timeout:350}).then(function(){n.removeClass("md-active"),r.backdrop&&r.backdrop.remove(),n[0].parentNode===r.parent[0]&&r.parent[0].removeChild(n[0]),r.disableParentScroll&&r.restoreScroll(),r.restoreFocus&&r.target.focus()})}function m(e,t,i){var s,u=t[0],d=i.target[0].firstElementChild.firstElementChild,p=i.parent[0],f=i.selectEl[0],m=i.contentEl[0],g=p.getBoundingClientRect(),v=d.getBoundingClientRect(),y=!1,b={left:g.left+l,top:l,bottom:g.height-l,right:g.width-l-(c.floatingScrollbars()?16:0)},_={top:v.top-b.top,left:v.left-b.left,right:b.right-(v.left+v.width),bottom:b.bottom-(v.top+v.height)},w=g.width-2*l,x=m.scrollHeight>m.offsetHeight,E=f.querySelector("md-option[selected]"),A=f.getElementsByTagName("md-option"),C=f.getElementsByTagName("md-optgroup");s=E?E:C.length?C[0]:A.length?A[0]:m.firstElementChild||m,m.offsetWidth>w&&(m.style["max-width"]=w+"px"),y&&(m.style["min-width"]=v.width+"px"),x&&f.classList.add("md-overflow");var k=f.getBoundingClientRect(),$=o(s);if(s){var T=h.getComputedStyle(s);$.paddingLeft=parseInt(T.paddingLeft,10)||0,$.paddingRight=parseInt(T.paddingRight,10)||0}var L=s;if("MD-OPTGROUP"===(L.tagName||"").toUpperCase()&&(L=A[0]||m.firstElementChild||m),x){var D=m.offsetHeight/2;m.scrollTop=$.top+$.height/2-D,_.top<D?m.scrollTop=Math.min($.top,m.scrollTop+D-_.top):_.bottom<D&&(m.scrollTop=Math.max($.top+$.height-k.height,m.scrollTop-D+_.bottom))}var M,S,P;y?(M=v.left,S=v.top+v.height,P="50% 0",S+k.height>b.bottom&&(S=v.top-k.height,P="50% 100%")):(M=v.left+$.left-$.paddingLeft,S=Math.floor(v.top+v.height/2-$.height/2-$.top+m.scrollTop),P=$.left+v.width/2+"px "+($.top+$.height/2-m.scrollTop)+"px 0px",u.style.minWidth=v.width+$.paddingLeft+$.paddingRight+"px");var N=u.getBoundingClientRect();u.style.left=r(b.left,M,b.right-N.width)+"px",u.style.top=r(b.top,S,b.bottom-N.height)+"px",f.style[n.CSS.TRANSFORM_ORIGIN]=P,f.style[n.CSS.TRANSFORM]="scale("+Math.min(v.width/k.width,1)+","+Math.min(v.height/k.height,1)+")",a(function(){t.addClass("md-active"),f.style[n.CSS.TRANSFORM]="",L&&(i.focusedNode=L,L.focus())})}return{parent:"body",onShow:p,onRemove:f,hasBackdrop:!0,disableParentScroll:!0,themable:!0}}function r(e,t,i){return Math.max(e,Math.min(t,i))}function o(e){return e?{left:e.offsetLeft,top:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}:{left:0,top:0,width:0,height:0}}return n.$inject=["$mdSelect","$mdConstant","$$rAF","$mdUtil","$mdTheming","$timeout","$window"],e("$mdSelect").setDefaults({methods:["target"],options:n})}function s(e){for(var t=[],i=0;i<e.length;++i)t.push(e.item(i));return t}var l=8,c=0;t.module("material.components.select",["material.core","material.components.backdrop"]).directive("mdSelect",e).directive("mdSelectMenu",n).directive("mdOption",r).directive("mdOptgroup",o).provider("$mdSelect",a),e.$inject=["$mdSelect","$mdUtil","$mdTheming","$mdAria","$interpolate","$compile","$parse"],n.$inject=["$parse","$mdUtil","$mdTheming"],r.$inject=["$mdInkRipple","$mdUtil"],a.$inject=["$$interimElementProvider"]}(),function(){function e(e,i){return function(n){function r(){return e.when(n).then(function(e){return s=e,e})}var o,a="SideNav '"+n+"' is not available!",s=e.get(n);return s||e.notFoundError(n),o={isOpen:function(){return s&&s.isOpen()},isLockedOpen:function(){return s&&s.isLockedOpen()},toggle:function(){return s?s.toggle():i.reject(a)},open:function(){return s?s.open():i.reject(a)},close:function(){return s?s.close():i.reject(a)},then:function(e){var n=s?i.when(s):r();return n.then(e||t.noop)}}}}function n(){return{restrict:"A",require:"^mdSidenav",link:function(e,t,i,n){n.focusElement(t)}}}function r(e,n,r,o,a,s,l,c,u,d){function h(h,p,f,m){function g(e,t){h.isLockedOpen=e,e===t?p.toggleClass("md-locked-open",!!e):n[e?"addClass":"removeClass"](p,"md-locked-open"),$.toggleClass("md-locked-open",!!e)}function v(e){var t=p.parent();t[e?"on":"off"]("keydown",_),$[e?"on":"off"]("click",w),e&&(E=d[0].activeElement);var i=m.focusElement();return y(e),A=u.all([e?n.enter($,t):n.leave($),n[e?"removeClass":"addClass"](p,"md-closed")]).then(function(){h.isOpen&&i&&i.focus()})}function y(e){var n=p.parent();e?(x=n.css("overflow"),n.css("overflow","hidden")):t.isDefined(x)&&(n.css("overflow",x),x=i)}function b(t){if(h.isOpen==t)return u.when(!0);var i=u.defer();return h.isOpen=t,e(function(){A.then(function(e){h.isOpen||(E&&E.focus(),E=null),i.resolve(e)})},0,!1),i.promise}function _(e){var t=e.keyCode===s.KEY_CODE.ESCAPE;return t?w(e):u.when(!0)}function w(e){return e.preventDefault(),e.stopPropagation(),m.close()}var x,E=null,A=u.when(!0),C=r(f.mdIsLockedOpen),k=function(){return C(h.$parent,{$media:function(e){return o.warn("$media is deprecated for is-locked-open. Use $mdMedia instead."),a(e)},$mdMedia:a})},$=l('<md-backdrop class="md-sidenav-backdrop md-opaque ng-enter">')(h);p.on("$destroy",m.destroy),c.inherit($,p),h.$watch(k,g),h.$watch("isOpen",v),m.$toggleOpen=b,m.focusElement(m.focusElement()||p)}return{restrict:"E",scope:{isOpen:"=?mdIsOpen"},controller:"$mdSidenavController",compile:function(e){return e.addClass("md-closed"),e.attr("tabIndex","-1"),h}}}function o(e,i,n,r,o){var a,s=this;s.isOpen=function(){return!!e.isOpen},s.isLockedOpen=function(){return!!e.isLockedOpen},s.open=function(){return s.$toggleOpen(!0)},s.close=function(){return s.$toggleOpen(!1)},s.toggle=function(){return s.$toggleOpen(!e.isOpen)},s.focusElement=function(e){return t.isDefined(e)&&(a=e),a},s.$toggleOpen=function(){return o.when(e.isOpen)},s.destroy=r.register(s,n.mdComponentId)}t.module("material.components.sidenav",["material.core","material.components.backdrop"]).factory("$mdSidenav",e).directive("mdSidenav",r).directive("mdSidenavFocus",n).controller("$mdSidenavController",o),e.$inject=["$mdComponentRegistry","$q"],r.$inject=["$timeout","$animate","$parse","$log","$mdMedia","$mdConstant","$compile","$mdTheming","$q","$document"],o.$inject=["$scope","$element","$attrs","$mdComponentRegistry","$q"]}(),function(){function e(e,i,n,r,o,a,s,l){function c(e,t){return e.attr({tabIndex:0,role:"slider"}),n.expect(e,"aria-label"),u}function u(n,c,u,d){function h(){y(),x(),v()}function p(e){Y=parseFloat(e),c.attr("aria-valuemin",e),h()}function f(e){J=parseFloat(e),c.attr("aria-valuemax",e),h()}function m(e){Z=parseFloat(e),v()}function g(e){c.attr("aria-disabled",!!e)}function v(){if(t.isDefined(u.mdDiscrete)){var e=Math.floor((J-Y)/Z);if(!X){var n=i.getComputedStyle(G[0]);X=t.element('<canvas style="position:absolute;">'),K=X[0].getContext("2d"),K.fillStyle=n.backgroundColor||"black",G.append(X)}var r=b();X[0].width=r.width,X[0].height=r.height;for(var o,a=0;e>=a;a++)o=Math.floor(r.width*(a/e)),K.fillRect(o-1,0,2,r.height)}}function y(){Q=z[0].getBoundingClientRect()}function b(){return W(),Q}function _(e){if(!c[0].hasAttribute("disabled")){var t;e.keyCode===o.KEY_CODE.LEFT_ARROW?t=-Z:e.keyCode===o.KEY_CODE.RIGHT_ARROW&&(t=Z),t&&((e.metaKey||e.ctrlKey||e.altKey)&&(t*=4),e.preventDefault(),e.stopPropagation(),n.$evalAsync(function(){w(d.$viewValue+t)}))}}function w(e){d.$setViewValue(E(A(e)))}function x(){isNaN(d.$viewValue)&&(d.$viewValue=d.$modelValue);var e=(d.$viewValue-Y)/(J-Y);n.modelValue=d.$viewValue,c.attr("aria-valuenow",d.$viewValue),C(e),F.text(d.$viewValue)}function E(e){return t.isNumber(e)?Math.max(Y,Math.min(J,e)):void 0}function A(e){return t.isNumber(e)?Math.round(e/Z)*Z:void 0}function C(e){B.css("width",100*e+"%"),U.css("left",100*e+"%"),c.toggleClass("md-min",0===e)}function k(e){if(!j()){c.addClass("active"),c[0].focus(),y();var t=I(N(e.pointer.x)),i=E(A(t));n.$apply(function(){w(i),C(O(i))})}}function $(e){if(!j()){c.removeClass("dragging active");var t=I(N(e.pointer.x)),i=E(A(t));n.$apply(function(){w(i),x()})}}function T(e){j()||(ee=!0,e.stopPropagation(),c.addClass("dragging"),M(e))}function L(e){ee&&(e.stopPropagation(),M(e))}function D(e){ee&&(e.stopPropagation(),ee=!1)}function M(e){te?P(e.pointer.x):S(e.pointer.x)}function S(e){n.$evalAsync(function(){w(I(N(e)))})}function P(e){var t=I(N(e)),i=E(A(t));C(N(e)),F.text(i)}function N(e){return Math.max(0,Math.min(1,(e-Q.left)/Q.width))}function I(e){return Y+e*(J-Y)}function O(e){return(e-Y)/(J-Y)}a(c),d=d||{$setViewValue:function(e){this.$viewValue=e,this.$viewChangeListeners.forEach(function(e){e()})},$parsers:[],$formatters:[],$viewChangeListeners:[]};var R=u.ngDisabled&&l(u.ngDisabled),j=R?function(){return R(n.$parent)}:t.noop,H=t.element(c[0].querySelector(".md-thumb")),F=t.element(c[0].querySelector(".md-thumb-text")),U=H.parent(),z=t.element(c[0].querySelector(".md-track-container")),B=t.element(c[0].querySelector(".md-track-fill")),G=t.element(c[0].querySelector(".md-track-ticks")),W=r.throttle(y,5e3);u.min?u.$observe("min",p):p(0),u.max?u.$observe("max",f):f(100),u.step?u.$observe("step",m):m(1);var q=t.noop;u.ngDisabled&&(q=n.$parent.$watch(u.ngDisabled,g)),s.register(c,"drag"),c.on("keydown",_).on("$md.pressdown",k).on("$md.pressup",$).on("$md.dragstart",T).on("$md.drag",L).on("$md.dragend",D),setTimeout(h);var V=e.throttle(h);t.element(i).on("resize",V),n.$on("$destroy",function(){t.element(i).off("resize",V),q()}),d.$render=x,d.$viewChangeListeners.push(x),d.$formatters.push(E),d.$formatters.push(A);var Y,J,Z,X,K,Q={};y();var ee=!1,te=t.isDefined(u.mdDiscrete)}return{scope:{},require:"?ngModel",template:'<div class="md-slider-wrapper">        <div class="md-track-container">          <div class="md-track"></div>          <div class="md-track md-track-fill"></div>          <div class="md-track-ticks"></div>        </div>        <div class="md-thumb-container">          <div class="md-thumb"></div>          <div class="md-focus-thumb"></div>          <div class="md-focus-ring"></div>          <div class="md-sign">            <span class="md-thumb-text"></span>          </div>          <div class="md-disabled-thumb"></div>        </div>      </div>',compile:c}}t.module("material.components.slider",["material.core"]).directive("mdSlider",e),e.$inject=["$$rAF","$window","$mdAria","$mdUtil","$mdConstant","$mdTheming","$mdGesture","$parse"]}(),function(){function e(e,n,r,o,a){function s(e){function t(e,t){t.addClass("md-sticky-clone"),t.css("top",m+"px");var i={element:e,clone:t};return f.items.push(i),h.parent().prepend(i.clone),p(),function(){f.items.forEach(function(t,i){t.element[0]===e[0]&&(f.items.splice(i,1),t.clone.remove())}),p()}}function r(){f.items.forEach(a),f.items=f.items.sort(function(e,t){return e.top<t.top?-1:1});for(var e,t=h.prop("scrollTop"),i=f.items.length-1;i>=0;i--)if(t>f.items[i].top){e=f.items[i];break}l(e)}function a(e){var t=e.element[0];for(e.top=0,e.left=0;t&&t!==h[0];)e.top+=t.offsetTop,e.left+=t.offsetLeft,t=t.offsetParent;e.height=e.element.prop("offsetHeight"),e.clone.css("margin-left",e.left+"px")}function s(){var e=h.prop("scrollTop"),t=e>(s.prevScrollTop||0);s.prevScrollTop=e,0===e?l(null):t&&f.next?f.next.top-e<=0?l(f.next):f.current&&(f.next.top-e<=f.next.height?d(f.current,f.next.top-f.next.height-e):d(f.current,null)):!t&&f.current&&(e<f.current.top&&l(f.prev),f.current&&f.next&&(e>=f.next.top-f.current.height?d(f.current,f.next.top-e-f.current.height):d(f.current,null)))}function l(e){if(f.current!==e){f.current&&(d(f.current,null),u(f.current,null)),e&&u(e,"active"),f.current=e;var t=f.items.indexOf(e);f.next=f.items[t+1],f.prev=f.items[t-1],u(f.next,"next"),u(f.prev,"prev")}}function u(e,t){e&&e.state!==t&&(e.state&&(e.clone.attr("sticky-prev-state",e.state),e.element.attr("sticky-prev-state",e.state)),e.clone.attr("sticky-state",t),e.element.attr("sticky-state",t),e.state=t)}function d(e,t){e&&(null===t||t===i?e.translateY&&(e.translateY=null,e.clone.css(n.CSS.TRANSFORM,"")):(e.translateY=t,e.clone.css(n.CSS.TRANSFORM,"translate3d("+e.left+"px,"+t+"px,0)")))}var h=e.$element,p=o.throttle(r);c(h),h.on("$scrollstart",p),h.on("$scroll",s);var f,m=h.prop("offsetTop");return f={prev:null,current:null,next:null,items:[],add:t,refreshElements:r}}function l(i){var n,r=t.element("<div>");e[0].body.appendChild(r[0]);for(var o=["sticky","-webkit-sticky"],a=0;a<o.length;++a)if(r.css({position:o[a],top:0,"z-index":2}),r.css("position")==o[a]){n=o[a];break}return r.remove(),n}function c(e){function t(){+a.now()-n>r?(i=!1,e.triggerHandler("$scrollend")):(e.triggerHandler("$scroll"),o(t))}var i,n,r=200;e.on("scroll touchmove",function(){i||(i=!0,o(t),e.triggerHandler("$scrollstart")),e.triggerHandler("$scroll"),n=+a.now()})}var u=l();return function(e,t,i){var n=t.controller("mdContent");if(n)if(u)t.css({position:u,top:0,"z-index":2});else{var r=n.$element.data("$$sticky");r||(r=s(n),n.$element.data("$$sticky",r));var o=r.add(t,i||t.clone());e.$on("$destroy",o)}}}t.module("material.components.sticky",["material.core","material.components.content"]).factory("$mdSticky",e),e.$inject=["$document","$mdConstant","$compile","$$rAF","$mdUtil"]}(),function(){function e(e,i,n){return{restrict:"E",replace:!0,transclude:!0,template:'<h2 class="md-subheader"><div class="md-subheader-inner"><span class="md-subheader-content"></span></div></h2>',compile:function(r,o,a){var s=r[0].outerHTML;return function(r,o,l){function c(e){return t.element(e[0].querySelector(".md-subheader-content"))}n(o),a(r,function(e){c(o).append(e)}),o.hasClass("md-no-sticky")||a(r,function(a){var l=i(t.element(s))(r);n(l),c(l).append(a),e(r,o,l)})}}}}t.module("material.components.subheader",["material.core","material.components.sticky"]).directive("mdSubheader",e),e.$inject=["$mdSticky","$compile","$mdTheming"]}(),function(){function e(e){function t(e){function t(t,r,o){var a=e(o[i]);r.on(n,function(e){t.$apply(function(){a(t,{$event:e})})})}return{restrict:"A",link:t}}var i="md"+e,n="$md."+e.toLowerCase();return t.$inject=["$parse"],t}t.module("material.components.swipe",["material.core"]).directive("mdSwipeLeft",e("SwipeLeft")).directive("mdSwipeRight",e("SwipeRight"))}(),function(){function e(e,i,n,r,o,a,s,l){function c(e,i){var r=u.compile(e,i);return e.addClass("md-dragging"),function(e,i,c,u){function d(t){m(e)||(t.stopPropagation(),i.addClass("md-dragging"),y={width:g.prop("offsetWidth")},i.removeClass("transition"))}function h(e){if(y){e.stopPropagation(),e.srcEvent&&e.srcEvent.preventDefault();var t=e.pointer.distanceX/y.width,i=u.$viewValue?1+t:t;i=Math.max(0,Math.min(1,i)),g.css(o.CSS.TRANSFORM,"translate3d("+100*i+"%,0,0)"),y.translate=i}}function p(e){if(y){e.stopPropagation(),i.removeClass("md-dragging"),g.css(o.CSS.TRANSFORM,"");var t=u.$viewValue?y.translate<.5:y.translate>.5;t&&f(!u.$viewValue),y=null}}function f(t){e.$apply(function(){u.$setViewValue(t),u.$render()})}u=u||n.fakeNgModel();var m=a(c.ngDisabled),g=t.element(i[0].querySelector(".md-thumb-container")),v=t.element(i[0].querySelector(".md-container"));s(function(){i.removeClass("md-dragging")}),r(e,i,c,u),t.isDefined(c.ngDisabled)&&e.$watch(m,function(e){i.attr("tabindex",e?-1:0)}),l.register(v,"drag"),v.on("$md.dragstart",d).on("$md.drag",h).on("$md.dragend",p);var y}}var u=e[0];return{restrict:"E",priority:210,transclude:!0,template:'<div class="md-container"><div class="md-bar"></div><div class="md-thumb-container"><div class="md-thumb" md-ink-ripple md-ink-ripple-checkbox></div></div></div><div ng-transclude class="md-label"></div>',require:"?ngModel",compile:c}}t.module("material.components.switch",["material.core","material.components.checkbox"]).directive("mdSwitch",e),e.$inject=["mdCheckboxDirective","$mdTheming","$mdUtil","$document","$mdConstant","$parse","$$rAF","$mdGesture"]}(),function(){t.module("material.components.tabs",["material.core","material.components.icon"])}(),function(){function e(){return{restrict:"E"}}function i(e){function t(e,t,n,r){function o(o,a,l){return a=r.extractElementByName(a,"md-toast"),i=l.content,a.addClass(l.position.split(" ").map(function(e){return"md-"+e}).join(" ")),l.parent.addClass(s(l.position)),l.onSwipe=function(t,i){a.addClass("md-"+t.type.replace("$md.","")),e(n.cancel)},a.on("$md.swipeleft $md.swiperight",l.onSwipe),t.enter(a,l.parent)}function a(e,i,n){return i.off("$md.swipeleft $md.swiperight",n.onSwipe),n.parent.removeClass(s(n.position)),t.leave(i)}function s(e){return"md-toast-open-"+(e.indexOf("top")>-1?"top":"bottom")}return{onShow:o,onRemove:a,position:"bottom left",themable:!0,hideDelay:3e3}}var i,n=e("$mdToast").setDefaults({methods:["position","hideDelay","capsule"],options:t}).addPreset("simple",{argOption:"content",methods:["content","action","highlightAction","theme","parent"],options:["$mdToast","$mdTheming",function(e,t){var n={template:['<md-toast md-theme="{{ toast.theme }}" ng-class="{\'md-capsule\': toast.capsule}">',"<span flex>{{ toast.content }}</span>",'<md-button class="md-action" ng-if="toast.action" ng-click="toast.resolve()" ng-class="{\'md-highlight\': toast.highlightAction}">',"{{ toast.action }}","</md-button>","</md-toast>"].join(""),controller:["$scope",function(t){var n=this;t.$watch(function(){return i},function(){n.content=i}),this.resolve=function(){e.hide()}}],theme:t.defaultTheme(),controllerAs:"toast",bindToController:!0};return n}]}).addMethod("updateContent",function(e){i=e});return t.$inject=["$timeout","$animate","$mdToast","$mdUtil"],n}t.module("material.components.toast",["material.core","material.components.button"]).directive("mdToast",e).provider("$mdToast",i),i.$inject=["$$interimElementProvider"]}(),function(){function e(e,i,n,r,o,a){return{restrict:"E",controller:t.noop,link:function(s,l,c){function u(){function t(t,i){l.parent()[0]===i.parent()[0]&&(h&&h.off("scroll",g),i.on("scroll",g),i.attr("scroll-shrink","true"),h=i,e(r))}function r(){d=l.prop("offsetHeight"),h.css("margin-top",-d*m+"px"),u()}function u(e){var t=e?e.target.scrollTop:f;v(),p=Math.min(d/m,Math.max(0,p+t-f)),l.css(i.CSS.TRANSFORM,"translate3d(0,"+-p*m+"px,0)"),h.css(i.CSS.TRANSFORM,"translate3d(0,"+(d-p)*m+"px,0)"),f=t,l.hasClass("md-whiteframe-z1")?p||a(function(){o.removeClass(l,"md-whiteframe-z1")}):p&&a(function(){o.addClass(l,"md-whiteframe-z1")})}var d,h,p=0,f=0,m=c.mdShrinkSpeedFactor||.5,g=e.throttle(u),v=n.debounce(r,5e3);s.$on("$mdContentLoaded",t)}r(l),t.isDefined(c.mdScrollShrink)&&u()}}}t.module("material.components.toolbar",["material.core","material.components.content"]).directive("mdToolbar",e),e.$inject=["$$rAF","$mdConstant","$mdUtil","$mdTheming","$animate","$timeout"]}(),function(){function e(e,i,n,r,o,a,s,l,c){function u(u,p,f){function m(){g(),y(),w(),v()}function g(){t.isDefined(f.mdDelay)||(u.delay=d)}function v(){u.$watch("visible",function(e){e?E():A()}),u.$on("$destroy",function(){u.visible=!1,p.remove(),t.element(i).off("resize",S)})}function y(){p.detach(),p.attr("role","tooltip"),p.attr("id",f.id||"tooltip_"+o.nextUid())}function b(){for(var e=p.parent();"none"==i.getComputedStyle(e[0])["pointer-events"];)e=e.parent();return e}function _(){for(var e=p.parent()[0];e&&e!==s[0]&&e!==document.body&&(!e.tagName||"md-content"!=e.tagName.toLowerCase());)e=e.parentNode;return e}function w(){var e=u.hasOwnProperty("autohide")?u.autohide:f.hasOwnProperty("mdAutohide");
k.on("focus mouseenter touchstart",function(){x(!0)}),k.on("blur mouseleave touchend touchcancel",function(){(r[0].activeElement!==k[0]||e)&&x(!1)}),t.element(i).on("resize",S)}function x(t){x.value=!!t,x.queued||(t?(x.queued=!0,e(function(){u.visible=x.value,x.queued=!1},u.delay)):e(function(){u.visible=!1}))}function E(){M.append(p);var e=i.getComputedStyle(p[0]);return t.isDefined(e.display)&&"none"==e.display?void p.detach():(k.attr("aria-describedby",p.attr("id")),C(),void t.forEach([p,$,T],function(e){l.addClass(e,"md-show")}))}function A(){k.removeAttr("aria-describedby"),c.all([l.removeClass(T,"md-show"),l.removeClass($,"md-show"),l.removeClass(p,"md-show")]).then(function(){u.visible||p.detach()})}function C(){function e(){var e="left"===L||"right"===L?2*Math.sqrt(Math.pow(n.width,2)+Math.pow(n.height/2,2)):2*Math.sqrt(Math.pow(n.width/2,2)+Math.pow(n.height,2)),t="left"===L?{left:100,top:50}:"right"===L?{left:0,top:50}:"top"===L?{left:50,top:100}:{left:50,top:0};$.css({width:e+"px",height:e+"px",left:t.left+"%",top:t.top+"%"})}function t(e){var t={left:e.left,top:e.top};return t.left=Math.min(t.left,M.prop("scrollWidth")-n.width-h),t.left=Math.max(t.left,h),t.top=Math.min(t.top,M.prop("scrollHeight")-n.height-h),t.top=Math.max(t.top,h),t}function i(e){return"left"===e?{left:r.left-n.width-h,top:r.top+r.height/2-n.height/2}:"right"===e?{left:r.left+r.width+h,top:r.top+r.height/2-n.height/2}:"top"===e?{left:r.left+r.width/2-n.width/2,top:r.top-n.height-h}:{left:r.left+r.width/2-n.width/2,top:r.top+r.height+h}}var n=o.offsetRect(p,M),r=o.offsetRect(k,M),a=i(L);L?a=t(a):a.top>p.prop("offsetParent").scrollHeight-n.height-h&&(a=t(i("top"))),p.css({top:a.top+"px",left:a.left+"px"}),e()}a(p);var k=b(),$=t.element(p[0].getElementsByClassName("md-background")[0]),T=t.element(p[0].getElementsByClassName("md-content")[0]),L=f.mdDirection,D=_(),M=t.element(D||document.body),S=n.throttle(function(){u.visible&&C()});return m()}var d=300,h=8;return{restrict:"E",transclude:!0,priority:210,template:'        <div class="md-background"></div>        <div class="md-content" ng-transclude></div>',scope:{visible:"=?mdVisible",delay:"=?mdDelay",autohide:"=?mdAutohide"},link:u}}t.module("material.components.tooltip",["material.core"]).directive("mdTooltip",e),e.$inject=["$timeout","$window","$$rAF","$document","$mdUtil","$mdTheming","$rootElement","$animate","$q"]}(),function(){t.module("material.components.whiteframe",[])}(),function(){function e(e,i,o,a,s,l,c,u,d){function h(){g(),s(function(){v(),m(),f()})}function p(){function e(){var e=W.ul.getBoundingClientRect(),i={};e.right>o.right-r&&(i.left=t.right-e.width+"px"),W.$.ul.css(i)}if(!W)return s(p,0,!1);var t=W.wrap.getBoundingClientRect(),i=W.snap.getBoundingClientRect(),o=W.root.getBoundingClientRect(),a=i.bottom-o.top,l=o.bottom-i.top,c=t.left-o.left,u=t.width,d={left:c+"px",minWidth:u+"px",maxWidth:Math.max(t.right-o.left,o.right-t.left)-r+"px"};a>l&&o.height-t.bottom-r<n?(d.top="auto",d.bottom=l+"px",d.maxHeight=Math.min(n,t.top-o.top-r)+"px"):(d.top=a+"px",d.bottom="auto",d.maxHeight=Math.min(n,o.bottom-t.bottom-r)+"px"),W.$.ul.css(d),s(e,0,!1)}function f(){W.$.root.length&&(l(W.$.ul),W.$.ul.detach(),W.$.root.append(W.$.ul),u.pin&&u.pin(W.$.ul,d))}function m(){e.autofocus&&W.input.focus()}function g(){var i=parseInt(e.delay,10)||0;e.$watch("searchText",i?o.debounce(A,i):A),x(_),e.$watch("selectedItem",w),e.$watch("$mdAutocompleteCtrl.hidden",function(e,t){!e&&t&&p()}),t.element(c).on("resize",p)}function v(){W={main:i[0],ul:i.find("ul")[0],input:i.find("input")[0],wrap:i.find("md-autocomplete-wrap")[0],root:document.body},W.li=W.ul.getElementsByTagName("li"),W.snap=y(),W.$=b(W)}function y(){for(var e=i;e.length;e=e.parent())if(t.isDefined(e.attr("md-autocomplete-snap")))return e[0];return W.wrap}function b(e){var i={};for(var n in e)i[n]=t.element(e[n]);return i}function _(t,i){t&&(e.searchText=L(t)),e.itemChange&&t!==i&&e.itemChange(D(t))}function w(e,t){for(var i=0;i<J.length;++i)J[i](e,t)}function x(e){-1==J.indexOf(e)&&J.push(e)}function E(e){var t=J.indexOf(e);-1!=t&&J.splice(t,1)}function A(t,i){z.index=M(),t!==i&&t!==L(e.selectedItem)&&(e.selectedItem=null,e.textChange&&t!==i&&e.textChange(D(e.selectedItem)),N()?U():(z.loading=!1,z.matches=[],z.hidden=S(),j()))}function C(){Z=!1,Y||(z.hidden=!0)}function k(){Z=!0,t.isString(e.searchText)||(e.searchText=""),e.minLength>0||(z.hidden=S(),z.hidden||U())}function $(e){switch(e.keyCode){case a.KEY_CODE.DOWN_ARROW:if(z.loading)return;e.preventDefault(),z.index=Math.min(z.index+1,z.matches.length-1),F(),H();break;case a.KEY_CODE.UP_ARROW:if(z.loading)return;e.preventDefault(),z.index=z.index<0?z.matches.length-1:Math.max(0,z.index-1),F(),H();break;case a.KEY_CODE.TAB:case a.KEY_CODE.ENTER:if(z.hidden||z.loading||z.index<0||z.matches.length<1)return;e.preventDefault(),I(z.index);break;case a.KEY_CODE.ESCAPE:z.matches=[],z.hidden=!0,z.index=M()}}function T(){return t.isNumber(e.minLength)?e.minLength:1}function L(t){return t&&e.itemText?e.itemText(D(t)):t}function D(e){if(e){var t={};return z.itemName&&(t[z.itemName]=e),t}}function M(){return e.autoselect?0:-1}function S(){return!N()||void 0}function P(){return L(z.matches[z.index])}function N(){return e.searchText.length>=T()}function I(t){e.selectedItem=z.matches[t],e.searchText=L(e.selectedItem)||e.searchText,z.hidden=!0,z.index=0,z.matches=[]}function O(){e.searchText="",I(-1);var t=document.createEvent("CustomEvent");t.initCustomEvent("input",!0,!0,{value:e.searchText}),W.input.dispatchEvent(t),W.input.focus()}function R(i){function n(t){V[o]=t,z.loading=!1,i===e.searchText&&(q=null,z.matches=t,z.hidden=S(),j(),p())}var r=e.$parent.$eval(G),o=i.toLowerCase();t.isArray(r)?n(r):(z.loading=!0,r.success&&r.success(n),r.then&&r.then(n),r.error&&r.error(function(){z.loading=!1}))}function j(){if(!z.hidden)switch(z.matches.length){case 0:return z.messages.splice(0);case 1:return z.messages.push({display:"There is 1 match available."});default:return z.messages.push({display:"There are "+z.matches.length+" matches available."})}}function H(){z.messages.push({display:P()})}function F(){var e=W.li[z.index],t=e.offsetTop,i=t+e.offsetHeight,n=W.ul.clientHeight;t<W.ul.scrollTop?W.ul.scrollTop=t:i>W.ul.scrollTop+n&&(W.ul.scrollTop=i-n)}function U(){var t=e.searchText,i=t.toLowerCase();q&&q.cancel&&(q.cancel(),q=null),!e.noCache&&V[i]?(z.matches=V[i],j()):R(t),z.hidden=S()}var z=this,B=e.itemsExpr.split(/ in /i),G=B[1],W=null,q=null,V={},Y=!1,J=[],Z=!1;return z.scope=e,z.parent=e.$parent,z.itemName=B[0],z.matches=[],z.loading=!1,z.hidden=!0,z.index=null,z.messages=[],z.id=o.nextUid(),z.keydown=$,z.blur=C,z.focus=k,z.clear=O,z.select=I,z.getCurrentDisplayValue=P,z.registerSelectedItemWatcher=x,z.unregisterSelectedItemWatcher=E,z.listEnter=function(){Y=!0},z.listLeave=function(){Y=!1,Z||(z.hidden=!0)},z.mouseUp=function(){W.input.focus()},h()}t.module("material.components.autocomplete").controller("MdAutocompleteCtrl",e);var i=41,n=5.5*i,r=8;e.$inject=["$scope","$element","$mdUtil","$mdConstant","$timeout","$mdTheming","$window","$animate","$rootElement"]}(),function(){function e(e,t){function i(i,n,r){r.$observe("disabled",function(e){i.isDisabled=e}),t.initOptionalProperties(i,r,{searchText:null,selectedItem:null}),e(n)}return{controller:"MdAutocompleteCtrl",controllerAs:"$mdAutocompleteCtrl",link:i,scope:{name:"@",searchText:"=?mdSearchText",selectedItem:"=?mdSelectedItem",itemsExpr:"@mdItems",itemText:"&mdItemText",placeholder:"@placeholder",noCache:"=?mdNoCache",itemChange:"&?mdSelectedItemChange",textChange:"&?mdSearchTextChange",minLength:"=?mdMinLength",delay:"=?mdDelay",autofocus:"=?mdAutofocus",floatingLabel:"@?mdFloatingLabel",autoselect:"=?mdAutoselect",menuClass:"@?mdMenuClass"},template:function(e,t){function i(){var t=e.find("md-item-template").remove();return t.length?t.html():e.html()}function n(){var t=e.find("md-not-found").remove(),i=t.length?t.html():"";return i?'<li ng-if="!$mdAutocompleteCtrl.matches.length && !$mdAutocompleteCtrl.loading                         && !$mdAutocompleteCtrl.hidden"                         ng-hide="$mdAutocompleteCtrl.hidden"                         md-autocomplete-parent-scope>'+i+"</li>":""}function r(){return t.mdFloatingLabel?'            <md-input-container ng-if="floatingLabel">              <label>{{floatingLabel}}</label>              <input type="search"                  id="fl-input-{{$mdAutocompleteCtrl.id}}"                  name="{{name}}"                  autocomplete="off"                  ng-disabled="isDisabled"                  ng-model="$mdAutocompleteCtrl.scope.searchText"                  ng-keydown="$mdAutocompleteCtrl.keydown($event)"                  ng-blur="$mdAutocompleteCtrl.blur()"                  ng-focus="$mdAutocompleteCtrl.focus()"                  aria-owns="ul-{{$mdAutocompleteCtrl.id}}"                  aria-label="{{floatingLabel}}"                  aria-autocomplete="list"                  aria-haspopup="true"                  aria-activedescendant=""                  aria-expanded="{{!$mdAutocompleteCtrl.hidden}}"/>            </md-input-container>':'            <input type="search"                id="input-{{$mdAutocompleteCtrl.id}}"                name="{{name}}"                ng-if="!floatingLabel"                autocomplete="off"                ng-disabled="isDisabled"                ng-model="$mdAutocompleteCtrl.scope.searchText"                ng-keydown="$mdAutocompleteCtrl.keydown($event)"                ng-blur="$mdAutocompleteCtrl.blur()"                ng-focus="$mdAutocompleteCtrl.focus()"                placeholder="{{placeholder}}"                aria-owns="ul-{{$mdAutocompleteCtrl.id}}"                aria-label="{{placeholder}}"                aria-autocomplete="list"                aria-haspopup="true"                aria-activedescendant=""                aria-expanded="{{!$mdAutocompleteCtrl.hidden}}"/>'}return'        <md-autocomplete-wrap role="listbox">          '+r()+'          <button              type="button"              tabindex="-1"              ng-if="$mdAutocompleteCtrl.scope.searchText && !isDisabled"              ng-click="$mdAutocompleteCtrl.clear()">            <md-icon md-svg-icon="md-cancel"></md-icon>            <span class="md-visually-hidden">Clear</span>          </button>          <md-progress-linear              ng-if="$mdAutocompleteCtrl.loading"              md-mode="indeterminate"></md-progress-linear>          <ul role="presentation"              class="md-autocomplete-suggestions {{menuClass || \'\'}}"              id="ul-{{$mdAutocompleteCtrl.id}}"              ng-mouseenter="$mdAutocompleteCtrl.listEnter()"              ng-mouseleave="$mdAutocompleteCtrl.listLeave()"              ng-mouseup="$mdAutocompleteCtrl.mouseUp()">            <li ng-repeat="(index, item) in $mdAutocompleteCtrl.matches"                ng-class="{ selected: index === $mdAutocompleteCtrl.index }"                ng-hide="$mdAutocompleteCtrl.hidden"                ng-click="$mdAutocompleteCtrl.select(index)"                md-autocomplete-list-item="$mdAutocompleteCtrl.itemName">                '+i()+"            </li>            "+n()+'          </ul>        </md-autocomplete-wrap>        <aria-status            class="md-visually-hidden"            role="status"            aria-live="assertive">          <p ng-repeat="message in $mdAutocompleteCtrl.messages">{{message.display}}</p>        </aria-status>'}}}t.module("material.components.autocomplete").directive("mdAutocomplete",e),e.$inject=["$mdTheming","$mdUtil"]}(),function(){function e(e,t,i){function n(e){return e?e.replace(/[\\\^\$\*\+\?\.\(\)\|\{\}\[\]]/g,"\\$&"):e}function r(e,t){var i="";return t.indexOf("^")>=1&&(i+="^"),i+=e,t.indexOf("$")>=1&&(i+="$"),new RegExp(n(i),t.replace(/[\$\^]/g,""))}var o=t.attr("md-highlight-text"),a=i(t.text())(e),s=t.attr("md-highlight-flags")||"",l=e.$watch(o,function(e){var i=r(e,s),n=a.replace(i,'<span class="highlight">$&</span>');t.html(n)});t.on("$destroy",function(){l()})}t.module("material.components.autocomplete").controller("MdHighlightCtrl",e),e.$inject=["$scope","$element","$interpolate"]}(),function(){function e(){return{terminal:!0,scope:!1,controller:"MdHighlightCtrl"}}t.module("material.components.autocomplete").directive("mdHighlightText",e)}(),function(){function e(e,t){function i(i,n,r){var o=i.$parent.$mdAutocompleteCtrl,a=o.parent.$new(!1,o.parent),s=o.scope.$eval(r.mdAutocompleteListItem);a[s]=i.item,e(n.contents())(a),n.attr({role:"option",id:"item_"+t.nextUid()})}return{terminal:!0,link:i,scope:!1}}t.module("material.components.autocomplete").directive("mdAutocompleteListItem",e),e.$inject=["$compile","$mdUtil"]}(),function(){function e(e,t){function i(t,i,n){var r=t.$parent.$mdAutocompleteCtrl;e(i.contents())(r.parent)}return{restrict:"A",terminal:!0,link:i,scope:!1}}t.module("material.components.autocomplete").directive("mdAutocompleteParentScope",e),e.$inject=["$compile","$mdUtil"]}(),function(){function e(e){function n(n,r){return n.append(i),function(i,n,r,o){n.addClass("md-chip"),e(n),o&&t.element(n[0].querySelector(".md-chip-content")).on("blur",function(){o.selectedChip=-1})}}return{restrict:"E",require:"^?mdChips",compile:n}}t.module("material.components.chips").directive("mdChip",e);var i='    <span ng-if="!$mdChipsCtrl.readonly" class="md-visually-hidden">      {{$mdChipsCtrl.deleteHint}}    </span>';e.$inject=["$mdTheming"]}(),function(){function e(e){function t(t,i,n,r){i.on("click",function(e){t.$apply(function(){r.removeChip(t.$$replacedScope.$index)})}),e(function(){i.attr({tabindex:-1,ariaHidden:!0}),i.find("button").attr("tabindex","-1")})}return{restrict:"A",require:"^mdChips",scope:!1,link:t}}t.module("material.components.chips").directive("mdChipRemove",e),e.$inject=["$timeout"]}(),function(){function e(e,t){function i(t,i,n){var r=t.$parent.$mdChipsCtrl,o=r.parent.$new(!1,r.parent);o.$$replacedScope=t,o.$chip=t.$chip,o.$mdChipsCtrl=r,i.html(r.$scope.$eval(n.mdChipTransclude)),e(i.contents())(o)}return{restrict:"EA",terminal:!0,link:i,scope:!1}}t.module("material.components.chips").directive("mdChipTransclude",e),e.$inject=["$compile","$mdUtil"]}(),function(){function e(e,t,i,n,r){this.$timeout=r,this.$mdConstant=t,this.$scope=e,this.parent=e.$parent,this.$log=i,this.$element=n,this.ngModelCtrl=null,this.userInputNgModelCtrl=null,this.userInputElement=null,this.items=[],this.selectedChip=-1,this.deleteHint="Press delete to remove this chip.",this.deleteButtonLabel="Remove",this.chipBuffer="",this.useMdOnAppend=!1}t.module("material.components.chips").controller("MdChipsCtrl",e),e.$inject=["$scope","$mdConstant","$log","$element","$timeout"],e.prototype.inputKeydown=function(e){var t=this.getChipBuffer();switch(e.keyCode){case this.$mdConstant.KEY_CODE.ENTER:if(this.$scope.requireMatch||!t)break;e.preventDefault(),this.appendChip(t),this.resetChipBuffer();break;case this.$mdConstant.KEY_CODE.BACKSPACE:if(t)break;e.stopPropagation(),this.items.length&&this.selectAndFocusChipSafe(this.items.length-1)}},e.prototype.chipKeydown=function(e){if(!this.getChipBuffer())switch(e.keyCode){case this.$mdConstant.KEY_CODE.BACKSPACE:case this.$mdConstant.KEY_CODE.DELETE:if(this.selectedChip<0)return;e.preventDefault(),this.removeAndSelectAdjacentChip(this.selectedChip);break;case this.$mdConstant.KEY_CODE.LEFT_ARROW:e.preventDefault(),this.selectedChip<0&&(this.selectedChip=this.items.length),this.items.length&&this.selectAndFocusChipSafe(this.selectedChip-1);break;case this.$mdConstant.KEY_CODE.RIGHT_ARROW:e.preventDefault(),this.selectAndFocusChipSafe(this.selectedChip+1);break;case this.$mdConstant.KEY_CODE.ESCAPE:case this.$mdConstant.KEY_CODE.TAB:if(this.selectedChip<0)return;e.preventDefault(),this.onFocus()}},e.prototype.getPlaceholder=function(){var e=this.items.length&&(""==this.secondaryPlaceholder||this.secondaryPlaceholder);return e?this.placeholder:this.secondaryPlaceholder},e.prototype.removeAndSelectAdjacentChip=function(e){var i=this.getAdjacentChipIndex(e);this.removeChip(e),this.$timeout(t.bind(this,function(){this.selectAndFocusChipSafe(i)}))},e.prototype.resetSelectedChip=function(){this.selectedChip=-1},e.prototype.getAdjacentChipIndex=function(e){var t=this.items.length-1;return 0==t?-1:e==t?e-1:e},e.prototype.appendChip=function(e){this.items.indexOf(e)+1||(this.useMdOnAppend&&this.mdOnAppend&&(e=this.mdOnAppend({$chip:e})),this.items.push(e))},e.prototype.useMdOnAppendExpression=function(){this.useMdOnAppend=!0},e.prototype.getChipBuffer=function(){return this.userInputElement?this.userInputNgModelCtrl?this.userInputNgModelCtrl.$viewValue:this.userInputElement[0].value:this.chipBuffer},e.prototype.resetChipBuffer=function(){this.userInputElement?this.userInputNgModelCtrl?(this.userInputNgModelCtrl.$setViewValue(""),this.userInputNgModelCtrl.$render()):this.userInputElement[0].value="":this.chipBuffer=""},e.prototype.removeChip=function(e){this.items.splice(e,1)},e.prototype.removeChipAndFocusInput=function(e){this.removeChip(e),this.onFocus()},e.prototype.selectAndFocusChipSafe=function(e){return this.items.length?e===this.items.length?this.onFocus():(e=Math.max(e,0),e=Math.min(e,this.items.length-1),this.selectChip(e),void this.focusChip(e)):(this.selectChip(-1),void this.onFocus())},e.prototype.selectChip=function(e){e>=-1&&e<=this.items.length?this.selectedChip=e:this.$log.warn("Selected Chip index out of bounds; ignoring.")},e.prototype.selectAndFocusChip=function(e){this.selectChip(e),-1!=e&&this.focusChip(e)},e.prototype.focusChip=function(e){this.$element[0].querySelector('md-chip[index="'+e+'"] .md-chip-content').focus()},e.prototype.configureNgModel=function(e){this.ngModelCtrl=e;var t=this;e.$render=function(){t.items=t.ngModelCtrl.$viewValue}},e.prototype.onFocus=function(){var e=this.$element[0].querySelector("input");e&&e.focus(),this.resetSelectedChip()},e.prototype.onInputFocus=function(){this.inputHasFocus=!0,this.resetSelectedChip()},e.prototype.onInputBlur=function(){this.inputHasFocus=!1},e.prototype.configureUserInput=function(e){this.userInputElement=e;var i=e.controller("ngModel");i!=this.ngModelCtrl&&(this.userInputNgModelCtrl=i);var n=this.$scope,r=this;e.attr({tabindex:0}).on("keydown",function(e){n.$apply(t.bind(r,function(){r.inputKeydown(e)}))}).on("focus",t.bind(r,r.onInputFocus)).on("blur",t.bind(r,r.onInputBlur))},e.prototype.configureAutocomplete=function(e){e.registerSelectedItemWatcher(t.bind(this,function(e){e&&(this.appendChip(e),this.resetChipBuffer())})),this.$element.find("input").on("focus",t.bind(this,this.onInputFocus)).on("blur",t.bind(this,this.onInputBlur))},e.prototype.hasFocus=function(){return this.inputHasFocus||this.selectedChip>=0}}(),function(){function e(e,t,a,s,l){function c(i,c){function u(e){if(c.ngModel){var t=d[0].querySelector(e);return t&&t.outerHTML}}var d=c.$mdUserTemplate;c.$mdUserTemplate=null;var h=u("md-chips>*[md-chip-remove]")||o,p=u("md-chips>md-chip-template")||r,f=u("md-chips>md-autocomplete")||u("md-chips>input")||n,m=d.find("md-chip");return d[0].querySelector("md-chip-template>*[md-chip-remove]")&&s.warn("invalid placement of md-chip-remove within md-chip-template."),function(i,r,o,s){t.initOptionalProperties(i,c),e(r);var u=s[0];if(u.chipContentsTemplate=p,u.chipRemoveTemplate=h,u.chipInputTemplate=f,r.attr({ariaHidden:!0,tabindex:-1}).on("focus",function(){u.onFocus()}),c.ngModel&&(u.configureNgModel(r.controller("ngModel")),o.mdOnAppend&&u.useMdOnAppendExpression(),f!=n&&l(function(){0===f.indexOf("<md-autocomplete")&&u.configureAutocomplete(r.find("md-autocomplete").controller("mdAutocomplete")),u.configureUserInput(r.find("input"))})),m.length>0){var d=a(m)(i.$parent);l(function(){r.find("md-chips-wrap").prepend(d)})}}}return{template:function(e,t){return t.$mdUserTemplate=e.clone(),i},require:["mdChips"],restrict:"E",controller:"MdChipsCtrl",controllerAs:"$mdChipsCtrl",bindToController:!0,compile:c,scope:{readonly:"=readonly",placeholder:"@",secondaryPlaceholder:"@",mdOnAppend:"&",deleteHint:"@",deleteButtonLabel:"@",requireMatch:"=?mdRequireMatch"}}}t.module("material.components.chips").directive("mdChips",e);var i='      <md-chips-wrap          ng-if="!$mdChipsCtrl.readonly || $mdChipsCtrl.items.length > 0"          ng-keydown="$mdChipsCtrl.chipKeydown($event)"          ng-class="{ \'md-focused\': $mdChipsCtrl.hasFocus() }"          class="md-chips">        <md-chip ng-repeat="$chip in $mdChipsCtrl.items"            index="{{$index}}"            ng-class="{\'md-focused\': $mdChipsCtrl.selectedChip == $index}">          <div class="md-chip-content"              tabindex="-1"              aria-hidden="true"              ng-focus="!$mdChipsCtrl.readonly && $mdChipsCtrl.selectChip($index)"              md-chip-transclude="$mdChipsCtrl.chipContentsTemplate"></div>          <div class="md-chip-remove-container"              md-chip-transclude="$mdChipsCtrl.chipRemoveTemplate"></div>        </md-chip>        <div ng-if="!$mdChipsCtrl.readonly && $mdChipsCtrl.ngModelCtrl"            class="md-chip-input-container"            md-chip-transclude="$mdChipsCtrl.chipInputTemplate"></div>        </div>      </md-chips-wrap>',n='        <input            tabindex="0"            placeholder="{{$mdChipsCtrl.getPlaceholder()}}"            aria-label="{{$mdChipsCtrl.getPlaceholder()}}"            ng-model="$mdChipsCtrl.chipBuffer"            ng-focus="$mdChipsCtrl.onInputFocus()"            ng-blur="$mdChipsCtrl.onInputBlur()"            ng-keydown="$mdChipsCtrl.inputKeydown($event)">',r="      <span>{{$chip}}</span>",o='      <button          class="md-chip-remove"          ng-if="!$mdChipsCtrl.readonly"          ng-click="$mdChipsCtrl.removeChipAndFocusInput($$replacedScope.$index)"          type="button"          aria-hidden="true"          tabindex="-1">        <md-icon md-svg-icon="md-close"></md-icon>        <span class="md-visually-hidden">          {{$mdChipsCtrl.deleteButtonLabel}}        </span>      </button>';e.$inject=["$mdTheming","$mdUtil","$compile","$log","$timeout"]}(),function(){function e(){this.selectedItem=null,this.searchText=""}t.module("material.components.chips").controller("MdContactChipsCtrl",e),e.prototype.queryContact=function(e){var i=this.contactQuery({$query:e});return this.filterSelected?i.filter(t.bind(this,this.filterSelectedContacts)):i},e.prototype.filterSelectedContacts=function(e){return-1==this.contacts.indexOf(e)}}(),function(){function e(e,t){function n(i,n){return function(i,r,o,a){t.initOptionalProperties(i,n),e(r),r.attr("tabindex","-1")}}return{template:function(e,t){return i},restrict:"E",controller:"MdContactChipsCtrl",controllerAs:"$mdContactChipsCtrl",bindToController:!0,compile:n,scope:{contactQuery:"&mdContacts",placeholder:"@",secondaryPlaceholder:"@",contactName:"@mdContactName",contactImage:"@mdContactImage",contactEmail:"@mdContactEmail",contacts:"=ngModel",requireMatch:"=?mdRequireMatch"}}}t.module("material.components.chips").directive("mdContactChips",e);var i='      <md-chips class="md-contact-chips"          ng-model="$mdContactChipsCtrl.contacts"          md-require-match="$mdContactChipsCtrl.requireMatch"          md-autocomplete-snap>          <md-autocomplete              md-menu-class="md-contact-chips-suggestions"              md-selected-item="$mdContactChipsCtrl.selectedItem"              md-search-text="$mdContactChipsCtrl.searchText"              md-items="item in $mdContactChipsCtrl.queryContact($mdContactChipsCtrl.searchText)"              md-item-text="$mdContactChipsCtrl.mdContactName"              md-no-cache="true"              md-autoselect              placeholder="{{$mdContactChipsCtrl.contacts.length == 0 ?                  $mdContactChipsCtrl.placeholder : $mdContactChipsCtrl.secondaryPlaceholder}}">            <div class="md-contact-suggestion">              <img                   ng-src="{{item[$mdContactChipsCtrl.contactImage]}}"                  alt="{{item[$mdContactChipsCtrl.contactName]}}" />              <span class="md-contact-name" md-highlight-text="$mdContactChipsCtrl.searchText">                {{item[$mdContactChipsCtrl.contactName]}}              </span>              <span class="md-contact-email" >{{item[$mdContactChipsCtrl.contactEmail]}}</span>            </div>          </md-autocomplete>          <md-chip-template>            <div class="md-contact-avatar">              <img                   ng-src="{{$chip[$mdContactChipsCtrl.contactImage]}}"                  alt="{{$chip[$mdContactChipsCtrl.contactName]}}" />            </div>            <div class="md-contact-name">              {{$chip[$mdContactChipsCtrl.contactName]}}            </div>          </md-chip-template>      </md-chips>';e.$inject=["$mdTheming","$mdUtil"]}(),function(){function e(){function e(e,i,n,r){function o(){function e(){return n.label}function t(){var e=i.find("md-tab-label");return e.length?e.remove().html():void 0}function r(){var e=i.html();return i.empty(),e}return n.label||(i.find("md-tab-label")[0]||i[0]).innerHTML,e()||t()||r()}function a(){var e=i.find("md-tab-body"),t=e.length?e.html():n.label?i.html():null;return e.length?e.remove():n.label&&i.empty(),t}if(r){var s=i.parent()[0].getElementsByTagName("md-tab"),l=Array.prototype.indexOf.call(s,i[0]),c=r.insertTab({scope:e,parent:e.$parent,index:l,template:a(),label:o()},l);e.select=e.select||t.noop,e.deselect=e.deselect||t.noop,e.$watch("active",function(e){e&&r.select(c.getIndex())}),e.$watch("disabled",function(){r.refreshIndex()}),e.$watch(function(){return Array.prototype.indexOf.call(s,i[0])},function(e){c.index=e,r.updateTabOrder()}),e.$on("$destroy",function(){r.removeTab(c)})}}return{require:"^?mdTabs",terminal:!0,scope:{label:"@",active:"=?mdActive",disabled:"=?ngDisabled",select:"&?mdOnSelect",deselect:"&?mdOnDeselect"},link:e}}t.module("material.components.tabs").directive("mdTab",e)}(),function(){function e(){function e(e,t,i,n){n&&n.attachRipple(e,t)}return{require:"^?mdTabs",link:e}}t.module("material.components.tabs").directive("mdTabItem",e)}(),function(){function e(e){return{restrict:"A",compile:function(t,i){var n=e(i.mdTabScroll,null,!0);return function(e,t){t.on("mousewheel",function(t){e.$apply(function(){n(e,{$event:t})})})}}}}t.module("material.components.tabs").directive("mdTabScroll",e),e.$inject=["$parse"]}(),function(){function e(e,i,n,r,o,a,s,l){function c(){e.$watch("selectedIndex",C),e.$watch("$mdTabsCtrl.focusIndex",g),e.$watch("$mdTabsCtrl.offsetLeft",m),e.$watch("$mdTabsCtrl.hasContent",u),t.element(n).on("resize",function(){e.$apply(b)}),r(T,0,!1),r($,0,!1)}function u(e){i[e?"removeClass":"addClass"]("md-no-tab-content")}function d(){var e={};return e.wrapper=i[0].getElementsByTagName("md-tabs-wrapper")[0],e.canvas=e.wrapper.getElementsByTagName("md-tabs-canvas")[0],e.paging=e.canvas.getElementsByTagName("md-pagination-wrapper")[0],e.tabs=e.paging.getElementsByTagName("md-tab-item"),e.dummies=e.canvas.getElementsByTagName("md-dummy-tab"),e.inkBar=e.paging.getElementsByTagName("md-ink-bar")[0],e.contentsWrapper=i[0].getElementsByTagName("md-tabs-content-wrapper")[0],e.contents=e.contentsWrapper.getElementsByTagName("md-tab-content"),e}function h(t){switch(t.keyCode){case o.KEY_CODE.LEFT_ARROW:t.preventDefault(),f(-1,!0);break;case o.KEY_CODE.RIGHT_ARROW:t.preventDefault(),f(1,!0);break;case o.KEY_CODE.SPACE:case o.KEY_CODE.ENTER:t.preventDefault(),B||(e.selectedIndex=z.focusIndex)}z.lastClick=!1}function p(){var t=z.tabs[e.selectedIndex],i=z.tabs[z.focusIndex];z.tabs=z.tabs.sort(function(e,t){return e.index-t.index}),e.selectedIndex=z.tabs.indexOf(t),z.focusIndex=z.tabs.indexOf(i),r(T,0,!1)}function f(t,i){var n,r=i?z.focusIndex:e.selectedIndex;for(n=r+t;z.tabs[n]&&z.tabs[n].scope.disabled;n+=t);z.tabs[n]&&(i?z.focusIndex=n:e.selectedIndex=n)}function m(i){var n=S()?"":"-"+i+"px";t.element(G.paging).css("left",n),e.$broadcast("$mdTabsPaginationChanged")}function g(e,t){e!==t&&G.tabs[e]&&(y(),v())}function v(){G.dummies[z.focusIndex].focus()}function y(){if(!S()){var e=G.tabs[z.focusIndex],t=e.offsetLeft,i=e.offsetWidth+t;z.offsetLeft=Math.max(z.offsetLeft,O(i-G.canvas.clientWidth)),z.offsetLeft=Math.min(z.offsetLeft,O(t))}}function b(){z.lastSelectedIndex=e.selectedIndex,z.offsetLeft=O(z.offsetLeft),r(T,0,!1)}function _(){W.forEach(function(e){r(e)}),W=[]}function w(i,n){var r={getIndex:function(){return z.tabs.indexOf(o)},isActive:function(){return this.getIndex()===e.selectedIndex},isLeft:function(){return this.getIndex()<e.selectedIndex},isRight:function(){return this.getIndex()>e.selectedIndex},hasFocus:function(){return!z.lastClick&&z.hasFocus&&this.getIndex()===z.focusIndex},id:s.nextUid()},o=t.extend(r,i);return t.isDefined(n)?z.tabs.splice(n,0,o):z.tabs.push(o),_(),x(),o}function x(){var e=!1;t.forEach(z.tabs,function(t){t.template&&(e=!0)}),z.hasContent=e}function E(e){z.tabs.splice(e.getIndex(),1),A(),r(function(){T(),z.offsetLeft=O(z.offsetLeft)})}function A(){e.selectedIndex=D(e.selectedIndex),z.focusIndex=D(z.focusIndex)}function C(t,i){t!==i&&(e.selectedIndex=D(t),z.lastSelectedIndex=i,T(),$(),e.$broadcast("$mdTabsChanged"),z.tabs[i]&&z.tabs[i].scope.deselect(),z.tabs[t]&&z.tabs[t].scope.select())}function k(){k.watcher||(k.watcher=e.$watch(function(){r(function(){k.watcher&&i.prop("offsetParent")&&(k.watcher(),k.watcher=null,e.$apply(b))},0,!1)}))}function $(){if(!e.dynamicHeight)return i.css("height","");if(!z.tabs.length)return W.push($);var t=G.contents[e.selectedIndex],n=t?t.offsetHeight:0,r=G.wrapper.offsetHeight,o=n+r,a=i.prop("clientHeight");a!==o&&(B=!0,l.animate(i,{height:a+"px"},{height:o+"px"}).then(function(){i.css("height",""),B=!1}))}function T(){if(!z.tabs.length)return W.push(T);if(!i.prop("offsetParent"))return k();var n=e.selectedIndex,r=G.paging.offsetWidth,o=G.tabs[n],a=o.offsetLeft,s=r-a-o.offsetWidth;L(),t.element(G.inkBar).css({left:a+"px",right:s+"px"})}function L(){var i=e.selectedIndex,n=z.lastSelectedIndex,r=t.element(G.inkBar);r.removeClass("md-left md-right"),t.isNumber(n)&&(n>i?r.addClass("md-left"):i>n&&r.addClass("md-right"))}function D(e){var t,i,n=Math.max(z.tabs.length-e,e);for(t=0;n>=t;t++){if(i=z.tabs[e+t],i&&i.scope.disabled!==!0)return i.getIndex();if(i=z.tabs[e-t],i&&i.scope.disabled!==!0)return i.getIndex()}return e}function M(){switch(e.stretchTabs){case"always":return!0;case"never":return!1;default:return!P()&&n.matchMedia("(max-width: 600px)").matches}}function S(){return e.centerTabs&&!P()}function P(){if(e.noPagination)return!1;var n=i.prop("clientWidth");return t.forEach(G.tabs,function(e){n-=e.offsetWidth}),0>n}function N(t){B||(z.focusIndex=e.selectedIndex=t),z.lastClick=!0}function I(e){P()&&(e.preventDefault(),z.offsetLeft=O(z.offsetLeft-e.wheelDelta))}function O(e){if(!G.tabs.length||!P())return 0;var t=G.tabs[G.tabs.length-1],i=t.offsetLeft+t.offsetWidth;return e=Math.max(0,e),e=Math.min(i-G.canvas.clientWidth,e)}function R(){var e,t,i=G.canvas.clientWidth,n=i+z.offsetLeft;for(e=0;e<G.tabs.length&&(t=G.tabs[e],!(t.offsetLeft+t.offsetWidth>n));e++);z.offsetLeft=O(t.offsetLeft)}function j(){var e,t;for(e=0;e<G.tabs.length&&(t=G.tabs[e],!(t.offsetLeft+t.offsetWidth>=z.offsetLeft));e++);z.offsetLeft=O(t.offsetLeft+t.offsetWidth-G.canvas.clientWidth)}function H(){return z.offsetLeft>0}function F(){var e=G.tabs[G.tabs.length-1];return e&&e.offsetLeft+e.offsetWidth>G.canvas.clientWidth+z.offsetLeft}function U(e,i){var n={colorElement:t.element(G.inkBar)};a.attachTabBehavior(e,i,n)}var z=this,B=!1,G=d(),W=[];z.scope=e,z.parent=e.$parent,z.tabs=[],z.lastSelectedIndex=null,z.focusIndex=0,z.offsetLeft=0,z.hasContent=!1,z.hasFocus=!1,z.lastClick=!0,z.redirectFocus=v,z.attachRipple=U,z.shouldStretchTabs=M,z.shouldPaginate=P,z.shouldCenterTabs=S,z.insertTab=w,z.removeTab=E,z.select=N,z.scroll=I,z.nextPage=R,z.previousPage=j,z.keydown=h,z.canPageForward=F,z.canPageBack=H,z.refreshIndex=A,z.incrementSelectedIndex=f,z.updateInkBarStyles=T,z.updateTabOrder=s.debounce(p,100),c()}t.module("material.components.tabs").controller("MdTabsController",e),
e.$inject=["$scope","$element","$window","$timeout","$mdConstant","$mdInkRipple","$mdUtil","$animate"]}(),function(){function e(e,i,n){return{scope:{noPagination:"=?mdNoPagination",dynamicHeight:"=?mdDynamicHeight",centerTabs:"=?mdCenterTabs",selectedIndex:"=?mdSelected",stretchTabs:"@?mdStretchTabs"},template:function(e,t){return t.$mdTabsTemplate=e.html(),'        <md-tabs-wrapper ng-class="{ \'md-stretch-tabs\': $mdTabsCtrl.shouldStretchTabs() }">          <md-tab-data></md-tab-data>          <md-prev-button              tabindex="-1"              role="button"              aria-label="Previous Page"              aria-disabled="{{!$mdTabsCtrl.canPageBack()}}"              ng-class="{ \'md-disabled\': !$mdTabsCtrl.canPageBack() }"              ng-if="$mdTabsCtrl.shouldPaginate()"              ng-click="$mdTabsCtrl.previousPage()">            <md-icon md-svg-icon="md-tabs-arrow"></md-icon>          </md-prev-button>          <md-next-button              tabindex="-1"              role="button"              aria-label="Next Page"              aria-disabled="{{!$mdTabsCtrl.canPageForward()}}"              ng-class="{ \'md-disabled\': !$mdTabsCtrl.canPageForward() }"              ng-if="$mdTabsCtrl.shouldPaginate()"              ng-click="$mdTabsCtrl.nextPage()">            <md-icon md-svg-icon="md-tabs-arrow"></md-icon>          </md-next-button>          <md-tabs-canvas              tabindex="0"              aria-activedescendant="tab-item-{{$mdTabsCtrl.tabs[$mdTabsCtrl.focusIndex].id}}"              ng-focus="$mdTabsCtrl.redirectFocus()"              ng-class="{                  \'md-paginated\': $mdTabsCtrl.shouldPaginate(),                  \'md-center-tabs\': $mdTabsCtrl.shouldCenterTabs()              }"              ng-keydown="$mdTabsCtrl.keydown($event)"              role="tablist">            <md-pagination-wrapper                ng-class="{ \'md-center-tabs\': $mdTabsCtrl.shouldCenterTabs() }"                md-tab-scroll="$mdTabsCtrl.scroll($event)">              <md-tab-item                  tabindex="-1"                  class="md-tab"                  style="max-width: {{ tabWidth ? tabWidth + \'px\' : \'none\' }}"                  ng-repeat="tab in $mdTabsCtrl.tabs"                  role="tab"                  aria-controls="tab-content-{{tab.id}}"                  aria-selected="{{tab.isActive()}}"                  aria-disabled="{{tab.scope.disabled || \'false\'}}"                  ng-click="$mdTabsCtrl.select(tab.getIndex())"                  ng-class="{                      \'md-active\':    tab.isActive(),                      \'md-focused\':   tab.hasFocus(),                      \'md-disabled\':  tab.scope.disabled                  }"                  ng-disabled="tab.scope.disabled"                  md-swipe-left="$mdTabsCtrl.nextPage()"                  md-swipe-right="$mdTabsCtrl.previousPage()"                  md-template="tab.label"                  md-scope="tab.parent"></md-tab-item>              <md-ink-bar ng-hide="noInkBar"></md-ink-bar>            </md-pagination-wrapper>            <div class="md-visually-hidden md-dummy-wrapper">              <md-dummy-tab                  tabindex="-1"                  id="tab-item-{{tab.id}}"                  role="tab"                  aria-controls="tab-content-{{tab.id}}"                  aria-selected="{{tab.isActive()}}"                  aria-disabled="{{tab.scope.disabled || \'false\'}}"                  ng-focus="$mdTabsCtrl.hasFocus = true"                  ng-blur="$mdTabsCtrl.hasFocus = false"                  ng-repeat="tab in $mdTabsCtrl.tabs"                  md-template="tab.label"                  md-scope="tab.parent"></md-dummy-tab>            </div>          </md-tabs-canvas>        </md-tabs-wrapper>        <md-tabs-content-wrapper ng-show="$mdTabsCtrl.hasContent">          <md-tab-content              id="tab-content-{{tab.id}}"              role="tabpanel"              aria-labelledby="tab-item-{{tab.id}}"              md-swipe-left="$mdTabsCtrl.incrementSelectedIndex(1)"              md-swipe-right="$mdTabsCtrl.incrementSelectedIndex(-1)"              ng-if="$mdTabsCtrl.hasContent"              ng-repeat="(index, tab) in $mdTabsCtrl.tabs"               md-template="tab.template"              md-scope="tab.parent"              ng-class="{                \'md-no-transition\': $mdTabsCtrl.lastSelectedIndex == null,                \'md-active\':        tab.isActive(),                \'md-left\':          tab.isLeft(),                \'md-right\':         tab.isRight(),                \'md-no-scroll\':     dynamicHeight              }"></md-tab-content>        </md-tabs-content-wrapper>      '},controller:"MdTabsController",controllerAs:"$mdTabsCtrl",link:function(r,o,a){function s(e){var t=o.find("md-tab-data");t.html(e),n(t.contents())(r.$parent)}s(a.$mdTabsTemplate),delete a.$mdTabsTemplate,i.initOptionalProperties(r,a),a.$observe("mdNoBar",function(e){r.noInkBar=t.isDefined(e)}),r.selectedIndex=t.isNumber(r.selectedIndex)?r.selectedIndex:0,e(o)}}}t.module("material.components.tabs").directive("mdTabs",e),e.$inject=["$mdTheming","$mdUtil","$compile"]}(),function(){function e(e){function t(t,i,n,r){r&&(i.html(t.template),e(i.contents())(t.compileScope))}return{restrict:"A",link:t,scope:{template:"=mdTemplate",compileScope:"=mdScope"},require:"^?mdTabs"}}t.module("material.components.tabs").directive("mdTemplate",e),e.$inject=["$compile"]}(),function(){t.module("material.core").constant("$MD_THEME_CSS","/* mixin definition ; sets LTR and RTL within the same style call */md-autocomplete.md-THEME_NAME-theme {  background: '{{background-50}}'; }  md-autocomplete.md-THEME_NAME-theme button md-icon path {    fill: '{{background-600}}'; }  md-autocomplete.md-THEME_NAME-theme button:after {    background: '{{background-600-0.3}}'; }.md-autocomplete-suggestions.md-THEME_NAME-theme {  background: '{{background-50}}'; }  .md-autocomplete-suggestions.md-THEME_NAME-theme li {    color: '{{background-900}}'; }    .md-autocomplete-suggestions.md-THEME_NAME-theme li .highlight {      color: '{{background-600}}'; }    .md-autocomplete-suggestions.md-THEME_NAME-theme li:hover, .md-autocomplete-suggestions.md-THEME_NAME-theme li.selected {      background: '{{background-200}}'; }md-backdrop.md-opaque.md-THEME_NAME-theme {  background-color: '{{foreground-4-0.5}}'; }md-bottom-sheet.md-THEME_NAME-theme {  background-color: '{{background-50}}';  border-top-color: '{{background-300}}'; }  md-bottom-sheet.md-THEME_NAME-theme.md-list md-list-item {    color: '{{foreground-1}}'; }  md-bottom-sheet.md-THEME_NAME-theme .md-subheader {    background-color: '{{background-50}}'; }  md-bottom-sheet.md-THEME_NAME-theme .md-subheader {    color: '{{foreground-1}}'; }a.md-button.md-THEME_NAME-theme, .md-button.md-THEME_NAME-theme {  border-radius: 3px; }  a.md-button.md-THEME_NAME-theme:not([disabled]):hover, .md-button.md-THEME_NAME-theme:not([disabled]):hover {    background-color: '{{background-500-0.2}}'; }  a.md-button.md-THEME_NAME-theme:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme:not([disabled]).md-focused {    background-color: '{{background-500-0.2}}'; }  a.md-button.md-THEME_NAME-theme:not([disabled]).md-icon-button:hover, .md-button.md-THEME_NAME-theme:not([disabled]).md-icon-button:hover {    background-color: transparent; }  a.md-button.md-THEME_NAME-theme.md-fab, .md-button.md-THEME_NAME-theme.md-fab {    border-radius: 50%;    background-color: '{{accent-color}}';    color: '{{accent-contrast}}'; }    a.md-button.md-THEME_NAME-theme.md-fab md-icon, .md-button.md-THEME_NAME-theme.md-fab md-icon {      color: '{{accent-contrast}}'; }    a.md-button.md-THEME_NAME-theme.md-fab:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-fab:not([disabled]):hover {      background-color: '{{accent-color}}'; }    a.md-button.md-THEME_NAME-theme.md-fab:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-fab:not([disabled]).md-focused {      background-color: '{{accent-A700}}'; }  a.md-button.md-THEME_NAME-theme.md-primary, .md-button.md-THEME_NAME-theme.md-primary {    color: '{{primary-color}}'; }    a.md-button.md-THEME_NAME-theme.md-primary.md-raised, a.md-button.md-THEME_NAME-theme.md-primary.md-fab, .md-button.md-THEME_NAME-theme.md-primary.md-raised, .md-button.md-THEME_NAME-theme.md-primary.md-fab {      color: '{{primary-contrast}}';      background-color: '{{primary-color}}'; }      a.md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]) md-icon, a.md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]) md-icon {        color: '{{primary-contrast}}'; }      a.md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]):hover, a.md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]):hover {        background-color: '{{primary-color}}'; }      a.md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]).md-focused, a.md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]).md-focused {        background-color: '{{primary-600}}'; }    a.md-button.md-THEME_NAME-theme.md-primary:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-primary:not([disabled]) md-icon {      color: '{{primary-color}}'; }  a.md-button.md-THEME_NAME-theme.md-fab, .md-button.md-THEME_NAME-theme.md-fab {    border-radius: 50%;    background-color: '{{accent-color}}';    color: '{{accent-contrast}}'; }    a.md-button.md-THEME_NAME-theme.md-fab:not([disabled]) .md-icon, .md-button.md-THEME_NAME-theme.md-fab:not([disabled]) .md-icon {      color: '{{accent-contrast}}'; }    a.md-button.md-THEME_NAME-theme.md-fab:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-fab:not([disabled]):hover {      background-color: '{{accent-color}}'; }    a.md-button.md-THEME_NAME-theme.md-fab:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-fab:not([disabled]).md-focused {      background-color: '{{accent-A700}}'; }  a.md-button.md-THEME_NAME-theme.md-raised, .md-button.md-THEME_NAME-theme.md-raised {    color: '{{background-contrast}}';    background-color: '{{background-50}}'; }    a.md-button.md-THEME_NAME-theme.md-raised:not([disabled]) .md-icon, .md-button.md-THEME_NAME-theme.md-raised:not([disabled]) .md-icon {      color: '{{background-contrast}}'; }    a.md-button.md-THEME_NAME-theme.md-raised:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-raised:not([disabled]):hover {      background-color: '{{background-50}}'; }    a.md-button.md-THEME_NAME-theme.md-raised:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-raised:not([disabled]).md-focused {      background-color: '{{background-200}}'; }  a.md-button.md-THEME_NAME-theme.md-warn, .md-button.md-THEME_NAME-theme.md-warn {    color: '{{warn-color}}'; }    a.md-button.md-THEME_NAME-theme.md-warn.md-raised, a.md-button.md-THEME_NAME-theme.md-warn.md-fab, .md-button.md-THEME_NAME-theme.md-warn.md-raised, .md-button.md-THEME_NAME-theme.md-warn.md-fab {      color: '{{warn-contrast}}';      background-color: '{{warn-color}}'; }      a.md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]) md-icon, a.md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]) md-icon {        color: '{{warn-contrast}}'; }      a.md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]):hover, a.md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]):hover {        background-color: '{{warn-color}}'; }      a.md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]).md-focused, a.md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]).md-focused {        background-color: '{{warn-700}}'; }    a.md-button.md-THEME_NAME-theme.md-warn:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-warn:not([disabled]) md-icon {      color: '{{warn-color}}'; }  a.md-button.md-THEME_NAME-theme.md-accent, .md-button.md-THEME_NAME-theme.md-accent {    color: '{{accent-color}}'; }    a.md-button.md-THEME_NAME-theme.md-accent.md-raised, a.md-button.md-THEME_NAME-theme.md-accent.md-fab, .md-button.md-THEME_NAME-theme.md-accent.md-raised, .md-button.md-THEME_NAME-theme.md-accent.md-fab {      color: '{{accent-contrast}}';      background-color: '{{accent-color}}'; }      a.md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]) md-icon, a.md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]) md-icon {        color: '{{accent-contrast}}'; }      a.md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]):hover, a.md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]):hover {        background-color: '{{accent-color}}'; }      a.md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]).md-focused, a.md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]).md-focused {        background-color: '{{accent-700}}'; }    a.md-button.md-THEME_NAME-theme.md-accent:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-accent:not([disabled]) md-icon {      color: '{{accent-color}}'; }  a.md-button.md-THEME_NAME-theme[disabled], a.md-button.md-THEME_NAME-theme.md-raised[disabled], a.md-button.md-THEME_NAME-theme.md-fab[disabled], a.md-button.md-THEME_NAME-theme.md-accent[disabled], a.md-button.md-THEME_NAME-theme.md-warn[disabled], .md-button.md-THEME_NAME-theme[disabled], .md-button.md-THEME_NAME-theme.md-raised[disabled], .md-button.md-THEME_NAME-theme.md-fab[disabled], .md-button.md-THEME_NAME-theme.md-accent[disabled], .md-button.md-THEME_NAME-theme.md-warn[disabled] {    color: '{{foreground-3}}';    cursor: not-allowed; }    a.md-button.md-THEME_NAME-theme[disabled] md-icon, a.md-button.md-THEME_NAME-theme.md-raised[disabled] md-icon, a.md-button.md-THEME_NAME-theme.md-fab[disabled] md-icon, a.md-button.md-THEME_NAME-theme.md-accent[disabled] md-icon, a.md-button.md-THEME_NAME-theme.md-warn[disabled] md-icon, .md-button.md-THEME_NAME-theme[disabled] md-icon, .md-button.md-THEME_NAME-theme.md-raised[disabled] md-icon, .md-button.md-THEME_NAME-theme.md-fab[disabled] md-icon, .md-button.md-THEME_NAME-theme.md-accent[disabled] md-icon, .md-button.md-THEME_NAME-theme.md-warn[disabled] md-icon {      color: '{{foreground-3}}'; }  a.md-button.md-THEME_NAME-theme.md-raised[disabled], a.md-button.md-THEME_NAME-theme.md-fab[disabled], .md-button.md-THEME_NAME-theme.md-raised[disabled], .md-button.md-THEME_NAME-theme.md-fab[disabled] {    background-color: '{{foreground-4}}'; }  a.md-button.md-THEME_NAME-theme[disabled], .md-button.md-THEME_NAME-theme[disabled] {    background-color: transparent; }md-card.md-THEME_NAME-theme {  background-color: '{{background-color}}';  border-radius: 2px; }  md-card.md-THEME_NAME-theme .md-card-image {    border-radius: 2px 2px 0 0; }md-checkbox.md-THEME_NAME-theme .md-ripple {  color: '{{accent-600}}'; }md-checkbox.md-THEME_NAME-theme.md-checked .md-ripple {  color: '{{background-600}}'; }md-checkbox.md-THEME_NAME-theme.md-checked.md-focused .md-container:before {  background-color: '{{accent-color-0.26}}'; }md-checkbox.md-THEME_NAME-theme .md-icon {  border-color: '{{foreground-2}}'; }md-checkbox.md-THEME_NAME-theme.md-checked .md-icon {  background-color: '{{accent-color-0.87}}'; }md-checkbox.md-THEME_NAME-theme.md-checked .md-icon:after {  border-color: '{{background-200}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary .md-ripple {  color: '{{primary-600}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ripple {  color: '{{background-600}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary .md-icon {  border-color: '{{foreground-2}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-icon {  background-color: '{{primary-color-0.87}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked.md-focused .md-container:before {  background-color: '{{primary-color-0.26}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-icon:after {  border-color: '{{background-200}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn .md-ripple {  color: '{{warn-600}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn .md-icon {  border-color: '{{foreground-2}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-icon {  background-color: '{{warn-color-0.87}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked.md-focused:not([disabled]) .md-container:before {  background-color: '{{warn-color-0.26}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-icon:after {  border-color: '{{background-200}}'; }md-checkbox.md-THEME_NAME-theme[disabled] .md-icon {  border-color: '{{foreground-3}}'; }md-checkbox.md-THEME_NAME-theme[disabled].md-checked .md-icon {  background-color: '{{foreground-3}}'; }md-checkbox.md-THEME_NAME-theme[disabled] .md-label {  color: '{{foreground-3}}'; }md-chips.md-THEME_NAME-theme .md-chips {  box-shadow: 0 1px '{{background-300}}'; }  md-chips.md-THEME_NAME-theme .md-chips.md-focused {    box-shadow: 0 2px '{{primary-color}}'; }md-chips.md-THEME_NAME-theme .md-chip {  background: '{{background-300}}';  color: '{{background-800}}'; }  md-chips.md-THEME_NAME-theme .md-chip.md-focused {    background: '{{primary-color}}';    color: '{{primary-contrast}}'; }    md-chips.md-THEME_NAME-theme .md-chip.md-focused md-icon {      color: '{{primary-contrast}}'; }md-chips.md-THEME_NAME-theme md-chip-remove .md-button md-icon path {  fill: '{{background-500}}'; }.md-contact-suggestion span.md-contact-email {  color: '{{background-400}}'; }md-content.md-THEME_NAME-theme {  background-color: '{{background-color}}'; }md-dialog.md-THEME_NAME-theme {  border-radius: 4px;  background-color: '{{background-color}}'; }  md-dialog.md-THEME_NAME-theme.md-content-overflow .md-actions {    border-top-color: '{{foreground-4}}'; }md-divider.md-THEME_NAME-theme {  border-top-color: '{{foreground-4}}'; }md-icon.md-THEME_NAME-theme {  color: '{{foreground-2}}'; }  md-icon.md-THEME_NAME-theme.md-primary {    color: '{{primary-color}}'; }  md-icon.md-THEME_NAME-theme.md-accent {    color: '{{accent-color}}'; }  md-icon.md-THEME_NAME-theme.md-warn {    color: '{{warn-color}}'; }md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text h3, md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text h4, md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text h3, md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text h4 {  color: '{{foreground-1}}'; }md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text p, md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text p {  color: '{{foreground-2}}'; }md-list.md-THEME_NAME-theme .md-proxy-focus.md-focused div.md-no-style {  background-color: '{{background-100}}'; }md-list.md-THEME_NAME-theme md-list-item > md-icon {  color: '{{foreground-2}}'; }  md-list.md-THEME_NAME-theme md-list-item > md-icon.md-highlight {    color: '{{primary-color}}'; }    md-list.md-THEME_NAME-theme md-list-item > md-icon.md-highlight.md-accent {      color: '{{accent-color}}'; }md-list.md-THEME_NAME-theme md-list-item button {  background-color: '{{background-color}}'; }  md-list.md-THEME_NAME-theme md-list-item button.md-button:not([disabled]):hover {    background-color: '{{background-color}}'; }md-input-container.md-THEME_NAME-theme .md-input {  color: '{{foreground-1}}';  border-color: '{{foreground-4}}';  text-shadow: '{{foreground-shadow}}'; }  md-input-container.md-THEME_NAME-theme .md-input::-webkit-input-placeholder, md-input-container.md-THEME_NAME-theme .md-input::-moz-placeholder, md-input-container.md-THEME_NAME-theme .md-input:-moz-placeholder, md-input-container.md-THEME_NAME-theme .md-input:-ms-input-placeholder {    color: '{{foreground-3}}'; }md-input-container.md-THEME_NAME-theme > md-icon {  color: '{{foreground-1}}'; }md-input-container.md-THEME_NAME-theme label, md-input-container.md-THEME_NAME-theme .md-placeholder {  text-shadow: '{{foreground-shadow}}';  color: '{{foreground-3}}'; }md-input-container.md-THEME_NAME-theme ng-messages, md-input-container.md-THEME_NAME-theme [ng-message], md-input-container.md-THEME_NAME-theme [data-ng-message], md-input-container.md-THEME_NAME-theme [x-ng-message] {  color: '{{warn-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-has-value label {  color: '{{foreground-2}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused .md-input {  border-color: '{{primary-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused label {  color: '{{primary-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused md-icon {  color: '{{primary-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-accent .md-input {  border-color: '{{accent-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-accent label {  color: '{{accent-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-warn .md-input {  border-color: '{{warn-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-warn label {  color: '{{warn-500}}'; }md-input-container.md-THEME_NAME-theme.md-input-invalid .md-input {  border-color: '{{warn-500}}'; }md-input-container.md-THEME_NAME-theme.md-input-invalid.md-input-focused label {  color: '{{warn-500}}'; }md-input-container.md-THEME_NAME-theme.md-input-invalid ng-message, md-input-container.md-THEME_NAME-theme.md-input-invalid data-ng-message, md-input-container.md-THEME_NAME-theme.md-input-invalid x-ng-message, md-input-container.md-THEME_NAME-theme.md-input-invalid [ng-message], md-input-container.md-THEME_NAME-theme.md-input-invalid [data-ng-message], md-input-container.md-THEME_NAME-theme.md-input-invalid [x-ng-message], md-input-container.md-THEME_NAME-theme.md-input-invalid .md-char-counter {  color: '{{warn-500}}'; }md-input-container.md-THEME_NAME-theme .md-input[disabled], [disabled] md-input-container.md-THEME_NAME-theme .md-input {  border-bottom-color: transparent;  color: '{{foreground-3}}';  background-image: linear-gradient(to right, '{{foreground-4}}' 0%, '{{foreground-4}}' 33%, transparent 0%);  background-image: -ms-linear-gradient(left, transparent 0%, '{{foreground-4}}' 100%); }md-progress-circular.md-THEME_NAME-theme {  background-color: transparent; }  md-progress-circular.md-THEME_NAME-theme .md-inner .md-gap {    border-top-color: '{{primary-color}}';    border-bottom-color: '{{primary-color}}'; }  md-progress-circular.md-THEME_NAME-theme .md-inner .md-left .md-half-circle, md-progress-circular.md-THEME_NAME-theme .md-inner .md-right .md-half-circle {    border-top-color: '{{primary-color}}'; }  md-progress-circular.md-THEME_NAME-theme .md-inner .md-right .md-half-circle {    border-right-color: '{{primary-color}}'; }  md-progress-circular.md-THEME_NAME-theme .md-inner .md-left .md-half-circle {    border-left-color: '{{primary-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-warn .md-inner .md-gap {    border-top-color: '{{warn-color}}';    border-bottom-color: '{{warn-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-warn .md-inner .md-left .md-half-circle, md-progress-circular.md-THEME_NAME-theme.md-warn .md-inner .md-right .md-half-circle {    border-top-color: '{{warn-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-warn .md-inner .md-right .md-half-circle {    border-right-color: '{{warn-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-warn .md-inner .md-left .md-half-circle {    border-left-color: '{{warn-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-accent .md-inner .md-gap {    border-top-color: '{{accent-color}}';    border-bottom-color: '{{accent-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-accent .md-inner .md-left .md-half-circle, md-progress-circular.md-THEME_NAME-theme.md-accent .md-inner .md-right .md-half-circle {    border-top-color: '{{accent-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-accent .md-inner .md-right .md-half-circle {    border-right-color: '{{accent-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-accent .md-inner .md-left .md-half-circle {    border-left-color: '{{accent-color}}'; }md-progress-linear.md-THEME_NAME-theme .md-container {  background-color: '{{primary-100}}'; }md-progress-linear.md-THEME_NAME-theme .md-bar {  background-color: '{{primary-color}}'; }md-progress-linear.md-THEME_NAME-theme.md-warn .md-container {  background-color: '{{warn-100}}'; }md-progress-linear.md-THEME_NAME-theme.md-warn .md-bar {  background-color: '{{warn-color}}'; }md-progress-linear.md-THEME_NAME-theme.md-accent .md-container {  background-color: '{{accent-100}}'; }md-progress-linear.md-THEME_NAME-theme.md-accent .md-bar {  background-color: '{{accent-color}}'; }md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-warn .md-bar1 {  background-color: '{{warn-100}}'; }md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-warn .md-dashed:before {  background: radial-gradient('{{warn-100}}' 0%, '{{warn-100}}' 16%, transparent 42%); }md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-accent .md-bar1 {  background-color: '{{accent-100}}'; }md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-accent .md-dashed:before {  background: radial-gradient('{{accent-100}}' 0%, '{{accent-100}}' 16%, transparent 42%); }md-radio-button.md-THEME_NAME-theme .md-off {  border-color: '{{foreground-2}}'; }md-radio-button.md-THEME_NAME-theme .md-on {  background-color: '{{accent-color-0.87}}'; }md-radio-button.md-THEME_NAME-theme.md-checked .md-off {  border-color: '{{accent-color-0.87}}'; }md-radio-button.md-THEME_NAME-theme.md-checked .md-ink-ripple {  color: '{{accent-color-0.87}}'; }md-radio-button.md-THEME_NAME-theme .md-container .md-ripple {  color: '{{accent-600}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-on, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-on, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-on, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-on {  background-color: '{{primary-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-off, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-off, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-off, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-off, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-off {  border-color: '{{primary-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ink-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-ink-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-ink-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-ink-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ink-ripple {  color: '{{primary-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-container .md-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-container .md-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-container .md-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-container .md-ripple {  color: '{{primary-600}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-on, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-on, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-on, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-on {  background-color: '{{warn-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-off, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-off, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-off, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-off, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-off {  border-color: '{{warn-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-ink-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-ink-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-ink-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-ink-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-ink-ripple {  color: '{{warn-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-container .md-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-container .md-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-container .md-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-container .md-ripple {  color: '{{warn-600}}'; }md-radio-group.md-THEME_NAME-theme[disabled], md-radio-button.md-THEME_NAME-theme[disabled] {  color: '{{foreground-3}}'; }  md-radio-group.md-THEME_NAME-theme[disabled] .md-container .md-off, md-radio-button.md-THEME_NAME-theme[disabled] .md-container .md-off {    border-color: '{{foreground-3}}'; }  md-radio-group.md-THEME_NAME-theme[disabled] .md-container .md-on, md-radio-button.md-THEME_NAME-theme[disabled] .md-container .md-on {    border-color: '{{foreground-3}}'; }md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked .md-container:before {  background-color: '{{accent-color-0.26}}'; }md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked:not([disabled]).md-primary .md-container:before {  background-color: '{{primary-color-0.26}}'; }md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked.md-primary .md-container:before {  background-color: '{{warn-color-0.26}}'; }md-select.md-THEME_NAME-theme.ng-invalid.ng-dirty .md-select-label {  color: '{{warn-500}}' !important;  border-bottom-color: '{{warn-500}}' !important; }md-select.md-THEME_NAME-theme:not([disabled]):focus .md-select-label {  border-bottom-color: '{{primary-color}}';  color: '{{ foreground-1 }}'; }  md-select.md-THEME_NAME-theme:not([disabled]):focus .md-select-label.md-placeholder {    color: '{{ foreground-1 }}'; }md-select.md-THEME_NAME-theme:not([disabled]):focus.md-accent .md-select-label {  border-bottom-color: '{{accent-color}}'; }md-select.md-THEME_NAME-theme:not([disabled]):focus.md-warn .md-select-label {  border-bottom-color: '{{warn-color}}'; }md-select.md-THEME_NAME-theme[disabled] .md-select-label {  color: '{{foreground-3}}'; }  md-select.md-THEME_NAME-theme[disabled] .md-select-label.md-placeholder {    color: '{{foreground-3}}'; }md-select.md-THEME_NAME-theme .md-select-label {  border-bottom-color: '{{foreground-4}}'; }  md-select.md-THEME_NAME-theme .md-select-label.md-placeholder {    color: '{{foreground-2}}'; }md-select-menu.md-THEME_NAME-theme md-optgroup {  color: '{{foreground-2}}'; }  md-select-menu.md-THEME_NAME-theme md-optgroup md-option {    color: '{{foreground-1}}'; }md-select-menu.md-THEME_NAME-theme md-option[selected] {  color: '{{primary-500}}'; }  md-select-menu.md-THEME_NAME-theme md-option[selected]:focus {    color: '{{primary-600}}'; }  md-select-menu.md-THEME_NAME-theme md-option[selected].md-accent {    color: '{{accent-500}}'; }    md-select-menu.md-THEME_NAME-theme md-option[selected].md-accent:focus {      color: '{{accent-600}}'; }md-select-menu.md-THEME_NAME-theme md-option:focus:not([selected]) {  background: '{{background-200}}'; }md-sidenav.md-THEME_NAME-theme {  background-color: '{{background-color}}'; }md-slider.md-THEME_NAME-theme .md-track {  background-color: '{{foreground-3}}'; }md-slider.md-THEME_NAME-theme .md-track-ticks {  background-color: '{{foreground-4}}'; }md-slider.md-THEME_NAME-theme .md-focus-thumb {  background-color: '{{foreground-2}}'; }md-slider.md-THEME_NAME-theme .md-focus-ring {  border-color: '{{foreground-4}}'; }md-slider.md-THEME_NAME-theme .md-disabled-thumb {  border-color: '{{background-color}}'; }md-slider.md-THEME_NAME-theme.md-min .md-thumb:after {  background-color: '{{background-color}}'; }md-slider.md-THEME_NAME-theme .md-track.md-track-fill {  background-color: '{{accent-color}}'; }md-slider.md-THEME_NAME-theme .md-thumb:after {  border-color: '{{accent-color}}';  background-color: '{{accent-color}}'; }md-slider.md-THEME_NAME-theme .md-sign {  background-color: '{{accent-color}}'; }  md-slider.md-THEME_NAME-theme .md-sign:after {    border-top-color: '{{accent-color}}'; }md-slider.md-THEME_NAME-theme .md-thumb-text {  color: '{{accent-contrast}}'; }md-slider.md-THEME_NAME-theme.md-warn .md-track.md-track-fill {  background-color: '{{warn-color}}'; }md-slider.md-THEME_NAME-theme.md-warn .md-thumb:after {  border-color: '{{warn-color}}';  background-color: '{{warn-color}}'; }md-slider.md-THEME_NAME-theme.md-warn .md-sign {  background-color: '{{warn-color}}'; }  md-slider.md-THEME_NAME-theme.md-warn .md-sign:after {    border-top-color: '{{warn-color}}'; }md-slider.md-THEME_NAME-theme.md-warn .md-thumb-text {  color: '{{warn-contrast}}'; }md-slider.md-THEME_NAME-theme.md-primary .md-track.md-track-fill {  background-color: '{{primary-color}}'; }md-slider.md-THEME_NAME-theme.md-primary .md-thumb:after {  border-color: '{{primary-color}}';  background-color: '{{primary-color}}'; }md-slider.md-THEME_NAME-theme.md-primary .md-sign {  background-color: '{{primary-color}}'; }  md-slider.md-THEME_NAME-theme.md-primary .md-sign:after {    border-top-color: '{{primary-color}}'; }md-slider.md-THEME_NAME-theme.md-primary .md-thumb-text {  color: '{{primary-contrast}}'; }md-slider.md-THEME_NAME-theme[disabled] .md-thumb:after {  border-color: '{{foreground-3}}'; }md-slider.md-THEME_NAME-theme[disabled]:not(.md-min) .md-thumb:after {  background-color: '{{foreground-3}}'; }.md-subheader.md-THEME_NAME-theme {  color: '{{ foreground-2-0.23 }}';  background-color: '{{background-color}}'; }  .md-subheader.md-THEME_NAME-theme.md-primary {    color: '{{primary-color}}'; }  .md-subheader.md-THEME_NAME-theme.md-accent {    color: '{{accent-color}}'; }  .md-subheader.md-THEME_NAME-theme.md-warn {    color: '{{warn-color}}'; }md-switch.md-THEME_NAME-theme .md-thumb {  background-color: '{{background-50}}'; }md-switch.md-THEME_NAME-theme .md-bar {  background-color: '{{background-500}}'; }md-switch.md-THEME_NAME-theme.md-checked .md-thumb {  background-color: '{{accent-color}}'; }md-switch.md-THEME_NAME-theme.md-checked .md-bar {  background-color: '{{accent-color-0.5}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-focused .md-thumb:before {  background-color: '{{accent-color-0.26}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-primary .md-thumb {  background-color: '{{primary-color}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-primary .md-bar {  background-color: '{{primary-color-0.5}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-primary.md-focused .md-thumb:before {  background-color: '{{primary-color-0.26}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-warn .md-thumb {  background-color: '{{warn-color}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-warn .md-bar {  background-color: '{{warn-color-0.5}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-warn.md-focused .md-thumb:before {  background-color: '{{warn-color-0.26}}'; }md-switch.md-THEME_NAME-theme[disabled] .md-thumb {  background-color: '{{background-400}}'; }md-switch.md-THEME_NAME-theme[disabled] .md-bar {  background-color: '{{foreground-4}}'; }md-tabs.md-THEME_NAME-theme md-tabs-wrapper {  background-color: transparent;  border-color: '{{foreground-4}}'; }md-tabs.md-THEME_NAME-theme .md-paginator md-icon {  color: '{{primary-color}}'; }md-tabs.md-THEME_NAME-theme md-ink-bar {  color: '{{accent-color}}';  background: '{{accent-color}}'; }md-tabs.md-THEME_NAME-theme .md-tab {  color: '{{foreground-2}}'; }  md-tabs.md-THEME_NAME-theme .md-tab[disabled] {    color: '{{foreground-3}}'; }  md-tabs.md-THEME_NAME-theme .md-tab.md-active, md-tabs.md-THEME_NAME-theme .md-tab.md-focused {    color: '{{primary-color}}'; }  md-tabs.md-THEME_NAME-theme .md-tab.md-focused {    background: '{{primary-color-0.1}}'; }  md-tabs.md-THEME_NAME-theme .md-tab .md-ripple-container {    color: '{{accent-100}}'; }md-tabs.md-THEME_NAME-theme.md-accent md-tabs-wrapper {  background-color: '{{accent-color}}'; }md-tabs.md-THEME_NAME-theme.md-accent md-tab-item:not([disabled]) {  color: '{{accent-100}}'; }  md-tabs.md-THEME_NAME-theme.md-accent md-tab-item:not([disabled]).md-active, md-tabs.md-THEME_NAME-theme.md-accent md-tab-item:not([disabled]).md-focused {    color: '{{accent-contrast}}'; }  md-tabs.md-THEME_NAME-theme.md-accent md-tab-item:not([disabled]).md-focused {    background: '{{accent-contrast-0.1}}'; }md-tabs.md-THEME_NAME-theme.md-accent md-ink-bar {  color: '{{primary-600-1}}';  background: '{{primary-600-1}}'; }md-tabs.md-THEME_NAME-theme.md-primary md-tabs-wrapper {  background-color: '{{primary-color}}'; }md-tabs.md-THEME_NAME-theme.md-primary md-tab-item:not([disabled]) {  color: '{{primary-100}}'; }  md-tabs.md-THEME_NAME-theme.md-primary md-tab-item:not([disabled]).md-active, md-tabs.md-THEME_NAME-theme.md-primary md-tab-item:not([disabled]).md-focused {    color: '{{primary-contrast}}'; }  md-tabs.md-THEME_NAME-theme.md-primary md-tab-item:not([disabled]).md-focused {    background: '{{primary-contrast-0.1}}'; }md-tabs.md-THEME_NAME-theme.md-warn md-tabs-wrapper {  background-color: '{{warn-color}}'; }md-tabs.md-THEME_NAME-theme.md-warn md-tab-item:not([disabled]) {  color: '{{warn-100}}'; }  md-tabs.md-THEME_NAME-theme.md-warn md-tab-item:not([disabled]).md-active, md-tabs.md-THEME_NAME-theme.md-warn md-tab-item:not([disabled]).md-focused {    color: '{{warn-contrast}}'; }  md-tabs.md-THEME_NAME-theme.md-warn md-tab-item:not([disabled]).md-focused {    background: '{{warn-contrast-0.1}}'; }md-toolbar > md-tabs.md-THEME_NAME-theme md-tabs-wrapper {  background-color: '{{primary-color}}'; }md-toolbar > md-tabs.md-THEME_NAME-theme md-tab-item:not([disabled]) {  color: '{{primary-100}}'; }  md-toolbar > md-tabs.md-THEME_NAME-theme md-tab-item:not([disabled]).md-active, md-toolbar > md-tabs.md-THEME_NAME-theme md-tab-item:not([disabled]).md-focused {    color: '{{primary-contrast}}'; }  md-toolbar > md-tabs.md-THEME_NAME-theme md-tab-item:not([disabled]).md-focused {    background: '{{primary-contrast-0.1}}'; }md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme md-tabs-wrapper {  background-color: '{{accent-color}}'; }md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme md-tab-item:not([disabled]) {  color: '{{accent-100}}'; }  md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme md-tab-item:not([disabled]).md-active, md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme md-tab-item:not([disabled]).md-focused {    color: '{{accent-contrast}}'; }  md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme md-tab-item:not([disabled]).md-focused {    background: '{{accent-contrast-0.1}}'; }md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme md-ink-bar {  color: '{{primary-600-1}}';  background: '{{primary-600-1}}'; }md-toolbar.md-warn > md-tabs.md-THEME_NAME-theme md-tabs-wrapper {  background-color: '{{warn-color}}'; }md-toolbar.md-warn > md-tabs.md-THEME_NAME-theme md-tab-item:not([disabled]) {  color: '{{warn-100}}'; }  md-toolbar.md-warn > md-tabs.md-THEME_NAME-theme md-tab-item:not([disabled]).md-active, md-toolbar.md-warn > md-tabs.md-THEME_NAME-theme md-tab-item:not([disabled]).md-focused {    color: '{{warn-contrast}}'; }  md-toolbar.md-warn > md-tabs.md-THEME_NAME-theme md-tab-item:not([disabled]).md-focused {    background: '{{warn-contrast-0.1}}'; }md-toast.md-THEME_NAME-theme {  background-color: #323232;  color: '{{background-50}}'; }  md-toast.md-THEME_NAME-theme .md-button {    color: '{{background-50}}'; }    md-toast.md-THEME_NAME-theme .md-button.md-highlight {      color: '{{primary-A200}}'; }      md-toast.md-THEME_NAME-theme .md-button.md-highlight.md-accent {        color: '{{accent-A200}}'; }      md-toast.md-THEME_NAME-theme .md-button.md-highlight.md-warn {        color: '{{warn-A200}}'; }md-toolbar.md-THEME_NAME-theme {  background-color: '{{primary-color}}';  color: '{{primary-contrast}}'; }  md-toolbar.md-THEME_NAME-theme md-icon {    color: '{{primary-contrast}}'; }  md-toolbar.md-THEME_NAME-theme .md-button {    color: '{{primary-contrast}}'; }  md-toolbar.md-THEME_NAME-theme.md-accent {    background-color: '{{accent-color}}';    color: '{{accent-contrast}}'; }  md-toolbar.md-THEME_NAME-theme.md-warn {    background-color: '{{warn-color}}';    color: '{{warn-contrast}}'; }md-tooltip.md-THEME_NAME-theme {  color: '{{background-A100}}'; }  md-tooltip.md-THEME_NAME-theme .md-background {    background-color: '{{foreground-2}}'; }");
}()}(window,window.angular),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){function t(t,n){var r,o,a,s=t.nodeName.toLowerCase();return"area"===s?(r=t.parentNode,o=r.name,!(!t.href||!o||"map"!==r.nodeName.toLowerCase())&&(a=e("img[usemap='#"+o+"']")[0],!!a&&i(a))):(/^(input|select|textarea|button|object)$/.test(s)?!t.disabled:"a"===s?t.href||n:n)&&i(t)}function i(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}function n(e){for(var t,i;e.length&&e[0]!==document;){if(t=e.css("position"),("absolute"===t||"relative"===t||"fixed"===t)&&(i=parseInt(e.css("zIndex"),10),!isNaN(i)&&0!==i))return i;e=e.parent()}return 0}function r(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.regional.en=e.extend(!0,{},this.regional[""]),this.regional["en-US"]=e.extend(!0,{},this.regional.en),this.dpDiv=o(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function o(t){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(i,"mouseout",function(){e(this).removeClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!==-1&&e(this).removeClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!==-1&&e(this).removeClass("ui-datepicker-next-hover")}).delegate(i,"mouseover",a)}function a(){e.datepicker._isDisabledDatepicker(v.inline?v.dpDiv.parent()[0]:v.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!==-1&&e(this).addClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!==-1&&e(this).addClass("ui-datepicker-next-hover"))}function s(t,i){e.extend(t,i);for(var n in i)null==i[n]&&(t[n]=i[n]);return t}function l(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}e.ui=e.ui||{},e.extend(e.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({scrollParent:function(t){var i=this.css("position"),n="absolute"===i,r=t?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var t=e(this);return(!n||"static"!==t.css("position"))&&r.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==i&&o.length?o:e(this[0].ownerDocument||document)},uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,n){return!!e.data(t,n[3])},focusable:function(i){return t(i,!isNaN(e.attr(i,"tabindex")))},tabbable:function(i){var n=e.attr(i,"tabindex"),r=isNaN(n);return(r||n>=0)&&t(i,!r)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(t,i){function n(t,i,n,o){return e.each(r,function(){i-=parseFloat(e.css(t,"padding"+this))||0,n&&(i-=parseFloat(e.css(t,"border"+this+"Width"))||0),o&&(i-=parseFloat(e.css(t,"margin"+this))||0)}),i}var r="Width"===i?["Left","Right"]:["Top","Bottom"],o=i.toLowerCase(),a={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+i]=function(t){return void 0===t?a["inner"+i].call(this):this.each(function(){e(this).css(o,n(this,t)+"px")})},e.fn["outer"+i]=function(t,r){return"number"!=typeof t?a["outer"+i].call(this,t):this.each(function(){e(this).css(o,n(this,t,!0,r)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,e.camelCase(i)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.fn.extend({focus:function(t){return function(i,n){return"number"==typeof i?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),n&&n.call(t)},i)}):t.apply(this,arguments)}}(e.fn.focus),disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(e+".ui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var i,n,r=e(this[0]);r.length&&r[0]!==document;){if(i=r.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(n=parseInt(r.css("zIndex"),10),!isNaN(n)&&0!==n))return n;r=r.parent()}return 0}}),e.ui.plugin={add:function(t,i,n){var r,o=e.ui[t].prototype;for(r in n)o.plugins[r]=o.plugins[r]||[],o.plugins[r].push([i,n[r]])},call:function(e,t,i,n){var r,o=e.plugins[t];if(o&&(n||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(r=0;r<o.length;r++)e.options[o[r][0]]&&o[r][1].apply(e.element,i)}};var c=0,u=Array.prototype.slice;e.cleanData=function(t){return function(i){var n,r,o;for(o=0;null!=(r=i[o]);o++)try{n=e._data(r,"events"),n&&n.remove&&e(r).triggerHandler("remove")}catch(e){}t(i)}}(e.cleanData),e.widget=function(t,i,n){var r,o,a,s,l={},c=t.split(".")[0];return t=t.split(".")[1],r=c+"-"+t,n||(n=i,i=e.Widget),e.expr[":"][r.toLowerCase()]=function(t){return!!e.data(t,r)},e[c]=e[c]||{},o=e[c][t],a=e[c][t]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new a(e,t)},e.extend(a,o,{version:n.version,_proto:e.extend({},n),_childConstructors:[]}),s=new i,s.options=e.widget.extend({},s.options),e.each(n,function(t,n){return e.isFunction(n)?void(l[t]=function(){var e=function(){return i.prototype[t].apply(this,arguments)},r=function(e){return i.prototype[t].apply(this,e)};return function(){var t,i=this._super,o=this._superApply;return this._super=e,this._superApply=r,t=n.apply(this,arguments),this._super=i,this._superApply=o,t}}()):void(l[t]=n)}),a.prototype=e.widget.extend(s,{widgetEventPrefix:o?s.widgetEventPrefix||t:t},l,{constructor:a,namespace:c,widgetName:t,widgetFullName:r}),o?(e.each(o._childConstructors,function(t,i){var n=i.prototype;e.widget(n.namespace+"."+n.widgetName,a,i._proto)}),delete o._childConstructors):i._childConstructors.push(a),e.widget.bridge(t,a),a},e.widget.extend=function(t){for(var i,n,r=u.call(arguments,1),o=0,a=r.length;o<a;o++)for(i in r[o])n=r[o][i],r[o].hasOwnProperty(i)&&void 0!==n&&(e.isPlainObject(n)?t[i]=e.isPlainObject(t[i])?e.widget.extend({},t[i],n):e.widget.extend({},n):t[i]=n);return t},e.widget.bridge=function(t,i){var n=i.prototype.widgetFullName||t;e.fn[t]=function(r){var o="string"==typeof r,a=u.call(arguments,1),s=this;return o?this.each(function(){var i,o=e.data(this,n);return"instance"===r?(s=o,!1):o?e.isFunction(o[r])&&"_"!==r.charAt(0)?(i=o[r].apply(o,a),i!==o&&void 0!==i?(s=i&&i.jquery?s.pushStack(i.get()):i,!1):void 0):e.error("no such method '"+r+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+r+"'")}):(a.length&&(r=e.widget.extend.apply(null,[r].concat(a))),this.each(function(){var t=e.data(this,n);t?(t.option(r||{}),t._init&&t._init()):e.data(this,n,new i(r,this))})),s}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=c++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),i!==this&&(e.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,i){var n,r,o,a=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(a={},n=t.split("."),t=n.shift(),n.length){for(r=a[t]=e.widget.extend({},this.options[t]),o=0;o<n.length-1;o++)r[n[o]]=r[n[o]]||{},r=r[n[o]];if(t=n.pop(),1===arguments.length)return void 0===r[t]?null:r[t];r[t]=i}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];a[t]=i}return this._setOptions(a),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,i,n){var r,o=this;"boolean"!=typeof t&&(n=i,i=t,t=!1),n?(i=r=e(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,r=this.widget()),e.each(n,function(n,a){function s(){if(t||o.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled"))return("string"==typeof a?o[a]:a).apply(o,arguments)}"string"!=typeof a&&(s.guid=a.guid=a.guid||s.guid||e.guid++);var l=n.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+o.eventNamespace,u=l[2];u?r.delegate(u,c,s):i.bind(c,s)})},_off:function(t,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(i).undelegate(i),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function i(){return("string"==typeof e?n[e]:e).apply(n,arguments)}var n=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,n){var r,o,a=this.options[t];if(n=n||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(r in o)r in i||(i[r]=o[r]);return this.element.trigger(i,n),!(e.isFunction(a)&&a.apply(this.element[0],[i].concat(n))===!1||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(n,r,o){"string"==typeof r&&(r={effect:r});var a,s=r?r===!0||"number"==typeof r?i:r.effect||i:t;r=r||{},"number"==typeof r&&(r={duration:r}),a=!e.isEmptyObject(r),r.complete=o,r.delay&&n.delay(r.delay),a&&e.effects&&e.effects.effect[s]?n[t](r):s!==t&&n[s]?n[s](r.duration,r.easing,o):n.queue(function(i){e(this)[t](),o&&o.call(n[0]),i()})}});var d=(e.widget,!1);e(document).mouseup(function(){d=!1});e.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(i){if(!0===e.data(i.target,t.widgetName+".preventClickEvent"))return e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!d){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var i=this,n=1===t.which,r=!("string"!=typeof this.options.cancel||!t.target.nodeName)&&e(t.target).closest(this.options.cancel).length;return!(n&&!r&&this._mouseCapture(t))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(t)!==!1,!this._mouseStarted)?(t.preventDefault(),!0):(!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return i._mouseMove(e)},this._mouseUpDelegate=function(e){return i._mouseUp(e)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),d=!0,!0))}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),d=!1,!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}});!function(){function t(e,t,i){return[parseFloat(e[0])*(p.test(e[0])?t/100:1),parseFloat(e[1])*(p.test(e[1])?i/100:1)]}function i(t,i){return parseInt(e.css(t,i),10)||0}function n(t){var i=t[0];return 9===i.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(i)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}e.ui=e.ui||{};var r,o,a=Math.max,s=Math.abs,l=Math.round,c=/left|center|right/,u=/top|center|bottom/,d=/[\+\-]\d+(\.[\d]+)?%?/,h=/^\w+/,p=/%$/,f=e.fn.position;e.position={scrollbarWidth:function(){if(void 0!==r)return r;var t,i,n=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=n.children()[0];return e("body").append(n),t=o.offsetWidth,n.css("overflow","scroll"),i=o.offsetWidth,t===i&&(i=n[0].clientWidth),n.remove(),r=t-i},getScrollInfo:function(t){var i=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),n=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),r="scroll"===i||"auto"===i&&t.width<t.element[0].scrollWidth,o="scroll"===n||"auto"===n&&t.height<t.element[0].scrollHeight;return{width:o?e.position.scrollbarWidth():0,height:r?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=e(t||window),n=e.isWindow(i[0]),r=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:n,isDocument:r,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:n||r?i.width():i.outerWidth(),height:n||r?i.height():i.outerHeight()}}},e.fn.position=function(r){if(!r||!r.of)return f.apply(this,arguments);r=e.extend({},r);var p,m,g,v,y,b,_=e(r.of),w=e.position.getWithinInfo(r.within),x=e.position.getScrollInfo(w),E=(r.collision||"flip").split(" "),A={};return b=n(_),_[0].preventDefault&&(r.at="left top"),m=b.width,g=b.height,v=b.offset,y=e.extend({},v),e.each(["my","at"],function(){var e,t,i=(r[this]||"").split(" ");1===i.length&&(i=c.test(i[0])?i.concat(["center"]):u.test(i[0])?["center"].concat(i):["center","center"]),i[0]=c.test(i[0])?i[0]:"center",i[1]=u.test(i[1])?i[1]:"center",e=d.exec(i[0]),t=d.exec(i[1]),A[this]=[e?e[0]:0,t?t[0]:0],r[this]=[h.exec(i[0])[0],h.exec(i[1])[0]]}),1===E.length&&(E[1]=E[0]),"right"===r.at[0]?y.left+=m:"center"===r.at[0]&&(y.left+=m/2),"bottom"===r.at[1]?y.top+=g:"center"===r.at[1]&&(y.top+=g/2),p=t(A.at,m,g),y.left+=p[0],y.top+=p[1],this.each(function(){var n,c,u=e(this),d=u.outerWidth(),h=u.outerHeight(),f=i(this,"marginLeft"),b=i(this,"marginTop"),C=d+f+i(this,"marginRight")+x.width,k=h+b+i(this,"marginBottom")+x.height,$=e.extend({},y),T=t(A.my,u.outerWidth(),u.outerHeight());"right"===r.my[0]?$.left-=d:"center"===r.my[0]&&($.left-=d/2),"bottom"===r.my[1]?$.top-=h:"center"===r.my[1]&&($.top-=h/2),$.left+=T[0],$.top+=T[1],o||($.left=l($.left),$.top=l($.top)),n={marginLeft:f,marginTop:b},e.each(["left","top"],function(t,i){e.ui.position[E[t]]&&e.ui.position[E[t]][i]($,{targetWidth:m,targetHeight:g,elemWidth:d,elemHeight:h,collisionPosition:n,collisionWidth:C,collisionHeight:k,offset:[p[0]+T[0],p[1]+T[1]],my:r.my,at:r.at,within:w,elem:u})}),r.using&&(c=function(e){var t=v.left-$.left,i=t+m-d,n=v.top-$.top,o=n+g-h,l={target:{element:_,left:v.left,top:v.top,width:m,height:g},element:{element:u,left:$.left,top:$.top,width:d,height:h},horizontal:i<0?"left":t>0?"right":"center",vertical:o<0?"top":n>0?"bottom":"middle"};m<d&&s(t+i)<m&&(l.horizontal="center"),g<h&&s(n+o)<g&&(l.vertical="middle"),a(s(t),s(i))>a(s(n),s(o))?l.important="horizontal":l.important="vertical",r.using.call(this,e,l)}),u.offset(e.extend($,{using:c}))})},e.ui.position={fit:{left:function(e,t){var i,n=t.within,r=n.isWindow?n.scrollLeft:n.offset.left,o=n.width,s=e.left-t.collisionPosition.marginLeft,l=r-s,c=s+t.collisionWidth-o-r;t.collisionWidth>o?l>0&&c<=0?(i=e.left+l+t.collisionWidth-o-r,e.left+=l-i):c>0&&l<=0?e.left=r:l>c?e.left=r+o-t.collisionWidth:e.left=r:l>0?e.left+=l:c>0?e.left-=c:e.left=a(e.left-s,e.left)},top:function(e,t){var i,n=t.within,r=n.isWindow?n.scrollTop:n.offset.top,o=t.within.height,s=e.top-t.collisionPosition.marginTop,l=r-s,c=s+t.collisionHeight-o-r;t.collisionHeight>o?l>0&&c<=0?(i=e.top+l+t.collisionHeight-o-r,e.top+=l-i):c>0&&l<=0?e.top=r:l>c?e.top=r+o-t.collisionHeight:e.top=r:l>0?e.top+=l:c>0?e.top-=c:e.top=a(e.top-s,e.top)}},flip:{left:function(e,t){var i,n,r=t.within,o=r.offset.left+r.scrollLeft,a=r.width,l=r.isWindow?r.scrollLeft:r.offset.left,c=e.left-t.collisionPosition.marginLeft,u=c-l,d=c+t.collisionWidth-a-l,h="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,p="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,f=-2*t.offset[0];u<0?(i=e.left+h+p+f+t.collisionWidth-a-o,(i<0||i<s(u))&&(e.left+=h+p+f)):d>0&&(n=e.left-t.collisionPosition.marginLeft+h+p+f-l,(n>0||s(n)<d)&&(e.left+=h+p+f))},top:function(e,t){var i,n,r=t.within,o=r.offset.top+r.scrollTop,a=r.height,l=r.isWindow?r.scrollTop:r.offset.top,c=e.top-t.collisionPosition.marginTop,u=c-l,d=c+t.collisionHeight-a-l,h="top"===t.my[1],p=h?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,f="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,m=-2*t.offset[1];u<0?(n=e.top+p+f+m+t.collisionHeight-a-o,(n<0||n<s(u))&&(e.top+=p+f+m)):d>0&&(i=e.top-t.collisionPosition.marginTop+p+f+m-l,(i>0||s(i)<d)&&(e.top+=p+f+m))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,i,n,r,a,s=document.getElementsByTagName("body")[0],l=document.createElement("div");t=document.createElement(s?"div":"body"),n={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},s&&e.extend(n,{position:"absolute",left:"-1000px",top:"-1000px"});for(a in n)t.style[a]=n[a];t.appendChild(l),i=s||document.documentElement,i.insertBefore(t,i.firstChild),l.style.cssText="position: absolute; left: 10.7432222px;",r=e(l).offset().left,o=r>10&&r<11,t.innerHTML="",i.removeChild(t)}()}();e.ui.position;e.widget("ui.draggable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(t){var i=this.options;return this._blurActiveElement(t),!(this.helper||i.disabled||e(t.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(t),!!this.handle&&(this._blockFrames(i.iframeFix===!0?"iframe":i.iframeFix),!0))},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=e(this);return e("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var i=this.document[0];if(this.handleElement.is(t.target))try{i.activeElement&&"body"!==i.activeElement.nodeName.toLowerCase()&&e(i.activeElement).blur()}catch(e){}},_mouseStart:function(t){var i=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===e(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._normalizeRightBottom(),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(t,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var n=this._uiHash();if(this._trigger("drag",t,n)===!1)return this._mouseUp({}),!1;this.position=n.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var i=this,n=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(n=e.ui.ddmanager.drop(this,t)),this.dropped&&(n=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!n||"valid"===this.options.revert&&n||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",t)!==!1&&i._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.focus(),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return!this.options.handle||!!e(t.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(t){var i=this.options,n=e.isFunction(i.helper),r=n?e(i.helper.apply(this.element[0],[t])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return r.parents("body").length||r.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),n&&r[0]===this.element[0]&&this._setPositionRelative(),r[0]===this.element[0]||/(fixed|absolute)/.test(r.css("position"))||r.css("position","absolute"),r},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,n,r=this.options,o=this.document[0];return this.relativeContainer=null,r.containment?"window"===r.containment?void(this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===r.containment?void(this.containment=[0,0,e(o).width()-this.helperProportions.width-this.margins.left,(e(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):r.containment.constructor===Array?void(this.containment=r.containment):("parent"===r.containment&&(r.containment=this.helper[0].parentNode),i=e(r.containment),n=i[0],void(n&&(t=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(t?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i))):void(this.containment=null)},_convertPositionTo:function(e,t){t||(t=this.position);var i="absolute"===e?1:-1,n=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:n?0:this.offset.scroll.top)*i,left:t.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:n?0:this.offset.scroll.left)*i}},_generatePosition:function(e,t){var i,n,r,o,a=this.options,s=this._isRootNode(this.scrollParent[0]),l=e.pageX,c=e.pageY;return s&&this.offset.scroll||(this.offset.scroll={
top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(n=this.relativeContainer.offset(),i=[this.containment[0]+n.left,this.containment[1]+n.top,this.containment[2]+n.left,this.containment[3]+n.top]):i=this.containment,e.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),e.pageY-this.offset.click.top<i[1]&&(c=i[1]+this.offset.click.top),e.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),e.pageY-this.offset.click.top>i[3]&&(c=i[3]+this.offset.click.top)),a.grid&&(r=a.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,c=i?r-this.offset.click.top>=i[1]||r-this.offset.click.top>i[3]?r:r-this.offset.click.top>=i[1]?r-a.grid[1]:r+a.grid[1]:r,o=a.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,l=i?o-this.offset.click.left>=i[0]||o-this.offset.click.left>i[2]?o:o-this.offset.click.left>=i[0]?o-a.grid[0]:o+a.grid[0]:o),"y"===a.axis&&(l=this.originalPageX),"x"===a.axis&&(c=this.originalPageY)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(t,i,n){return n=n||this._uiHash(),e.ui.plugin.call(this,t,[i,n,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),n.offset=this.positionAbs),e.Widget.prototype._trigger.call(this,t,i,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,i,n){var r=e.extend({},i,{item:n.element});n.sortables=[],e(n.options.connectToSortable).each(function(){var i=e(this).sortable("instance");i&&!i.options.disabled&&(n.sortables.push(i),i.refreshPositions(),i._trigger("activate",t,r))})},stop:function(t,i,n){var r=e.extend({},i,{item:n.element});n.cancelHelperRemoval=!1,e.each(n.sortables,function(){var e=this;e.isOver?(e.isOver=0,n.cancelHelperRemoval=!0,e.cancelHelperRemoval=!1,e._storedCSS={position:e.placeholder.css("position"),top:e.placeholder.css("top"),left:e.placeholder.css("left")},e._mouseStop(t),e.options.helper=e.options._helper):(e.cancelHelperRemoval=!0,e._trigger("deactivate",t,r))})},drag:function(t,i,n){e.each(n.sortables,function(){var r=!1,o=this;o.positionAbs=n.positionAbs,o.helperProportions=n.helperProportions,o.offset.click=n.offset.click,o._intersectsWith(o.containerCache)&&(r=!0,e.each(n.sortables,function(){return this.positionAbs=n.positionAbs,this.helperProportions=n.helperProportions,this.offset.click=n.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&e.contains(o.element[0],this.element[0])&&(r=!1),r})),r?(o.isOver||(o.isOver=1,n._parent=i.helper.parent(),o.currentItem=i.helper.appendTo(o.element).data("ui-sortable-item",!0),o.options._helper=o.options.helper,o.options.helper=function(){return i.helper[0]},t.target=o.currentItem[0],o._mouseCapture(t,!0),o._mouseStart(t,!0,!0),o.offset.click.top=n.offset.click.top,o.offset.click.left=n.offset.click.left,o.offset.parent.left-=n.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=n.offset.parent.top-o.offset.parent.top,n._trigger("toSortable",t),n.dropped=o.element,e.each(n.sortables,function(){this.refreshPositions()}),n.currentItem=n.element,o.fromOutside=n),o.currentItem&&(o._mouseDrag(t),i.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger("out",t,o._uiHash(o)),o._mouseStop(t,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),i.helper.appendTo(n._parent),n._refreshOffsets(t),i.position=n._generatePosition(t,!0),n._trigger("fromSortable",t),n.dropped=!1,e.each(n.sortables,function(){this.refreshPositions()}))})}}),e.ui.plugin.add("draggable","cursor",{start:function(t,i,n){var r=e("body"),o=n.options;r.css("cursor")&&(o._cursor=r.css("cursor")),r.css("cursor",o.cursor)},stop:function(t,i,n){var r=n.options;r._cursor&&e("body").css("cursor",r._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,i,n){var r=e(i.helper),o=n.options;r.css("opacity")&&(o._opacity=r.css("opacity")),r.css("opacity",o.opacity)},stop:function(t,i,n){var r=n.options;r._opacity&&e(i.helper).css("opacity",r._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(e,t,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(t,i,n){var r=n.options,o=!1,a=n.scrollParentNotHidden[0],s=n.document[0];a!==s&&"HTML"!==a.tagName?(r.axis&&"x"===r.axis||(n.overflowOffset.top+a.offsetHeight-t.pageY<r.scrollSensitivity?a.scrollTop=o=a.scrollTop+r.scrollSpeed:t.pageY-n.overflowOffset.top<r.scrollSensitivity&&(a.scrollTop=o=a.scrollTop-r.scrollSpeed)),r.axis&&"y"===r.axis||(n.overflowOffset.left+a.offsetWidth-t.pageX<r.scrollSensitivity?a.scrollLeft=o=a.scrollLeft+r.scrollSpeed:t.pageX-n.overflowOffset.left<r.scrollSensitivity&&(a.scrollLeft=o=a.scrollLeft-r.scrollSpeed))):(r.axis&&"x"===r.axis||(t.pageY-e(s).scrollTop()<r.scrollSensitivity?o=e(s).scrollTop(e(s).scrollTop()-r.scrollSpeed):e(window).height()-(t.pageY-e(s).scrollTop())<r.scrollSensitivity&&(o=e(s).scrollTop(e(s).scrollTop()+r.scrollSpeed))),r.axis&&"y"===r.axis||(t.pageX-e(s).scrollLeft()<r.scrollSensitivity?o=e(s).scrollLeft(e(s).scrollLeft()-r.scrollSpeed):e(window).width()-(t.pageX-e(s).scrollLeft())<r.scrollSensitivity&&(o=e(s).scrollLeft(e(s).scrollLeft()+r.scrollSpeed)))),o!==!1&&e.ui.ddmanager&&!r.dropBehaviour&&e.ui.ddmanager.prepareOffsets(n,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,i,n){var r=n.options;n.snapElements=[],e(r.snap.constructor!==String?r.snap.items||":data(ui-draggable)":r.snap).each(function(){var t=e(this),i=t.offset();this!==n.element[0]&&n.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:i.top,left:i.left})})},drag:function(t,i,n){var r,o,a,s,l,c,u,d,h,p,f=n.options,m=f.snapTolerance,g=i.offset.left,v=g+n.helperProportions.width,y=i.offset.top,b=y+n.helperProportions.height;for(h=n.snapElements.length-1;h>=0;h--)l=n.snapElements[h].left-n.margins.left,c=l+n.snapElements[h].width,u=n.snapElements[h].top-n.margins.top,d=u+n.snapElements[h].height,v<l-m||g>c+m||b<u-m||y>d+m||!e.contains(n.snapElements[h].item.ownerDocument,n.snapElements[h].item)?(n.snapElements[h].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,t,e.extend(n._uiHash(),{snapItem:n.snapElements[h].item})),n.snapElements[h].snapping=!1):("inner"!==f.snapMode&&(r=Math.abs(u-b)<=m,o=Math.abs(d-y)<=m,a=Math.abs(l-v)<=m,s=Math.abs(c-g)<=m,r&&(i.position.top=n._convertPositionTo("relative",{top:u-n.helperProportions.height,left:0}).top),o&&(i.position.top=n._convertPositionTo("relative",{top:d,left:0}).top),a&&(i.position.left=n._convertPositionTo("relative",{top:0,left:l-n.helperProportions.width}).left),s&&(i.position.left=n._convertPositionTo("relative",{top:0,left:c}).left)),p=r||o||a||s,"outer"!==f.snapMode&&(r=Math.abs(u-y)<=m,o=Math.abs(d-b)<=m,a=Math.abs(l-g)<=m,s=Math.abs(c-v)<=m,r&&(i.position.top=n._convertPositionTo("relative",{top:u,left:0}).top),o&&(i.position.top=n._convertPositionTo("relative",{top:d-n.helperProportions.height,left:0}).top),a&&(i.position.left=n._convertPositionTo("relative",{top:0,left:l}).left),s&&(i.position.left=n._convertPositionTo("relative",{top:0,left:c-n.helperProportions.width}).left)),!n.snapElements[h].snapping&&(r||o||a||s||p)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,t,e.extend(n._uiHash(),{snapItem:n.snapElements[h].item})),n.snapElements[h].snapping=r||o||a||s||p)}}),e.ui.plugin.add("draggable","stack",{start:function(t,i,n){var r,o=n.options,a=e.makeArray(e(o.stack)).sort(function(t,i){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(i).css("zIndex"),10)||0)});a.length&&(r=parseInt(e(a[0]).css("zIndex"),10)||0,e(a).each(function(t){e(this).css("zIndex",r+t)}),this.css("zIndex",r+a.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,i,n){var r=e(i.helper),o=n.options;r.css("zIndex")&&(o._zIndex=r.css("zIndex")),r.css("zIndex",o.zIndex)},stop:function(t,i,n){var r=n.options;r._zIndex&&e(i.helper).css("zIndex",r._zIndex)}});e.ui.draggable;e.widget("ui.droppable",{version:"1.11.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,i=this.options,n=i.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(n)?n:function(e){return e.is(n)},this.proportions=function(){return arguments.length?void(t=arguments[0]):t?t:t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(i.scope),i.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(t){e.ui.ddmanager.droppables[t]=e.ui.ddmanager.droppables[t]||[],e.ui.ddmanager.droppables[t].push(this)},_splice:function(e){for(var t=0;t<e.length;t++)e[t]===this&&e.splice(t,1)},_destroy:function(){var t=e.ui.ddmanager.droppables[this.options.scope];this._splice(t),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,i){if("accept"===t)this.accept=e.isFunction(i)?i:function(e){return e.is(i)};else if("scope"===t){var n=e.ui.ddmanager.droppables[this.options.scope];this._splice(n),this._addToManager(i)}this._super(t,i)},_activate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",t,this.ui(i))},_deactivate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",t,this.ui(i))},_over:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(i)))},_out:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(i)))},_drop:function(t,i){var n=i||e.ui.ddmanager.current,r=!1;return!(!n||(n.currentItem||n.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var i=e(this).droppable("instance");if(i.options.greedy&&!i.options.disabled&&i.options.scope===n.options.scope&&i.accept.call(i.element[0],n.currentItem||n.element)&&e.ui.intersect(n,e.extend(i,{offset:i.element.offset()}),i.options.tolerance,t))return r=!0,!1}),!r&&(!!this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(n)),this.element)))},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.ui.intersect=function(){function e(e,t,i){return e>=t&&e<t+i}return function(t,i,n,r){if(!i.offset)return!1;var o=(t.positionAbs||t.position.absolute).left+t.margins.left,a=(t.positionAbs||t.position.absolute).top+t.margins.top,s=o+t.helperProportions.width,l=a+t.helperProportions.height,c=i.offset.left,u=i.offset.top,d=c+i.proportions().width,h=u+i.proportions().height;switch(n){case"fit":return c<=o&&s<=d&&u<=a&&l<=h;case"intersect":return c<o+t.helperProportions.width/2&&s-t.helperProportions.width/2<d&&u<a+t.helperProportions.height/2&&l-t.helperProportions.height/2<h;case"pointer":return e(r.pageY,u,i.proportions().height)&&e(r.pageX,c,i.proportions().width);case"touch":return(a>=u&&a<=h||l>=u&&l<=h||a<u&&l>h)&&(o>=c&&o<=d||s>=c&&s<=d||o<c&&s>d);default:return!1}}}(),e.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(t,i){var n,r,o=e.ui.ddmanager.droppables[t.options.scope]||[],a=i?i.type:null,s=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(n=0;n<o.length;n++)if(!(o[n].options.disabled||t&&!o[n].accept.call(o[n].element[0],t.currentItem||t.element))){for(r=0;r<s.length;r++)if(s[r]===o[n].element[0]){o[n].proportions().height=0;continue e}o[n].visible="none"!==o[n].element.css("display"),o[n].visible&&("mousedown"===a&&o[n]._activate.call(o[n],i),o[n].offset=o[n].element.offset(),o[n].proportions({width:o[n].element[0].offsetWidth,height:o[n].element[0].offsetHeight}))}},drop:function(t,i){var n=!1;return e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance,i)&&(n=this._drop.call(this,i)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),n},dragStart:function(t,i){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)})},drag:function(t,i){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,i),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var n,r,o,a=e.ui.intersect(t,this,this.options.tolerance,i),s=!a&&this.isover?"isout":a&&!this.isover?"isover":null;s&&(this.options.greedy&&(r=this.options.scope,o=this.element.parents(":data(ui-droppable)").filter(function(){return e(this).droppable("instance").options.scope===r}),o.length&&(n=e(o[0]).droppable("instance"),n.greedyChild="isover"===s)),n&&"isover"===s&&(n.isover=!1,n.isout=!0,n._out.call(n,i)),this[s]=!0,this["isout"===s?"isover":"isout"]=!1,this["isover"===s?"_over":"_out"].call(this,i),n&&"isout"===s&&(n.isout=!1,n.isover=!0,n._over.call(n,i)))}})},dragStop:function(t,i){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)}};e.ui.droppable;e.widget("ui.resizable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseInt(e,10)||0},_isNumber:function(e){return!isNaN(parseInt(e,10))},_hasScroll:function(t,i){if("hidden"===e(t).css("overflow"))return!1;var n=i&&"left"===i?"scrollLeft":"scrollTop",r=!1;return t[n]>0||(t[n]=1,r=t[n]>0,t[n]=0,r)},_create:function(){var t,i,n,r,o,a=this,s=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!s.aspectRatio,aspectRatio:s.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:s.helper||s.ghost||s.animate?s.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=s.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=e(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={},i=0;i<t.length;i++)n=e.trim(t[i]),o="ui-resizable-"+n,r=e("<div class='ui-resizable-handle "+o+"'></div>"),r.css({zIndex:s.zIndex}),"se"===n&&r.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[n]=".ui-resizable-"+n,this.element.append(r);this._renderAxis=function(t){var i,n,r,o;t=t||this.element;for(i in this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=e(this.handles[i]),this._on(this.handles[i],{mousedown:a._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(n=e(this.handles[i],this.element),o=/sw|ne|nw|se|n|s/.test(i)?n.outerHeight():n.outerWidth(),r=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),t.css(r,o),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.mouseover(function(){a.resizing||(this.className&&(r=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),a.axis=r&&r[1]?r[1]:"se")}),s.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){s.disabled||(e(this).removeClass("ui-resizable-autohide"),a._handles.show())}).mouseleave(function(){s.disabled||a.resizing||(e(this).addClass("ui-resizable-autohide"),a._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,i=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(t){var i,n,r=!1;for(i in this.handles)n=e(this.handles[i])[0],(n===t.target||e.contains(n,t.target))&&(r=!0);return!this.options.disabled&&r},_mouseStart:function(t){var i,n,r,o=this.options,a=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),n=this._num(this.helper.css("top")),o.containment&&(i+=e(o.containment).scrollLeft()||0,n+=e(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:n},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:a.width(),height:a.height()},this.originalSize=this._helper?{width:a.outerWidth(),height:a.outerHeight()}:{width:a.width(),height:a.height()},this.sizeDiff={width:a.outerWidth()-a.width(),height:a.outerHeight()-a.height()},this.originalPosition={left:i,top:n},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,r=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===r?this.axis+"-resize":r),a.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var i,n,r=this.originalMousePosition,o=this.axis,a=t.pageX-r.left||0,s=t.pageY-r.top||0,l=this._change[o];return this._updatePrevProperties(),!!l&&(i=l.apply(this,[t,a,s]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(i=this._updateRatio(i,t)),i=this._respectSize(i,t),this._updateCache(i),this._propagate("resize",t),n=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(n)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges()),!1)},_mouseStop:function(t){this.resizing=!1;var i,n,r,o,a,s,l,c=this.options,u=this;return this._helper&&(i=this._proportionallyResizeElements,n=i.length&&/textarea/i.test(i[0].nodeName),r=n&&this._hasScroll(i[0],"left")?0:u.sizeDiff.height,o=n?0:u.sizeDiff.width,a={width:u.helper.width()-o,height:u.helper.height()-r},s=parseInt(u.element.css("left"),10)+(u.position.left-u.originalPosition.left)||null,l=parseInt(u.element.css("top"),10)+(u.position.top-u.originalPosition.top)||null,c.animate||this.element.css(e.extend(a,{top:l,left:s})),u.helper.height(u.size.height),u.helper.width(u.size.width),this._helper&&!c.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var t,i,n,r,o,a=this.options;o={minWidth:this._isNumber(a.minWidth)?a.minWidth:0,maxWidth:this._isNumber(a.maxWidth)?a.maxWidth:1/0,minHeight:this._isNumber(a.minHeight)?a.minHeight:0,maxHeight:this._isNumber(a.maxHeight)?a.maxHeight:1/0},(this._aspectRatio||e)&&(t=o.minHeight*this.aspectRatio,n=o.minWidth/this.aspectRatio,i=o.maxHeight*this.aspectRatio,r=o.maxWidth/this.aspectRatio,t>o.minWidth&&(o.minWidth=t),n>o.minHeight&&(o.minHeight=n),i<o.maxWidth&&(o.maxWidth=i),r<o.maxHeight&&(o.maxHeight=r)),this._vBoundaries=o},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,i=this.size,n=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===n&&(e.left=t.left+(i.width-e.width),e.top=null),"nw"===n&&(e.top=t.top+(i.height-e.height),e.left=t.left+(i.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,i=this.axis,n=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,r=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,o=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,a=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,s=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,c=/sw|nw|w/.test(i),u=/nw|ne|n/.test(i);return o&&(e.width=t.minWidth),a&&(e.height=t.minHeight),n&&(e.width=t.maxWidth),r&&(e.height=t.maxHeight),o&&c&&(e.left=s-t.minWidth),n&&c&&(e.left=s-t.maxWidth),a&&u&&(e.top=l-t.minHeight),r&&u&&(e.top=l-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var t=0,i=[],n=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],r=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];t<4;t++)i[t]=parseInt(n[t],10)||0,i[t]+=parseInt(r[t],10)||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,t=0,i=this.helper||this.element;t<this._proportionallyResizeElements.length;t++)e=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,i=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var i=this.originalSize,n=this.originalPosition;return{left:n.left+t,width:i.width-t}},n:function(e,t,i){var n=this.originalSize,r=this.originalPosition;return{top:r.top+i,height:n.height-i}},s:function(e,t,i){return{height:this.originalSize.height+i}},se:function(t,i,n){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,n]))},sw:function(t,i,n){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,n]))},ne:function(t,i,n){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,n]))},nw:function(t,i,n){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,n]))}},_propagate:function(t,i){e.ui.plugin.call(this,t,[i,this.ui()]),"resize"!==t&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var i=e(this).resizable("instance"),n=i.options,r=i._proportionallyResizeElements,o=r.length&&/textarea/i.test(r[0].nodeName),a=o&&i._hasScroll(r[0],"left")?0:i.sizeDiff.height,s=o?0:i.sizeDiff.width,l={width:i.size.width-s,height:i.size.height-a},c=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,u=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(e.extend(l,u&&c?{top:u,left:c}:{}),{duration:n.animateDuration,easing:n.animateEasing,step:function(){var n={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};r&&r.length&&e(r[0]).css({width:n.width,height:n.height}),i._updateCache(n),i._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var t,i,n,r,o,a,s,l=e(this).resizable("instance"),c=l.options,u=l.element,d=c.containment,h=d instanceof e?d.get(0):/parent/.test(d)?u.parent().get(0):d;h&&(l.containerElement=e(h),/document/.test(d)||d===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(t=e(h),i=[],e(["Top","Right","Left","Bottom"]).each(function(e,n){i[e]=l._num(t.css("padding"+n))}),l.containerOffset=t.offset(),l.containerPosition=t.position(),l.containerSize={height:t.innerHeight()-i[3],width:t.innerWidth()-i[1]},n=l.containerOffset,r=l.containerSize.height,o=l.containerSize.width,a=l._hasScroll(h,"left")?h.scrollWidth:o,s=l._hasScroll(h)?h.scrollHeight:r,l.parentData={element:h,left:n.left,top:n.top,width:a,height:s}))},resize:function(t){var i,n,r,o,a=e(this).resizable("instance"),s=a.options,l=a.containerOffset,c=a.position,u=a._aspectRatio||t.shiftKey,d={top:0,left:0},h=a.containerElement,p=!0;h[0]!==document&&/static/.test(h.css("position"))&&(d=l),c.left<(a._helper?l.left:0)&&(a.size.width=a.size.width+(a._helper?a.position.left-l.left:a.position.left-d.left),u&&(a.size.height=a.size.width/a.aspectRatio,p=!1),a.position.left=s.helper?l.left:0),c.top<(a._helper?l.top:0)&&(a.size.height=a.size.height+(a._helper?a.position.top-l.top:a.position.top),u&&(a.size.width=a.size.height*a.aspectRatio,p=!1),a.position.top=a._helper?l.top:0),r=a.containerElement.get(0)===a.element.parent().get(0),o=/relative|absolute/.test(a.containerElement.css("position")),r&&o?(a.offset.left=a.parentData.left+a.position.left,a.offset.top=a.parentData.top+a.position.top):(a.offset.left=a.element.offset().left,a.offset.top=a.element.offset().top),i=Math.abs(a.sizeDiff.width+(a._helper?a.offset.left-d.left:a.offset.left-l.left)),n=Math.abs(a.sizeDiff.height+(a._helper?a.offset.top-d.top:a.offset.top-l.top)),i+a.size.width>=a.parentData.width&&(a.size.width=a.parentData.width-i,u&&(a.size.height=a.size.width/a.aspectRatio,p=!1)),n+a.size.height>=a.parentData.height&&(a.size.height=a.parentData.height-n,u&&(a.size.width=a.size.height*a.aspectRatio,p=!1)),p||(a.position.left=a.prevPosition.left,a.position.top=a.prevPosition.top,a.size.width=a.prevSize.width,a.size.height=a.prevSize.height)},stop:function(){var t=e(this).resizable("instance"),i=t.options,n=t.containerOffset,r=t.containerPosition,o=t.containerElement,a=e(t.helper),s=a.offset(),l=a.outerWidth()-t.sizeDiff.width,c=a.outerHeight()-t.sizeDiff.height;t._helper&&!i.animate&&/relative/.test(o.css("position"))&&e(this).css({left:s.left-r.left-n.left,width:l,height:c}),t._helper&&!i.animate&&/static/.test(o.css("position"))&&e(this).css({left:s.left-r.left-n.left,width:l,height:c})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).resizable("instance"),i=t.options;e(i.alsoResize).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})},resize:function(t,i){var n=e(this).resizable("instance"),r=n.options,o=n.originalSize,a=n.originalPosition,s={height:n.size.height-o.height||0,width:n.size.width-o.width||0,top:n.position.top-a.top||0,left:n.position.left-a.left||0};e(r.alsoResize).each(function(){var t=e(this),n=e(this).data("ui-resizable-alsoresize"),r={},o=t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(o,function(e,t){var i=(n[t]||0)+(s[t]||0);i&&i>=0&&(r[t]=i||null)}),t.css(r)})},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).resizable("instance"),i=t.options,n=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).resizable("instance");t.ghost&&t.ghost.css({
position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t,i=e(this).resizable("instance"),n=i.options,r=i.size,o=i.originalSize,a=i.originalPosition,s=i.axis,l="number"==typeof n.grid?[n.grid,n.grid]:n.grid,c=l[0]||1,u=l[1]||1,d=Math.round((r.width-o.width)/c)*c,h=Math.round((r.height-o.height)/u)*u,p=o.width+d,f=o.height+h,m=n.maxWidth&&n.maxWidth<p,g=n.maxHeight&&n.maxHeight<f,v=n.minWidth&&n.minWidth>p,y=n.minHeight&&n.minHeight>f;n.grid=l,v&&(p+=c),y&&(f+=u),m&&(p-=c),g&&(f-=u),/^(se|s|e)$/.test(s)?(i.size.width=p,i.size.height=f):/^(ne)$/.test(s)?(i.size.width=p,i.size.height=f,i.position.top=a.top-h):/^(sw)$/.test(s)?(i.size.width=p,i.size.height=f,i.position.left=a.left-d):((f-u<=0||p-c<=0)&&(t=i._getPaddingPlusBorderDimensions(this)),f-u>0?(i.size.height=f,i.position.top=a.top-h):(f=u-t.height,i.size.height=f,i.position.top=a.top+o.height-f),p-c>0?(i.size.width=p,i.position.left=a.left-d):(p=c-t.width,i.size.width=p,i.position.left=a.left+o.width-p))}});e.ui.resizable,e.widget("ui.selectable",e.ui.mouse,{version:"1.11.4",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t,i=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){t=e(i.options.filter,i.element[0]),t.addClass("ui-selectee"),t.each(function(){var t=e(this),i=t.offset();e.data(this,"selectable-item",{element:this,$element:t,left:i.left,top:i.top,right:i.left+t.outerWidth(),bottom:i.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=t.addClass("ui-selectee"),this._mouseInit(),this.helper=e("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(t){var i=this,n=this.options;this.opos=[t.pageX,t.pageY],this.options.disabled||(this.selectees=e(n.filter,this.element[0]),this._trigger("start",t),e(n.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),n.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var n=e.data(this,"selectable-item");n.startselected=!0,t.metaKey||t.ctrlKey||(n.$element.removeClass("ui-selected"),n.selected=!1,n.$element.addClass("ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",t,{unselecting:n.element}))}),e(t.target).parents().addBack().each(function(){var n,r=e.data(this,"selectable-item");if(r)return n=!t.metaKey&&!t.ctrlKey||!r.$element.hasClass("ui-selected"),r.$element.removeClass(n?"ui-unselecting":"ui-selected").addClass(n?"ui-selecting":"ui-unselecting"),r.unselecting=!n,r.selecting=n,r.selected=n,n?i._trigger("selecting",t,{selecting:r.element}):i._trigger("unselecting",t,{unselecting:r.element}),!1}))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var i,n=this,r=this.options,o=this.opos[0],a=this.opos[1],s=t.pageX,l=t.pageY;return o>s&&(i=s,s=o,o=i),a>l&&(i=l,l=a,a=i),this.helper.css({left:o,top:a,width:s-o,height:l-a}),this.selectees.each(function(){var i=e.data(this,"selectable-item"),c=!1;i&&i.element!==n.element[0]&&("touch"===r.tolerance?c=!(i.left>s||i.right<o||i.top>l||i.bottom<a):"fit"===r.tolerance&&(c=i.left>o&&i.right<s&&i.top>a&&i.bottom<l),c?(i.selected&&(i.$element.removeClass("ui-selected"),i.selected=!1),i.unselecting&&(i.$element.removeClass("ui-unselecting"),i.unselecting=!1),i.selecting||(i.$element.addClass("ui-selecting"),i.selecting=!0,n._trigger("selecting",t,{selecting:i.element}))):(i.selecting&&((t.metaKey||t.ctrlKey)&&i.startselected?(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.$element.addClass("ui-selected"),i.selected=!0):(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.startselected&&(i.$element.addClass("ui-unselecting"),i.unselecting=!0),n._trigger("unselecting",t,{unselecting:i.element}))),i.selected&&(t.metaKey||t.ctrlKey||i.startselected||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",t,{unselecting:i.element})))))}),!1}},_mouseStop:function(t){var i=this;return this.dragged=!1,e(".ui-unselecting",this.element[0]).each(function(){var n=e.data(this,"selectable-item");n.$element.removeClass("ui-unselecting"),n.unselecting=!1,n.startselected=!1,i._trigger("unselected",t,{unselected:n.element})}),e(".ui-selecting",this.element[0]).each(function(){var n=e.data(this,"selectable-item");n.$element.removeClass("ui-selecting").addClass("ui-selected"),n.selecting=!1,n.selected=!0,n.startselected=!0,i._trigger("selected",t,{selected:n.element})}),this._trigger("stop",t),this.helper.remove(),!1}}),e.widget("ui.sortable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,i){return e>=t&&e<t+i},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),"handle"===e&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),e.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,i){var n=null,r=!1,o=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(t),e(t.target).parents().each(function(){if(e.data(this,o.widgetName+"-item")===o)return n=e(this),!1}),e.data(t.target,o.widgetName+"-item")===o&&(n=e(t.target)),!!n&&(!(this.options.handle&&!i&&(e(this.options.handle,n).find("*").addBack().each(function(){this===t.target&&(r=!0)}),!r))&&(this.currentItem=n,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(t,i,n){var r,o,a=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&"auto"!==a.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",a.cursor),this.storedStylesheet=e("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(o)),a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity)),a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!a.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var i,n,r,o,a=this.options,s=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop+a.scrollSpeed:t.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft+a.scrollSpeed:t.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(t.pageY-this.document.scrollTop()<a.scrollSensitivity?s=this.document.scrollTop(this.document.scrollTop()-a.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<a.scrollSensitivity&&(s=this.document.scrollTop(this.document.scrollTop()+a.scrollSpeed)),t.pageX-this.document.scrollLeft()<a.scrollSensitivity?s=this.document.scrollLeft(this.document.scrollLeft()-a.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<a.scrollSensitivity&&(s=this.document.scrollLeft(this.document.scrollLeft()+a.scrollSpeed))),s!==!1&&e.ui.ddmanager&&!a.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(n=this.items[i],r=n.item[0],o=this._intersectsWithPointer(n),o&&n.instance===this.currentContainer&&!(r===this.currentItem[0]||this.placeholder[1===o?"next":"prev"]()[0]===r||e.contains(this.placeholder[0],r)||"semi-dynamic"===this.options.type&&e.contains(this.element[0],r))){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(n))break;this._rearrange(t,n),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,i){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var n=this,r=this.placeholder.offset(),o=this.options.axis,a={};o&&"x"!==o||(a.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(a.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(a,parseInt(this.options.revert,10)||500,function(){n._clear(t)})}else this._clear(t,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var i=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},e(i).each(function(){var i=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);i&&n.push((t.key||i[1]+"[]")+"="+(t.key&&t.expression?i[1]:i[2]))}),!n.length&&t.key&&n.push(t.key+"="),n.join("&")},toArray:function(t){var i=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},i.each(function(){n.push(e(t.item||this).attr(t.attribute||"id")||"")}),n},_intersectsWith:function(e){var t=this.positionAbs.left,i=t+this.helperProportions.width,n=this.positionAbs.top,r=n+this.helperProportions.height,o=e.left,a=o+e.width,s=e.top,l=s+e.height,c=this.offset.click.top,u=this.offset.click.left,d="x"===this.options.axis||n+c>s&&n+c<l,h="y"===this.options.axis||t+u>o&&t+u<a,p=d&&h;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?p:o<t+this.helperProportions.width/2&&i-this.helperProportions.width/2<a&&s<n+this.helperProportions.height/2&&r-this.helperProportions.height/2<l},_intersectsWithPointer:function(e){var t="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),i="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),n=t&&i,r=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return!!n&&(this.floating?o&&"right"===o||"down"===r?2:1:r&&("down"===r?2:1))},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),n=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&i||"left"===r&&!i:n&&("down"===n&&t||"up"===n&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){function i(){s.push(this)}var n,r,o,a,s=[],l=[],c=this._connectWith();if(c&&t)for(n=c.length-1;n>=0;n--)for(o=e(c[n],this.document[0]),r=o.length-1;r>=0;r--)a=e.data(o[r],this.widgetFullName),a&&a!==this&&!a.options.disabled&&l.push([e.isFunction(a.options.items)?a.options.items.call(a.element):e(a.options.items,a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),a]);for(l.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),n=l.length-1;n>=0;n--)l[n][0].each(i);return e(s)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var i=0;i<t.length;i++)if(t[i]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var i,n,r,o,a,s,l,c,u=this.items,d=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],h=this._connectWith();if(h&&this.ready)for(i=h.length-1;i>=0;i--)for(r=e(h[i],this.document[0]),n=r.length-1;n>=0;n--)o=e.data(r[n],this.widgetFullName),o&&o!==this&&!o.options.disabled&&(d.push([e.isFunction(o.options.items)?o.options.items.call(o.element[0],t,{item:this.currentItem}):e(o.options.items,o.element),o]),this.containers.push(o));for(i=d.length-1;i>=0;i--)for(a=d[i][1],s=d[i][0],n=0,c=s.length;n<c;n++)l=e(s[n]),l.data(this.widgetName+"-item",a),u.push({item:l,instance:a,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,n,r,o;for(i=this.items.length-1;i>=0;i--)n=this.items[i],n.instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]||(r=this.options.toleranceElement?e(this.options.toleranceElement,n.item):n.item,t||(n.width=r.outerWidth(),n.height=r.outerHeight()),o=r.offset(),n.left=o.left,n.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)o=this.containers[i].element.offset(),this.containers[i].containerCache.left=o.left,this.containers[i].containerCache.top=o.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var i,n=t.options;n.placeholder&&n.placeholder.constructor!==String||(i=n.placeholder,n.placeholder={element:function(){var n=t.currentItem[0].nodeName.toLowerCase(),r=e("<"+n+">",t.document[0]).addClass(i||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tbody"===n?t._createTrPlaceholder(t.currentItem.find("tr").eq(0),e("<tr>",t.document[0]).appendTo(r)):"tr"===n?t._createTrPlaceholder(t.currentItem,r):"img"===n&&r.attr("src",t.currentItem.attr("src")),i||r.css("visibility","hidden"),r},update:function(e,r){i&&!n.forcePlaceholderSize||(r.height()||r.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(n.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),n.placeholder.update(t,t.placeholder)},_createTrPlaceholder:function(t,i){var n=this;t.children().each(function(){e("<td>&#160;</td>",n.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(i)})},_contactContainers:function(t){var i,n,r,o,a,s,l,c,u,d,h=null,p=null;for(i=this.containers.length-1;i>=0;i--)if(!e.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(h&&e.contains(this.containers[i].element[0],h.element[0]))continue;h=this.containers[i],p=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",t,this._uiHash(this)),this.containers[i].containerCache.over=0);if(h)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(r=1e4,o=null,u=h.floating||this._isFloating(this.currentItem),a=u?"left":"top",s=u?"width":"height",d=u?"clientX":"clientY",n=this.items.length-1;n>=0;n--)e.contains(this.containers[p].element[0],this.items[n].item[0])&&this.items[n].item[0]!==this.currentItem[0]&&(l=this.items[n].item.offset()[a],c=!1,t[d]-l>this.items[n][s]/2&&(c=!0),Math.abs(t[d]-l)<r&&(r=Math.abs(t[d]-l),o=this.items[n],this.direction=c?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return void(this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1));o?this._rearrange(t,o,null,!0):this._rearrange(t,null,this.containers[p].element,!0),this._trigger("change",t,this._uiHash()),this.containers[p]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(t){var i=this.options,n=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||e("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),n[0].style.width&&!i.forceHelperSize||n.width(this.currentItem.width()),n[0].style.height&&!i.forceHelperSize||n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,n,r=this.options;"parent"===r.containment&&(r.containment=this.helper[0].parentNode),"document"!==r.containment&&"window"!==r.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===r.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===r.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||(t=e(r.containment)[0],i=e(r.containment).offset(),n="hidden"!==e(t).css("overflow"),this.containment=[i.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,i.left+(n?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(n?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,i){i||(i=this.position);var n="absolute"===t?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(r[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:r.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:r.scrollLeft())*n}},_generatePosition:function(t){var i,n,r=this.options,o=t.pageX,a=t.pageY,s="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(s[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),r.grid&&(i=this.originalPageY+Math.round((a-this.originalPageY)/r.grid[1])*r.grid[1],a=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-r.grid[1]:i+r.grid[1]:i,n=this.originalPageX+Math.round((o-this.originalPageX)/r.grid[0])*r.grid[0],o=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-r.grid[0]:n+r.grid[0]:n)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:s.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:s.scrollLeft())}},_rearrange:function(e,t,i,n){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!n)})},_clear:function(e,t){function i(e,t,i){return function(n){i._trigger(e,n,t._uiHash(t))}}this.reverting=!1;var n,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)"auto"!==this._storedCSS[n]&&"static"!==this._storedCSS[n]||(this._storedCSS[n]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&r.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||r.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(r.push(function(e){this._trigger("remove",e,this._uiHash())}),r.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),n=this.containers.length-1;n>=0;n--)t||r.push(i("deactivate",this,this.containers[n])),this.containers[n].containerCache.over&&(r.push(i("out",this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(n=0;n<r.length;n++)r[n].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||e([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.element:null}}}),e.widget("ui.accordion",{version:"1.11.4",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var t=this.options;this.prevShow=this.prevHide=e(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),t.collapsible||t.active!==!1&&null!=t.active||(t.active=0),this._processPanels(),t.active<0&&(t.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():e()}},_createIcons:function(){var t=this.options.icons;t&&(e("<span>").addClass("ui-accordion-header-icon ui-icon "+t.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId(),this._destroyIcons(),e=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&e.css("height","")},_setOption:function(e,t){return"active"===e?void this._activate(t):("event"===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),"collapsible"!==e||t||this.options.active!==!1||this._activate(0),"icons"===e&&(this._destroyIcons(),t&&this._createIcons()),void("disabled"===e&&(this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),
this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!t))))},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var i=e.ui.keyCode,n=this.headers.length,r=this.headers.index(t.target),o=!1;switch(t.keyCode){case i.RIGHT:case i.DOWN:o=this.headers[(r+1)%n];break;case i.LEFT:case i.UP:o=this.headers[(r-1+n)%n];break;case i.SPACE:case i.ENTER:this._eventHandler(t);break;case i.HOME:o=this.headers[0];break;case i.END:o=this.headers[n-1]}o&&(e(t.target).attr("tabIndex",-1),e(o).attr("tabIndex",0),o.focus(),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===e.ui.keyCode.UP&&t.ctrlKey&&e(t.currentTarget).prev().focus()},refresh:function(){var t=this.options;this._processPanels(),t.active===!1&&t.collapsible===!0||!this.headers.length?(t.active=!1,this.active=e()):t.active===!1?this._activate(0):this.active.length&&!e.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=e()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var e=this.headers,t=this.panels;this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all"),this.panels=this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide(),t&&(this._off(e.not(this.headers)),this._off(t.not(this.panels)))},_refresh:function(){var t,i=this.options,n=i.heightStyle,r=this.element.parent();this.active=this._findActive(i.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(){var t=e(this),i=t.uniqueId().attr("id"),n=t.next(),r=n.uniqueId().attr("id");t.attr("aria-controls",r),n.attr("aria-labelledby",i)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(i.event),"fill"===n?(t=r.height(),this.element.siblings(":visible").each(function(){var i=e(this),n=i.css("position");"absolute"!==n&&"fixed"!==n&&(t-=i.outerHeight(!0))}),this.headers.each(function(){t-=e(this).outerHeight(!0)}),this.headers.next().each(function(){e(this).height(Math.max(0,t-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===n&&(t=0,this.headers.next().each(function(){t=Math.max(t,e(this).css("height","").height())}).height(t))},_activate:function(t){var i=this._findActive(t)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):e()},_setupEvents:function(t){var i={keydown:"_keydown"};t&&e.each(t.split(" "),function(e,t){i[t]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(t){var i=this.options,n=this.active,r=e(t.currentTarget),o=r[0]===n[0],a=o&&i.collapsible,s=a?e():r.next(),l=n.next(),c={oldHeader:n,oldPanel:l,newHeader:a?e():r,newPanel:s};t.preventDefault(),o&&!i.collapsible||this._trigger("beforeActivate",t,c)===!1||(i.active=!a&&this.headers.index(r),this.active=o?e():r,this._toggle(c),n.removeClass("ui-accordion-header-active ui-state-active"),i.icons&&n.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header),o||(r.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),i.icons&&r.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader),r.next().addClass("ui-accordion-content-active")))},_toggle:function(t){var i=t.newPanel,n=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=n,this.options.animate?this._animate(i,n,t):(n.hide(),i.show(),this._toggleComplete(t)),n.attr({"aria-hidden":"true"}),n.prev().attr({"aria-selected":"false","aria-expanded":"false"}),i.length&&n.length?n.prev().attr({tabIndex:-1,"aria-expanded":"false"}):i.length&&this.headers.filter(function(){return 0===parseInt(e(this).attr("tabIndex"),10)}).attr("tabIndex",-1),i.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(e,t,i){var n,r,o,a=this,s=0,l=e.css("box-sizing"),c=e.length&&(!t.length||e.index()<t.index()),u=this.options.animate||{},d=c&&u.down||u,h=function(){a._toggleComplete(i)};return"number"==typeof d&&(o=d),"string"==typeof d&&(r=d),r=r||d.easing||u.easing,o=o||d.duration||u.duration,t.length?e.length?(n=e.show().outerHeight(),t.animate(this.hideProps,{duration:o,easing:r,step:function(e,t){t.now=Math.round(e)}}),void e.hide().animate(this.showProps,{duration:o,easing:r,complete:h,step:function(e,i){i.now=Math.round(e),"height"!==i.prop?"content-box"===l&&(s+=i.now):"content"!==a.options.heightStyle&&(i.now=Math.round(n-t.outerHeight()-s),s=0)}})):t.animate(this.hideProps,o,r,h):e.animate(this.showProps,o,r,h)},_toggleComplete:function(e){var t=e.oldPanel;t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger("activate",null,e)}}),e.widget("ui.menu",{version:"1.11.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item":function(e){e.preventDefault()},"click .ui-menu-item":function(t){var i=e(t.target);!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&e(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){if(!this.previousFilter){var i=e(t.currentTarget);i.siblings(".ui-state-active").removeClass("ui-state-active"),this.focus(t,i)}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var i=this.active||this.element.find(this.options.items).eq(0);t||this.focus(e,i)},blur:function(t){this._delay(function(){e.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var t=e(this);t.data("ui-menu-submenu-carat")&&t.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){var i,n,r,o,a=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:a=!1,n=this.previousFilter||"",r=String.fromCharCode(t.keyCode),o=!1,clearTimeout(this.filterTimer),r===n?o=!0:r=n+r,i=this._filterMenuItems(r),i=o&&i.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):i,i.length||(r=String.fromCharCode(t.keyCode),i=this._filterMenuItems(r)),i.length?(this.focus(t,i),this.previousFilter=r,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}a&&t.preventDefault()},_activate:function(e){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(e):this.select(e))},refresh:function(){var t,i,n=this,r=this.options.icons.submenu,o=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),o.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=e(this),i=t.parent(),n=e("<span>").addClass("ui-menu-icon ui-icon "+r).data("ui-menu-submenu-carat",!0);i.attr("aria-haspopup","true").prepend(n),t.attr("aria-labelledby",i.attr("id"))}),t=o.add(this.element),i=t.find(this.options.items),i.not(".ui-menu-item").each(function(){var t=e(this);n._isDivider(t)&&t.addClass("ui-widget-content ui-menu-divider")}),i.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),i.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){"icons"===e&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this._super(e,t)},focus:function(e,t){var i,n;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),n=this.active.addClass("ui-state-focus").removeClass("ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",n.attr("id")),this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=t.children(".ui-menu"),i.length&&e&&/^mouse/.test(e.type)&&this._startOpening(i),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var i,n,r,o,a,s;this._hasScroll()&&(i=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,n=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,r=t.offset().top-this.activeMenu.offset().top-i-n,o=this.activeMenu.scrollTop(),a=this.activeMenu.height(),s=t.outerHeight(),r<0?this.activeMenu.scrollTop(o+r):r+s>a&&this.activeMenu.scrollTop(o+r-a+s))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",e,{item:this.active}))},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(t){var i=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(t,i){clearTimeout(this.timer),this.timer=this._delay(function(){var n=i?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));n.length||(n=this.element),this._close(n),this.blur(t),this.activeMenu=n},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(t){return!e(t.target).closest(".ui-menu").length},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text())},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,i){var n;this.active&&(n="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),n&&n.length&&this.active||(n=this.activeMenu.find(this.options.items)[t]()),this.focus(i,n)},nextPage:function(t){var i,n,r;return this.active?void(this.isLastItem()||(this._hasScroll()?(n=this.active.offset().top,r=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=e(this),i.offset().top-n-r<0}),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items)[this.active?"last":"first"]()))):void this.next(t)},previousPage:function(t){var i,n,r;return this.active?void(this.isFirstItem()||(this._hasScroll()?(n=this.active.offset().top,r=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=e(this),i.offset().top-n+r>0}),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items).first()))):void this.next(t)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,i)},_filterMenuItems:function(t){var i=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),n=new RegExp("^"+i,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return n.test(e.trim(e(this).text()))})}});e.widget("ui.autocomplete",{version:"1.11.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,i,n,r=this.element[0].nodeName.toLowerCase(),o="textarea"===r,a="input"===r;this.isMultiLine=!!o||!a&&this.element.prop("isContentEditable"),this.valueMethod=this.element[o||a?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(r){if(this.element.prop("readOnly"))return t=!0,n=!0,void(i=!0);t=!1,n=!1,i=!1;var o=e.ui.keyCode;switch(r.keyCode){case o.PAGE_UP:t=!0,this._move("previousPage",r);break;case o.PAGE_DOWN:t=!0,this._move("nextPage",r);break;case o.UP:t=!0,this._keyEvent("previous",r);break;case o.DOWN:t=!0,this._keyEvent("next",r);break;case o.ENTER:this.menu.active&&(t=!0,r.preventDefault(),this.menu.select(r));break;case o.TAB:this.menu.active&&this.menu.select(r);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(r),r.preventDefault());break;default:i=!0,this._searchTimeout(r)}},keypress:function(n){if(t)return t=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||n.preventDefault());if(!i){var r=e.ui.keyCode;switch(n.keyCode){case r.PAGE_UP:this._move("previousPage",n);break;case r.PAGE_DOWN:this._move("nextPage",n);break;case r.UP:this._keyEvent("previous",n);break;case r.DOWN:this._keyEvent("next",n)}}},input:function(e){return n?(n=!1,void e.preventDefault()):void this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(e),void this._change(e))}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];e(t.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(n){n.target===t.element[0]||n.target===i||e.contains(i,n.target)||t.close()})})},menufocus:function(t,i){var n,r;return this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type))?(this.menu.blur(),void this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)})):(r=i.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",t,{item:r})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(r.value),n=i.item.attr("aria-label")||r.value,void(n&&e.trim(n).length&&(this.liveRegion.children().hide(),e("<div>").text(n).appendTo(this.liveRegion))))},menuselect:function(e,t){var i=t.item.data("ui-autocomplete-item"),n=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n,this.selectedItem=i})),!1!==this._trigger("select",e,{item:i})&&this._value(i.value),this.term=this._value(),this.close(e),this.selectedItem=i}}),this.liveRegion=e("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,i,n=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(i,n){n(e.ui.autocomplete.filter(t,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(t,r){n.xhr&&n.xhr.abort(),n.xhr=e.ajax({url:i,data:t,dataType:"json",success:function(e){r(e)},error:function(){r([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){var t=this.term===this._value(),i=this.menu.element.is(":visible"),n=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;t&&(!t||i||n)||(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):this._trigger("search",t)!==!1?this._search(e):void 0},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return e.proxy(function(e){t===this.requestIndex&&this.__response(e),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({},t,{label:t.label||t.value,value:t.value||t.label})})},_suggest:function(t){var i=this.menu.element.empty();this._renderMenu(i,t),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,i){var n=this;e.each(i,function(e,i){n._renderItemData(t,i)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,i){return e("<li>").text(i.label).appendTo(t)},_move:function(e,t){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[e](t):void this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,i){var n=new RegExp(e.ui.autocomplete.escapeRegex(i),"i");return e.grep(t,function(e){return n.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var i;this._superApply(arguments),this.options.disabled||this.cancelSearch||(i=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.children().hide(),e("<div>").text(i).appendTo(this.liveRegion))}});var h,p=(e.ui.autocomplete,"ui-button ui-widget ui-state-default ui-corner-all"),f="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",m=function(){var t=e(this);setTimeout(function(){t.find(":ui-button").button("refresh")},1)},g=function(t){var i=t.name,n=t.form,r=e([]);return i&&(i=i.replace(/'/g,"\\'"),r=n?e(n).find("[name='"+i+"'][type=radio]"):e("[name='"+i+"'][type=radio]",t.ownerDocument).filter(function(){return!this.form})),r};e.widget("ui.button",{version:"1.11.4",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,m),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var t=this,i=this.options,n="checkbox"===this.type||"radio"===this.type,r=n?"":"ui-state-active";null===i.label&&(i.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(p).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){i.disabled||this===h&&e(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){i.disabled||e(this).removeClass(r)}).bind("click"+this.eventNamespace,function(e){i.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),n&&this.element.bind("change"+this.eventNamespace,function(){t.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(i.disabled)return!1}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(i.disabled)return!1;e(this).addClass("ui-state-active"),t.buttonElement.attr("aria-pressed","true");var n=t.element[0];g(n).not(n).map(function(){return e(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return!i.disabled&&(e(this).addClass("ui-state-active"),h=this,void t.document.one("mouseup",function(){h=null}))}).bind("mouseup"+this.eventNamespace,function(){return!i.disabled&&void e(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(t){return!i.disabled&&void(t.keyCode!==e.ui.keyCode.SPACE&&t.keyCode!==e.ui.keyCode.ENTER||e(this).addClass("ui-state-active"))}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){e(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===e.ui.keyCode.SPACE&&e(this).click()})),this._setOption("disabled",i.disabled),this._resetButton()},_determineButtonType:function(){var e,t,i;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button","checkbox"===this.type||"radio"===this.type?(e=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible"),i=this.element.is(":checked"),i&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(p+" ui-state-active "+f).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(e,t){return this._super(e,t),"disabled"===e?(this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),void(t&&("checkbox"===this.type||"radio"===this.type?this.buttonElement.removeClass("ui-state-focus"):this.buttonElement.removeClass("ui-state-focus ui-state-active")))):void this._resetButton()},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t),"radio"===this.type?g(this.element[0]).each(function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return void(this.options.label&&this.element.val(this.options.label));var t=this.buttonElement.removeClass(f),i=e("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),n=this.options.icons,r=n.primary&&n.secondary,o=[];n.primary||n.secondary?(this.options.text&&o.push("ui-button-text-icon"+(r?"s":n.primary?"-primary":"-secondary")),n.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+n.primary+"'></span>"),n.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+n.secondary+"'></span>"),this.options.text||(o.push(r?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",e.trim(i)))):o.push("ui-button-text-only"),t.addClass(o.join(" "))}}),e.widget("ui.buttonset",{version:"1.11.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,t){"disabled"===e&&this.buttons.button("option",e,t),this._super(e,t)},refresh:function(){var t="rtl"===this.element.css("direction"),i=this.element.find(this.options.items),n=i.filter(":ui-button");i.not(":ui-button").button(),n.button("refresh"),this.buttons=i.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}});e.ui.button;e.extend(e.ui,{datepicker:{version:"1.11.4"}});var v;e.extend(r.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return s(this._defaults,e||{}),this},_attachDatepicker:function(t,i){var n,r,o;n=t.nodeName.toLowerCase(),r="div"===n||"span"===n,t.id||(this.uuid+=1,t.id="dp"+this.uuid),o=this._newInst(e(t),r),o.settings=e.extend({},i||{}),"input"===n?this._connectDatepicker(t,o):r&&this._inlineDatepicker(t,o)},_newInst:function(t,i){var n=t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:n,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?o(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,i){var n=e(t);i.append=e([]),i.trigger=e([]),n.hasClass(this.markerClassName)||(this._attachments(n,i),n.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(i),e.data(t,"datepicker",i),i.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,i){var n,r,o,a=this._get(i,"appendText"),s=this._get(i,"isRTL");i.append&&i.append.remove(),a&&(i.append=e("<span class='"+this._appendClass+"'>"+a+"</span>"),t[s?"before":"after"](i.append)),t.unbind("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),n=this._get(i,"showOn"),"focus"!==n&&"both"!==n||t.focus(this._showDatepicker),"button"!==n&&"both"!==n||(r=this._get(i,"buttonText"),o=this._get(i,"buttonImage"),i.trigger=e(this._get(i,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:o,alt:r,title:r}):e("<button type='button'></button>").addClass(this._triggerClass).html(o?e("<img/>").attr({src:o,alt:r,title:r}):r)),t[s?"before":"after"](i.trigger),i.trigger.click(function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){
var t,i,n,r,o=new Date(2009,11,20),a=this._get(e,"dateFormat");a.match(/[DM]/)&&(t=function(e){for(i=0,n=0,r=0;r<e.length;r++)e[r].length>i&&(i=e[r].length,n=r);return n},o.setMonth(t(this._get(e,a.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(t(this._get(e,a.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),e.input.attr("size",this._formatDate(e,o).length)}},_inlineDatepicker:function(t,i){var n=e(t);n.hasClass(this.markerClassName)||(n.addClass(this.markerClassName).append(i.dpDiv),e.data(t,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(t),i.dpDiv.css("display","block"))},_dialogDatepicker:function(t,i,n,r,o){var a,l,c,u,d,h=this._dialogInst;return h||(this.uuid+=1,a="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+a+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),e("body").append(this._dialogInput),h=this._dialogInst=this._newInst(this._dialogInput,!1),h.settings={},e.data(this._dialogInput[0],"datepicker",h)),s(h.settings,r||{}),i=i&&i.constructor===Date?this._formatDate(h,i):i,this._dialogInput.val(i),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(l=document.documentElement.clientWidth,c=document.documentElement.clientHeight,u=document.documentElement.scrollLeft||document.body.scrollLeft,d=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[l/2-100+u,c/2-150+d]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),h.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],"datepicker",h),this},_destroyDatepicker:function(t){var i,n=e(t),r=e.data(t,"datepicker");n.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),e.removeData(t,"datepicker"),"input"===i?(r.append.remove(),r.trigger.remove(),n.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):"div"!==i&&"span"!==i||n.removeClass(this.markerClassName).empty(),v===r&&(v=null))},_enableDatepicker:function(t){var i,n,r=e(t),o=e.data(t,"datepicker");r.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!1,o.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==i&&"span"!==i||(n=r.children("."+this._inlineClass),n.children().removeClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var i,n,r=e(t),o=e.data(t,"datepicker");r.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!0,o.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==i&&"span"!==i||(n=r.children("."+this._inlineClass),n.children().addClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,"datepicker")}catch(e){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,i,n){var r,o,a,l,c=this._getInst(t);return 2===arguments.length&&"string"==typeof i?"defaults"===i?e.extend({},e.datepicker._defaults):c?"all"===i?e.extend({},c.settings):this._get(c,i):null:(r=i||{},"string"==typeof i&&(r={},r[i]=n),void(c&&(this._curInst===c&&this._hideDatepicker(),o=this._getDateDatepicker(t,!0),a=this._getMinMaxDate(c,"min"),l=this._getMinMaxDate(c,"max"),s(c.settings,r),null!==a&&void 0!==r.dateFormat&&void 0===r.minDate&&(c.settings.minDate=this._formatDate(c,a)),null!==l&&void 0!==r.dateFormat&&void 0===r.maxDate&&(c.settings.maxDate=this._formatDate(c,l)),"disabled"in r&&(r.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(e(t),c),this._autoSize(c),this._setDate(c,o),this._updateAlternate(c),this._updateDatepicker(c))))},_changeDatepicker:function(e,t,i){this._optionDatepicker(e,t,i)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var i=this._getInst(e);i&&(this._setDate(i,t),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(e,t){var i=this._getInst(e);return i&&!i.inline&&this._setDateFromField(i,t),i?this._getDate(i):null},_doKeyDown:function(t){var i,n,r,o=e.datepicker._getInst(t.target),a=!0,s=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),a=!1;break;case 13:return r=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",o.dpDiv),r[0]&&e.datepicker._selectDay(t.target,o.selectedMonth,o.selectedYear,r[0]),i=e.datepicker._get(o,"onSelect"),i?(n=e.datepicker._formatDate(o),i.apply(o.input?o.input[0]:null,[n,o])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(o,"stepBigMonths"):-e.datepicker._get(o,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(o,"stepBigMonths"):+e.datepicker._get(o,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),a=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),a=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,s?1:-1,"D"),a=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(o,"stepBigMonths"):-e.datepicker._get(o,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),a=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,s?-1:1,"D"),a=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(o,"stepBigMonths"):+e.datepicker._get(o,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),a=t.ctrlKey||t.metaKey;break;default:a=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):a=!1;a&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var i,n,r=e.datepicker._getInst(t.target);if(e.datepicker._get(r,"constrainInput"))return i=e.datepicker._possibleChars(e.datepicker._get(r,"dateFormat")),n=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||n<" "||!i||i.indexOf(n)>-1},_doKeyUp:function(t){var i,n=e.datepicker._getInst(t.target);if(n.input.val()!==n.lastVal)try{i=e.datepicker.parseDate(e.datepicker._get(n,"dateFormat"),n.input?n.input.val():null,e.datepicker._getFormatConfig(n)),i&&(e.datepicker._setDateFromField(n),e.datepicker._updateAlternate(n),e.datepicker._updateDatepicker(n))}catch(e){}return!0},_showDatepicker:function(t){if(t=t.target||t,"input"!==t.nodeName.toLowerCase()&&(t=e("input",t.parentNode)[0]),!e.datepicker._isDisabledDatepicker(t)&&e.datepicker._lastInput!==t){var i,r,o,a,l,c,u;i=e.datepicker._getInst(t),e.datepicker._curInst&&e.datepicker._curInst!==i&&(e.datepicker._curInst.dpDiv.stop(!0,!0),i&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),r=e.datepicker._get(i,"beforeShow"),o=r?r.apply(t,[t,i]):{},o!==!1&&(s(i.settings,o),i.lastVal=null,e.datepicker._lastInput=t,e.datepicker._setDateFromField(i),e.datepicker._inDialog&&(t.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(t),e.datepicker._pos[1]+=t.offsetHeight),a=!1,e(t).parents().each(function(){return a|="fixed"===e(this).css("position"),!a}),l={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(i),l=e.datepicker._checkOffset(i,l,a),i.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":a?"fixed":"absolute",display:"none",left:l.left+"px",top:l.top+"px"}),i.inline||(c=e.datepicker._get(i,"showAnim"),u=e.datepicker._get(i,"duration"),i.dpDiv.css("z-index",n(e(t))+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[c]?i.dpDiv.show(c,e.datepicker._get(i,"showOptions"),u):i.dpDiv[c||"show"](c?u:null),e.datepicker._shouldFocusInput(i)&&i.input.focus(),e.datepicker._curInst=i))}},_updateDatepicker:function(t){this.maxRows=4,v=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t);var i,n=this._getNumberOfMonths(t),r=n[1],o=17,s=t.dpDiv.find("."+this._dayOverClass+" a");s.length>0&&a.apply(s.get(0)),t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),r>1&&t.dpDiv.addClass("ui-datepicker-multi-"+r).css("width",o*r+"em"),t.dpDiv[(1!==n[0]||1!==n[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.focus(),t.yearshtml&&(i=t.yearshtml,setTimeout(function(){i===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),i=t.yearshtml=null},0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,i,n){var r=t.dpDiv.outerWidth(),o=t.dpDiv.outerHeight(),a=t.input?t.input.outerWidth():0,s=t.input?t.input.outerHeight():0,l=document.documentElement.clientWidth+(n?0:e(document).scrollLeft()),c=document.documentElement.clientHeight+(n?0:e(document).scrollTop());return i.left-=this._get(t,"isRTL")?r-a:0,i.left-=n&&i.left===t.input.offset().left?e(document).scrollLeft():0,i.top-=n&&i.top===t.input.offset().top+s?e(document).scrollTop():0,i.left-=Math.min(i.left,i.left+r>l&&l>r?Math.abs(i.left+r-l):0),i.top-=Math.min(i.top,i.top+o>c&&c>o?Math.abs(o+s):0),i},_findPos:function(t){for(var i,n=this._getInst(t),r=this._get(n,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[r?"previousSibling":"nextSibling"];return i=e(t).offset(),[i.left,i.top]},_hideDatepicker:function(t){var i,n,r,o,a=this._curInst;!a||t&&a!==e.data(t,"datepicker")||this._datepickerShowing&&(i=this._get(a,"showAnim"),n=this._get(a,"duration"),r=function(){e.datepicker._tidyDialog(a)},e.effects&&(e.effects.effect[i]||e.effects[i])?a.dpDiv.hide(i,e.datepicker._get(a,"showOptions"),n,r):a.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?n:null,r),i||r(),this._datepickerShowing=!1,o=this._get(a,"onClose"),o&&o.apply(a.input?a.input[0]:null,[a.input?a.input.val():"",a]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(e.datepicker._curInst){var i=e(t.target),n=e.datepicker._getInst(i[0]);(i[0].id===e.datepicker._mainDivId||0!==i.parents("#"+e.datepicker._mainDivId).length||i.hasClass(e.datepicker.markerClassName)||i.closest("."+e.datepicker._triggerClass).length||!e.datepicker._datepickerShowing||e.datepicker._inDialog&&e.blockUI)&&(!i.hasClass(e.datepicker.markerClassName)||e.datepicker._curInst===n)||e.datepicker._hideDatepicker()}},_adjustDate:function(t,i,n){var r=e(t),o=this._getInst(r[0]);this._isDisabledDatepicker(r[0])||(this._adjustInstDate(o,i+("M"===n?this._get(o,"showCurrentAtPos"):0),n),this._updateDatepicker(o))},_gotoToday:function(t){var i,n=e(t),r=this._getInst(n[0]);this._get(r,"gotoCurrent")&&r.currentDay?(r.selectedDay=r.currentDay,r.drawMonth=r.selectedMonth=r.currentMonth,r.drawYear=r.selectedYear=r.currentYear):(i=new Date,r.selectedDay=i.getDate(),r.drawMonth=r.selectedMonth=i.getMonth(),r.drawYear=r.selectedYear=i.getFullYear()),this._notifyChange(r),this._adjustDate(n)},_selectMonthYear:function(t,i,n){var r=e(t),o=this._getInst(r[0]);o["selected"+("M"===n?"Month":"Year")]=o["draw"+("M"===n?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(r)},_selectDay:function(t,i,n,r){var o,a=e(t);e(r).hasClass(this._unselectableClass)||this._isDisabledDatepicker(a[0])||(o=this._getInst(a[0]),o.selectedDay=o.currentDay=e("a",r).html(),o.selectedMonth=o.currentMonth=i,o.selectedYear=o.currentYear=n,this._selectDate(t,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(t){var i=e(t);this._selectDate(i,"")},_selectDate:function(t,i){var n,r=e(t),o=this._getInst(r[0]);i=null!=i?i:this._formatDate(o),o.input&&o.input.val(i),this._updateAlternate(o),n=this._get(o,"onSelect"),n?n.apply(o.input?o.input[0]:null,[i,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!=typeof o.input[0]&&o.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var i,n,r,o=this._get(t,"altField");o&&(i=this._get(t,"altFormat")||this._get(t,"dateFormat"),n=this._getDate(t),r=this.formatDate(i,n,this._getFormatConfig(t)),e(o).each(function(){e(this).val(r)}))},noWeekends:function(e){var t=e.getDay();return[t>0&&t<6,""]},iso8601Week:function(e){var t,i=new Date(e.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),t=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((t-i)/864e5)/7)+1},parseDate:function(t,i,n){if(null==t||null==i)throw"Invalid arguments";if(i="object"==typeof i?i.toString():i+"",""===i)return null;var r,o,a,s,l=0,c=(n?n.shortYearCutoff:null)||this._defaults.shortYearCutoff,u="string"!=typeof c?c:(new Date).getFullYear()%100+parseInt(c,10),d=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,h=(n?n.dayNames:null)||this._defaults.dayNames,p=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,f=(n?n.monthNames:null)||this._defaults.monthNames,m=-1,g=-1,v=-1,y=-1,b=!1,_=function(e){var i=r+1<t.length&&t.charAt(r+1)===e;return i&&r++,i},w=function(e){var t=_(e),n="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,r="y"===e?n:1,o=new RegExp("^\\d{"+r+","+n+"}"),a=i.substring(l).match(o);if(!a)throw"Missing number at position "+l;return l+=a[0].length,parseInt(a[0],10)},x=function(t,n,r){var o=-1,a=e.map(_(t)?r:n,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(e.each(a,function(e,t){var n=t[1];if(i.substr(l,n.length).toLowerCase()===n.toLowerCase())return o=t[0],l+=n.length,!1}),o!==-1)return o+1;throw"Unknown name at position "+l},E=function(){if(i.charAt(l)!==t.charAt(r))throw"Unexpected literal at position "+l;l++};for(r=0;r<t.length;r++)if(b)"'"!==t.charAt(r)||_("'")?E():b=!1;else switch(t.charAt(r)){case"d":v=w("d");break;case"D":x("D",d,h);break;case"o":y=w("o");break;case"m":g=w("m");break;case"M":g=x("M",p,f);break;case"y":m=w("y");break;case"@":s=new Date(w("@")),m=s.getFullYear(),g=s.getMonth()+1,v=s.getDate();break;case"!":s=new Date((w("!")-this._ticksTo1970)/1e4),m=s.getFullYear(),g=s.getMonth()+1,v=s.getDate();break;case"'":_("'")?E():b=!0;break;default:E()}if(l<i.length&&(a=i.substr(l),!/^\s+/.test(a)))throw"Extra/unparsed characters found in date: "+a;if(m===-1?m=(new Date).getFullYear():m<100&&(m+=(new Date).getFullYear()-(new Date).getFullYear()%100+(m<=u?0:-100)),y>-1)for(g=1,v=y;;){if(o=this._getDaysInMonth(m,g-1),v<=o)break;g++,v-=o}if(s=this._daylightSavingAdjust(new Date(m,g-1,v)),s.getFullYear()!==m||s.getMonth()+1!==g||s.getDate()!==v)throw"Invalid date";return s},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(e,t,i){if(!t)return"";var n,r=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,o=(i?i.dayNames:null)||this._defaults.dayNames,a=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,s=(i?i.monthNames:null)||this._defaults.monthNames,l=function(t){var i=n+1<e.length&&e.charAt(n+1)===t;return i&&n++,i},c=function(e,t,i){var n=""+t;if(l(e))for(;n.length<i;)n="0"+n;return n},u=function(e,t,i,n){return l(e)?n[t]:i[t]},d="",h=!1;if(t)for(n=0;n<e.length;n++)if(h)"'"!==e.charAt(n)||l("'")?d+=e.charAt(n):h=!1;else switch(e.charAt(n)){case"d":d+=c("d",t.getDate(),2);break;case"D":d+=u("D",t.getDay(),r,o);break;case"o":d+=c("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":d+=c("m",t.getMonth()+1,2);break;case"M":d+=u("M",t.getMonth(),a,s);break;case"y":d+=l("y")?t.getFullYear():(t.getYear()%100<10?"0":"")+t.getYear()%100;break;case"@":d+=t.getTime();break;case"!":d+=1e4*t.getTime()+this._ticksTo1970;break;case"'":l("'")?d+="'":h=!0;break;default:d+=e.charAt(n)}return d},_possibleChars:function(e){var t,i="",n=!1,r=function(i){var n=t+1<e.length&&e.charAt(t+1)===i;return n&&t++,n};for(t=0;t<e.length;t++)if(n)"'"!==e.charAt(t)||r("'")?i+=e.charAt(t):n=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":r("'")?i+="'":n=!0;break;default:i+=e.charAt(t)}return i},_get:function(e,t){return void 0!==e.settings[t]?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var i=this._get(e,"dateFormat"),n=e.lastVal=e.input?e.input.val():null,r=this._getDefaultDate(e),o=r,a=this._getFormatConfig(e);try{o=this.parseDate(i,n,a)||r}catch(e){n=t?"":n}e.selectedDay=o.getDate(),e.drawMonth=e.selectedMonth=o.getMonth(),e.drawYear=e.selectedYear=o.getFullYear(),e.currentDay=n?o.getDate():0,e.currentMonth=n?o.getMonth():0,e.currentYear=n?o.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,i,n){var r=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},o=function(i){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),i,e.datepicker._getFormatConfig(t))}catch(e){}for(var n=(i.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,r=n.getFullYear(),o=n.getMonth(),a=n.getDate(),s=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=s.exec(i);l;){switch(l[2]||"d"){case"d":case"D":a+=parseInt(l[1],10);break;case"w":case"W":a+=7*parseInt(l[1],10);break;case"m":case"M":o+=parseInt(l[1],10),a=Math.min(a,e.datepicker._getDaysInMonth(r,o));break;case"y":case"Y":r+=parseInt(l[1],10),a=Math.min(a,e.datepicker._getDaysInMonth(r,o))}l=s.exec(i)}return new Date(r,o,a)},a=null==i||""===i?n:"string"==typeof i?o(i):"number"==typeof i?isNaN(i)?n:r(i):new Date(i.getTime());return a=a&&"Invalid Date"===a.toString()?n:a,a&&(a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)),this._daylightSavingAdjust(a)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,i){var n=!t,r=e.selectedMonth,o=e.selectedYear,a=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=a.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=a.getMonth(),e.drawYear=e.selectedYear=e.currentYear=a.getFullYear(),r===e.selectedMonth&&o===e.selectedYear||i||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(n?"":this._formatDate(e))},_getDate:function(e){var t=!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_attachHandlers:function(t){var i=this._get(t,"stepMonths"),n="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){e.datepicker._adjustDate(n,-i,"M")},next:function(){e.datepicker._adjustDate(n,+i,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(n)},selectDay:function(){return e.datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return e.datepicker._selectMonthYear(n,this,"Y"),!1}};e(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,i,n,r,o,a,s,l,c,u,d,h,p,f,m,g,v,y,b,_,w,x,E,A,C,k,$,T,L,D,M,S,P,N,I,O,R,j,H,F=new Date,U=this._daylightSavingAdjust(new Date(F.getFullYear(),F.getMonth(),F.getDate())),z=this._get(e,"isRTL"),B=this._get(e,"showButtonPanel"),G=this._get(e,"hideIfNoPrevNext"),W=this._get(e,"navigationAsDateFormat"),q=this._getNumberOfMonths(e),V=this._get(e,"showCurrentAtPos"),Y=this._get(e,"stepMonths"),J=1!==q[0]||1!==q[1],Z=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),X=this._getMinMaxDate(e,"min"),K=this._getMinMaxDate(e,"max"),Q=e.drawMonth-V,ee=e.drawYear;if(Q<0&&(Q+=12,ee--),K)for(t=this._daylightSavingAdjust(new Date(K.getFullYear(),K.getMonth()-q[0]*q[1]+1,K.getDate())),t=X&&t<X?X:t;this._daylightSavingAdjust(new Date(ee,Q,1))>t;)Q--,Q<0&&(Q=11,ee--);for(e.drawMonth=Q,e.drawYear=ee,i=this._get(e,"prevText"),i=W?this.formatDate(i,this._daylightSavingAdjust(new Date(ee,Q-Y,1)),this._getFormatConfig(e)):i,n=this._canAdjustMonth(e,-1,ee,Q)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(z?"e":"w")+"'>"+i+"</span></a>":G?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(z?"e":"w")+"'>"+i+"</span></a>",r=this._get(e,"nextText"),r=W?this.formatDate(r,this._daylightSavingAdjust(new Date(ee,Q+Y,1)),this._getFormatConfig(e)):r,o=this._canAdjustMonth(e,1,ee,Q)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(z?"w":"e")+"'>"+r+"</span></a>":G?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(z?"w":"e")+"'>"+r+"</span></a>",a=this._get(e,"currentText"),s=this._get(e,"gotoCurrent")&&e.currentDay?Z:U,a=W?this.formatDate(a,s,this._getFormatConfig(e)):a,l=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",c=B?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(z?l:"")+(this._isInRange(e,s)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+a+"</button>":"")+(z?"":l)+"</div>":"",u=parseInt(this._get(e,"firstDay"),10),u=isNaN(u)?0:u,d=this._get(e,"showWeek"),h=this._get(e,"dayNames"),p=this._get(e,"dayNamesMin"),f=this._get(e,"monthNames"),m=this._get(e,"monthNamesShort"),g=this._get(e,"beforeShowDay"),v=this._get(e,"showOtherMonths"),y=this._get(e,"selectOtherMonths"),b=this._getDefaultDate(e),_="",x=0;x<q[0];x++){for(E="",this.maxRows=4,A=0;A<q[1];A++){if(C=this._daylightSavingAdjust(new Date(ee,Q,e.selectedDay)),k=" ui-corner-all",$="",J){if($+="<div class='ui-datepicker-group",q[1]>1)switch(A){case 0:$+=" ui-datepicker-group-first",k=" ui-corner-"+(z?"right":"left");break;case q[1]-1:$+=" ui-datepicker-group-last",k=" ui-corner-"+(z?"left":"right");break;default:$+=" ui-datepicker-group-middle",k=""}$+="'>"}for($+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+k+"'>"+(/all|left/.test(k)&&0===x?z?o:n:"")+(/all|right/.test(k)&&0===x?z?n:o:"")+this._generateMonthYearHeader(e,Q,ee,X,K,x>0||A>0,f,m)+"</div><table class='ui-datepicker-calendar'><thead><tr>",T=d?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",w=0;w<7;w++)L=(w+u)%7,T+="<th scope='col'"+((w+u+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+h[L]+"'>"+p[L]+"</span></th>";for($+=T+"</tr></thead><tbody>",D=this._getDaysInMonth(ee,Q),ee===e.selectedYear&&Q===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,D)),M=(this._getFirstDayOfMonth(ee,Q)-u+7)%7,S=Math.ceil((M+D)/7),P=J&&this.maxRows>S?this.maxRows:S,this.maxRows=P,N=this._daylightSavingAdjust(new Date(ee,Q,1-M)),I=0;I<P;I++){for($+="<tr>",O=d?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(N)+"</td>":"",w=0;w<7;w++)R=g?g.apply(e.input?e.input[0]:null,[N]):[!0,""],j=N.getMonth()!==Q,H=j&&!y||!R[0]||X&&N<X||K&&N>K,O+="<td class='"+((w+u+6)%7>=5?" ui-datepicker-week-end":"")+(j?" ui-datepicker-other-month":"")+(N.getTime()===C.getTime()&&Q===e.selectedMonth&&e._keyEvent||b.getTime()===N.getTime()&&b.getTime()===C.getTime()?" "+this._dayOverClass:"")+(H?" "+this._unselectableClass+" ui-state-disabled":"")+(j&&!v?"":" "+R[1]+(N.getTime()===Z.getTime()?" "+this._currentClass:"")+(N.getTime()===U.getTime()?" ui-datepicker-today":""))+"'"+(j&&!v||!R[2]?"":" title='"+R[2].replace(/'/g,"&#39;")+"'")+(H?"":" data-handler='selectDay' data-event='click' data-month='"+N.getMonth()+"' data-year='"+N.getFullYear()+"'")+">"+(j&&!v?"&#xa0;":H?"<span class='ui-state-default'>"+N.getDate()+"</span>":"<a class='ui-state-default"+(N.getTime()===U.getTime()?" ui-state-highlight":"")+(N.getTime()===Z.getTime()?" ui-state-active":"")+(j?" ui-priority-secondary":"")+"' href='#'>"+N.getDate()+"</a>")+"</td>",N.setDate(N.getDate()+1),N=this._daylightSavingAdjust(N);$+=O+"</tr>"}Q++,Q>11&&(Q=0,ee++),$+="</tbody></table>"+(J?"</div>"+(q[0]>0&&A===q[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),E+=$}_+=E}return _+=c,e._keyEvent=!1,_},_generateMonthYearHeader:function(e,t,i,n,r,o,a,s){var l,c,u,d,h,p,f,m,g=this._get(e,"changeMonth"),v=this._get(e,"changeYear"),y=this._get(e,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",_="";if(o||!g)_+="<span class='ui-datepicker-month'>"+a[t]+"</span>";else{for(l=n&&n.getFullYear()===i,c=r&&r.getFullYear()===i,_+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",u=0;u<12;u++)(!l||u>=n.getMonth())&&(!c||u<=r.getMonth())&&(_+="<option value='"+u+"'"+(u===t?" selected='selected'":"")+">"+s[u]+"</option>");_+="</select>"}if(y||(b+=_+(!o&&g&&v?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",o||!v)b+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(d=this._get(e,"yearRange").split(":"),h=(new Date).getFullYear(),p=function(e){var t=e.match(/c[+\-].*/)?i+parseInt(e.substring(1),10):e.match(/[+\-].*/)?h+parseInt(e,10):parseInt(e,10);return isNaN(t)?h:t},f=p(d[0]),m=Math.max(f,p(d[1]||"")),f=n?Math.max(f,n.getFullYear()):f,m=r?Math.min(m,r.getFullYear()):m,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";f<=m;f++)e.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";e.yearshtml+="</select>",b+=e.yearshtml,e.yearshtml=null}return b+=this._get(e,"yearSuffix"),y&&(b+=(!o&&g&&v?"":"&#xa0;")+_),b+="</div>"},_adjustInstDate:function(e,t,i){var n=e.drawYear+("Y"===i?t:0),r=e.drawMonth+("M"===i?t:0),o=Math.min(e.selectedDay,this._getDaysInMonth(n,r))+("D"===i?t:0),a=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(n,r,o)));e.selectedDay=a.getDate(),e.drawMonth=e.selectedMonth=a.getMonth(),e.drawYear=e.selectedYear=a.getFullYear(),"M"!==i&&"Y"!==i||this._notifyChange(e)},_restrictMinMax:function(e,t){var i=this._getMinMaxDate(e,"min"),n=this._getMinMaxDate(e,"max"),r=i&&t<i?i:t;return n&&r>n?n:r},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,i,n){var r=this._getNumberOfMonths(e),o=this._daylightSavingAdjust(new Date(i,n+(t<0?t:r[0]*r[1]),1));return t<0&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(e,o)},_isInRange:function(e,t){var i,n,r=this._getMinMaxDate(e,"min"),o=this._getMinMaxDate(e,"max"),a=null,s=null,l=this._get(e,"yearRange");return l&&(i=l.split(":"),n=(new Date).getFullYear(),a=parseInt(i[0],10),s=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(a+=n),i[1].match(/[+\-].*/)&&(s+=n)),(!r||t.getTime()>=r.getTime())&&(!o||t.getTime()<=o.getTime())&&(!a||t.getFullYear()>=a)&&(!s||t.getFullYear()<=s)},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,i,n){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var r=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(n,i,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),r,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).mousedown(e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(i)):e.datepicker._attachDatepicker(this,t)}):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i))},e.datepicker=new r,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.11.4";var y=(e.datepicker,e.widget("ui.dialog",{version:"1.11.4",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var i=e(this).css(t).offset().top;i<0&&e(this).css("top",t.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,
this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&e.fn.draggable&&this._makeDraggable(),this.options.resizable&&e.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?e(t):this.document.find(t||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),e=t.parent.children().eq(t.index),e.length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:e.noop,enable:e.noop,close:function(t){var i,n=this;if(this._isOpen&&this._trigger("beforeClose",t)!==!1){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length)try{i=this.document[0].activeElement,i&&"body"!==i.nodeName.toLowerCase()&&e(i).blur()}catch(e){}this._hide(this.uiDialog,this.options.hide,function(){n._trigger("close",t)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,i){var n=!1,r=this.uiDialog.siblings(".ui-front:visible").map(function(){return+e(this).css("z-index")}).get(),o=Math.max.apply(null,r);return o>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",o+1),n=!0),n&&!i&&this._trigger("focus",t),n},open:function(){var t=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=e(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable(),t._trigger("focus")}),this._makeFocusTarget(),void this._trigger("open"))},_focusTabbable:function(){var e=this._focusedElement;e||(e=this.element.find("[autofocus]")),e.length||(e=this.element.find(":tabbable")),e.length||(e=this.uiDialogButtonPane.find(":tabbable")),e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable")),e.length||(e=this.uiDialog),e.eq(0).focus()},_keepFocus:function(t){function i(){var t=this.document[0].activeElement,i=this.uiDialog[0]===t||e.contains(this.uiDialog[0],t);i||this._focusTabbable()}t.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=e("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE)return t.preventDefault(),void this.close(t);if(t.keyCode===e.ui.keyCode.TAB&&!t.isDefaultPrevented()){var i=this.uiDialog.find(":tabbable"),n=i.filter(":first"),r=i.filter(":last");t.target!==r[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==n[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(this._delay(function(){r.focus()}),t.preventDefault()):(this._delay(function(){n.focus()}),t.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=e("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(t){e(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=e("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),t=e("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(t),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(e){this.options.title||e.html("&#160;"),e.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=e("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=e("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var t=this,i=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),e.isEmptyObject(i)||e.isArray(i)&&!i.length?void this.uiDialog.removeClass("ui-dialog-buttons"):(e.each(i,function(i,n){var r,o;n=e.isFunction(n)?{click:n,text:i}:n,n=e.extend({type:"button"},n),r=n.click,n.click=function(){r.apply(t.element[0],arguments)},o={icons:n.icons,text:n.showText},delete n.icons,delete n.showText,e("<button></button>",n).button(o).appendTo(t.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function t(e){return{position:e.position,offset:e.offset}}var i=this,n=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(n,r){e(this).addClass("ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",n,t(r))},drag:function(e,n){i._trigger("drag",e,t(n))},stop:function(r,o){var a=o.offset.left-i.document.scrollLeft(),s=o.offset.top-i.document.scrollTop();n.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" top"+(s>=0?"+":"")+s,of:i.window},e(this).removeClass("ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",r,t(o))}})},_makeResizable:function(){function t(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}var i=this,n=this.options,r=n.resizable,o=this.uiDialog.css("position"),a="string"==typeof r?r:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:n.maxWidth,maxHeight:n.maxHeight,minWidth:n.minWidth,minHeight:this._minHeight(),handles:a,start:function(n,r){e(this).addClass("ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",n,t(r))},resize:function(e,n){i._trigger("resize",e,t(n))},stop:function(r,o){var a=i.uiDialog.offset(),s=a.left-i.document.scrollLeft(),l=a.top-i.document.scrollTop();n.height=i.uiDialog.height(),n.width=i.uiDialog.width(),n.position={my:"left top",at:"left"+(s>=0?"+":"")+s+" top"+(l>=0?"+":"")+l,of:i.window},e(this).removeClass("ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",r,t(o))}}).css("position",o)},_trackFocus:function(){this._on(this.widget(),{focusin:function(t){this._makeFocusTarget(),this._focusedElement=e(t.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var t=this._trackingInstances(),i=e.inArray(this,t);i!==-1&&t.splice(i,1)},_trackingInstances:function(){var e=this.document.data("ui-dialog-instances");return e||(e=[],this.document.data("ui-dialog-instances",e)),e},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(t){var i=this,n=!1,r={};e.each(t,function(e,t){i._setOption(e,t),e in i.sizeRelatedOptions&&(n=!0),e in i.resizableRelatedOptions&&(r[e]=t)}),n&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",r)},_setOption:function(e,t){var i,n,r=this.uiDialog;"dialogClass"===e&&r.removeClass(this.options.dialogClass).addClass(t),"disabled"!==e&&(this._super(e,t),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:""+t}),"draggable"===e&&(i=r.is(":data(ui-draggable)"),i&&!t&&r.draggable("destroy"),!i&&t&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&(n=r.is(":data(ui-resizable)"),n&&!t&&r.resizable("destroy"),n&&"string"==typeof t&&r.resizable("option","handles",t),n||t===!1||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,t,i,n=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),n.minWidth>n.width&&(n.width=n.minWidth),e=this.uiDialog.css({height:"auto",width:n.width}).outerHeight(),t=Math.max(0,n.minHeight-e),i="number"==typeof n.maxHeight?Math.max(0,n.maxHeight-e):"none","auto"===n.height?this.element.css({minHeight:t,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,n.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=e(this);return e("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return!!e(t.target).closest(".ui-dialog").length||!!e(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=!0;this._delay(function(){t=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(e){t||this._allowInteraction(e)||(e.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=e("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var e=this.document.data("ui-dialog-overlays")-1;e?this.document.data("ui-dialog-overlays",e):this.document.unbind("focusin").removeData("ui-dialog-overlays"),this.overlay.remove(),this.overlay=null}}}),e.widget("ui.progressbar",{version:"1.11.4",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=e("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(e){return void 0===e?this.options.value:(this.options.value=this._constrainedValue(e),void this._refreshValue())},_constrainedValue:function(e){return void 0===e&&(e=this.options.value),this.indeterminate=e===!1,"number"!=typeof e&&(e=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,e))},_setOptions:function(e){var t=e.value;delete e.value,this._super(e),this.options.value=this._constrainedValue(t),this._refreshValue()},_setOption:function(e,t){"max"===e&&(t=Math.max(this.min,t)),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this._super(e,t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).toggleClass("ui-corner-right",t===this.options.max).width(i.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=e("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==t&&(this.oldValue=t,this._trigger("change")),t===this.options.max&&this._trigger("complete")}}),e.widget("ui.selectmenu",{version:"1.11.4",defaultElement:"<select>",options:{appendTo:null,disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:null,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"},this._drawButton(),this._drawMenu(),this.options.disabled&&this.disable()},_drawButton:function(){var t=this;this.label=e("label[for='"+this.ids.element+"']").attr("for",this.ids.button),this._on(this.label,{click:function(e){this.button.focus(),e.preventDefault()}}),this.element.hide(),this.button=e("<span>",{class:"ui-selectmenu-button ui-widget ui-state-default ui-corner-all",tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true"}).insertAfter(this.element),e("<span>",{class:"ui-icon "+this.options.icons.button}).prependTo(this.button),this.buttonText=e("<span>",{class:"ui-selectmenu-text"}).appendTo(this.button),this._setText(this.buttonText,this.element.find("option:selected").text()),this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){t.menuItems||t._refreshMenu()}),this._hoverable(this.button),this._focusable(this.button)},_drawMenu:function(){var t=this;this.menu=e("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=e("<div>",{class:"ui-selectmenu-menu ui-front"}).append(this.menu).appendTo(this._appendTo()),this.menuInstance=this.menu.menu({role:"listbox",select:function(e,i){e.preventDefault(),t._setSelection(),t._select(i.item.data("ui-selectmenu-item"),e)},focus:function(e,i){var n=i.item.data("ui-selectmenu-item");null!=t.focusIndex&&n.index!==t.focusIndex&&(t._trigger("focus",e,{item:n}),t.isOpen||t._select(n,e)),t.focusIndex=n.index,t.button.attr("aria-activedescendant",t.menuItems.eq(n.index).attr("id"))}}).menu("instance"),this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this._setText(this.buttonText,this._getSelectedItem().text()),this.options.width||this._resizeButton()},_refreshMenu:function(){this.menu.empty();var e,t=this.element.find("option");t.length&&(this._parseOptions(t),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup"),e=this._getSelectedItem(),this.menuInstance.focus(null,e),this._setAria(e.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(e){this.options.disabled||(this.menuItems?(this.menu.find(".ui-state-focus").removeClass("ui-state-focus"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",e))},_position:function(){this.menuWrap.position(e.extend({of:this.button},this.options.position))},close:function(e){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",e))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderMenu:function(t,i){var n=this,r="";e.each(i,function(i,o){o.optgroup!==r&&(e("<li>",{class:"ui-selectmenu-optgroup ui-menu-divider"+(o.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""),text:o.optgroup}).appendTo(t),r=o.optgroup),n._renderItemData(t,o)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-selectmenu-item",t)},_renderItem:function(t,i){var n=e("<li>");return i.disabled&&n.addClass("ui-state-disabled"),this._setText(n,i.label),n.appendTo(t)},_setText:function(e,t){t?e.text(t):e.html("&#160;")},_move:function(e,t){var i,n,r=".ui-menu-item";this.isOpen?i=this.menuItems.eq(this.focusIndex):(i=this.menuItems.eq(this.element[0].selectedIndex),r+=":not(.ui-state-disabled)"),n="first"===e||"last"===e?i["first"===e?"prevAll":"nextAll"](r).eq(-1):i[e+"All"](r).eq(0),n.length&&this.menuInstance.focus(t,n)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex)},_toggle:function(e){this[this.isOpen?"close":"open"](e)},_setSelection:function(){var e;this.range&&(window.getSelection?(e=window.getSelection(),e.removeAllRanges(),e.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(t){this.isOpen&&(e(t.target).closest(".ui-selectmenu-menu, #"+this.ids.button).length||this.close(t))}},_buttonEvents:{mousedown:function(){var e;window.getSelection?(e=window.getSelection(),e.rangeCount&&(this.range=e.getRangeAt(0))):this.range=document.selection.createRange()},click:function(e){this._setSelection(),this._toggle(e)},keydown:function(t){var i=!0;switch(t.keyCode){case e.ui.keyCode.TAB:case e.ui.keyCode.ESCAPE:this.close(t),i=!1;break;case e.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(t);break;case e.ui.keyCode.UP:t.altKey?this._toggle(t):this._move("prev",t);break;case e.ui.keyCode.DOWN:t.altKey?this._toggle(t):this._move("next",t);break;case e.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(t):this._toggle(t);break;case e.ui.keyCode.LEFT:this._move("prev",t);break;case e.ui.keyCode.RIGHT:this._move("next",t);break;case e.ui.keyCode.HOME:case e.ui.keyCode.PAGE_UP:this._move("first",t);break;case e.ui.keyCode.END:case e.ui.keyCode.PAGE_DOWN:this._move("last",t);break;default:this.menu.trigger(t),i=!1}i&&t.preventDefault()}},_selectFocusedItem:function(e){var t=this.menuItems.eq(this.focusIndex);t.hasClass("ui-state-disabled")||this._select(t.data("ui-selectmenu-item"),e)},_select:function(e,t){var i=this.element[0].selectedIndex;this.element[0].selectedIndex=e.index,this._setText(this.buttonText,e.label),this._setAria(e),this._trigger("select",t,{item:e}),e.index!==i&&this._trigger("change",t,{item:e}),this.close(t)},_setAria:function(e){var t=this.menuItems.eq(e.index).attr("id");this.button.attr({"aria-labelledby":t,"aria-activedescendant":t}),this.menu.attr("aria-activedescendant",t)},_setOption:function(e,t){"icons"===e&&this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(t.button),this._super(e,t),"appendTo"===e&&this.menuWrap.appendTo(this._appendTo()),"disabled"===e&&(this.menuInstance.option("disabled",t),this.button.toggleClass("ui-state-disabled",t).attr("aria-disabled",t),this.element.prop("disabled",t),t?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)),"width"===e&&this._resizeButton()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_toggleAttr:function(){this.button.toggleClass("ui-corner-top",this.isOpen).toggleClass("ui-corner-all",!this.isOpen).attr("aria-expanded",this.isOpen),this.menuWrap.toggleClass("ui-selectmenu-open",this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var e=this.options.width;e||(e=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(e)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){return{disabled:this.element.prop("disabled")}},_parseOptions:function(t){var i=[];t.each(function(t,n){var r=e(n),o=r.parent("optgroup");i.push({element:r,index:t,value:r.val(),label:r.text(),optgroup:o.attr("label")||"",disabled:o.prop("disabled")||r.prop("disabled")})}),this.items=i},_destroy:function(){this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.label.attr("for",this.ids.element)}}),e.widget("ui.slider",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,i,n=this.options,r=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),o="<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>",a=[];for(i=n.values&&n.values.length||1,r.length>i&&(r.slice(i).remove(),r=r.slice(0,i)),t=r.length;t<i;t++)a.push(o);this.handles=r.add(e(a.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(t){e(this).data("ui-slider-handle-index",t)})},_createRange:function(){var t=this.options,i="";t.range?(t.range===!0&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:e.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=e("<div></div>").appendTo(this.element),i="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(i+("min"===t.range||"max"===t.range?" ui-slider-range-"+t.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(t){var i,n,r,o,a,s,l,c,u=this,d=this.options;return!d.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:t.pageX,y:t.pageY},n=this._normValueFromMouse(i),r=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var i=Math.abs(n-u.values(t));(r>i||r===i&&(t===u._lastChangedValue||u.values(t)===d.min))&&(r=i,o=e(this),a=t)}),s=this._start(t,a),s!==!1&&(this._mouseSliding=!0,this._handleIndex=a,o.addClass("ui-state-active").focus(),l=o.offset(),c=!e(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=c?{left:0,top:0}:{left:t.pageX-l.left-o.width()/2,top:t.pageY-l.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,a,n),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,i),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,i,n,r,o;return"horizontal"===this.orientation?(t=this.elementSize.width,i=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,i=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),n=i/t,n>1&&(n=1),n<0&&(n=0),"vertical"===this.orientation&&(n=1-n),r=this._valueMax()-this._valueMin(),o=this._valueMin()+n*r,this._trimAlignValue(o)},_start:function(e,t){var i={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("start",e,i)},_slide:function(e,t,i){var n,r,o;this.options.values&&this.options.values.length?(n=this.values(t?0:1),2===this.options.values.length&&this.options.range===!0&&(0===t&&i>n||1===t&&i<n)&&(i=n),i!==this.values(t)&&(r=this.values(),r[t]=i,o=this._trigger("slide",e,{handle:this.handles[t],value:i,values:r}),n=this.values(t?0:1),o!==!1&&this.values(t,i))):i!==this.value()&&(o=this._trigger("slide",e,{handle:this.handles[t],value:i}),o!==!1&&this.value(i))},_stop:function(e,t){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("stop",e,i)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._lastChangedValue=t,this._trigger("change",e,i)}},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),void this._change(null,0)):this._value()},values:function(t,i){var n,r,o;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(i),this._refreshValue(),void this._change(null,t);if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(n=this.options.values,r=arguments[0],o=0;o<n.length;o+=1)n[o]=this._trimAlignValue(r[o]),this._change(null,o);this._refreshValue()},_setOption:function(t,i){var n,r=0;switch("range"===t&&this.options.range===!0&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),e.isArray(this.options.values)&&(r=this.options.values.length),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!i),this._super(t,i),t){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue(),this.handles.css("horizontal"===i?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=0;n<r;n+=1)this._change(null,n);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,i,n;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);if(this.options.values&&this.options.values.length){for(i=this.options.values.slice(),n=0;n<i.length;n+=1)i[n]=this._trimAlignValue(i[n]);return i}return[]},_trimAlignValue:function(e){if(e<=this._valueMin())return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,i=(e-this._valueMin())%t,n=e-i;return 2*Math.abs(i)>=t&&(n+=i>0?t:-t),parseFloat(n.toFixed(5))},_calculateNewMax:function(){var e=this.options.max,t=this._valueMin(),i=this.options.step,n=Math.floor(+(e-t).toFixed(this._precision())/i)*i;e=n+t,this.max=parseFloat(e.toFixed(this._precision()))},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=e.toString(),i=t.indexOf(".");return i===-1?0:t.length-i-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshValue:function(){var t,i,n,r,o,a=this.options.range,s=this.options,l=this,c=!this._animateOff&&s.animate,u={};this.options.values&&this.options.values.length?this.handles.each(function(n){i=(l.values(n)-l._valueMin())/(l._valueMax()-l._valueMin())*100,u["horizontal"===l.orientation?"left":"bottom"]=i+"%",e(this).stop(1,1)[c?"animate":"css"](u,s.animate),l.options.range===!0&&("horizontal"===l.orientation?(0===n&&l.range.stop(1,1)[c?"animate":"css"]({left:i+"%"},s.animate),1===n&&l.range[c?"animate":"css"]({width:i-t+"%"},{queue:!1,duration:s.animate})):(0===n&&l.range.stop(1,1)[c?"animate":"css"]({bottom:i+"%"},s.animate),1===n&&l.range[c?"animate":"css"]({height:i-t+"%"},{queue:!1,duration:s.animate}))),t=i}):(n=this.value(),r=this._valueMin(),o=this._valueMax(),i=o!==r?(n-r)/(o-r)*100:0,u["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[c?"animate":"css"](u,s.animate),"min"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:i+"%"},s.animate),"max"===a&&"horizontal"===this.orientation&&this.range[c?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:s.animate}),"min"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:i+"%"},s.animate),"max"===a&&"vertical"===this.orientation&&this.range[c?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:s.animate}))},_handleEvents:{keydown:function(t){var i,n,r,o,a=e(t.target).data("ui-slider-handle-index");switch(t.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,e(t.target).addClass("ui-state-active"),i=this._start(t,a),i===!1))return}switch(o=this.options.step,n=r=this.options.values&&this.options.values.length?this.values(a):this.value(),t.keyCode){case e.ui.keyCode.HOME:r=this._valueMin();break;case e.ui.keyCode.END:r=this._valueMax();break;case e.ui.keyCode.PAGE_UP:r=this._trimAlignValue(n+(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.PAGE_DOWN:r=this._trimAlignValue(n-(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(n===this._valueMax())return;r=this._trimAlignValue(n+o);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(n===this._valueMin())return;r=this._trimAlignValue(n-o)}this._slide(t,a,r)},keyup:function(t){var i=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,i),this._change(t,i),e(t.target).removeClass("ui-state-active"))}}}),e.widget("ui.spinner",{version:"1.11.4",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t={},i=this.element;return e.each(["min","max","step"],function(e,n){
var r=i.attr(n);void 0!==r&&r.length&&(t[n]=r)}),t},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){return this.cancelBlur?void delete this.cancelBlur:(this._stop(),this._refresh(),void(this.previous!==this.element.val()&&this._trigger("change",e)))},mousewheel:function(e,t){if(t){if(!this.spinning&&!this._start(e))return!1;this._spin((t>0?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(e)},100),e.preventDefault()}},"mousedown .ui-spinner-button":function(t){function i(){var e=this.element[0]===this.document[0].activeElement;e||(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n}))}var n;n=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),t.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),this._start(t)!==!1&&this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){if(e(t.currentTarget).hasClass("ui-state-active"))return this._start(t)!==!1&&void this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var e=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=e.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*e.height())&&e.height()>0&&e.height(e.height()),this.options.disabled&&this.disable()},_keydown:function(t){var i=this.options,n=e.ui.keyCode;switch(t.keyCode){case n.UP:return this._repeat(null,1,t),!0;case n.DOWN:return this._repeat(null,-1,t),!0;case n.PAGE_UP:return this._repeat(null,i.page,t),!0;case n.PAGE_DOWN:return this._repeat(null,-i.page,t),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(e){return!(!this.spinning&&this._trigger("start",e)===!1)&&(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(e,t,i){e=e||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,t,i)},e),this._spin(t*this.options.step,i)},_spin:function(e,t){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+e*this._increment(this.counter)),this.spinning&&this._trigger("spin",t,{value:i})===!1||(this._value(i),this.counter++)},_increment:function(t){var i=this.options.incremental;return i?e.isFunction(i)?i(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=e.toString(),i=t.indexOf(".");return i===-1?0:t.length-i-1},_adjustValue:function(e){var t,i,n=this.options;return t=null!==n.min?n.min:0,i=e-t,i=Math.round(i/n.step)*n.step,e=t+i,e=parseFloat(e.toFixed(this._precision())),null!==n.max&&e>n.max?n.max:null!==n.min&&e<n.min?n.min:e},_stop:function(e){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e))},_setOption:function(e,t){if("culture"===e||"numberFormat"===e){var i=this._parse(this.element.val());return this.options[e]=t,void this.element.val(this._format(i))}"max"!==e&&"min"!==e&&"step"!==e||"string"==typeof t&&(t=this._parse(t)),"icons"===e&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(t.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(t.down)),this._super(e,t),"disabled"===e&&(this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable"))},_setOptions:l(function(e){this._super(e)}),_parse:function(e){return"string"==typeof e&&""!==e&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),""===e||isNaN(e)?null:e},_format:function(e){return""===e?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var e=this.value();return null!==e&&e===this._adjustValue(e)},_value:function(e,t){var i;""!==e&&(i=this._parse(e),null!==i&&(t||(i=this._adjustValue(i)),e=this._format(i))),this.element.val(e),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:l(function(e){this._stepUp(e)}),_stepUp:function(e){this._start()&&(this._spin((e||1)*this.options.step),this._stop())},stepDown:l(function(e){this._stepDown(e)}),_stepDown:function(e){this._start()&&(this._spin((e||1)*-this.options.step),this._stop())},pageUp:l(function(e){this._stepUp((e||1)*this.options.page)}),pageDown:l(function(e){this._stepDown((e||1)*this.options.page)}),value:function(e){return arguments.length?void l(this._value).call(this,e):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),e.widget("ui.tabs",{version:"1.11.4",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var e=/#.*$/;return function(t){var i,n;t=t.cloneNode(!1),i=t.href.replace(e,""),n=location.href.replace(e,"");try{i=decodeURIComponent(i)}catch(e){}try{n=decodeURIComponent(n)}catch(e){}return t.hash.length>1&&i===n}}(),_create:function(){var t=this,i=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",i.collapsible),this._processTabs(),i.active=this._initialActive(),e.isArray(i.disabled)&&(i.disabled=e.unique(i.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"),function(e){return t.tabs.index(e)}))).sort()),this.options.active!==!1&&this.anchors.length?this.active=this._findActive(i.active):this.active=e(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var t=this.options.active,i=this.options.collapsible,n=location.hash.substring(1);return null===t&&(n&&this.tabs.each(function(i,r){if(e(r).attr("aria-controls")===n)return t=i,!1}),null===t&&(t=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null!==t&&t!==-1||(t=!!this.tabs.length&&0)),t!==!1&&(t=this.tabs.index(this.tabs.eq(t)),t===-1&&(t=!i&&0)),!i&&t===!1&&this.anchors.length&&(t=0),t},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):e()}},_tabKeydown:function(t){var i=e(this.document[0].activeElement).closest("li"),n=this.tabs.index(i),r=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:n++;break;case e.ui.keyCode.UP:case e.ui.keyCode.LEFT:r=!1,n--;break;case e.ui.keyCode.END:n=this.anchors.length-1;break;case e.ui.keyCode.HOME:n=0;break;case e.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),void this._activate(n);case e.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),void this._activate(n!==this.options.active&&n);default:return}t.preventDefault(),clearTimeout(this.activating),n=this._focusNextTab(n,r),t.ctrlKey||t.metaKey||(i.attr("aria-selected","false"),this.tabs.eq(n).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",n)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===e.ui.keyCode.UP&&(t.preventDefault(),this.active.focus())},_handlePageNav:function(t){return t.altKey&&t.keyCode===e.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===e.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,i){function n(){return t>r&&(t=0),t<0&&(t=r),t}for(var r=this.tabs.length-1;e.inArray(n(),this.options.disabled)!==-1;)t=i?t+1:t-1;return t},_focusNextTab:function(e,t){return e=this._findNextTab(e,t),this.tabs.eq(e).focus(),e},_setOption:function(e,t){return"active"===e?void this._activate(t):"disabled"===e?void this._setupDisabled(t):(this._super(e,t),"collapsible"===e&&(this.element.toggleClass("ui-tabs-collapsible",t),t||this.options.active!==!1||this._activate(0)),"event"===e&&this._setupEvents(t),void("heightStyle"===e&&this._setupHeightStyle(t)))},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,i=this.tablist.children(":has(a[href])");t.disabled=e.map(i.filter(".ui-state-disabled"),function(e){return i.index(e)}),this._processTabs(),t.active!==!1&&this.anchors.length?this.active.length&&!e.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=e()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=e()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this,i=this.tabs,n=this.anchors,r=this.panels;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist").delegate("> li","mousedown"+this.eventNamespace,function(t){e(this).is(".ui-state-disabled")&&t.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){e(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return e("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=e(),this.anchors.each(function(i,n){var r,o,a,s=e(n).uniqueId().attr("id"),l=e(n).closest("li"),c=l.attr("aria-controls");t._isLocal(n)?(r=n.hash,a=r.substring(1),o=t.element.find(t._sanitizeSelector(r))):(a=l.attr("aria-controls")||e({}).uniqueId()[0].id,r="#"+a,o=t.element.find(r),o.length||(o=t._createPanel(a),o.insertAfter(t.panels[i-1]||t.tablist)),o.attr("aria-live","polite")),o.length&&(t.panels=t.panels.add(o)),c&&l.data("ui-tabs-aria-controls",c),l.attr({"aria-controls":a,"aria-labelledby":s}),o.attr("aria-labelledby",s)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel"),i&&(this._off(i.not(this.tabs)),this._off(n.not(this.anchors)),this._off(r.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(t){return e("<div>").attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(t){e.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1);for(var i,n=0;i=this.tabs[n];n++)t===!0||e.inArray(n,t)!==-1?e(i).addClass("ui-state-disabled").attr("aria-disabled","true"):e(i).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=t},_setupEvents:function(t){var i={};t&&e.each(t.split(" "),function(e,t){i[t]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(e){e.preventDefault()}}),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var i,n=this.element.parent();"fill"===t?(i=n.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var t=e(this),n=t.css("position");"absolute"!==n&&"fixed"!==n&&(i-=t.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=e(this).outerHeight(!0)}),this.panels.each(function(){e(this).height(Math.max(0,i-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===t&&(i=0,this.panels.each(function(){i=Math.max(i,e(this).height("").height())}).height(i))},_eventHandler:function(t){var i=this.options,n=this.active,r=e(t.currentTarget),o=r.closest("li"),a=o[0]===n[0],s=a&&i.collapsible,l=s?e():this._getPanelForTab(o),c=n.length?this._getPanelForTab(n):e(),u={oldTab:n,oldPanel:c,newTab:s?e():o,newPanel:l};t.preventDefault(),o.hasClass("ui-state-disabled")||o.hasClass("ui-tabs-loading")||this.running||a&&!i.collapsible||this._trigger("beforeActivate",t,u)===!1||(i.active=!s&&this.tabs.index(o),this.active=a?e():o,this.xhr&&this.xhr.abort(),c.length||l.length||e.error("jQuery UI Tabs: Mismatching fragment identifier."),l.length&&this.load(this.tabs.index(o),t),this._toggle(t,u))},_toggle:function(t,i){function n(){o.running=!1,o._trigger("activate",t,i)}function r(){i.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),a.length&&o.options.show?o._show(a,o.options.show,n):(a.show(),n())}var o=this,a=i.newPanel,s=i.oldPanel;this.running=!0,s.length&&this.options.hide?this._hide(s,this.options.hide,function(){i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),r()}):(i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),s.hide(),r()),s.attr("aria-hidden","true"),i.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),a.length&&s.length?i.oldTab.attr("tabIndex",-1):a.length&&this.tabs.filter(function(){return 0===e(this).attr("tabIndex")}).attr("tabIndex",-1),a.attr("aria-hidden","false"),i.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(t){var i,n=this._findActive(t);n[0]!==this.active[0]&&(n.length||(n=this.active),i=n.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return t===!1?e():this.tabs.eq(t)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+e+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tablist.unbind(this.eventNamespace),this.tabs.add(this.panels).each(function(){e.data(this,"ui-tabs-destroy")?e(this).remove():e(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var t=e(this),i=t.data("ui-tabs-aria-controls");i?t.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(t){var i=this.options.disabled;i!==!1&&(void 0===t?i=!1:(t=this._getIndex(t),i=e.isArray(i)?e.map(i,function(e){return e!==t?e:null}):e.map(this.tabs,function(e,i){return i!==t?i:null})),this._setupDisabled(i))},disable:function(t){var i=this.options.disabled;if(i!==!0){if(void 0===t)i=!0;else{if(t=this._getIndex(t),e.inArray(t,i)!==-1)return;i=e.isArray(i)?e.merge([t],i).sort():[t]}this._setupDisabled(i)}},load:function(t,i){t=this._getIndex(t);var n=this,r=this.tabs.eq(t),o=r.find(".ui-tabs-anchor"),a=this._getPanelForTab(r),s={tab:r,panel:a},l=function(e,t){"abort"===t&&n.panels.stop(!1,!0),r.removeClass("ui-tabs-loading"),a.removeAttr("aria-busy"),e===n.xhr&&delete n.xhr};this._isLocal(o[0])||(this.xhr=e.ajax(this._ajaxSettings(o,i,s)),this.xhr&&"canceled"!==this.xhr.statusText&&(r.addClass("ui-tabs-loading"),a.attr("aria-busy","true"),this.xhr.done(function(e,t,r){setTimeout(function(){a.html(e),n._trigger("load",i,s),l(r,t)},1)}).fail(function(e,t){setTimeout(function(){l(e,t)},1)})))},_ajaxSettings:function(t,i,n){var r=this;return{url:t.attr("href"),beforeSend:function(t,o){return r._trigger("beforeLoad",i,e.extend({jqXHR:t,ajaxSettings:o},n))}}},_getPanelForTab:function(t){var i=e(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}}),e.widget("ui.tooltip",{version:"1.11.4",options:{content:function(){var t=e(this).attr("title")||"";return e("<a>").text(t).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(t,i){var n=(t.attr("aria-describedby")||"").split(/\s+/);n.push(i),t.data("ui-tooltip-id",i).attr("aria-describedby",e.trim(n.join(" ")))},_removeDescribedBy:function(t){var i=t.data("ui-tooltip-id"),n=(t.attr("aria-describedby")||"").split(/\s+/),r=e.inArray(i,n);r!==-1&&n.splice(r,1),t.removeData("ui-tooltip-id"),n=e.trim(n.join(" ")),n?t.attr("aria-describedby",n):t.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable(),this.liveRegion=e("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},_setOption:function(t,i){var n=this;return"disabled"===t?(this[i?"_disable":"_enable"](),void(this.options[t]=i)):(this._super(t,i),void("content"===t&&e.each(this.tooltips,function(e,t){n._updateContent(t.element)})))},_disable:function(){var t=this;e.each(this.tooltips,function(i,n){var r=e.Event("blur");r.target=r.currentTarget=n.element[0],t.close(r,!0)}),this.element.find(this.options.items).addBack().each(function(){var t=e(this);t.is("[title]")&&t.data("ui-tooltip-title",t.attr("title")).removeAttr("title")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var t=e(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))})},open:function(t){var i=this,n=e(t?t.target:this.element).closest(this.options.items);n.length&&!n.data("ui-tooltip-id")&&(n.attr("title")&&n.data("ui-tooltip-title",n.attr("title")),n.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&n.parents().each(function(){var t,n=e(this);n.data("ui-tooltip-open")&&(t=e.Event("blur"),t.target=t.currentTarget=this,i.close(t,!0)),n.attr("title")&&(n.uniqueId(),i.parents[this.id]={element:this,title:n.attr("title")},n.attr("title",""))}),this._registerCloseHandlers(t,n),this._updateContent(n,t))},_updateContent:function(e,t){var i,n=this.options.content,r=this,o=t?t.type:null;return"string"==typeof n?this._open(t,e,n):(i=n.call(e[0],function(i){r._delay(function(){e.data("ui-tooltip-open")&&(t&&(t.type=o),this._open(t,e,i))})}),void(i&&this._open(t,e,i)))},_open:function(t,i,n){function r(e){c.of=e,a.is(":hidden")||a.position(c)}var o,a,s,l,c=e.extend({},this.options.position);if(n){if(o=this._find(i))return void o.tooltip.find(".ui-tooltip-content").html(n);i.is("[title]")&&(t&&"mouseover"===t.type?i.attr("title",""):i.removeAttr("title")),o=this._tooltip(i),a=o.tooltip,this._addDescribedBy(i,a.attr("id")),a.find(".ui-tooltip-content").html(n),this.liveRegion.children().hide(),n.clone?(l=n.clone(),l.removeAttr("id").find("[id]").removeAttr("id")):l=n,e("<div>").html(l).appendTo(this.liveRegion),this.options.track&&t&&/^mouse/.test(t.type)?(this._on(this.document,{mousemove:r}),r(t)):a.position(e.extend({of:i},this.options.position)),a.hide(),this._show(a,this.options.show),this.options.show&&this.options.show.delay&&(s=this.delayedShow=setInterval(function(){a.is(":visible")&&(r(c.of),clearInterval(s))},e.fx.interval)),this._trigger("open",t,{tooltip:a})}},_registerCloseHandlers:function(t,i){var n={keyup:function(t){if(t.keyCode===e.ui.keyCode.ESCAPE){var n=e.Event(t);n.currentTarget=i[0],this.close(n,!0)}}};i[0]!==this.element[0]&&(n.remove=function(){this._removeTooltip(this._find(i).tooltip)}),t&&"mouseover"!==t.type||(n.mouseleave="close"),t&&"focusin"!==t.type||(n.focusout="close"),this._on(!0,i,n)},close:function(t){var i,n=this,r=e(t?t.currentTarget:this.element),o=this._find(r);return o?(i=o.tooltip,void(o.closing||(clearInterval(this.delayedShow),r.data("ui-tooltip-title")&&!r.attr("title")&&r.attr("title",r.data("ui-tooltip-title")),this._removeDescribedBy(r),o.hiding=!0,i.stop(!0),this._hide(i,this.options.hide,function(){n._removeTooltip(e(this))}),r.removeData("ui-tooltip-open"),this._off(r,"mouseleave focusout keyup"),r[0]!==this.element[0]&&this._off(r,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&e.each(this.parents,function(t,i){e(i.element).attr("title",i.title),delete n.parents[t]}),o.closing=!0,this._trigger("close",t,{tooltip:i}),o.hiding||(o.closing=!1)))):void r.removeData("ui-tooltip-open")},_tooltip:function(t){var i=e("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),n=i.uniqueId().attr("id");return e("<div>").addClass("ui-tooltip-content").appendTo(i),i.appendTo(this.document[0].body),this.tooltips[n]={element:t,tooltip:i}},_find:function(e){var t=e.data("ui-tooltip-id");return t?this.tooltips[t]:null},_removeTooltip:function(e){e.remove(),delete this.tooltips[e.attr("id")]},_destroy:function(){var t=this;e.each(this.tooltips,function(i,n){var r=e.Event("blur"),o=n.element;r.target=r.currentTarget=o[0],t.close(r,!0),e("#"+i).remove(),o.data("ui-tooltip-title")&&(o.attr("title")||o.attr("title",o.data("ui-tooltip-title")),o.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}}),"ui-effects-"),b=e;e.effects={effect:{}},function(e,t){function i(e,t,i){var n=d[t.type]||{};return null==e?i||!t.def?null:t.def:(e=n.floor?~~e:parseFloat(e),isNaN(e)?t.def:n.mod?(e+n.mod)%n.mod:0>e?0:n.max<e?n.max:e)}function n(t){var i=c(),n=i._rgba=[];return t=t.toLowerCase(),f(l,function(e,r){var o,a=r.re.exec(t),s=a&&r.parse(a),l=r.space||"rgba";if(s)return o=i[l](s),i[u[l].cache]=o[u[l].cache],n=i._rgba=o._rgba,!1}),n.length?("0,0,0,0"===n.join()&&e.extend(n,o.transparent),i):o[t]}function r(e,t,i){return i=(i+1)%1,6*i<1?e+(t-e)*i*6:2*i<1?t:3*i<2?e+(t-e)*(2/3-i)*6:e}var o,a="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",s=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],c=e.Color=function(t,i,n,r){return new e.Color.fn.parse(t,i,n,r)},u={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},d={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},h=c.support={},p=e("<p>")[0],f=e.each;p.style.cssText="background-color:rgba(1,1,1,.5)",h.rgba=p.style.backgroundColor.indexOf("rgba")>-1,f(u,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),c.fn=e.extend(c.prototype,{parse:function(r,a,s,l){if(r===t)return this._rgba=[null,null,null,null],this;(r.jquery||r.nodeType)&&(r=e(r).css(a),a=t);var d=this,h=e.type(r),p=this._rgba=[];return a!==t&&(r=[r,a,s,l],h="array"),"string"===h?this.parse(n(r)||o._default):"array"===h?(f(u.rgba.props,function(e,t){p[t.idx]=i(r[t.idx],t)}),this):"object"===h?(r instanceof c?f(u,function(e,t){r[t.cache]&&(d[t.cache]=r[t.cache].slice())}):f(u,function(t,n){var o=n.cache;f(n.props,function(e,t){if(!d[o]&&n.to){if("alpha"===e||null==r[e])return;d[o]=n.to(d._rgba)}d[o][t.idx]=i(r[e],t,!0)}),d[o]&&e.inArray(null,d[o].slice(0,3))<0&&(d[o][3]=1,n.from&&(d._rgba=n.from(d[o])))}),this):void 0},is:function(e){var t=c(e),i=!0,n=this;return f(u,function(e,r){var o,a=t[r.cache];return a&&(o=n[r.cache]||r.to&&r.to(n._rgba)||[],f(r.props,function(e,t){if(null!=a[t.idx])return i=a[t.idx]===o[t.idx]})),i}),i},_space:function(){var e=[],t=this;return f(u,function(i,n){t[n.cache]&&e.push(i)}),e.pop()},transition:function(e,t){var n=c(e),r=n._space(),o=u[r],a=0===this.alpha()?c("transparent"):this,s=a[o.cache]||o.to(a._rgba),l=s.slice();return n=n[o.cache],f(o.props,function(e,r){var o=r.idx,a=s[o],c=n[o],u=d[r.type]||{};null!==c&&(null===a?l[o]=c:(u.mod&&(c-a>u.mod/2?a+=u.mod:a-c>u.mod/2&&(a-=u.mod)),l[o]=i((c-a)*t+a,r)))}),this[r](l)},blend:function(t){if(1===this._rgba[3])return this;var i=this._rgba.slice(),n=i.pop(),r=c(t)._rgba;return c(e.map(i,function(e,t){return(1-n)*r[t]+n*e}))},toRgbaString:function(){var t="rgba(",i=e.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===i[3]&&(i.pop(),t="rgb("),t+i.join()+")"},toHslaString:function(){var t="hsla(",i=e.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&t<3&&(e=Math.round(100*e)+"%"),e});return 1===i[3]&&(i.pop(),t="hsl("),t+i.join()+")"},toHexString:function(t){var i=this._rgba.slice(),n=i.pop();return t&&i.push(~~(255*n)),"#"+e.map(i,function(e){return e=(e||0).toString(16),1===e.length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),c.fn.parse.prototype=c.fn,u.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,i,n=e[0]/255,r=e[1]/255,o=e[2]/255,a=e[3],s=Math.max(n,r,o),l=Math.min(n,r,o),c=s-l,u=s+l,d=.5*u;return t=l===s?0:n===s?60*(r-o)/c+360:r===s?60*(o-n)/c+120:60*(n-r)/c+240,i=0===c?0:d<=.5?c/u:c/(2-u),[Math.round(t)%360,i,d,null==a?1:a]},u.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,i=e[1],n=e[2],o=e[3],a=n<=.5?n*(1+i):n+i-n*i,s=2*n-a;return[Math.round(255*r(s,a,t+1/3)),Math.round(255*r(s,a,t)),Math.round(255*r(s,a,t-1/3)),o]},f(u,function(n,r){var o=r.props,a=r.cache,l=r.to,u=r.from;c.fn[n]=function(n){if(l&&!this[a]&&(this[a]=l(this._rgba)),n===t)return this[a].slice();var r,s=e.type(n),d="array"===s||"object"===s?n:arguments,h=this[a].slice();return f(o,function(e,t){var n=d["object"===s?e:t.idx];null==n&&(n=h[t.idx]),h[t.idx]=i(n,t)}),u?(r=c(u(h)),r[a]=h,r):c(h)},f(o,function(t,i){c.fn[t]||(c.fn[t]=function(r){var o,a=e.type(r),l="alpha"===t?this._hsla?"hsla":"rgba":n,c=this[l](),u=c[i.idx];return"undefined"===a?u:("function"===a&&(r=r.call(this,u),a=e.type(r)),null==r&&i.empty?this:("string"===a&&(o=s.exec(r),o&&(r=u+parseFloat(o[2])*("+"===o[1]?1:-1))),c[i.idx]=r,this[l](c)))})})}),c.hook=function(t){var i=t.split(" ");f(i,function(t,i){e.cssHooks[i]={set:function(t,r){var o,a,s="";if("transparent"!==r&&("string"!==e.type(r)||(o=n(r)))){if(r=c(o||r),!h.rgba&&1!==r._rgba[3]){for(a="backgroundColor"===i?t.parentNode:t;(""===s||"transparent"===s)&&a&&a.style;)try{s=e.css(a,"backgroundColor"),a=a.parentNode}catch(e){}r=r.blend(s&&"transparent"!==s?s:"_default")}r=r.toRgbaString()}try{t.style[i]=r}catch(e){}}},e.fx.step[i]=function(t){t.colorInit||(t.start=c(t.elem,i),t.end=c(t.end),t.colorInit=!0),e.cssHooks[i].set(t.elem,t.start.transition(t.end,t.pos))}})},c.hook(a),e.cssHooks.borderColor={expand:function(e){var t={};return f(["Top","Right","Bottom","Left"],function(i,n){t["border"+n+"Color"]=e}),t}},o=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(b),function(){function t(t){var i,n,r=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,o={};if(r&&r.length&&r[0]&&r[r[0]])for(n=r.length;n--;)i=r[n],"string"==typeof r[i]&&(o[e.camelCase(i)]=r[i]);else for(i in r)"string"==typeof r[i]&&(o[i]=r[i]);return o}function i(t,i){var n,o,a={};for(n in i)o=i[n],t[n]!==o&&(r[n]||!e.fx.step[n]&&isNaN(parseFloat(o))||(a[n]=o));return a}var n=["add","remove","toggle"],r={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,i){e.fx.step[i]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(b.style(e.elem,i,e.end),e.setAttr=!0)}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e.effects.animateClass=function(r,o,a,s){var l=e.speed(o,a,s);return this.queue(function(){var o,a=e(this),s=a.attr("class")||"",c=l.children?a.find("*").addBack():a;c=c.map(function(){var i=e(this);return{el:i,start:t(this)}}),o=function(){e.each(n,function(e,t){r[t]&&a[t+"Class"](r[t])})},o(),c=c.map(function(){return this.end=t(this.el[0]),this.diff=i(this.start,this.end),this}),a.attr("class",s),c=c.map(function(){var t=this,i=e.Deferred(),n=e.extend({},l,{queue:!1,complete:function(){i.resolve(t)}});return this.el.animate(this.diff,n),i.promise()}),e.when.apply(e,c.get()).done(function(){o(),e.each(arguments,function(){var t=this.el;e.each(this.diff,function(e){t.css(e,"")})}),l.complete.call(a[0])})})},e.fn.extend({addClass:function(t){return function(i,n,r,o){return n?e.effects.animateClass.call(this,{add:i},n,r,o):t.apply(this,arguments)}}(e.fn.addClass),removeClass:function(t){return function(i,n,r,o){return arguments.length>1?e.effects.animateClass.call(this,{remove:i},n,r,o):t.apply(this,arguments)}}(e.fn.removeClass),toggleClass:function(t){return function(i,n,r,o,a){return"boolean"==typeof n||void 0===n?r?e.effects.animateClass.call(this,n?{add:i}:{remove:i},r,o,a):t.apply(this,arguments):e.effects.animateClass.call(this,{toggle:i},n,r,o)}}(e.fn.toggleClass),switchClass:function(t,i,n,r,o){return e.effects.animateClass.call(this,{add:i,remove:t},n,r,o)}})}(),function(){function t(t,i,n,r){return e.isPlainObject(t)&&(i=t,t=t.effect),t={effect:t},null==i&&(i={}),e.isFunction(i)&&(r=i,n=null,i={}),("number"==typeof i||e.fx.speeds[i])&&(r=n,n=i,i={}),e.isFunction(n)&&(r=n,
n=null),i&&e.extend(t,i),n=n||i.duration,t.duration=e.fx.off?0:"number"==typeof n?n:n in e.fx.speeds?e.fx.speeds[n]:e.fx.speeds._default,t.complete=r||i.complete,t}function i(t){return!(t&&"number"!=typeof t&&!e.fx.speeds[t])||("string"==typeof t&&!e.effects.effect[t]||(!!e.isFunction(t)||"object"==typeof t&&!t.effect))}e.extend(e.effects,{version:"1.11.4",save:function(e,t){for(var i=0;i<t.length;i++)null!==t[i]&&e.data(y+t[i],e[0].style[t[i]])},restore:function(e,t){var i,n;for(n=0;n<t.length;n++)null!==t[n]&&(i=e.data(y+t[n]),void 0===i&&(i=""),e.css(t[n],i))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var i,n;switch(e[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=e[0]/t.height}switch(e[1]){case"left":n=0;break;case"center":n=.5;break;case"right":n=1;break;default:n=e[1]/t.width}return{x:n,y:i}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var i={width:t.outerWidth(!0),height:t.outerHeight(!0),float:t.css("float")},n=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),r={width:t.width(),height:t.height()},o=document.activeElement;try{o.id}catch(e){o=document.body}return t.wrap(n),(t[0]===o||e.contains(t[0],o))&&e(o).focus(),n=t.parent(),"static"===t.css("position")?(n.css({position:"relative"}),t.css({position:"relative"})):(e.extend(i,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,n){i[n]=t.css(n),isNaN(parseInt(i[n],10))&&(i[n]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(r),n.css(i).show()},removeWrapper:function(t){var i=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===i||e.contains(t[0],i))&&e(i).focus()),t},setTransition:function(t,i,n,r){return r=r||{},e.each(i,function(e,i){var o=t.cssUnit(i);o[0]>0&&(r[i]=o[0]*n+o[1])}),r}}),e.fn.extend({effect:function(){function i(t){function i(){e.isFunction(o)&&o.call(r[0]),e.isFunction(t)&&t()}var r=e(this),o=n.complete,s=n.mode;(r.is(":hidden")?"hide"===s:"show"===s)?(r[s](),i()):a.call(r[0],n,i)}var n=t.apply(this,arguments),r=n.mode,o=n.queue,a=e.effects.effect[n.effect];return e.fx.off||!a?r?this[r](n.duration,n.complete):this.each(function(){n.complete&&n.complete.call(this)}):o===!1?this.each(i):this.queue(o||"fx",i)},show:function(e){return function(n){if(i(n))return e.apply(this,arguments);var r=t.apply(this,arguments);return r.mode="show",this.effect.call(this,r)}}(e.fn.show),hide:function(e){return function(n){if(i(n))return e.apply(this,arguments);var r=t.apply(this,arguments);return r.mode="hide",this.effect.call(this,r)}}(e.fn.hide),toggle:function(e){return function(n){if(i(n)||"boolean"==typeof n)return e.apply(this,arguments);var r=t.apply(this,arguments);return r.mode="toggle",this.effect.call(this,r)}}(e.fn.toggle),cssUnit:function(t){var i=this.css(t),n=[];return e.each(["em","px","%","pt"],function(e,t){i.indexOf(t)>0&&(n=[parseFloat(i),t])}),n}})}(),function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,i){t[i]=function(t){return Math.pow(t,e+2)}}),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,i=4;e<((t=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(t,function(t,i){e.easing["easeIn"+t]=i,e.easing["easeOut"+t]=function(e){return 1-i(1-e)},e.easing["easeInOut"+t]=function(e){return e<.5?i(2*e)/2:1-i(e*-2+2)/2}})}();e.effects,e.effects.effect.blind=function(t,i){var n,r,o,a=e(this),s=/up|down|vertical/,l=/up|left|vertical|horizontal/,c=["position","top","bottom","left","right","height","width"],u=e.effects.setMode(a,t.mode||"hide"),d=t.direction||"up",h=s.test(d),p=h?"height":"width",f=h?"top":"left",m=l.test(d),g={},v="show"===u;a.parent().is(".ui-effects-wrapper")?e.effects.save(a.parent(),c):e.effects.save(a,c),a.show(),n=e.effects.createWrapper(a).css({overflow:"hidden"}),r=n[p](),o=parseFloat(n.css(f))||0,g[p]=v?r:0,m||(a.css(h?"bottom":"right",0).css(h?"top":"left","auto").css({position:"absolute"}),g[f]=v?o:r+o),v&&(n.css(p,0),m||n.css(f,o+r)),n.animate(g,{duration:t.duration,easing:t.easing,queue:!1,complete:function(){"hide"===u&&a.hide(),e.effects.restore(a,c),e.effects.removeWrapper(a),i()}})},e.effects.effect.bounce=function(t,i){var n,r,o,a=e(this),s=["position","top","bottom","left","right","height","width"],l=e.effects.setMode(a,t.mode||"effect"),c="hide"===l,u="show"===l,d=t.direction||"up",h=t.distance,p=t.times||5,f=2*p+(u||c?1:0),m=t.duration/f,g=t.easing,v="up"===d||"down"===d?"top":"left",y="up"===d||"left"===d,b=a.queue(),_=b.length;for((u||c)&&s.push("opacity"),e.effects.save(a,s),a.show(),e.effects.createWrapper(a),h||(h=a["top"===v?"outerHeight":"outerWidth"]()/3),u&&(o={opacity:1},o[v]=0,a.css("opacity",0).css(v,y?2*-h:2*h).animate(o,m,g)),c&&(h/=Math.pow(2,p-1)),o={},o[v]=0,n=0;n<p;n++)r={},r[v]=(y?"-=":"+=")+h,a.animate(r,m,g).animate(o,m,g),h=c?2*h:h/2;c&&(r={opacity:0},r[v]=(y?"-=":"+=")+h,a.animate(r,m,g)),a.queue(function(){c&&a.hide(),e.effects.restore(a,s),e.effects.removeWrapper(a),i()}),_>1&&b.splice.apply(b,[1,0].concat(b.splice(_,f+1))),a.dequeue()},e.effects.effect.clip=function(t,i){var n,r,o,a=e(this),s=["position","top","bottom","left","right","height","width"],l=e.effects.setMode(a,t.mode||"hide"),c="show"===l,u=t.direction||"vertical",d="vertical"===u,h=d?"height":"width",p=d?"top":"left",f={};e.effects.save(a,s),a.show(),n=e.effects.createWrapper(a).css({overflow:"hidden"}),r="IMG"===a[0].tagName?n:a,o=r[h](),c&&(r.css(h,0),r.css(p,o/2)),f[h]=c?o:0,f[p]=c?0:o/2,r.animate(f,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){c||a.hide(),e.effects.restore(a,s),e.effects.removeWrapper(a),i()}})},e.effects.effect.drop=function(t,i){var n,r=e(this),o=["position","top","bottom","left","right","opacity","height","width"],a=e.effects.setMode(r,t.mode||"hide"),s="show"===a,l=t.direction||"left",c="up"===l||"down"===l?"top":"left",u="up"===l||"left"===l?"pos":"neg",d={opacity:s?1:0};e.effects.save(r,o),r.show(),e.effects.createWrapper(r),n=t.distance||r["top"===c?"outerHeight":"outerWidth"](!0)/2,s&&r.css("opacity",0).css(c,"pos"===u?-n:n),d[c]=(s?"pos"===u?"+=":"-=":"pos"===u?"-=":"+=")+n,r.animate(d,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===a&&r.hide(),e.effects.restore(r,o),e.effects.removeWrapper(r),i()}})},e.effects.effect.explode=function(t,i){function n(){b.push(this),b.length===d*h&&r()}function r(){p.css({visibility:"visible"}),e(b).remove(),m||p.hide(),i()}var o,a,s,l,c,u,d=t.pieces?Math.round(Math.sqrt(t.pieces)):3,h=d,p=e(this),f=e.effects.setMode(p,t.mode||"hide"),m="show"===f,g=p.show().css("visibility","hidden").offset(),v=Math.ceil(p.outerWidth()/h),y=Math.ceil(p.outerHeight()/d),b=[];for(o=0;o<d;o++)for(l=g.top+o*y,u=o-(d-1)/2,a=0;a<h;a++)s=g.left+a*v,c=a-(h-1)/2,p.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-a*v,top:-o*y}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:y,left:s+(m?c*v:0),top:l+(m?u*y:0),opacity:m?0:1}).animate({left:s+(m?0:c*v),top:l+(m?0:u*y),opacity:m?1:0},t.duration||500,t.easing,n)},e.effects.effect.fade=function(t,i){var n=e(this),r=e.effects.setMode(n,t.mode||"toggle");n.animate({opacity:r},{queue:!1,duration:t.duration,easing:t.easing,complete:i})},e.effects.effect.fold=function(t,i){var n,r,o=e(this),a=["position","top","bottom","left","right","height","width"],s=e.effects.setMode(o,t.mode||"hide"),l="show"===s,c="hide"===s,u=t.size||15,d=/([0-9]+)%/.exec(u),h=!!t.horizFirst,p=l!==h,f=p?["width","height"]:["height","width"],m=t.duration/2,g={},v={};e.effects.save(o,a),o.show(),n=e.effects.createWrapper(o).css({overflow:"hidden"}),r=p?[n.width(),n.height()]:[n.height(),n.width()],d&&(u=parseInt(d[1],10)/100*r[c?0:1]),l&&n.css(h?{height:0,width:u}:{height:u,width:0}),g[f[0]]=l?r[0]:u,v[f[1]]=l?r[1]:0,n.animate(g,m,t.easing).animate(v,m,t.easing,function(){c&&o.hide(),e.effects.restore(o,a),e.effects.removeWrapper(o),i()})},e.effects.effect.highlight=function(t,i){var n=e(this),r=["backgroundImage","backgroundColor","opacity"],o=e.effects.setMode(n,t.mode||"show"),a={backgroundColor:n.css("backgroundColor")};"hide"===o&&(a.opacity=0),e.effects.save(n,r),n.show().css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(a,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===o&&n.hide(),e.effects.restore(n,r),i()}})},e.effects.effect.size=function(t,i){var n,r,o,a=e(this),s=["position","top","bottom","left","right","width","height","overflow","opacity"],l=["position","top","bottom","left","right","overflow","opacity"],c=["width","height","overflow"],u=["fontSize"],d=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],h=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],p=e.effects.setMode(a,t.mode||"effect"),f=t.restore||"effect"!==p,m=t.scale||"both",g=t.origin||["middle","center"],v=a.css("position"),y=f?s:l,b={height:0,width:0,outerHeight:0,outerWidth:0};"show"===p&&a.show(),n={height:a.height(),width:a.width(),outerHeight:a.outerHeight(),outerWidth:a.outerWidth()},"toggle"===t.mode&&"show"===p?(a.from=t.to||b,a.to=t.from||n):(a.from=t.from||("show"===p?b:n),a.to=t.to||("hide"===p?b:n)),o={from:{y:a.from.height/n.height,x:a.from.width/n.width},to:{y:a.to.height/n.height,x:a.to.width/n.width}},"box"!==m&&"both"!==m||(o.from.y!==o.to.y&&(y=y.concat(d),a.from=e.effects.setTransition(a,d,o.from.y,a.from),a.to=e.effects.setTransition(a,d,o.to.y,a.to)),o.from.x!==o.to.x&&(y=y.concat(h),a.from=e.effects.setTransition(a,h,o.from.x,a.from),a.to=e.effects.setTransition(a,h,o.to.x,a.to))),"content"!==m&&"both"!==m||o.from.y!==o.to.y&&(y=y.concat(u).concat(c),a.from=e.effects.setTransition(a,u,o.from.y,a.from),a.to=e.effects.setTransition(a,u,o.to.y,a.to)),e.effects.save(a,y),a.show(),e.effects.createWrapper(a),a.css("overflow","hidden").css(a.from),g&&(r=e.effects.getBaseline(g,n),a.from.top=(n.outerHeight-a.outerHeight())*r.y,a.from.left=(n.outerWidth-a.outerWidth())*r.x,a.to.top=(n.outerHeight-a.to.outerHeight)*r.y,a.to.left=(n.outerWidth-a.to.outerWidth)*r.x),a.css(a.from),"content"!==m&&"both"!==m||(d=d.concat(["marginTop","marginBottom"]).concat(u),h=h.concat(["marginLeft","marginRight"]),c=s.concat(d).concat(h),a.find("*[width]").each(function(){var i=e(this),n={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};f&&e.effects.save(i,c),i.from={height:n.height*o.from.y,width:n.width*o.from.x,outerHeight:n.outerHeight*o.from.y,outerWidth:n.outerWidth*o.from.x},i.to={height:n.height*o.to.y,width:n.width*o.to.x,outerHeight:n.height*o.to.y,outerWidth:n.width*o.to.x},o.from.y!==o.to.y&&(i.from=e.effects.setTransition(i,d,o.from.y,i.from),i.to=e.effects.setTransition(i,d,o.to.y,i.to)),o.from.x!==o.to.x&&(i.from=e.effects.setTransition(i,h,o.from.x,i.from),i.to=e.effects.setTransition(i,h,o.to.x,i.to)),i.css(i.from),i.animate(i.to,t.duration,t.easing,function(){f&&e.effects.restore(i,c)})})),a.animate(a.to,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){0===a.to.opacity&&a.css("opacity",a.from.opacity),"hide"===p&&a.hide(),e.effects.restore(a,y),f||("static"===v?a.css({position:"relative",top:a.to.top,left:a.to.left}):e.each(["top","left"],function(e,t){a.css(t,function(t,i){var n=parseInt(i,10),r=e?a.to.left:a.to.top;return"auto"===i?r+"px":n+r+"px"})})),e.effects.removeWrapper(a),i()}})},e.effects.effect.scale=function(t,i){var n=e(this),r=e.extend(!0,{},t),o=e.effects.setMode(n,t.mode||"effect"),a=parseInt(t.percent,10)||(0===parseInt(t.percent,10)?0:"hide"===o?0:100),s=t.direction||"both",l=t.origin,c={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()},u={y:"horizontal"!==s?a/100:1,x:"vertical"!==s?a/100:1};r.effect="size",r.queue=!1,r.complete=i,"effect"!==o&&(r.origin=l||["middle","center"],r.restore=!0),r.from=t.from||("show"===o?{height:0,width:0,outerHeight:0,outerWidth:0}:c),r.to={height:c.height*u.y,width:c.width*u.x,outerHeight:c.outerHeight*u.y,outerWidth:c.outerWidth*u.x},r.fade&&("show"===o&&(r.from.opacity=0,r.to.opacity=1),"hide"===o&&(r.from.opacity=1,r.to.opacity=0)),n.effect(r)},e.effects.effect.puff=function(t,i){var n=e(this),r=e.effects.setMode(n,t.mode||"hide"),o="hide"===r,a=parseInt(t.percent,10)||150,s=a/100,l={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()};e.extend(t,{effect:"scale",queue:!1,fade:!0,mode:r,complete:i,percent:o?a:100,from:o?l:{height:l.height*s,width:l.width*s,outerHeight:l.outerHeight*s,outerWidth:l.outerWidth*s}}),n.effect(t)},e.effects.effect.pulsate=function(t,i){var n,r=e(this),o=e.effects.setMode(r,t.mode||"show"),a="show"===o,s="hide"===o,l=a||"hide"===o,c=2*(t.times||5)+(l?1:0),u=t.duration/c,d=0,h=r.queue(),p=h.length;for(!a&&r.is(":visible")||(r.css("opacity",0).show(),d=1),n=1;n<c;n++)r.animate({opacity:d},u,t.easing),d=1-d;r.animate({opacity:d},u,t.easing),r.queue(function(){s&&r.hide(),i()}),p>1&&h.splice.apply(h,[1,0].concat(h.splice(p,c+1))),r.dequeue()},e.effects.effect.shake=function(t,i){var n,r=e(this),o=["position","top","bottom","left","right","height","width"],a=e.effects.setMode(r,t.mode||"effect"),s=t.direction||"left",l=t.distance||20,c=t.times||3,u=2*c+1,d=Math.round(t.duration/u),h="up"===s||"down"===s?"top":"left",p="up"===s||"left"===s,f={},m={},g={},v=r.queue(),y=v.length;for(e.effects.save(r,o),r.show(),e.effects.createWrapper(r),f[h]=(p?"-=":"+=")+l,m[h]=(p?"+=":"-=")+2*l,g[h]=(p?"-=":"+=")+2*l,r.animate(f,d,t.easing),n=1;n<c;n++)r.animate(m,d,t.easing).animate(g,d,t.easing);r.animate(m,d,t.easing).animate(f,d/2,t.easing).queue(function(){"hide"===a&&r.hide(),e.effects.restore(r,o),e.effects.removeWrapper(r),i()}),y>1&&v.splice.apply(v,[1,0].concat(v.splice(y,u+1))),r.dequeue()},e.effects.effect.slide=function(t,i){var n,r=e(this),o=["position","top","bottom","left","right","width","height"],a=e.effects.setMode(r,t.mode||"show"),s="show"===a,l=t.direction||"left",c="up"===l||"down"===l?"top":"left",u="up"===l||"left"===l,d={};e.effects.save(r,o),r.show(),n=t.distance||r["top"===c?"outerHeight":"outerWidth"](!0),e.effects.createWrapper(r).css({overflow:"hidden"}),s&&r.css(c,u?isNaN(n)?"-"+n:-n:n),d[c]=(s?u?"+=":"-=":u?"-=":"+=")+n,r.animate(d,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===a&&r.hide(),e.effects.restore(r,o),e.effects.removeWrapper(r),i()}})},e.effects.effect.transfer=function(t,i){var n=e(this),r=e(t.to),o="fixed"===r.css("position"),a=e("body"),s=o?a.scrollTop():0,l=o?a.scrollLeft():0,c=r.offset(),u={top:c.top-s,left:c.left-l,height:r.innerHeight(),width:r.innerWidth()},d=n.offset(),h=e("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(t.className).css({top:d.top-s,left:d.left-l,height:n.innerHeight(),width:n.innerWidth(),position:o?"fixed":"absolute"}).animate(u,t.duration,t.easing,function(){h.remove(),i()})}});var style=document.createElement("style");style.appendChild(document.createTextNode("/*surcharge de jquery-ui.structure*/ .ui-front {z-index: 1050;} .ui-menu-item>p{margin-bottom: 0;} .ui-menu-item>p+p{font-size: 14px;}")),document.head.appendChild(style),angular.module("AutocompleteJQuery",[]).factory("jQuery",["$window",function(e){return e.jQuery}]).directive("jqAutocomplete",["jQuery","$timeout",function(e,t){return{restrict:"E",replace:!0,template:"<input ng-model='valeur' type='text' />",link:function(i,n,r){var o={minLength:1,cache:!1,select:function(e,r){i.jqModel=r.item,t(function(){n.val(s(r.item))},0)},change:function(e,r){i.jqModel=r.item,t(function(){null!==r.item?n.val(s(r.item)):n.val("")},0)}};if(void 0!==i.jqFctRenderDatas&&(o.create=function(){$(this).data("ui-autocomplete")._renderItem=i.jqFctRenderDatas}),void 0!==i.jqUrl&&void 0!==i.jqDatasLocal)throw"Vous ne pouvez pas utiliser à la fois les attributs jq-url et jq-datas. Vous devez choisir entre une URL et des données locales.";if(void 0===i.jqUrl&&void 0===i.jqDatasLocal)throw"Vous devez utiliser au moins un des attributs jq-url et jq-datas. Vous devez choisir entre une URL et des données locales.";if(void 0!==i.jqDatasLocal){if(!angular.isArray(i.jqDatasLocal))throw"jq-datas doit être un tableau.";o.source=i.jqDatasLocal}if(void 0!==i.jqUrl){if(!angular.isString(i.jqUrl))throw"jq-url doit être une chaine de caractères.";var a=i.jqUrl&&i.jqUrl.trim()||"";a.length>0&&(a+="/"!==a.charAt(a.length-1)?"/":""),o.source=function(t,n){e.ajax({url:a+t.term.trim(),dataType:"json"}).done(function(e){n(void 0!==i.jqFctDatas?i.jqFctDatas(e):e)})}}if(void 0!==i.jqDelay){if(!angular.isNumber(i.jqDelay))throw"jq-delay doit être un nombre.";o.delay=i.jqDelay}e(n).autocomplete(o),i.$watch("jqModel",function(e,t){n.val(s(e)),i.valeur=s(e)});var s=function(e){return null===e||void 0===e?null:e[i.jqItemLabel]||e.label}},scope:{jqModel:"=",jqUrl:"@",jqDatasLocal:"=",jqFctDatas:"=",jqFctRenderDatas:"=",jqItemLabel:"@",jqItemValue:"@",jqDelay:"="}}}]),Date.prototype.getDateFR=function(){var e=this,t=e.getDate(),i=e.getMonth()+1;return t=t<10?"0"+t:t,i=i<10?"0"+i:i,[t,i,e.getFullYear()].join("/")},Date.prototype.getDateTimeFR=function(){var e=this;return this.getDateFR()+" "+[_AffZero(e.getHours()),_AffZero(e.getMinutes())].join(":")},Date.prototype.getWeekNumber=function(){var e=new Date((+this));return e.setHours(0,0,0),e.setDate(e.getDate()+4-(e.getDay()||7)),Math.ceil(((e-new Date(e.getFullYear(),0,1))/864e5+1)/7)},Date.setWeekNumber=function(e,t){e=parseInt(e,10),t=parseInt(t,10);for(var i=1===t?new Date(e-1,11,29,0,0,0,0):new Date(e,0,1,0,0,0,0);i.getWeekNumber()!==t;)if(i.setDate(i.getDate()+1),i.getFullYear()>e)return new Date("Invalid Date");return i},Date.prototype.toSignalR=function(){return this.getMonth()+1+"/"+this.getDate()+"/"+this.getFullYear()},Date.setDateFR=function(e){var t=e.split(/\D/);return new Date(parseInt(t[2],10),parseInt(t[1],10)-1,parseInt(t[0],10))},Date.setDateTimeFR=function(e){var t=e.split(/\D/);return new Date(parseInt(t[2],10),parseInt(t[1],10)-1,parseInt(t[0],10),parseInt(t[3],10),parseInt(t[4],10),t[5]?parseInt(t[5],10):0)};var IsDate=function(e){if(void 0===e||"[object String]"!==Object.prototype.toString.call(e))return!1;var t=new RegExp(/^\d{1,2}\D\d{1,2}\D\d{4}$/),i=e.split(/\D/);if(t.test(e)){var n=new Date(parseInt(i[2],10),parseInt(i[1],10)-1,parseInt(i[0],10));if("Invalid Date"!==n.toString()&&n.getDate()===parseInt(i[0],10)&&n.getMonth()+1===parseInt(i[1],10)&&n.getFullYear()===parseInt(i[2],10))return!0}return!1},IsTime=function(e){var t=new RegExp(/^[0-9]{1,2}\D[0-9]{1,2}$/),i=e.split(/\D/);if(t.test(e)){var n=parseInt(i[0],10),r=parseInt(i[1],10);if(n>=0&&n<=23&&r>=0&&r<=59)return!0}return!1},_AffZero=function(e){return isNaN(e)?e:e<10?"0"+e:""+e},IsFloat=function(e){return!!/^\-?([0-9]+(\.[0-9]+)?|Infinity)$/.test(e)},IsPositiveIntOrNull=function(e){e=$.trim(e);var t=parseInt(e,10);return""===e||!(isNaN(t)||e!==t.toString()||t<0)},PatternHTML=function(e,t){this.Pattern=e||"",this.Data=t||{},this.getString=function(){if(""===this.Pattern)throw"Pattern is empty";var e=this.Data,t=this.Pattern;for(var i in e)t=t.replace(new RegExp("{"+i+"}","g"),e[i]);return t}},Arrondi=function(e,t){return!IsFloat(e)||isNaN(parseFloat(e))?e:(t=Math.abs(parseInt(t,10))||15,parseFloat(parseFloat(e).toFixed(t)))},ParseDate=function(e){var t=/\d{13}[-|+]\d{4}/.exec(e);if(1===t.length){var i=t[0].split(/[-|+]/);i.map(function(e,t,i){return parseInt(e,10)});var n=/[-|+]/.exec(t[0]),r="-"===n[0]?i[0]-i[1]:i[0]+i[1];return new Date(r)}return new Date("Invalid Date")},IsGIENS=function(e){return/^\w{1,}[.]\w{1,}$/.test(e)},IgnoreAccents=function(e){var t=e;return t=t.replace(new RegExp("[àáâãäå]","g"),"a"),t=t.replace(new RegExp("æ","g"),"ae"),t=t.replace(new RegExp("ç","g"),"c"),t=t.replace(new RegExp("[èéêë]","g"),"e"),t=t.replace(new RegExp("[ìíîï]","g"),"i"),t=t.replace(new RegExp("ñ","g"),"n"),t=t.replace(new RegExp("[òóôõö]","g"),"o"),t=t.replace(new RegExp("œ","g"),"oe"),t=t.replace(new RegExp("[ùúûü]","g"),"u"),t=t.replace(new RegExp("[ýÿ]","g"),"y"),t=t.replace(new RegExp("[ÀÁÂÃÄÅ]","g"),"A"),t=t.replace(new RegExp("Æ","g"),"AE"),t=t.replace(new RegExp("ç","g"),"C"),t=t.replace(new RegExp("[ÈÉÊË]","g"),"E"),t=t.replace(new RegExp("[ÌÍÎÏ]","g"),"I"),t=t.replace(new RegExp("Ñ","g"),"N"),t=t.replace(new RegExp("[ÒÓÔÕÖ]","g"),"O"),t=t.replace(new RegExp("Œ","g"),"OE"),t=t.replace(new RegExp("[ÙÚÛÜ]","g"),"U"),t=t.replace(new RegExp("[ÝŸ]","g"),"Y")},ngAriane=angular.module("ngAriane",["ngRoute","ngTouch","ngLocale","ngCookies","angular-datepicker","angucomplete-alt","ngMaterial","ngSanitize","hc.marked","leaflet-directive"]).config(["$mdThemingProvider","$sceDelegateProvider",function(e,t){e.theme("default").primaryPalette("green").warnPalette("red"),t.resourceUrlWhitelist(["self","http://x18srhrgcb7:*/**","http://test.ariane.st.sncf.fr/**","http://ariane.st.sncf.fr/**","http://test.upi.api.arianeinformatique.st.sncf.fr/**","http://upi.api.arianeinformatique.st.sncf.fr/**","http://test.agadir.ariane.st.sncf.fr/api/**","http://agadir.ariane.st.sncf.fr/api/**"])}]);ngAriane.config(["$routeProvider",function(e){e.when("/auth/:cp",{templateUrl:"views/acceuil.html",controller:"Auth"}).when("/gestionFiches",{templateUrl:"views/gestionFiches.html",controller:"Fiches"}).when("/gestionFiches/:onglet",{templateUrl:"views/gestionFiches.html",controller:"Fiches"}).when("/fiche",{templateUrl:"views/fiche.html",controller:"ficheAgadir"}).when("/fiche/:annee/:numFiche",{templateUrl:"views/fiche.html",controller:"ficheAgadir"}).when("/fiche/:annee/:numFiche/:region",{templateUrl:"views/fiche.html",controller:"ficheAgadir"}).when("/notifications/:cp",{templateUrl:"views/notification/notifs.html",controller:"listeNotifs"}).when("/changelog",{templateUrl:"views/changeLog.html",controller:"listeChangeLog"}).when("/djs/:idUser/:annee/:numSemaine",{templateUrl:"views/djs/vueDjs.html",controller:"DjsManager"}).when("/djs/:annee/:numSemaine",{templateUrl:"views/djs/djs3s.html",controller:"Djs3S"}).when("/check/djs/:annee/:numSemaine",{templateUrl:"views/djs/checkDjs.html",controller:"Djs3S"}).when("/pointages/:idUser/:datePointage",{templateUrl:"views/ficheAgadir/listePointages.html",controller:"pointagesJournee"}).when("/pointages/check/:idUser/:datePointage",{templateUrl:"views/djs/checkPointages.html",controller:"pointagesJournee"}).when("/affaire/lire/:annee/:numAffaire",{templateUrl:"views/affaire/ficheAffaire.html",controller:"AffaireNum"}).when("/affaire/creation",{templateUrl:"views/affaire/ficheAffaireCreation.html",controller:"AffaireCreation"}).when("/enquete/:annee",{templateUrl:"views/enquete/index.html",controller:"EnqueteCtrl"}).when("/enqueteform/:annee",{templateUrl:"views/enquete/formulaires.html",controller:"FormsCtrl"}).when("/ewala",{templateUrl:"http://x18srhrgcb7:8044/static/reseau",controller:"ReseauxIP"}).when("/projets",{templateUrl:"views/gestionProjets.html",controller:"GestionProjets"}).otherwise({redirectTo:"/gestionFiches"})}]),window.Highcharts&&Highcharts.setOptions({lang:{months:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],shortMonths:["Jan","Fév","Mar","Avr","Mai","Juin","Juil","Aoû","Sept","Oct","Nov","Déc"],weekdays:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],loading:"Chargement ...",printChart:"Imprimer le graphique",downloadJPEG:"Télécharger l'image au format JPEG",downloadPDF:"Télécharger l'image au format PDF",downloadPNG:"Télécharger l'image au format PNG",downloadSVG:"Télécharger l'image au format SVG",thousandsSep:" "},colors:["#90ed7d","#7cb5ec","#ED561B","#DDDF00","#24CBE5","#64E572","#FF9655","#FFF263","#6AF9C4"],xAxis:{labels:{style:{color:"#000"}}},yAxis:{labels:{style:{color:"#000"}}},credits:{enabled:!1}}),ngAriane.factory("cartoFactory",["$http","cartoService","reseauService","DIURLAPI","AjaxErrorManager",function(e,t,i,n,r){return{getPosteLoc:function(i){return t.datas=[],e({url:"http://x18srhrgcb7:8044/geo/ordinateur",method:"POST",headers:{"Content-Type":"application/json"},responseType:"json",data:i}).success(function(e){if(angular.isArray(e)===!0){var i={};e.forEach(function(e){i[e.ordinateur]={group:"alsace",lng:parseFloat(e.lng),lat:parseFloat(e.lat),focus:!1,draggable:!1,perimetre:e.perimetre,location:e.location,poste:e.ordinateur,label:{message:"",options:{noHide:!0,direction:"auto",clickable:!0}}}}),t.datas=i,t.nb=e.length}else r.Gerer("Erreur lors de la localisation des postes. "+e.message)}).error(function(){r.Gerer("ERREUR le serveur n'a pas pu traiter votre demande de localisation des postes")})},getReseauLoc:function(){return e({url:"http://x18srhrgcb7:8044/reseaux",method:"get",responseType:"json"}).success(function(e){angular.isArray(e)===!0?i.datas=e:r.Gerer("Erreur lors de la localisation des sous-réseaux IP. "+e.message)}).error(function(){r.Gerer("ERREUR le serveur n'a pas pu traiter votre demande de localisation des sous-réseaux IP.")})},updateReseauLoc:function(t){return e({url:"http://x18srhrgcb7:8044/reseau/update",method:"post",headers:{"Content-Type":"application/json"},responseType:"json",data:t}).success(function(){}).error(function(){r.Gerer("ERREUR le serveur n'a pas pu traiter votre demande de mise à jour du sous-réseaux IP.")})}}}]),ngAriane.service("cartoService",function(){return{datas:{},nb:0,cpt:0}}),ngAriane.service("reseauService",function(){return{datas:[]}}),ngAriane.controller("cartographie",["$scope","$routeParams","FichesDispatch","$cookieStore","DAL_AGENT","cartoFactory","cartoService","NOMSPARTIS","agentsService","FicheFactoryCSharp","AjaxErrorManager","$interval","FichesAgent","$timeout",function(e,t,i,n,r,o,a,s,l,c,u,d,h,p){if("cartographie"===t.onglet){e.routeParams=t,e.FichesDispatch=i,e.cartoService=a,e.cookieStore=n,e.isCalling=!1,e.tabToShow={},e.Affect="0",angular.extend(e,{center:{lat:48.2018,lng:7.4954,zoom:8},layers:{baselayers:{mapbox_light:{name:"Mapbox Light",url:"http://api.tiles.mapbox.com/v4/{mapid}/{z}/{x}/{y}.png?access_token={apikey}",type:"xyz",layerOptions:{apikey:"pk.eyJ1IjoiY29kZnJhY3RhbCIsImEiOiJjaXBmazVzZGcwMDFzdWtuaG1kZjFwcnNoIn0.N-CDOaO1-GgjtVfEDnJjRw",mapid:"codfractal.0dej1j0n"}},osm:{name:"OpenStreetMap",url:"http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",type:"xyz"}}},markers:{}}),e.cartographie={isLoading:!0},r.ListeAgentsOrdered(function(t){e.Fiches={Agents:t.filter(function(e){return s.every(function(t){return e.nomPrenom.indexOf(t)===-1})}),AgentsAgent:t.filter(function(e){return("0"===e.cp||e.cp===n.get("agent"))&&s.every(function(t){return e.nomPrenom.indexOf(t)===-1})})}}),e.$watchCollection("FichesDispatch.fiches",function(t,i){void 0!==t&&angular.isArray(t)!==!1&&t.length>0&&e.isCalling===!1&&(e.cartographie.isLoading=!0,e.isCalling=!0,a.cpt++,1!==a.cpt&&location.reload(),e.interPoste=t.map(function(e){return e.poste}),o.getPosteLoc({ordinateurs:e.interPoste}).then(function(i){e.isCalling=!1;for(var n in a.datas)a.datas[n].label.message=t.filter(function(e){return e.poste===a.datas[n].poste}).map(function(e){return e.nFiche.toString()}).join("<br/>");e.perimetre={},e.perimetreAffect=[],e.localisation={},e.localisationAffect=[];for(var r in a.datas){var o=a.datas[r];o.label.message.split("<br/>").forEach(function(i){""!==o.perimetre?(void 0===e.perimetre[o.perimetre]&&(e.perimetre[o.perimetre]=[],e.perimetreAffect.push("0")),e.perimetre[o.perimetre].push(t.filter(function(e){return e.nFiche.toString()===i})[0])):(void 0===e.localisation[o.location]&&(e.localisation[o.location]=[],e.localisationAffect.push("0")),e.localisation[o.location].push(t.filter(function(e){return e.nFiche.toString()===i})[0]))})}e.resultat=a.datas,e.markers=a.datas,e.cartographie.isLoading=!1},function(){e.isCalling=!1,e.cartographie.isLoading=!1}))}),e.$on("leafletDirectiveMarker.click",function(e,t){g(t.model.label.message)}),e.$on("leafletDirectiveLabel.click",function(e,t){g(t.leafletObject._content)}),e.Affectation=function(t){e.cartographie.isLoading=!0;var i={};try{i=l.getDatasFicheForUpdate(t)}catch(i){return e.cartographie.isLoading=!1,t.affectation="0",void u.Gerer("Erreur, le champ projet de la fiche "+t.nFiche+" n'est pas correctement renseigné.")}c.upd(i).success(function(i){1===i.exit_code?(a.nb--,e.tabToShow={},e.Affect="0",t.affectation===n.get("agent")&&h.Nb++,angular.extend(e,{markers:f(e.markers,t.nFiche)}),e.perimetre=m(e.perimetre,t.nFiche),e.localisation=m(e.localisation,t.nFiche)):u.Gerer("Erreur lors de la mise à jour de l'affectation."+i.err_msg),e.cartographie.isLoading=!1}).error(function(){u.Gerer("ERREUR le serveur n'a pas pu traiter votre demande de mise à jour de l'affectation."),e.cartographie.isLoading=!1})},e.AffectationMultiple=function(t,i){e.cartographie.isLoading=!0;var r=0;t.forEach(function(t){t.affectation=i;try{c.upd(l.getDatasFicheForUpdate(t)).success(function(i){r++,1!==i.exit_code?u.Gerer("Erreur lors de la mise à jour de l'affectation."+i.err_msg):(a.nb--,t.affectation===n.get("agent")&&h.Nb++,angular.extend(e,{markers:f(e.markers,t.nFiche)}),e.perimetre=m(e.perimetre,t.nFiche),e.localisation=m(e.localisation,t.nFiche))}).error(function(){r++,u.Gerer("ERREUR le serveur n'a pas pu traiter votre demande de mise à jour de l'affectation."),e.cartographie.isLoading=!1})}catch(e){t.affectation="0",r++,u.Gerer("Erreur, le champ projet de la fiche "+t.nFiche+" n'est pas correctement renseigné.")}});var o=d(function(){r===t.length&&(d.cancel(o),e.tabToShow={},e.Affect="0",e.localisationAffect.forEach(function(e,t,i){i[t]="0"}),e.perimetreAffect.forEach(function(e,t,i){i[t]="0"}),e.cartographie.isLoading=!1)},100)};var f=function(e,t){var i={};for(var n in e)e[n].label.message.toString()!==t.toString()&&(i[n]=e[n]);return i},m=function(e,t){for(var i in e)e[i]=e[i].filter(function(e){return e.nFiche.toString()!==t.toString()}),0===e[i].length&&delete e[i];return e},g=function(t){e.tabToShow=v(t),p(function(){t.split("<br/>").forEach(function(e){var t=document.getElementById(e);t.scrollIntoView(!1),t.classList.add("PAGT08882"===n.get("agent")?"raimbow":"beating"),p(function(){t.classList.remove("PAGT08882"===n.get("agent")?"raimbow":"beating")},3e3)})},500)},v=function(t){for(var i in e.perimetre){var n=e.perimetre[i].filter(function(e){return t.toString()===e.nFiche.toString()});if(0!==n.length)return{perimetre:i,datas:e.perimetre[i].sort(function(e,i){return e.nFiche.toString()===t.toString()?-1:1})}}for(var i in e.localisation){var n=e.localisation[i].filter(function(e){return t.toString()===e.nFiche.toString()});if(0!==n.length)return{localisation:i,datas:e.localisation[i].sort(function(e,i){return e.nFiche.toString()===t.toString()?-1:1})}}}}}]),ngAriane.controller("ReseauxIP",["$scope","cartoFactory","reseauService",function(e,t,i){e.reseauip={isLoading:!0,MAJToDo:{}},e.reseauService=i,t.getReseauLoc().then(function(){e.reseauip.isLoading=!1,e.reseauService.datas.forEach(function(t,i,n){e.$watchCollection("reseauService.datas["+i+"]",function(t,i){angular.equals(t,i)||(e.reseauip.MAJToDo[t.idSite]=t)})})},function(){e.reseauip.isLoading=!1}),e.majReseau=function(){if("{}"!==JSON.stringify(e.reseauip.MAJToDo)){for(var i in e.reseauip.MAJToDo)t.updateReseauLoc(e.reseauip.MAJToDo[i]).then(function(){$.notify("Modification effectuée !","success")},function(){$.notify("Modification non effectuée !","error")});e.reseauip.MAJToDo={}}}}]),ngAriane.directive("arAffectation",[function(){return{restrict:"E",replace:!1,template:'<select class="form-control"                ng-if="arCdtAff1"                ng-model="arModel"                ng-options="agent.cp as agent.nomPrenom for agent in arListAgents1"                ng-change="arAffecte($event)"                ng-disabled="arCdtDisabled1"                tabindex="scope.arTabindex"></select>            <select class="form-control"                ng-if="arCdtAff2"                ng-model="arModel"                ng-options="agent.cp as agent.nomPrenom for agent in arListAgents2"                ng-change="arAffecte($event)"                ng-disabled="arCdtDisabled2"                tabindex="arTabindex"></select>',
link:function(e,t,i){if(void 0===e.arAffecte)throw"ar-affecte needed!";if(void 0===e.arModel)throw"ar-model needed!";if(void 0===e.arListAgents1)throw"ar-list-agents1 needed!";if(void 0===e.arListAgents2)throw"ar-list-agents2 needed!";if(void 0===e.arCdtAff1)throw"ar-cdt-aff1 needed!";if(void 0===e.arCdtAff2)throw"ar-cdt-aff2 needed!";if(void 0===e.arCdtDisabled1)throw"ar-cdt-disabled1 needed!";if(void 0===e.arCdtDisabled2)throw"ar-cdt-disabled2 needed!"},scope:{arModel:"=",arListAgents1:"=",arListAgents2:"=",arCdtAff1:"=",arCdtAff2:"=",arCdtDisabled1:"=",arCdtDisabled2:"=",arAffecte:"=",arTabindex:"@"}}}]),ngAriane.provider("URLBuilder",function(){function e(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,t?"%20":"+")}function t(t,i){if(!i)return t;var n=[];return angular.forEach(i,function(t,i){null===t||angular.isUndefined(t)||(angular.isArray(t)||(t=[t]),angular.forEach(t,function(t){angular.isObject(t)&&(t=angular.toJson(t)),n.push(e(i)+"="+e(t))}))}),t+(t.indexOf("?")==-1?"?":"&")+n.join("&")}this.$get=function(){return{build:function(e,i){return t(e,i)}}}}),ngAriane.constant("TokenPivotal","adc86f99db39b01ba39ce8f367374f0b"),ngAriane.constant("Region",18),ngAriane.constant("Annee",2014),ngAriane.value("RPreStag",/^(P|S)/i),ngAriane.constant("NOMSPARTIS",["KOCHER","RUFFIO","WALTER","ERB","MOTTIN"]),ngAriane.constant("NOMSPRESTATAIRES",["GOUNOT","JUANES","WEYERS","HOFFMAN","ERB"]),ngAriane.value("CreateThisFiche",{value:!1}),ngAriane.filter("sum",function(){return function(e){return e.reduce(function(e,t,i,n){return void 0!==e.duree?e.duree+t.duree:e+t})}}),ngAriane.filter("MultiFiltre",["$filter","DIFilteredData",function(e,t){return function(e,i){if(0!==e.length){var n={data:e,filteredData:[],applyFilters:function(t){this.filteredData=e.filter(function(e,i,n){var r=!0;for(var o in t)if(angular.isString(t[o])||angular.isNumber(t[o]))r&&(void 0!==e[o]?e[o]!==t[o]&&(r=!1):console.warn("field",o," does not exist"));else if(angular.isArray(t[o])&&r){var a=0,s=0;t[o].forEach(function(t,i,n){"[object Object]"===Object.prototype.toString.call(t)?t.value===!0&&(a++,e[o]!==t.libelle&&s++):(a++,e[o]!==t&&s++)}),s===a&&(r=!1)}if(r)return e})}};return i&&n.applyFilters(i),t.datas=n.filteredData,n.filteredData}}}]),ngAriane.factory("AgentsListFactory",["$http","DIURLAPI","AjaxErrorManager",function(e,t,i){return{getAgents:function(n){return e({url:t.URLapi+"agent",method:"GET",params:{format:"json"}}).success(n).error(function(e,t,n,r){i.Gerer(e,t,n,r,"La communication avec le serveur a échoué lors de la récupération de la liste des agents.")})}}}]),ngAriane.factory("FicheFactory",["$http","DIURLAPI","Region","AjaxErrorManager",function(e,t,i,n){return{LireFiche:function(r,o,a){return e({url:t.URLapiFiche+"fiches/lecture/"+i+"/"+r+"/"+o,method:"GET",params:{format:"json"}}).success(a).error(function(e,t,i,r){n.Gerer(e,t,i,r,"La communication avec le serveur a échoué lors de la récupération de la fiche "+o+".")})},CreerFiche:function(i,r){var o=i;return o.Fiche.DemandeurCP=i.Fiche.DemandeurCP.originalObject.cp,o.Fiche.Poste=i.Fiche.Poste.description.value,o.Fiche.Projet=i.Fiche.Projet.description.guid,e({url:t.URLapiFiche+"fiches/ajout/",data:o,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(r).error(function(e,t,i,r){n.Gerer(e,t,i,r,"La communication avec le serveur a échoué lors de création de la fiche.")})},UpdFiche:function(r,o,a,s){var l=a;return l.NFiche=o,l.Annee=r,l.Region=i,l.Fiche.DemandeurCP=void 0!==a.Fiche.DemandeurCP.originalObject?a.Fiche.DemandeurCP.originalObject.cp:a.Fiche.DemandeurCP,l.Fiche.Poste=void 0!==a.Fiche.Poste.description?a.Fiche.Poste.description.value:a.Fiche.Poste,l.Fiche.Projet=void 0!==a.Fiche.Projet.description?a.Fiche.Projet.description.guid:a.Fiche.Projet,e({url:t.URLapiFiche+"fiches/modification/",data:l,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(s).error(function(e,t,i,r){n.Gerer(e,t,i,r,"La communication avec le serveur a échoué lors de la modification de la fiche ")})},ClotureFiche:function(r,o,a){var s={NFiche:o,Annee:r,Region:i};return e({url:t.URLapiFiche+"fiches/cloturer/",data:s,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(a).error(function(e,t,i,r){n.Gerer(e,t,i,r,"La communication avec le serveur a échoué lors de la clôturation de la fiche.")})}}}]),ngAriane.factory("PointagesFactory",["$http","DIURLAPI","Region","AjaxErrorManager",function(e,t,i,n){return{LirePointage:function(r,o,a){return e({url:t.URLapiFiche+"pointages/lecture/"+i+"/"+r+"/"+o,method:"GET",params:{format:"json"}}).success(a).error(function(e,t,i,r){n.Gerer(e,t,i,r,"La communication avec le serveur a échoué lors de la récupération de la liste des pointages de la fiche "+o+".")})},AjouterPointage:function(r,o,a,s){var l={NFiche:o,Annee:r,Region:i,Pointage:a};return e({url:t.URLapiFiche+"pointages/ajout/",data:l,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(s).error(function(e,t,i,r){n.Gerer(e,t,i,r,"La communication avec le serveur a échoué lors de la création du pointage de la fiche "+o+".")})}}}]),ngAriane.factory("Etats",["$http","DIURLAPI",function(e,t){return{Lire:function(){return e({url:t.URLMongo+"etat/lecture",params:{format:"json"},method:"GET"})}}}]),ngAriane.factory("AgentsADFactory",["$http","DIURLAPI",function(e,t){return{getAgent:function(i){return e({url:t.URLapiRemote+"agent/recherche/all/"+i,params:{format:"json"},method:"GET",responseType:"JSON"})},getAgentAll:function(i){return e({url:t.URLapiRemote+"agent/recherche/all/"+i,params:{format:"json"},method:"GET",responseType:"JSON"})}}}]),ngAriane.factory("PosteADFactory",["$http","DIURLAPI",function(e,t){return{getPoste:function(i){return e({url:t.URLapiRemote+"ordinateur/recherche/"+i,params:{format:"json"},method:"GET",responseType:"JSON"})}}}]),ngAriane.factory("PosteGeminiFactory",["$http","DIURLAPI",function(e,t){return{getPoste:function(i){return e({url:t.URLGemini+"materiel/"+i,params:{format:"json"},method:"GET",responseType:"JSON"})}}}]),ngAriane.factory("SanteParcFactory",["$http","DIURLAPI",function(e,t){return{getSanteParcHisto:function(i){return e({url:t.URLapiSanteParc+"config/"+i,params:{format:"json"},method:"GET",responseType:"JSON"})},getSanteParcLiveCompte:function(i){return e({url:t.URLapiSanteParc+"infos/user/"+i,params:{format:"json"},method:"GET",responseType:"JSON"})},getSanteParcLivePoste:function(i){return e({url:t.URLapiSanteParc+"infos/computer/"+i,params:{format:"json"},method:"GET",responseType:"JSON"})}}}]),ngAriane.factory("Login",["$http","DIURLAPI",function(e,t){return{getUserByPoste:function(i){return e({url:t.URLapiSanteParc+"login/poste/"+i,params:{format:"json"},method:"GET",responseType:"JSON"})},getPosteByUser:function(i){return e({url:t.URLapiSanteParc+"login/user/"+i,params:{format:"json"},method:"GET",responseType:"JSON"})}}}]),ngAriane.factory("ForceFactory",["$http","DIURLAPI",function(e,t){return{CreateFiche:function(i){return e({url:t.URLapiNancy+"agadir/register",method:"POST",headers:{"Content-Type":"application/json"},responseType:"json",data:i})}}}]),ngAriane.factory("FicheFactoryCSharp",["$http","DIURLAPI",function(e,t){return{add:function(i){return e({url:t.URLapiNancy+"fiche/add",method:"POST",headers:{"Content-Type":"application/json"},responseType:"json",data:i})},upd:function(i){return e({url:t.URLapiNancy+"fiche/update",method:"POST",headers:{"Content-Type":"application/json"},responseType:"json",data:i})},get:function(i,n,r){return e({url:t.URLapiNancy+"fiche/"+r+"/"+i+"/"+n,method:"GET",params:{format:"json"},responseType:"json"})},getPrio:function(){return e({url:t.URLapiNancy+"fiches/prioritaire",method:"GET",params:{format:"json"},responseType:"json"})}}}]),ngAriane.factory("PointageFactoryCSharp",["$http","DIURLAPI",function(e,t){return{add:function(i){return e({url:t.URLapiNancy+"pointage/add",method:"POST",headers:{"Content-Type":"application/json"},responseType:"json",data:i})},upd:function(i){return e({url:t.URLapiNancy+"pointage/update",method:"POST",headers:{"Content-Type":"application/json"},responseType:"json",data:i})},cloture:function(i){return e({url:t.URLapiNancy+"pointage/cloture",method:"POST",headers:{"Content-Type":"application/json"},responseType:"json",data:i})},del:function(i){return e({url:t.URLapiNancy+"pointage/delete",method:"POST",headers:{"Content-Type":"application/json"},responseType:"json",data:i})},read:function(i){return e({url:t.URLapiNancy+"pointage/",method:"POST",headers:{"Content-Type":"application/json"},responseType:"json",data:i})}}}]),ngAriane.factory("ProjetFactoryCSharp",["$http","DIURLAPI",function(e,t){return{add:function(i){return e({url:t.URLapiNancy+"pointage/add",method:"POST",headers:{"Content-Type":"application/json"},responseType:"json",data:i})},Update:function(i){return e({url:t.URLapiNancy+"projets/update",method:"POST",headers:{"Content-Type":"application/json"},responseType:"json",data:i})},del:function(i){return e({url:t.URLapiNancy+"pointage/delete",method:"POST",headers:{"Content-Type":"application/json"},responseType:"json",data:i})},Lire:function(){return e({url:t.URLapiNancy+"projets",params:{format:"json"},method:"GET"})},NomencsLire:function(){return e({url:t.URLapiNancy+"nomenclatures",params:{format:"json"},method:"GET"})}}}]),ngAriane.factory("ChangeLogFactoryCSharp",["$http","DIURLAPI",function(e,t){return{add:function(i){return e({url:t.URLapiNancy+"changelog/add",method:"POST",headers:{"Content-Type":"application/json"},responseType:"json",data:i})},upd:function(i){return e({url:t.URLapiNancy+"changelog/update",method:"POST",headers:{"Content-Type":"application/json"},responseType:"json",data:i})},del:function(i){return e({url:t.URLapiNancy+"changelog/delete",method:"POST",headers:{"Content-Type":"application/json"},responseType:"json",data:i})},Lire:function(){return e({url:t.URLapiNancy+"changelog/last",params:{format:"json"},method:"GET"})},LireAll:function(){return e({url:t.URLapiNancy+"changelog",params:{format:"json"},method:"GET"})}}}]),ngAriane.factory("AgentFactoryCSharp",["$http","DIURLAPI",function(e,t){return{upd:function(i){return e({url:t.URLapiNancy+"agents/update",method:"POST",headers:{"Content-Type":"application/json"},responseType:"json",data:i})}}}]),ngAriane.factory("AffairesFactory",["$http","DIURLAPI",function(e,t){return{getAll:function(){return e({url:t.URLapiNancy+"affaires",method:"GET",responseType:"json"})},create:function(i){return e({url:t.URLapiNancy+"affaire/ajout",method:"POST",data:i,headers:{"Content-Type":"application/json"}})},update:function(i){return e({url:t.URLapiNancy+"affaire/update",method:"POST",data:i,headers:{"Content-Type":"application/json"}})},get:function(i){return e({url:t.URLapiNancy+"affaire/"+i.annee+"/"+i.numAffaire,method:"GET",responseType:"json"})},getMiennes:function(i){return e({url:t.URLapiNancy+"affaires/"+i,method:"GET",responseType:"json"})},addPointage:function(i){return e({url:t.URLapiNancy+"pointage/add",method:"POST",data:i,headers:{"Content-Type":"application/json"}})}}}]),ngAriane.factory("FichesFactory",["$http","DIURLAPI",function(e,t){return{GetAll:function(){return e({url:t.URLapiNancy+"fiches",method:"POST",headers:{"Content-Type":"application/json"},responseType:"json",data:{}})}}}]),ngAriane.factory("UploadFatcory",["$http","DIURLAPI",function(e,t){return{UploadFileInfos:function(i){return e({url:t.URLapiUpload+"upload/register",method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},params:{format:"json"},data:i,responseType:"JSON"})},UploadFileDatas:function(i,n){return e({url:t.URLapiUpload+"upload/file/"+i,method:"POST",headers:{"Content-Type":"multipart/form-data; charset=UTF-8"},params:{format:"json"},data:n,responseType:"JSON"})},GetFileList:function(i){return e({url:t.URLapiUpload+"list/"+i.annee+"/"+i.numFiche,method:"GET",params:{format:"json"},responseType:"JSON"})}}}]),ngAriane.factory("CheckModalDjs",["DAL_DJS","JoursName","$cookieStore",function(e,t,i){var n=this;return n.CheckGetModal=function(t){t[0].cp===i.get("agent")&&e.LireDJS({cp:t[0].cp,annee:t[0].date.getFullYear(),semaine:t[0].date.getWeekNumber()}).success(function(e){1===e.exit_code?(t.forEach(function(e){n.lesJoursPointer.push(e.date)}),e.djs.cpActeur=i.get("agent"),delete e.djs.verrouiller,delete e.djs.cloturer,delete e.djs.valider,n.show(e.djs)):console.log("N'a pas pu checker la djs")})},n.lesJoursPointer=[],n.lesJoursAVerrouiller=[],n.djs={},n.show=function(e){n.djs=e,n.lesJoursPointer.forEach(function(e){n.djs.lesJours[t.joursName[e.getDay()]].minutesRestantes<=0&&n.lesJoursAVerrouiller.push(e)}),n.lesJoursPointer=[],n.lesJoursAVerrouiller.length>1?$("#modal-multiple-verrouillage-djs").modal({backdrop:"static",keyboard:!1}):1===n.lesJoursAVerrouiller.length&&$("#modal-verrouillage-djs").modal({backdrop:"static",keyboard:!1})},n}]),ngAriane.factory("FctValidationDpx",["DatasAgents","SignalrRequest",function(e,t){var i=this;return i.NotifierDpx=function(i,n){var r=[],o={};e.liste.forEach(function(e){o[e.cp]=e});for(var a in o)"Encadrement"===o[a].habilitation&&o[a].secteur===o[i].secteur&&r.push(o[a].cp);"Encadrement"!==o[i].habilitation&&t.NotifDpxJournéeVerrouiller(r,o[i].nomPrenom,i,n)},i}]),ngAriane.factory("SignalrRequest",["jQuery","DIURLAPI",function(e,t){e.connection.hub.url=t.URLsignalR+"signalr";var i=e.connection.notificateur;return{AffectationFiche:function(t,n,r){return e.connection.hub.start().done(function(){i.server.affectationFiche(t,n,r)})},SignalementPtg:function(t,n){return e.connection.hub.start().done(function(){i.server.notifSignalementPtg(t,n)})},"NotifDpxJournéeVerrouiller":function(t,n,r,o){return e.connection.hub.start().done(function(){i.server.notifPersoJournee(t,"dpxVerrouiller",n,r,o)})},CreationFiche:function(t,n){return e.connection.hub.start().done(function(){i.server.creationFiche(t,n)})},ClotureFiche:function(t,n){return e.connection.hub.start().done(function(){i.server.cloturationFiche(t,n)})}}}]),ngAriane.factory("SignalrRouteur",["$location","AjaxErrorManager","$cookieStore","FichesAgent","DISumFiche","$timeout","DatasFicheAgadir","DatasProjets","DatasAgents","DatasDJS","DatasHistoPoste","DatasPtgJour","$route","CreateThisFiche","graphService","NotifierService","RetNumService",function(e,t,i,n,r,o,a,s,l,c,u,d,h,p,f,m,g){var v=function(t,i){switch(t){case"creation":o(function(){f.reload++},0);break;case"cloturation":o(function(){f.reload++},0);break;case"affectation":var n={header:"Affectation de fiche",body:"La fiche N°"+i.numFiche+" vous a été affectée.",link:"fiche/"+i.annee+"/"+i.numFiche,icon:"./images/channel_ariane.svg"};o(function(){f.reload++,m.list.push(n)},0);var r=new Notification(n.header,{body:n.body,icon:"./images/channel_ariane.svg"});r.onclick=function(t){o(function(){e.path(n.link)},0)};break;case"dpxVerrouiller":var a=new Date(i.date).getDateFR(),s=a.replace(new RegExp("/","g"),"-");console.log(s);var n={header:"Journée verrouillé",body:"La journée du "+a+" de l'agent "+i.agent+" a été verrouillé.",link:"pointages/"+i.cpAgent+"/"+s,icon:"./images/channel_ariane.svg"};o(function(){m.list.push(n)},0);var r=new Notification(n.header,{body:n.body,icon:"./images/channel_ariane.svg"});r.onclick=function(t){o(function(){e.path(n.link)},0)};break;case"enquete":var a=new Date(i.date).getDateFR(),n={header:"Enquête satisfaction",body:"La fiche N°"+i.numFiche+" de l'agent "+i.agent+" a reçu une note de "+i.moyenne+"/5.",link:"fiche/"+i.annee+"/"+i.numFiche,icon:"./images/channel_ariane.svg"};o(function(){m.list.push(n)},0);var r=new Notification(n.header,{body:n.body,icon:"./images/channel_ariane.svg"});r.onclick=function(t){o(function(){e.path(n.link)},0)};break;case"Signalement":var a=new Date(i.date).getDateFR(),s=a.replace(new RegExp("/","g"),"-");console.log(s);var n={header:"Pointage invalide",body:"Un pointage du "+a+" a été signalé comme invalide.",link:"pointages/"+i.To+"/"+s,icon:"./images/channel_ariane.svg"};o(function(){m.list.push(n)},0);var r=new Notification(n.header,{body:n.body,icon:"./images/channel_ariane.svg"});r.onclick=function(t){o(function(){e.path(n.link)},0)};break;case"retourNum":o(function(){g.list.push(i)},0);break;default:console.log("aucun traitement",arguments)}};return{TraiteDatas:function(e){e=JSON.parse(e),void 0!==e.To&&void 0!==e.Event?(console.log(e),e.To.indexOf(i.get("agent"))>-1||e.To===i.get("agent")||"*"===e.To?v(e.Event,e):console.info("Opérateur tiers: ",e.To,"!==",i.get("agent"))):(console.warn("Données incomplètes: ",e),t.Gerer("Erreur de communication avec le serveur. Votre requête ne peut aboutir."))}}}]),ngAriane.factory("NotificationFactory",["$http","DIURLAPI",function(e,t){return{List:function(i){return e({url:t.URLapiNancy+"agents/"+i,method:"get",params:{format:"json"},responseType:"JSON"})}}}]),ngAriane.factory("EnqueteFactory",["$http","enqueteService","enqueteFormService","AjaxErrorManager","DIURLAPI",function(e,t,i,n,r){return{add:function(t){return e({url:r.URLapiEnquete+"create",method:"POST",headers:{"Content-Type":"application/json"},responseType:"json",data:t})},getEnqueteByYear:function(i){return e({url:r.URLapiEnquete+"enquete/"+i,method:"get",params:{format:"json"},responseType:"json"}).success(function(e){1===e.exit_code||0===e.colNumber?t.datas=e:n.Gerer("Erreur lors de la récupération de l'enquête satisfaction. "+e.err_msg)}).error(function(){n.Gerer("ERREUR, le serveur n'a pas pu traiter votre demande de récupération de l'enquête satisfaction.")})},getNoteByFiche:function(i,o){return e({url:r.URLapiEnquete+"ariane/"+i+"/"+o,method:"get",params:{format:"json"},responseType:"json"}).success(function(e){1===e.exit_code?t.fiche={EnqueteSatisfaction:e.EnqueteSatisfaction,QuestionsTitle:"Note: "+e.Note+"/5\nDétails:\n"+e.EnqueteSatisfaction.Questions.map(function(e){return e.Note+"/5 : "+e.Libelle}).join("\n"),Note:e.Note,Commentaire:""!==e.EnqueteSatisfaction.Commentaire.trim()?"Commentaire:\n"+e.EnqueteSatisfaction.Commentaire:void 0,Libelle:"L'utilisateur n'a pas souhaité remplir l'enquête."}:0!==e.err_msg.indexOf("Aucune note")?n.Gerer("Erreur lors de la récupération de la note de la fiche. "+e.err_msg):t.fiche={EnqueteSatisfaction:null,Note:null}}).error(function(){n.Gerer("ERREUR le serveur n'a pas pu traiter votre demande de récupération de note de la fiche.")})},getQuestionEnquete:function(){return e({url:r.URLapiEnquete+"enquete/questions",method:"get",params:{format:"json"},responseType:"json"}).success(function(e){1===e.exit_code?t.questions={Questions:e.questions}:0!==e.err_msg.indexOf("Aucune note")?n.Gerer("Erreur lors de la récupération des questions de l'enquête. "+e.err_msg):t.questions={Questions:null}}).error(function(){n.Gerer("ERREUR le serveur n'a pas pu traiter votre demande de récupération de commentaire d'enquête.")})},getCommentaireEnquete:function(i){return e({url:r.URLapiEnquete+"enquete/"+i+"/commentaire",method:"get",params:{format:"json"},responseType:"json"}).success(function(e){1===e.exit_code?t.fiche={Commentaires:e.commentaires,CommentaireTitle:"Libelle: \n"+e.commentaires.map(function(e){return e.libelle+"/5 : "+e.nombre}).join("\n"),NombreRepondu:e.nbRepondu,NombreAttenteReponse:e.nbEnAttenteReponse,NombreTotal:e.nbTotal,NombreNonRenseigne:e.nbNonRenseigne,NombreInferieurMoyenne:e.nbInferieurMoyenne}:0!==e.err_msg.indexOf("Aucune note")?n.Gerer("Erreur lors de la récupération des commentaires de l'enquête. "+e.err_msg):t.fiche={EnqueteSatisfaction:null,Note:null}}).error(function(){n.Gerer("ERREUR le serveur n'a pas pu traiter votre demande de récupération de commentaire d'enquête.")})},getFormByYear:function(t){return e({url:r.URLapiEnquete+"questionnaire/"+t,method:"get",params:{format:"json"},responseType:"json"}).success(function(e){1===e.exit_code?i.datas=e:n.Gerer("Erreur lors de la récupération du questionnaire. "+e.err_msg)}).error(function(){n.Gerer("ERREUR, le serveur n'a pas pu traiter vorte demande de récupération du questionnaire.")})},createQuestionnaire:function(i,o){return e({url:r.URLapiEnquete+"questionnaire/create",data:i,method:"post",headers:{"Content-Type":"application/json"},responseType:"json"}).success(function(e){1===e.exit_code?(e.questionnaire.show=!0,e.questionnaire.check=e.questionnaire.actif,e.questionnaire.actif===!0&&t.forms.forEach(function(e){e.actif=!1}),t.forms[o]=e.questionnaire):n.Gerer("Erreur lors de la création du questionnaire. "+e.err_msg)}).error(function(){n.Gerer("ERREUR, le serveur n'a pas pu traiter vorte demande de création du questionnaire.")})},updateQuestionnaire:function(i){return e({url:r.URLapiEnquete+"questionnaire/update",data:i,method:"post",headers:{"Content-Type":"application/json"},responseType:"json"}).success(function(e){1===e.exit_code?(e.questionnaire.show=!0,e.questionnaire.check=e.questionnaire.actif,e.questionnaire.actif===!0&&t.forms.forEach(function(e){e.actif=!1}),t.forms.forEach(function(t,i,n){t._id===e.questionnaire._id&&(n[i]=e.questionnaire)})):n.Gerer("Erreur lors de la création du questionnaire. "+e.err_msg)}).error(function(){n.Gerer("ERREUR, le serveur n'a pas pu traiter vorte demande de création du questionnaire.")})},getForms:function(i){return e({url:r.URLapiEnquete+"questionnaire/"+i,method:"get",params:{format:"json"},responseType:"json"}).success(function(e){1===e.exit_code?t.forms=e.questionnaires.map(function(e,t,i){return e.show=e.actif,e.check=e.actif,e}):n.Gerer("Erreur lors de la récupération des formulaires. "+e.err_msg)}).error(function(){n.Gerer("ERREUR, le serveur n'a pas pu traiter votre demande de récupération des formulaires.")})}}}]),ngAriane.factory("jQuery",["$window",function(e){return e.jQuery}]),ngAriane.factory("CPtoNAME",["$http","DIURLAPI",function(e,t){return{GetFullName:function(i,n){return e({url:t.URLapi+"agent/search/"+i,method:"GET"}).success(function(e){n(e[i.toUpperCase()])}).error(function(){console.log("ERREUR lors de la récupération du nom de l'agent connecté",arguments)})}}}]),ngAriane.factory("EnqueteSatisfactionFactory",["$http","DIURLAPI",function(e,t){return{Lire:function(i,n){return e({url:t.URLapiEnquete+"ariane/"+i+"/"+n,params:{format:"json"},method:"GET"})}}}]),ngAriane.factory("AgadirDominator",["$http","DIURLAPI",function(e,t){return{LireLesDJS:function(i,n){return e({url:t.URLapiAgadir+"pointage/lecture/djs/"+i+"/"+n,method:"GET",responseType:"json"})},LirePtg:function(i,n){return e({url:t.URLapiAgadir+"pointage/lecture/"+i+"/"+n,method:"GET",responseType:"json"})},CPtg:function(i){return e({url:t.URLapiAgadir+"pointage/creation",method:"POST",headers:{"Content-Type":"application/json"},responseType:"json",data:i})}}}]),ngAriane.factory("AgentsFactory",["agentsService","$http","DIURLAPI","AjaxErrorManager",function(e,t,i,n){return{getDpxPrioritaires:function(){return t({url:i.URLVip+"vip",method:"get",responseType:"json"}).success(function(t){e.dpxPrioritaires=t}).error(function(){n.Gerer("ERREUR le serveur n'a pas pu traiter votre demande de récupération des DPX infra.")})}}}]),ngAriane.service("DIURLAPI",function(){return{URLMongo:"http://x18srhrgcb7:8069/",URLsignalR:"http://comet.ariane.st.sncf.fr/",URLapi:"http://x18srhrgcb7:8084/",URLapiRemote:"http://x18srhrgcb7:8096/",URLapiSanteParc:"http://x18srhrgcb7:8097/",URLapiFiche:"http://x18srhrgcb7:8098/",URLapiUpload:"http://x18srhrgcb7:8099/",URLapiNancy:0===location.host.indexOf("test.")||0===location.host.indexOf("localhost")?"http://test.upi.api.arianeinformatique.st.sncf.fr/":"http://upi.api.arianeinformatique.st.sncf.fr/",URLapiAgadir:0===location.host.indexOf("test.")||0===location.host.indexOf("localhost")?"http://test.agadir.ariane.st.sncf.fr/api/":"http://agadir.ariane.st.sncf.fr/api/",URLapiEnquete:"http://x18srhrgcb7:8071/",URLGemini:"http://gemini.ariane.st.sncf.fr/api/",URLapiAgadirDominator:"http://agadir.ariane.st.sncf.fr/api/",URLVip:"http://x18srhrgcb7:8095/",URLGeoLoc:0===location.host.indexOf("localhost")?"http://localhost:57384/":"http://x18srhrgcb7:8044/"}}),ngAriane.service("DIFilteredData",function(){return{datas:[]}}),ngAriane.service("AjaxErrorManager",function(){var e=this;e.Infos=null,e.Gerer=function(t,i,n,r,o){null===e.Infos&&(e.Infos={data:null,status:null,headers:null,config:null,msg:[]}),1===arguments.length?e.Infos.msg.push(arguments[0]):e.Infos={data:t,status:i,headers:n,config:r,msg:[o]},console.warn("Détails de l'erreur",arguments)},e.RAZ=function(){e.Infos=null}}),ngAriane.service("DatasDJS",function(){return{Semaine:{},reload:0}}),ngAriane.service("DatasProjets",function(){return{liste:[]}}),ngAriane.service("DatasEtats",function(){return{liste:[]}}),ngAriane.service("JoursName",function(){return{joursName:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"]}}),ngAriane.service("WorkersFiches",function(){var e=new Worker("scripts/workers/AJAXpostWorkerFiches.js"),t=new Worker("scripts/workers/AJAXpostWorkerFiches.js"),i=(new Worker("scripts/workers/AJAXpostWorkerFiches.js"),new Worker("scripts/workers/AJAXpostWorkerFiches.js")),n=new Worker("scripts/workers/AJAXpostWorkerFiches.js"),r=new Worker("scripts/workers/AJAXpostWorkerFiches.js"),o=new Worker("scripts/workers/AJAXpostWorkerFiches.js");return{MesFiches:e,Toutes:t,Dispatch:i,BO:n,Attente:r,Recherche:o}}),ngAriane.service("DateService",function(){var e=new Date;return e.setHours(0,0,0,0),{today:{Date:e,dateFr:e.getDateFR().replace(new RegExp("/","g"),"-"),year:e.getFullYear(),weekNum:e.getWeekNumber()}}}),ngAriane.service("djsCounter",function(){var e={dateDeb:null,dateFin:null,numSemaineEncoreAvant:0,numSemaineAvant:0,numSemaineEnCours:0,numSemaineApres:0,numSemaineEncoreApres:0,anneeEncoreAvant:0,anneeAvant:0,anneeEnCours:0,anneeApres:0,anneeEncoreApres:0},t=function(e){var t=null;t=angular.isDate(e)?new Date(e):new Date;var i=t.getDay();return 0===i?t.setDate(t.getDate()-6):t.setDate(t.getDate()-i+1),t.setHours(0,0,0,0),t};return e.setDate=function(i){angular.isDate(i)===!1&&(i=new Date),i=t(i);var n=new Date(i);n.setHours(0,0,0,0);var r=new Date(n),o=new Date(n),a=new Date(n),s=new Date(n);r.setDate(n.getDate()-14),o.setDate(n.getDate()-7),a.setDate(n.getDate()+7),s.setDate(n.getDate()+14),e.anneeEncoreAvant=r.getFullYear(),e.numSemaineEncoreAvant=r.getWeekNumber(),e.anneeAvant=o.getFullYear(),e.numSemaineAvant=o.getWeekNumber(),e.anneeEnCours=n.getFullYear(),e.numSemaineEnCours=n.getWeekNumber(),e.anneeApres=a.getFullYear(),e.numSemaineApres=a.getWeekNumber(),e.anneeEncoreApres=s.getFullYear(),e.numSemaineEncoreApres=s.getWeekNumber(),e.dateDeb=n,e.dateFin=new Date(n),e.dateFin.setDate(n.getDate()+6)},e.nextWeek=function(i){var n,r,o;n=t(angular.isDate(i)===!0?i:e.dateDeb),r=new Date(n),e.numSemaineAvant=r.getWeekNumber(),e.anneeAvant=r.getFullYear(),n.setDate(n.getDate()+7),e.numSemaineEnCours=n.getWeekNumber(),e.anneeEnCours=n.getFullYear(),o=new Date(n),o.setDate(n.getDate()+7),e.numSemaineApres=o.getWeekNumber(),e.anneeApres=o.getFullYear(),e.dateDeb=n,e.dateFin=new Date(n),e.dateFin.setDate(n.getDate()+6)},e.prevWeek=function(i){var n,r,o;n=t(angular.isDate(i)===!0?i:e.dateDeb),o=new Date(n),e.numSemaineApres=o.getWeekNumber(),e.anneeApres=o.getFullYear(),n.setDate(n.getDate()-7),e.numSemaineEnCours=n.getWeekNumber(),e.anneeEnCours=n.getFullYear(),r=new Date(n),r.setDate(n.getDate()-7),e.numSemaineAvant=r.getWeekNumber(),e.anneeAvant=r.getFullYear(),e.dateDeb=n,e.dateFin=new Date(n),e.dateFin.setDate(n.getDate()+6)},e}),ngAriane.service("WorkersDJSs",function(){var e=new Worker("scripts/workers/AJAXgetWorkerDJSs.js"),t=new Worker("scripts/workers/AJAXgetWorkerDJSs.js"),i=new Worker("scripts/workers/AJAXgetWorkerDJSs.js");return{EnCours:e,Avant:t,Apres:i}}),ngAriane.service("DjsCommune",function(){return{djs:{}}}),ngAriane.service("DINotif",function(){return{message:""}}),ngAriane.service("DIOnglets",function(){return{liens:[]}}),ngAriane.service("DIOnglet",function(){return{etat:""}}),ngAriane.service("DISumFiche",function(){return{sum:0}}),ngAriane.service("FichesAgent",function(){return{Nb:0}}),ngAriane.service("FichesToutes",function(){return{Nb:0}}),ngAriane.service("FichesDispatch",function(){return{Nb:0,fiches:[]}}),ngAriane.service("FichesBO",function(){return{Nb:0}}),ngAriane.service("FichesAttente",function(){return{Nb:0}}),ngAriane.service("FichesPrioritaires",function(){return{Nb:0}}),ngAriane.service("FichesRecherche",function(){return{Nb:0}}),ngAriane.service("FichesAffaire",function(){return{Nb:0}}),ngAriane.service("DatasFicheAgadir",function(){return{fiche:{}}}),ngAriane.service("DatasAgents",function(){return{liste:[]}}),ngAriane.service("DatasHistoPoste",function(){return{liste:[]}}),ngAriane.service("DatasSanteParc",function(){return{liste:[]}}),ngAriane.service("DatasPtgJour",function(){return{liste:[]}}),ngAriane.service("DatasUrgence",function(){return[{label:"Fiche normale",value:!1},{label:"Fiche urgente",value:!0}]}),ngAriane.service("RegionService",function(){return{List:[{value:"1",label:"ESTI IDF"},{value:"53",label:"REG BOURGOGNE FRANCHE-COMTE"},{value:"43",label:"REG POITOU-CHARENTES AQUITAINE"},{value:"58",label:"REG PROVENCE ALPES COTE D'AZUR"},{value:"57",label:"REGION ALPES"},{value:"18",label:"REGION ALSACE"},{value:"56",label:"REGION AUVERGNE"},{value:"36",label:"REGION BRETAGNE"},{value:"46",label:"REGION CENTRE"},{value:"14",label:"REGION CHAMPAGNE-ARDENNE"},{value:"59",label:"REGION LANGUEDOC-ROUSSILLON"},{value:"44",label:"REGION LIMOUSIN"},{value:"17",label:"REGION LORRAINE"},{value:"47",label:"REGION MIDI PYRENEES"},{value:"23",label:"REGION NORD PAS DE CALAIS"},{value:"33",label:"REGION NORMANDIE"},{value:"37",label:"REGION PAYS DE LA LOIRE"},{value:"24",label:"REGION PICARDIE"},{value:"54",label:"REGION RHONE-ALPES"}]}}),ngAriane.service("ficheToClone",function(){return{fiche:{}}}),ngAriane.service("DISemaine",function(){return{numSemaine:0}}),ngAriane.service("DIDateref",function(){return{date:new Date}}),ngAriane.service("DISemaines",function(){return{cyclesSemaines:{}}}),ngAriane.service("ProjectAffaire",function(){return{projet:""}}),ngAriane.service("ModalAffaire",function(){return{isModal:!1,reload:0,selectedAffaire:{}}}),ngAriane.service("VerifDatasNuitAstreinte",function(){return{FromForm:function(e){var t=0;return void 0===e.selectedProject?(t++,e.errProj=!0):e.errProj=!1,void 0===e.TravailRealise||""===e.TravailRealise.trim()?(t++,e.errDesc=!0):e.errDesc=!1,void 0===e.dateDebut||""===e.dateDebut?(t++,e.errDateDeb=!0):e.errDateDeb=!1,void 0===e.dateFin||""===e.dateFin?(t++,e.errDateFin=!0):e.errDateFin=!1,void 0===e.heureDebut||null===e.heureDebut?(t++,e.errHeureDeb=!0):e.errHeureDeb=!1,void 0===e.heureFin||null===e.heureFin?(t++,e.errHeureFin=!0):e.errHeureFin=!1,0===t},DateTime:function(e){var t,i,n=0,r=!1,o=e.heureDebut,a=e.heureFin,s=/^(?:0?[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/;if(IsDate(e.dateDebut)?(e.errDateDeb=!1,t=Date.setDateFR(e.dateDebut),t.setHours(0,0,0,0)):(n++,e.errDateDeb=!0),IsDate(e.dateFin)?(e.errDateFin=!1,i=Date.setDateFR(e.dateFin),i.setHours(0,0,0,0)):(n++,e.errDateFin=!0),s.test(e.heureDebut)||(n++,e.errHeureDeb=!0),s.test(e.heureFin)){t.getTime()>i.getTime()?(n++,r=!0,e.errDateDeb=!0,e.errDateFin=!0):r=!1;var l=o.split(":"),c=a.split(":");t.setHours(l[0],l[1],0,0),i.setHours(c[0],c[1],0,0),l[1]%3!==0?(n++,e.errHeureDeb=!0):c[1]%3!==0?(n++,e.errHeureFin=!0):r===!1&&t.getTime()>=i.getTime()?(n++,e.errHeureDeb=!0,e.errHeureFin=!0):(e.errHeureDeb=!1,e.errHeureFin=!1)}else n++,e.errHeureFin=!0;return 0===n}}}),ngAriane.service("ModalPointageNuitAstreinte",function(){var e=this;e.pointage={},e.RAZ=function(){this.pointage={}}}),ngAriane.service("FileUploadService",function(){var e=this;e.file={}}),ngAriane.service("FileListFiche",function(){return{ListeFichiers:[],Request:0}}),ngAriane.service("ProjetModalService",function(){return{list:[],model:""}}),ngAriane.service("ProjetFilterService",function(){return{ForFiche:function(e,t,i){var n="",r=new RegExp(/^PCI/g),o=new RegExp(/^PIV/g),a=new RegExp(/^EIC/g);
return r.test(e)===!0&&(n="CATI"),o.test(e)===!0&&a.test(t)===!0&&(n="SINAI"),i.filter(function(e){return""===n?"fiche"===e.type:"fiche"===e.type&&e.filtre_projet===n})}}}),ngAriane.service("graphService",function(){return{reload:0}}),ngAriane.service("NotifierService",function(){return{list:[],isOk:null}}),ngAriane.service("RetNumService",function(){return{list:[],isWorking:[]}}),ngAriane.service("enqueteService",function(){return{datas:{},fiche:{},forms:[],questions:[]}}),ngAriane.service("enqueteFormService",function(){return{datas:{},checkDatas:function(e){var t=0;return e.Questions.forEach(function(e,i,n){""===e.Libelle.trim()?(t++,e.error=!0):e.error=!1}),0===t},getDatas:function(e){var t={actif:e.check,Questions:e.Questions.map(function(e){return{Libelle:e.Libelle}})};return void 0!==e._id&&(t._id=e._id),t},convertToEnquete:function(e){var t={actif:e.check,Questions:enqueteform.Questions.map(function(e){return{Libelle:e.Libelle}})};return void 0!==enqueteform._id&&(t._id=enqueteform._id),t}}}),ngAriane.service("agentsService",["DatasProjets","$cookieStore",function(e,t){return{dpxPrioritaires:[],getDatasFicheForUpdate:function(i){var n=i.projet.title||i.projet;return{cpDemandeur:i.cpDemandeur.trim(),dateDebut:i.date,isCloture:i.isCloture,isUrgent:i.isUrgent,isPrioritaire:i.isPrioritaire,description:i.description,materiel:i.poste.trim(),region:i.region||Region,etat:i.etat,cpAgent:i.affectation,canal:i.canal.split("_")[1].split(".")[0],projet:n,val_projet:e.liste.filter(function(e){return e.intitule===n})[0].guid,numero:i.numero,numeroMongo:i.numeroMongo,annee:new Date(i.date).getFullYear(),numeroAutreRegion:i.numeroAutreRegion,nomPrenomDemandeur:i.demandeur,_id:i._id,affaire:i.affaire,pointagesSysteme:i.pointagesSysteme,pointagesTransfert:i.pointagesTransfert,cpActeur:t.get("agent"),nomPrenomActeur:i.nomPrenomActeur,telDemandeur:i.telDemandeur,mobileDemandeur:i.mobileDemandeur}}}}]),ngAriane.controller("cyclesPirge",["DIURLAPI","$scope","$http","DISemaine","DIDateref","DISemaines","$location","$routeParams","$route",function(e,t,i,n,r,o,a,s,l){var c=new Date;t.cyclesPirge={Cycles:[],dates:{},date:r,dateRef:c,anneeRef:parseInt(s.annee,10)||(new Date).getFullYear(),cyclesSemaines:{},modelParams:s,CyclePrec:"",CycleSuiv:"",l_data:{},dataCycles:{},idCycleEnCours:0,iduser:ariane.cookie.agent,numSemaine:n,semaineToCycle:{}},t.cyclesPirge.numSemaine.numSemaine=parseInt(s.numSemaine,10)||0;var u=function(e){var i={};return t.cyclesPirge.dates={},e.forEach(function(e,n,r){var o=ParseDate(e.date_debut),a=ParseDate(e.date_debut),s=ParseDate(e.date_fin);for(t.cyclesPirge.dates[e.n_semaine]={dateDeb:o,dateFin:s},i[e.n_semaine]=[];a.getTime()<=s.getTime();)i[e.n_semaine].push(new Date(a)),a.setDate(a.getDate()+1)}),i},d=function(n){n&&i({url:e.URLapi+"pirge/cycle/"+n.getDateFR().replace(/\//g,"-"),method:"GET",responseType:"json",params:{format:"json"}}).success(function(e){t.cyclesPirge.Cycles=e}).error(function(){alert("ERREUR lors de la récupération des cycles PIRGE"),console.log(arguments)}).then(function(){if(t.cyclesPirge.cyclesSemaines=u(t.cyclesPirge.Cycles),o.cyclesSemaines=t.cyclesPirge.cyclesSemaines,!s.numSemaine)for(var e in t.cyclesPirge.dates)if(t.cyclesPirge.date.date.getTime()>=t.cyclesPirge.dates[e].dateDeb.getTime()&&t.cyclesPirge.date.date.getTime()<=t.cyclesPirge.dates[e].dateFin.getTime())return void(t.cyclesPirge.numSemaine.numSemaine=+e);var i=0,n=0,r=t.cyclesPirge.date.date.getFullYear(),a=t.cyclesPirge.date.date.getFullYear();for(var l in t.cyclesPirge.cyclesSemaines)0===n&&(n=+l),i=+l;1===n?(n=53,a--):n--,53===i?(i=1,r++):i++,t.cyclesPirge.CycleSuiv="#/pointages/PRJS12821/"+r+"/"+i,t.cyclesPirge.CyclePrec="#/pointages/PRJS12821/"+a+"/"+n})},h=function(t,n){var r={};n=parseInt(n,10),i({url:e.URLapi+"pirge/cycles/"+t,method:"GET",responseType:"json",params:{format:"json"}}).success(function(e){1===e.exit_code?r=e.D_cycles:alert("Erreur lors de la récupération des cycles PIRGE\n"+e.error_msg)}).error(function(){alert("ERREUR lors de la récupération des cycles PIRGE"),console.log(arguments)}).then(function(){for(var e in r)p(e,n)})},p=function(n,r){i({url:e.URLapi+"pirge/cycles/semaine/"+n,method:"GET",responseType:"json",params:{format:"json"}}).success(function(e){1===e.exit_code?t.cyclesPirge.l_data[n]=e.L_Semaine:alert("Erreur lors de la récupération du cycles PIRGE "+n+"\n"+e.error_msg)}).error(function(){alert("ERREUR lors de la récupération du cycle PIRGE "+n),console.log(arguments)}).then(function(){t.cyclesPirge.dataCycles[n]=t.cyclesPirge.l_data[n].map(function(e,i,r){var o={};return o.date_debut=ParseDate(e.date_debut),o.date_fin=ParseDate(e.date_fin),o.numSemaine=e.numero_semaine,o.idSemaine=e.idSemaine,t.cyclesPirge.semaineToCycle[e.numero_semaine]=n,o}),delete t.cyclesPirge.l_data[n]})};s.numSemaine&&s.annee?isNaN(s.numSemaine)||parseInt(s.numSemaine)>54||parseInt(s.numSemaine)<1||isNaN(s.annee)||parseInt(s.annee,10)<2013?a.path(l.current.$$route.originalPath.split(":")[0]+ariane.cookie.agent):h(s.annee,s.numSemaine):t.cyclesPirge.date.date=c,d(t.cyclesPirge.date.date)}]),ngAriane.controller("GoToFiche",["$scope","$location","AjaxErrorManager","Region","RegionService",function(e,t,i,n,r){e.RegionService=r,e.gotofiche={models:{inputFiche:"",inputError:!1},region:n.toString(),annee:(new Date).getFullYear(),maxYear:(new Date).getFullYear()},e.gotofiche.go=function(){var n=e.gotofiche.models.inputFiche.trim();return""===n?(e.gotofiche.models.inputError=!0,void i.Gerer("numéro de fiche absent")):(e.gotofiche.models.inputError=!1,void t.url("/fiche/"+e.gotofiche.annee+"/"+n+"/"+e.gotofiche.region))},e.gotofiche.event=function(t){"Enter"===t.key&&e.gotofiche.go()}}]),ngAriane.controller("FastGoToFiche",["$scope","$location","Region",function(e,t,i){e.fastgotofiche={numFiche:"",go:function(n){""!==e.fastgotofiche.numFiche.trim()&&"Enter"===n.key&&t.url("/fiche/"+(new Date).getFullYear()+"/"+e.fastgotofiche.numFiche+"/"+i.toString())}}}]),ngAriane.controller("Onglets",["$scope","$routeParams","FichesAgent","FichesToutes","FichesDispatch","FichesBO","FichesAttente","FichesRecherche","FichesAffaire","FichesPrioritaires","cartoService",function(e,t,i,n,r,o,a,s,l,c,u){e.onglets={routeParams:t,NbFiches:i,NbFichesToutes:n,NbFichesDispatch:r,NbFichesBO:o,NbFichesPrioritaires:c,NbFichesAttente:a,NbFichesRecherche:s,NbFichesAffaire:l,cartoService:u}}]),ngAriane.controller("Fiches",["$scope","$cookieStore","FichesAgent","FichesToutes","FichesDispatch","FichesBO","FichesAttente","FichesRecherche","DAL_FICHE","AjaxErrorManager","DIURLAPI","$timeout","DAL_AGENT","$routeParams","$location","URLBuilder","DatasProjets","AgentsADFactory","PosteADFactory","jQuery","DatasEtats","ProjetModalService","SignalrRequest","ProjetFilterService","FicheFactoryCSharp","Region","PosteGeminiFactory","WorkersFiches","AffairesFactory","FichesPrioritaires","NOMSPARTIS","agentsService",function(e,t,i,n,r,o,a,s,l,c,u,d,h,p,f,m,g,v,y,b,_,w,x,E,A,C,k,T,L,D,M,S){e.predicate="",e.DIURLAPI=u,e.DatasProjets=g,e.routeParams=p,e.ProjetModalService=w,e.ProjetFilterService=E,e.cookieStore=t,e.Fiches={fiches:{Liste:[]},titleIMG:{backoffice:"Back Office",hotline:"Hotline",presta:"Prestation"},regex:/\s|-/g,fichesToutes:{Liste:[]},fichesPrioritaires:{Liste:[]},fichesDispatch:{Liste:[]},fichesBO:{Liste:[]},fichesAttente:{Liste:[]},mesfichesAttente:{Liste:[]},fichesRecherche:[],Agents:[]},e.EtatsList=_,e.mesfiches={isLoading:!0},e.fichesToutes={isLoading:!0},e.fichesDispatch={isLoading:!0},e.fichesBO={isLoading:!0},e.fichesAttente={isLoading:!0},e.fichesPrioritaires={isLoading:!0},e.fichesRecherche={isLoading:!0,show:!1,urlGet:"",datasSearch:{cpdemandeur:"",materiel:"",projet:"",etat:"",cpagent:"",isCloture:"undefined"},reset:function(){e.fichesRecherche.show=!1,t.remove("recherche"),e.fichesRecherche.Reset(),"recherche"===p.onglet&&f.url("/gestionFiches")},Reset:function(){e.fichesRecherche.datasSearch={cpdemandeur:"",materiel:"",projet:"",etat:"",cpagent:"",isCloture:"undefined"},document.querySelector("#agentAutocompleteInput0>div>input").value="",document.querySelector("#posteAutocompleteInput0>div>input").value="",document.querySelector("#projectAutocompleteInput0>div>input").value=""},Search:function(){""===e.fichesRecherche.datasSearch.cpdemandeur&&""!==document.querySelector("#agentAutocompleteInput0>div>input").value.trim()&&c.Gerer("Veuillez saisir un demandeur valide."),""===e.fichesRecherche.datasSearch.materiel&&""!==document.querySelector("#posteAutocompleteInput0>div>input").value.trim()&&c.Gerer("Veuillez saisir un poste valide."),""===e.fichesRecherche.datasSearch.projet&&""!==document.querySelector("#projectAutocompleteInput0>div>input").value.trim()&&c.Gerer("Veuillez saisir un projet valide."),e.fichesRecherche.datasSearch.dateDebut&&""!==e.fichesRecherche.datasSearch.dateDebut&&e.fichesRecherche.datasSearch.dateFin&&""!==e.fichesRecherche.datasSearch.dateFin||void 0===e.fichesRecherche.datasSearch.dateDebut&&void 0===e.fichesRecherche.datasSearch.dateFin||""===e.fichesRecherche.datasSearch.dateDebut&&""===e.fichesRecherche.datasSearch.dateFin||c.Gerer("Veuillez saisir une date de début et une date de fin."),null===c.Infos&&f.url(m.build("/gestionFiches/recherche",F(e.fichesRecherche.datasSearch)))}},e.affaires={liste:[],isLoading:!0},e.mesFichesEnAttente={isLoading:!0},e.projetModif=!1,e.lineToUpdate={},e.watchers=[],e.tabPoste=[],"recherche"===p.onglet&&(e.fichesRecherche.open=!0),e.blurInput=function(){this.$node.blur()},e.clickForModalProjet=function(t){w.list=t.listeProjet,e.projetModif=!0,e.lineToUpdate=t,$("#ProjetsModal").modal("show").one("hidden.bs.modal",function(t){e.projetModif=!1,e.lineToUpdate={}})};var P=function(n,r,o){e.mesfiches.isLoading=!0,T.MesFiches.postMessage({url:u.URLapiNancy+"fiches",datas:{cpAgent:t.get("agent")},tabPoste:n,agents:r,projets:g.liste}),T.MesFiches.onmessage=function(t){d(function(){e.mesfiches.isLoading=!1,1===t.data.exit_code?(e.Fiches.fiches.Liste=t.data.datas.map(function(t,i){return t.listeProjet=E.ForFiche(t.materiel,t.etablissementDemandeur,g.liste),"mesfiches"!==p.onglet&&void 0!==p.onglet||e.watchers.push(e.$watchCollection("Fiches.fiches.Liste["+i+"].projet",function(t,n){void 0!==t&&t!==n&&q(e.Fiches.fiches.Liste[i])})),t}),e.Fiches.mesfichesAttente.Liste=e.Fiches.fiches.Liste.filter(function(e){return e.etat.indexOf("En Attente")>-1}),e.Fiches.fiches.Liste=e.Fiches.fiches.Liste.filter(function(e){return e.etat.indexOf("En Attente")===-1}),i.Nb=t.data.NbFiches):200===t.data.err_code?c.Gerer("Erreur lors de la récupération de vos fiches. "+t.data.err_msg):c.Gerer("ERREUR le serveur n'a pas pu traiter la demande de récupération de vos fiches."),o&&o()},0)},e.affaires.isLoading=!0,L.getMiennes(t.get("agent")).success(function(t){e.affaires.isLoading=!1,1===t.exit_code?e.affaires.liste=t.lesAffaires:c.Gerer("Erreur lors de la récupération des affaires que vous suivez.")}).error(function(){e.affaires.isLoading=!1,c.Gerer("ERREUR le serveur n'a pas pu traiter la demande de récupération des affaires que vous suivez.")})},N=function(t,i,r){e.fichesToutes.isLoading=!0,T.Toutes.postMessage({url:u.URLapiNancy+"fiches",datas:{},tabPoste:t,agents:i,projets:g.liste}),T.Toutes.onmessage=function(t){d(function(){e.fichesToutes.isLoading=!1,1===t.data.exit_code?(e.Fiches.fichesToutes.Liste=t.data.datas.map(function(t,i){return t.listeProjet=E.ForFiche(t.materiel,t.etablissementDemandeur,g.liste),"toutes"===p.onglet&&e.watchers.push(e.$watchCollection("Fiches.fichesToutes.Liste["+i+"].projet",function(t,n){void 0!==t&&t!==n&&q(e.Fiches.fichesToutes.Liste[i])})),t}),n.Nb=t.data.NbFiches):200===t.data.err_code?c.Gerer("Erreur lors de la récupération de toutes les fiches. "+t.data.err_msg):c.Gerer("ERREUR le serveur n'a pas pu traiter la demande de récupération de toutes les fiches."),r&&r()},0)}},I=function(){e.fichesPrioritaires.isLoading=!0,A.getPrio().success(function(t){e.fichesPrioritaires.isLoading=!1,1===t.exit_code?(e.Fiches.fichesPrioritaires.Liste=t.lesFiches.map(function(t){var i="./images/channel_"+(void 0===t.canal||null===t.canal?"ariane":t.canal)+".svg";t.isTransfert===!0&&(i="./images/channel_transfert.svg");var n=e.Fiches.Agents.filter(function(e){return t.cpAgent===e.cp})[0],r=g.liste.filter(function(e){return t.projet===e.intitule})[0];return{etat:t.etat,nFiche:t.numero||t.numeroMongo,numero:t.numero,numeroMongo:t.numeroMongo,demandeur:(t.nomPrenomDemandeur||"[Agent "+t.cpDemandeur+"]").split(" (")[0],cpDemandeur:t.cpDemandeur,poste:t.materiel,date:new Date(t.dateDebut),description:t.description,affectation:t.cpAgent,nomAffectation:void 0!==n?n.nomPrenom:"0",isCloture:t.isCloture,isUrgent:t.isUrgent,isPrioritaire:t.isPrioritaire,canal:i,nomCanal:t.canal||"Ariane",multiPoste:e.posteMulti.indexOf(t.materiel)>-1,pointages:void 0!==t.pointages?t.pointages:void 0,projet:t.projet||void 0,poidsProjet:void 0!==r?r.poids||"non calculé":"pas de projet",region:t.region,numeroAutreRegion:t.numeroAutreRegion,_id:t._id,affaire:t.affaire,pointagesSysteme:t.pointagesSysteme,pointagesTransfert:t.pointagesTransfert,cpActeur:t.cpActeur,nomPrenomActeur:t.nomPrenomActeur,telDemandeur:t.telDemandeur,mobileDemandeur:t.mobileDemandeur}}),e.Fiches.fichesPrioritaires.Liste=e.Fiches.fichesPrioritaires.Liste.map(function(t,i){return t.listeProjet=E.ForFiche(t.materiel,t.etablissementDemandeur,g.liste),"prioritaires"===p.onglet&&e.watchers.push(e.$watchCollection("Fiches.fichesPrioritaires.Liste["+i+"].projet",function(t,n){void 0!==t&&t!==n&&q(e.Fiches.fichesPrioritaires.Liste[i])})),t}),D.Nb=t.nbFiches):c.Gerer("Erreur lors de la lecture de la liste des fiches prioritaires. "+t.err_msg)}).error(function(){e.fichesPrioritaires.isLoading=!1,console.log(arguments),c.Gerer("ERREUR le serveur n'a pas pu traiter votre demande de lecture de la liste des fiches prioritaires.")})},O=function(t,i,n){e.fichesDispatch.isLoading=!0,T.Dispatch.postMessage({url:u.URLapiNancy+"fiches",datas:{etat:"A DISPATCHER"},tabPoste:t,agents:i,projets:g.liste}),T.Dispatch.onmessage=function(t){d(function(){e.fichesDispatch.isLoading=!1,1===t.data.exit_code?(e.Fiches.fichesDispatch.Liste=t.data.datas.map(function(t,i){return t.listeProjet=E.ForFiche(t.materiel,t.etablissementDemandeur,g.liste),"dispatch"===p.onglet&&e.watchers.push(e.$watchCollection("Fiches.fichesDispatch.Liste["+i+"].projet",function(t,n){void 0!==t&&t!==n&&q(e.Fiches.fichesDispatch.Liste[i])})),t}),r.fiches=e.Fiches.fichesDispatch.Liste,r.Nb=t.data.NbFiches):200===t.data.err_code?c.Gerer("Erreur lors de la récupération des fiches à dispatcher. "+t.data.err_msg):c.Gerer("ERREUR le serveur n'a pas pu traiter la demande de récupération des fiches à dispatcher."),n&&n()},0)}},R=function(t,i,n){e.fichesBO.isLoading=!0,T.BO.postMessage({url:u.URLapiNancy+"fiches",datas:{etat:"Back Office"},tabPoste:t,agents:i,projets:g.liste}),T.BO.onmessage=function(t){d(function(){e.fichesBO.isLoading=!1,1===t.data.exit_code?(e.Fiches.fichesBO.Liste=t.data.datas.map(function(t,i){return t.listeProjet=E.ForFiche(t.materiel,t.etablissementDemandeur,g.liste),"BO"===p.onglet&&e.watchers.push(e.$watchCollection("Fiches.fichesBO.Liste["+i+"].projet",function(t,n){void 0!==t&&t!==n&&q(e.Fiches.fichesBO.Liste[i])})),t}),o.Nb=t.data.NbFiches):200===t.data.err_code?c.Gerer("Erreur lors de la récupération des fiches en back office. "+t.data.err_msg):c.Gerer("ERREUR le serveur n'a pas pu traiter la demande de récupération des fiches en back office."),n&&n()},0)}},j=function(t,i,n){e.fichesAttente.isLoading=!0,T.Attente.postMessage({url:u.URLapiNancy+"fiches",datas:{etat:"En Attente"},tabPoste:t,agents:i,projets:g.liste}),T.Attente.onmessage=function(t){d(function(){e.fichesAttente.isLoading=!1,1===t.data.exit_code?(e.Fiches.fichesAttente.Liste=t.data.datas.map(function(t,i){return t.listeProjet=E.ForFiche(t.materiel,t.etablissementDemandeur,g.liste),"attente"===p.onglet&&e.watchers.push(e.$watchCollection("Fiches.fichesAttente.Liste["+i+"].projet",function(t,n){void 0!==t&&t!==n&&q(e.Fiches.fichesAttente.Liste[i])})),t}),a.Nb=t.data.NbFiches):200===t.data.err_code?c.Gerer("Erreur lors de la récupération des fiches en attente. "+t.data.err_msg):c.Gerer("ERREUR le serveur n'a pas pu traiter la demande de récupération des fiches en attente."),n&&n()},0)}},H={mesfiches:P,dispatch:O,BO:R,attente:j,prioritaires:I,toutes:N},F=function(e){if(!angular.isObject(e))return e;var t={};for(var i in e)if(void 0!==e[i])if(""===e[i]||null===e[i]||angular.isString(e[i])&&""===e[i])t[i]=void 0;else switch(i){case"materiel":t.materiel=void 0!==e.materiel.title?e.materiel.title.split(" ")[0]:e.materiel.calife.split(" ")[0];break;case"cpdemandeur":t.cpdemandeur=void 0!==e.cpdemandeur.title?e.cpdemandeur.description:e.cpdemandeur.cp;break;case"projet":t.projet=void 0!==e.projet.title?e.projet.title:e.projet.intitule;break;case"isCloture":t.isCloture="undefined"===e.isCloture?void 0:e.isCloture;break;default:t[i]=e[i]}else t[i]=e[i];return t},U=function(t){return k.getPoste(t).success(function(t){e.fichesRecherche.datasSearch.materiel=t.L_Resultats[0]})},z=function(t){return v.getAgentAll(t).success(function(t){e.fichesRecherche.datasSearch.cpdemandeur=t.L_Resultats[0]})},B=function(t){e.fichesRecherche.datasSearch={cpdemandeur:"",materiel:"",etat:t.etat,projet:"",cpagent:t.cpagent||"",dateDebut:t.dateDebut,dateFin:t.dateFin,isCloture:"true"===t.isCloture||"false"!==t.isCloture&&void 0,type:t.type,description:t.description};var i=t.cpdemandeur,n=t.materiel,r=t.projet;return""!==r&&(e.fichesRecherche.datasSearch.projet=e.DatasProjets.liste.filter(function(e){return e.intitule===r})[0]),""!==i&&""!==n?z(i).then(function(){return U(n)}):""!==i?z(i):""!==n?U(n):{then:function(e){e&&e()}}},G=function(){e.watchers.forEach(function(e){e()}),e.watchers=[],p.onglet in H?H[p.onglet](e.posteMulti,e.Fiches.Agents):H.mesfiches(e.posteMulti,e.Fiches.Agents)},W=S.getDatasFicheForUpdate,q=function(e){if(void 0!==e.projet.originalObject){var t=g.liste.filter(function(t){return e.projet.description.intitule===t.intitule})[0];e.poidsProjet=void 0!==t?t.poids||"non calculé":"pas de projet",A.upd(W(e)).success(function(e){1!==e.exit_code&&(c.Gerer("Erreur lors de la mise à jour du projet. "+e.err_msg),G())}).error(function(){c.Gerer("ERREUR le serveur n'a pas pu traiter votre demande de modification de projet."),G()})}},V=function(t){e.mesfiches.isLoading=t,e.fichesToutes.isLoading=t,e.fichesDispatch.isLoading=t,e.fichesBO.isLoading=t,e.fichesAttente.isLoading=t};h.ListeAgentsOrdered(function(i){e.Fiches.Agents=i.filter(function(e){return M.every(function(t){return e.nomPrenom.indexOf(t)===-1})}),e.Fiches.AgentsAgent=i.filter(function(e){return("0"===e.cp||e.cp===t.get("agent"))&&M.every(function(t){return e.nomPrenom.indexOf(t)===-1})}),l.LireFichesPosteMulti().success(function(i){if(1===i.exit_code){e.posteMulti=i.postes;var n=p.onglet;if(e.tabPoste=i.postes,"recherche"===n){b("#formRecherche").collapse("show");var r=f.search();if("{}"===JSON.stringify(r))return t.remove("recherche"),void f.url("/gestionFiches");t.put("recherche",r)}var o=t.get("recherche");void 0!==JSON.stringify(o)&&(e.fichesRecherche.show=!0,e.fichesRecherche.urlGet=m.build("#/gestionFiches/recherche",o),H.recherche=function(i,n,r){B(t.get("recherche")).then(function(){var t=F(e.fichesRecherche.datasSearch);if(IsDate(t.dateDebut)===!0){var o=Date.setDateFR(t.dateDebut);o.setHours(0,0,0,0),t.dateDebut=o}if(IsDate(t.dateFin)===!0){var a=Date.setDateFR(t.dateFin);a.setHours(23,59,59,999),t.dateFin=a}T.Recherche.postMessage({url:u.URLapiNancy+"fiches/recherche",datas:t,tabPoste:i,agents:n,projets:g.liste}),T.Recherche.onmessage=function(t){d(function(){e.fichesRecherche.isLoading=!1,1===t.data.exit_code?(e.Fiches.fichesRecherche.Liste=t.data.datas.map(function(t,i){return t.listeProjet=E.ForFiche(t.materiel,t.etablissementDemandeur,g.liste),"recherche"===p.onglet&&e.watchers.push(e.$watchCollection("Fiches.fichesRecherche.Liste["+i+"].projet",function(t,n){void 0!==t&&t!==n&&q(e.Fiches.fichesRecherche.Liste[i])})),t}),s.Nb=t.data.NbFiches,void 0!==e.fichesRecherche.datasSearch.isCloture&&(e.fichesRecherche.datasSearch.isCloture=e.fichesRecherche.datasSearch.isCloture.toString())):200===t.data.err_code?c.Gerer("Erreur lors de la récupération des fiches recherchées. "+t.data.err_msg):c.Gerer("ERREUR le serveur n'a pas pu traiter la demande de récupération des fiches recherchées."),r&&r()},0)}})}),n in H?H[n](e.posteMulti,e.Fiches.Agents,function(){for(var t in H)t!==n&&H[t](e.posteMulti,e.Fiches.Agents)}):P(e.posteMulti,e.Fiches.Agents,function(){N(e.posteMulti,e.Fiches.Agents),O(e.posteMulti,e.Fiches.Agents),R(e.posteMulti,e.Fiches.Agents),j(e.posteMulti,e.Fiches.Agents),I(),H.recherche&&H.recherche(e.posteMulti,e.Fiches.Agents)})}else c.Gerer("Erreur lors de la recherchez des postes concernés par plusieurs fiches. "+i.err_msg)}).error(function(){e.mesfiches.isLoading=!1,console.warn(arguments),c.Gerer("ERREUR le serveur n'a pas pu traiter la lecture des postes concernés par plusieurs fiches ouvertes.")})}),e.Affectation=function(t){V(!0);var i=W(t);"dispatch"===p.onglet&&"Back Office"!==t.etat&&(i.etat="Back Office"),A.upd(i).success(function(i){1===i.exit_code?(x.AffectationFiche(t.affectation,t.nFiche.toString(),t.date.getFullYear()),P(e.tabPoste,e.Fiches.Agents),N(e.tabPoste,e.Fiches.Agents),O(e.tabPoste,e.Fiches.Agents),R(e.tabPoste,e.Fiches.Agents),j(e.tabPoste,e.Fiches.Agents),I(),H.recherche&&H.recherche(e.tabPoste,e.Fiches.Agents)):(G(),c.Gerer("Erreur lors du changement d'affectation de la fiche. "+i.err_msg))}).error(function(){console.warn(arguments),G(),c.Gerer("ERREUR le serveur n'a pas pu traiter votre demande de changement d'affectation de la fiche.")}).then(function(){V(!1)})},e.ChangementEtat=function(t){V(!0);var i=W(t);A.upd(i).success(function(t){1===t.exit_code?(P(e.tabPoste,e.Fiches.Agents),N(e.tabPoste,e.Fiches.Agents),O(e.tabPoste,e.Fiches.Agents),R(e.tabPoste,e.Fiches.Agents),j(e.tabPoste,e.Fiches.Agents),I(),H.recherche&&H.recherche(e.tabPoste,e.Fiches.Agents)):(G(),c.Gerer("Erreur lors du changement d'état de la fiche. "+t.err_msg))}).error(function(){console.warn(arguments),G(),c.Gerer("ERREUR le serveur n'a pas pu traiter votre demande de changement d'état de la fiche.")}).then(function(){V(!1)})},e.$watch("ProjetModalService.model",function(t,i){void 0!==t&&(e.projetModif===!0?e.lineToUpdate.projet=t:void 0!==t.guid&&(e.fichesRecherche.datasSearch.projet=t))}),e.$watchCollection("DatasProjets.liste",function(e,t){w.list=e})}]),ngAriane.controller("mesfiches",["$scope",function(e){e.liste="fiches"}]),ngAriane.controller("mesfichesAttente",["$scope",function(e){e.liste="mesfichesAttente"}]),ngAriane.controller("dispatch",["$scope",function(e){e.liste="fichesDispatch"}]),ngAriane.controller("BO",["$scope",function(e){e.liste="fichesBO"}]),ngAriane.controller("attente",["$scope",function(e){e.liste="fichesAttente"}]),ngAriane.controller("prioritaires",["$scope",function(e){e.liste="fichesPrioritaires"}]),ngAriane.controller("toutes",["$scope",function(e){e.liste="fichesToutes"}]),ngAriane.controller("recherche",["$scope",function(e){e.liste="fichesRecherche"}]),ngAriane.controller("GestionProjets",["$scope","$route","$cookieStore","ProjetFactoryCSharp","AjaxErrorManager",function(e,t,i,n,r){e.GestionProjets={Liste:[],ShowSelect:[],HideBtn:[]},n.Lire().success(function(t){1===t.exit_code?(e.GestionProjets.Liste=t.LPrestations,e.GestionProjets.Liste.forEach(function(t){t.different_agadir&&(e.GestionProjets.theIsDifferent=!0)})):r.Gerer("Erreur lors de la lecture de la fiche."+t.err_msg)}).error(function(){console.warn(arguments),r.Gerer("ERREUR le serveur n'a pas pu traiter votre demande de lecture de fiche")}),n.NomencsLire().success(function(t){1===t.exit_code?e.GestionProjets.NomencsListe=t.LNomenclatures:r.Gerer("Erreur lors de la lecture de la fiche."+t.err_msg)}).error(function(){console.warn(arguments),r.Gerer("ERREUR le serveur n'a pas pu traiter votre demande de lecture de fiche")}),e.GestionProjets.Show=function(t){e.GestionProjets.ShowSelect[t]=!0},e.GestionProjets.Update=function(t){e.GestionProjets.NomencsListe.forEach(function(e){e.val_nomenclature===t.val_nomenclature&&(t.nomenclature=e.nomenclature,t.prestation=e.prestation,t.val_prestation=e.val_prestation)}),n.Update(t).success(function(e){1===e.exit_code?$.notify("Modification effectuée !","success"):r.Gerer("Erreur lors de la modification du projet."+e.err_msg)}).error(function(){console.warn(arguments),r.Gerer("ERREUR le serveur n'a pas pu traiter votre demande de modification du projet.")})},e.GestionProjets.UpdateType=function(e,t){console.log(e.nomenclature),("projet"!==t&&"projet"===e.type||""!==e.nomenclature&&null!==e.nomenclature&&void 0!==e.nomenclature)&&n.Update(e).success(function(e){1===e.exit_code?$.notify("Modification effectuée !","success"):r.Gerer("Erreur lors de la modification du projet."+e.err_msg)}).error(function(){console.warn(arguments),r.Gerer("ERREUR le serveur n'a pas pu traiter votre demande de modification du projet.")})},e.GestionProjets.UpdateVue=function(e){e.different_agadir=!1,n.Update(e).success(function(t){0===t.exit_code&&(e.different_agadir=!0,r.Gerer("Erreur lors de la modification du projet."+t.err_msg))}).error(function(){console.warn(arguments),r.Gerer("ERREUR le serveur n'a pas pu traiter votre demande de modification du projet.")})}}]),ngAriane.controller("Auth",["$location","$routeParams","$cookieStore","CPtoNAME","AjaxErrorManager","$timeout",function(e,t,i,n,r,o){if(void 0===i.get("agent")||""===i.get("agent").trim()){var a=e.path().match(/^\/auth\/\w{8,9}$/g);if(null===a)location.replace("http://x18srhrgcb7:8077");else{var s=a[0].split("/");i.put("agent",s[s.length-1]),e.path("/gestionFiches"),n.GetFullName(i.get("agent"),function(e){i.put("nomAgent",e)})}}else n.GetFullName(i.get("agent"),function(e){i.put("nomAgent",e)}),null!==e.path().match(/^\/auth\/\w{8,9}$/g)&&e.path("/gestionFiches"),0!==location.host.indexOf("test.")||i.get("agent")in{PRJS12821:0,PAGT08882:0,PVWS02941:0,PMPH10701:0,"8502623G":0,"7109157V":0,"7508786Z":0,"7903642R":0,"8202876V":0,"9404070R":0,"6304358N":0,"7402165G":0,"8211629J":0}||o(function(){r.Gerer("ATTENTION!!! Vous êtes actuellement sur le site de test d'Ariane Informatique. Ce site n'est pas synchronisé avec Agadir, et est sujet à de nombreux bugs et phases de déploiement. Vous allez être redirigé dans 10 secondes vers http://arianeinformatique.st.sncf.fr"),o(function(){location.href="http://arianeinformatique.st.sncf.fr"},1e4)},2e3)}]),ngAriane.controller("menuNav",["$scope","$route","$routeParams","$location","$cookieStore",function(e,t,i,n,r){var o=new Date;o.setHours(0,0,0,0),e.menunav={hide:!0,route:t,cookieStore:r,routeParams:i,location:n,today:{dateFr:o.getDateFR().replace(new RegExp("/","g"),"-"),year:o.getFullYear(),weekNum:o.getWeekNumber()}}}]),ngAriane.controller("ProjetsListe",["DAL_PROJET","DatasProjets","AjaxErrorManager",function(e,t,i){e.Liste().success(function(e){1===e.exit_code?t.liste=e.LPrestations.map(function(e){return{intitule:e.projet,guid:e.val_projet,type:e.type,filtre_projet:e.filtre_projet,poids:e.poids,date_ouverture:new Date(e.date_ouverture),date_cloture:new Date(e.date_cloture)}}):i.Gerer("Erreur lors de la lecture des projets. "+e[0].err_msg)}).error(function(){console.warn(arguments),i.Gerer("ERREUR le serveur n'a pas pu traiter votre demande de lecture des projets.")})}]),ngAriane.controller("DJS",["$scope","$cookieStore","DatasDJS","$timeout","DAL_DJS","AjaxErrorManager","$interval",function(e,t,i,n,r,o,a){e.datas=i,e.agent=t.get("agent");var s=new Date;s.setHours(0,0,0,0),e.djs={anneeAujourdhui:s.getFullYear(),anneeEnCours:s.getFullYear(),numSemaineEnCours:s.getWeekNumber(),lesJours:{},tabJour:[],dateDeb:null,dateFin:null,next:function(){var t=Date.setWeekNumber(e.djs.anneeEnCours,e.djs.numSemaineEnCours);t.setDate(t.getDate()+7),e.djs.numSemaineEnCours=t.getWeekNumber(),e.djs.anneeEnCours=t.getFullYear(),e.djs.dateDeb=t,e.djs.dateFin=new Date(t),e.djs.dateFin.setDate(t.getDate()+6),l()},prev:function(){if(1===e.djs.numSemaineEnCours){var t=Date.setWeekNumber(e.djs.anneeEnCours,e.djs.numSemaineEnCours);t.setDate(t.getDate()-1),e.djs.numSemaineEnCours=t.getWeekNumber(),e.djs.anneeEnCours--}else e.djs.numSemaineEnCours--;e.djs.dateDeb=Date.setWeekNumber(e.djs.anneeEnCours,e.djs.numSemaineEnCours),e.djs.dateFin=new Date(e.djs.dateDeb),e.djs.dateFin.setDate(e.djs.dateDeb.getDate()+6),l()}},e.djs.dateDeb=Date.setWeekNumber(e.djs.anneeEnCours,e.djs.numSemaineEnCours),e.djs.dateFin=new Date(e.djs.dateDeb),e.djs.dateFin.setDate(e.djs.dateDeb.getDate()+6);var l=function(){return void 0===t.get("agent")||void 0===t.get("nomAgent")?void(e.reboursSecu=a(function(){void 0!==t.get("agent")&&void 0!==t.get("nomAgent")&&(a.cancel(e.reboursSecu),l())},200)):void r.LireDJS({cp:t.get("agent"),annee:e.djs.anneeEnCours,semaine:e.djs.numSemaineEnCours}).success(function(t){if(1===t.exit_code){e.djs.lesJours={},e.realDjs=t.djs;for(var n=Date.setWeekNumber(e.djs.anneeEnCours,e.djs.numSemaineEnCours);1!==n.getDay();)n.setDate(n.getDate()-1);var r=0;for(var a in t.djs.lesJours){e.djs.tabJour[r]=a;var s=(t.djs.lesJours[a].minutesRestantes/60).toString(),l=s.split(".");2===l.length?(l[1].length<2?l[1]+="0":l[1]=l[1].substring(0,2),s=l[0].toString()+"h"+_AffZero(Math.ceil(60*parseInt(l[1],10)/100))):s+="h00",e.djs.lesJours[a]={minutesTotal:t.djs.lesJours[a].minutesTotal,minutesRestantes:t.djs.lesJours[a].minutesRestantes,minutesRestantesH:s,dateLink:n.getDateFR().replace(/\//g,"-"),verrouiller:t.djs.lesJours[a].verrouiller,cloturer:t.djs.lesJours[a].cloturer,ordre:r},n.setDate(n.getDate()+1),r++}i.Semaine=e.djs}else"La DJS n'existe pas."===t.err_msg?e.djs.lesJours={}:o.Gerer("Erreur lors de la lecture de la djs. "+t.err_msg)}).error(function(){console.warn(arguments),o.Gerer("ERREUR le serveur n'a pas pu traiter votre demande de lecture de DJS.")})};l(),e.$watch("datas.reload",function(e,t){e!==t&&l()})}]),ngAriane.controller("Agents",["DAL_AGENT","DatasAgents","$cookieStore","AgentsFactory","NOMSPARTIS","NOMSPRESTATAIRES",function(e,t,i,n,r,o){e.ListeAgentsOrdered(function(e){t.liste=e.filter(function(e){return 0!==location.host.indexOf("arianeinformatique.st.sncf.fr")||r.every(function(t){return e.nomPrenom.indexOf(t)===-1})&&o.every(function(t){return e.nomPrenom.indexOf(t)===-1})}),e.forEach(function(e){e.cp===i.get("agent")&&(i.put("status",e.habilitation),i.put("secteur",e.secteur),i.put("changeLogVue",e.changeLogVue))})}),n.getDpxPrioritaires()}]),ngAriane.controller("ErrorModal",["$scope","AjaxErrorManager",function(e,t){e.errormodal={DI:t};var i=$("#ErrorModal");i.on("hide.bs.modal",function(e){t.RAZ()}),i.on("shown.bs.modal",function(e){}),e.$watchCollection("errormodal.DI.Infos",function(t,i){angular.equals(i,t)||null===t||(e.Action=function(){t.act&&t.act()},$("#ErrorModal").modal())})}]),ngAriane.controller("ChangeLog",["$scope","AjaxErrorManager","$cookieStore","ChangeLogFactoryCSharp","AgentFactoryCSharp","DatasAgents","$timeout",function(e,t,i,n,r,o,a){e.changeLog={},a(function(){i.get("changeLogVue")||($("#modal-changeLog").modal(),n.Lire().success(function(t){if(1===t.exit_code){e.changeLog.description=t.leChangeLog.description,e.changeLog.date=new Date(t.leChangeLog.date);var n=o.liste.filter(function(e){return e.cp===i.get("agent")})[0];n.changeLogVue=!n.changeLogVue,r.upd(n).success(function(e){1===e.exit_code||console.warn("Erreur lors de la maj de l'agent. "+e.err_msg)}).error(function(){console.warn(arguments)})}else console.warn("Erreur lors de la recuperation du changeLog")}).error(function(){console.warn(arguments)}))},2e3)}]),ngAriane.controller("listeChangeLog",["$scope","AjaxErrorManager","$cookieStore","ChangeLogFactoryCSharp","AgentFactoryCSharp","DatasAgents","$timeout","$route",function(e,t,i,n,r,o,a,s){e.changeLog=[],e.agent=i.get("agent"),n.LireAll().success(function(i){1===i.exit_code?e.changeLog=i.lesChangeLogs:t.Gerer("Erreur lors de la demande de la liste des changelog. "+i.err_msg);
}).error(function(){console.warn(arguments),t.Gerer("ERREUR le serveur n'a pas pu traiter la demande de lecture des changelog.")}),e.Add=function(e){n.add({description:e,date:new Date}).success(function(e){1===e.exit_code?s.reload():t.Gerer("Erreur lors de la demande d'ajout de changelog. "+e.err_msg)}).error(function(){console.warn(arguments),t.Gerer("ERREUR le serveur n'a pas pu traiter la demande d'ajout de changelog.")})}}]),ngAriane.controller("EtatsListe",["$scope","Etats","AjaxErrorManager","DatasEtats",function(e,t,i,n){t.Lire().success(function(e){1===e[0].exit_code?n.liste=e[0].LEtats.map(function(e){return e.libelle}):i.Gerer("Erreur lors de la demande de la liste des états. "+e[0].err_msg)}).error(function(){console.warn(arguments),i.Gerer("ERREUR le serveur n'a pas pu traiter la demande de lecture des états.")})}]),ngAriane.controller("SignalRBroadcaster",["$scope","DIURLAPI","jQuery","SignalrRouteur",function(e,t,i,n){e.signalrbroadcaster={},i(function(){i.connection.hub.url=t.URLsignalR+"signalr";var e=i.connection.notificateur;e.client.notify=function(e){n.TraiteDatas(e)},i.connection.hub.start({jsonp:!0})})}]),ngAriane.controller("VerrouillageDjsModal",["$scope","CheckModalDjs","DAL_DJS","AjaxErrorManager","JoursName","DatasDJS","SignalrRequest","$cookieStore","FctValidationDpx","$route",function(e,t,i,n,r,o,a,s,l,c){e.verrouillageDjsModal=t,e.verrouillerJournee=function(t){e.verrouillageDjsModal.djs.lesJours[r.joursName[t.getDay()]].verrouiller=!0,i.ModificationDJS([e.verrouillageDjsModal.djs]).success(function(i){1!==i.exit_code?(e.verrouillageDjsModal.djs.lesJours[r.joursName[t.getDay()]].verrouiller=!1,n.Gerer("Erreur lors du verrouillage de la journée."+i.err_msg)):(o.reload++,c.reload(),l.NotifierDpx(s.get("agent"),t))}).error(function(){console.warn(arguments),n.Gerer("ERREUR le serveur n'a pas pu traiter votre demande de verrouillage de la journée.")}),u(t)},e.verrouillerAllJournee=function(){e.verrouillageDjsModal.lesJoursAVerrouiller.forEach(function(t){e.verrouillageDjsModal.djs.lesJours[r.joursName[t.getDay()]].verrouiller=!0}),i.ModificationDJS([e.verrouillageDjsModal.djs]).success(function(t){1!==t.exit_code?(e.verrouillageDjsModal.djs.lesJours[r.joursName[dateJour.getDay()]].verrouiller=!1,n.Gerer("Erreur lors du verrouillage de la journée."+t.err_msg)):(o.reload++,e.verrouillageDjsModal.lesJoursAVerrouiller.forEach(function(e){l.NotifierDpx(s.get("agent"),e)}),e.verrouillageDjsModal.lesJoursAVerrouiller=[],$("#modal-multiple-verrouillage-djs").modal("hide"),c.reload())}).error(function(){console.warn(arguments),n.Gerer("ERREUR le serveur n'a pas pu traiter votre demande de verrouillage de la journée.")})},e.nonVerrouillage=function(e){u(e)},e.nonVerrouillageAllJournee=function(){e.verrouillageDjsModal.lesJoursAVerrouiller=[],$("#modal-multiple-verrouillage-djs").modal("hide")},e.dateBeautify=function(e){return r.joursName[e.getDay()]+" "+e.getDate()};var u=function(t){e.verrouillageDjsModal.lesJoursAVerrouiller=e.verrouillageDjsModal.lesJoursAVerrouiller.filter(function(e){return e!==t}),0===e.verrouillageDjsModal.lesJoursAVerrouiller.length&&$("#modal-multiple-verrouillage-djs").modal("hide")}}]),ngAriane.controller("ficheAgadir",["$scope","$route","$timeout","$routeParams","$location","$window","$cookieStore","DatasFicheAgadir","DatasProjets","DatasAgents","DAL_FICHE","DAL_POINTAGE","CPtoNAME","CreateThisFiche","AgentsADFactory","PosteGeminiFactory","AjaxErrorManager","DatasHistoPoste","DatasSanteParc","Region","DatasDJS","DIURLAPI","Etats","DAL_POSTE","SanteParcFactory","DatasUrgence","FileListFiche","DatasEtats","ProjetModalService","RegionService","Login","ForceFactory","FicheFactoryCSharp","PointageFactoryCSharp","SignalrRequest","ModalAffaire","ficheToClone","DAL_AGENT","CheckModalDjs","EnqueteSatisfactionFactory","enqueteService","EnqueteFactory","agentsService","RetNumService",function(e,t,i,n,r,o,a,s,l,c,u,d,h,p,f,m,g,v,y,b,_,w,x,E,A,C,k,T,L,D,M,S,P,N,I,O,R,j,H,F,U,z,B,G){e.FCTFORMATRESP=function(e){return 1!==e.exit_code?e:(e.L_Resultats.forEach(function(e,t,i){B.dpxPrioritaires.forEach(function(n,r,o){e.cp===n.cp&&(i[t].isPrioritaire=!0,i[t].poste=n.poste)})}),e)},e.RetNumService=G,e.ficheagadir={isLoading:!1,Projects:[],DatasProjets:l,routeParams:n,TypesUrgence:C,FichiersJoints:k,EtatsList:T,AgentsList:c,previousEtat:"",previousPoste:"",previousEtab:"",marqueurProjet:""},e.modal={isModal:!1},e.ModalAffaire=O,e.routeParams=n,e.cookieStore=a,e.ProjetModalService=L,e.datas=s,v.liste=[],e.histoPoste={datas:v,isLoading:!1},e.santeParc={datas:y,isLoading:!1,model:0},e.oldFiche={},e.modalTransfert={isTransfert:!1,isReady:!1},e.RegionServiceTemp=D,e.RegionService={List:[]},e.Region=b,e.todayYear=(new Date).getFullYear(),e.agentsDpx=[],e.lesAgents=[],e.habilitation=a.get("status"),e.DIURLAPI=w,j.ListeAgentsOrdered(function(t){e.ficheagadir.AgentsListAgent={liste:t.filter(function(e){return"0"===e.cp||e.cp===a.get("agent")})},e.lesAgents=t,e.datas.Pointage.cp=a.get("agent"),"Encadrement"===a.get("status")&&e.lesAgents.forEach(function(t){("Agent"===t.habilitation&&t.secteur===a.get("secteur")||t.cp===a.get("agent"))&&e.agentsDpx.push(t)})}),e.ficheagadir.RecupFicheByNumber=function(t,o,a){void 0!==o&&void 0!==t&&(a=a||e.Region,e.ficheagadir.razFiche(),e.ficheagadir.isLoading=!0,P.get(t,o,a).success(function(a){if(1===a.exit_code)if(o!=(a.fiche.numero||a.fiche.numeroMongo))r.path("/fiche/"+t+"/"+a.fiche.numero);else{e.oldFiche=a.fiche;var s="./images/channel_"+(void 0===a.fiche.canal||null===a.fiche.canal?"ariane":a.fiche.canal)+".svg";if(a.fiche.isTransfert===!0&&(s="./images/channel_transfert.svg"),e.datas.fiche={materiel:a.fiche.materiel,demandeur:a.fiche.cpDemandeur,description:a.fiche.description,agent:a.fiche.cpAgent,etat:a.fiche.etat,isCloture:a.fiche.isCloture,isUrgent:a.fiche.isUrgent,isPrioritaire:a.fiche.isPrioritaire,numAffaire:a.fiche.affaire,canal:s,nomCanal:a.fiche.canal||"Ariane",dateDebut:a.fiche.dateDebut,numFiche:a.fiche.numero||a.fiche.numeroMongo,numero:a.fiche.numero||void 0,numeroMongo:a.fiche.numeroMongo,region:a.fiche.region.toString(),nomRegion:D.List.filter(function(e){return e.value===a.fiche.region.toString()})[0].label,isTransferee:b!==a.fiche.region,numeroAutreRegion:a.fiche.numeroAutreRegion,_id:a.fiche._id,nomPrenomDemandeur:a.fiche.nomPrenomDemandeur,pointagesSysteme:a.fiche.pointagesSysteme,pointagesTransfert:a.fiche.pointagesTransfert,cpActeur:a.fiche.cpActeur,nomPrenomActeur:a.fiche.nomPrenomActeur,errAgadir:a.fiche.errAgadir},void 0===a.fiche.projet||""===a.fiche.projet.toString().trim())i(function(){document.querySelector("#projectAutocompleteInputFiche>div>input").value="Aucun projet"},2e3);else{var c=l.liste.filter(function(e){return e.intitule===a.fiche.projet});c.length>0?e.datas.fiche.projet=c[0]:i(function(){document.querySelector("#projectAutocompleteInputFiche>div>input").value="Aucun projet correspondant"},2e3)}f.getAgentAll(a.fiche.cpDemandeur.trim()).success(function(t){if(1===t.exit_code)if(t.L_Resultats.length>0){var i=t.L_Resultats.filter(function(e){return e.cp.indexOf("_adm")===-1});i.length>0?(e.datas.fiche.demandeur=i[0],B.dpxPrioritaires.forEach(function(t){e.datas.fiche.demandeur.cp===t.cp&&(e.datas.fiche.demandeur.isPrioritaire=!0)})):document.querySelector("#agentAutocompleteInput>div>input").value="Aucune correspondance pour le CP "+a.fiche.cpDemandeur.trim()}else document.querySelector("#agentAutocompleteInput>div>input").value="Aucune correspondance pour le CP "+a.fiche.cpDemandeur.trim()}),m.getPoste(a.fiche.materiel.trim()).success(function(t){1===t.exit_code&&(t.L_Resultats.length>0?e.datas.fiche.materiel=t.L_Resultats[0]:document.querySelector("#posteAutocompleteInput>div>input").value="Aucune correspondance pour le poste "+a.fiche.materiel.trim())}),e.ficheagadir.previousEtat=a.fiche.etat,e.ficheagadir.previousPoste=a.fiche.materiel,e.ficheagadir.previousEtab=a.fiche.etablissementDemandeur,e.datas.fiche[a.fiche._id]={},e.datas.fiche[a.fiche._id].isCloture=a.fiche.isCloture,null===a.pointages&&(a.pointages=[]),e.datas.pointages=a.pointages.map(function(e){var t=new Date;return t.setHours(0),t.setMinutes(e.duree),t.setSeconds(0),t.setMilliseconds(0),{agent:e.nomPrenom,cp:e.cp,nature:e.commentaire,date:new Date(e.date),dateDebut:new Date(e.dateDebut),duree:t,dureeMinute:e.duree,projet:e.projet,val_projet:e.projet,nFiche:e.numero,nMongo:e.numeroMongo,_id:e._id,idFiche:e.idFiche}}),U.fiche={Note:null},z.getNoteByFiche(n.annee,e.datas.fiche._id),e.ficheagadir.isLoading=!1}else e.ficheagadir.isLoading=!1,g.Gerer("Erreur lors de la lecture de la fiche."+a.err_msg)}).error(function(){e.ficheagadir.isLoading=!1,console.warn(arguments),g.Gerer("ERREUR le serveur n'a pas pu traiter votre demande de lecture de fiche")}))},e.ficheagadir.razFiche=function(){e.datas.fiche={etat:"Centre d'Appel"},e.ficheagadir.razPointage(),void 0===n.numFiche?i(function(){e.datas.fiche.isUrgent=!1,e.datas.fiche.agent=a.get("agent")},1e3):e.datas.Pointage.DatePointage=(new Date).getDateFR()},e.ficheagadir.razPointage=function(){e.datas.Pointage={}},e.ficheagadir.sendMail=function(){var t=e.datas.fiche.description.replace(/(?:\r\n|\r|\n)/g,"%0A"),i="mailto:"+e.datas.fiche.demandeur.originalObject.mail+"?subject=Concernant la fiche informatique n° "+e.ficheagadir.routeParams.numFiche+"&body="+t;o.location=i},e.ficheagadir.Create=function(){var t=angular.copy(e.datas.fiche),i=ne();if(t.projet=e.datas.fiche.projet.title,void 0===t.etat&&(g.Gerer("Veuillez saisir un état."),i++),0!==i)return void(e.ficheagadir.isLoading=!1);e.ficheagadir.isLoading=!0;var n=angular.copy(e.datas.fiche),o=(new Date).getFullYear(),s={},l=new Date;l.setHours(12,0,0,0),s.cpDemandeur=n.demandeur.description,s.nomPrenomDemandeur=n.demandeur.title.split(" (")[0],s.cpAgent=n.agent,s.dateDebut=l,s.isCloture=!1,s.isUrgent=n.isUrgent,s.isPrioritaire=n.isPrioritaire,s.description=n.description,s.materiel=Q(n.materiel),s.etat=n.etat,s.region=b,s.projet=n.projet.title,s.val_projet=n.projet.description.guid,s.cpActeur=a.get("agent"),s.nomPrenomActeur=a.get("nomAgent"),s.telDemandeur=e.datas.fiche.demandeur.originalObject.tel,s.mobileDemandeur=e.datas.fiche.demandeur.originalObject.mobile,P.add(s).success(function(t){if(1===t.exit_code){G.isWorking.push(t.nmongo),I.AffectationFiche(s.cpAgent,t.nmongo,o),R.fiche={};var i=0===t.nagadir?t.nmongo:t.nagadir;r.path("/fiche/"+o+"/"+i)}else e.ficheagadir.isLoading=!1,g.Gerer("Erreur lors de la création de la fiche. "+t.err_msg)}).error(function(){e.ficheagadir.isLoading=!1,console.warn(arguments),g.Gerer("ERREUR le serveur n'a pas pu traiter votre demande de création de fiche.")})},e.ficheagadir.Update=function(){0===ne()&&(e.ficheagadir.isLoading=!0,W())},e.ficheagadir.Cloturer=function(){0===ne()&&(g.Infos={title:"Confirmation",msg:["Êtes-vous sûr de vouloir "+(e.datas.fiche.isCloture===!0?"dé":"")+"clôturer cette fiche ?"],Confirm:function(){e.ficheagadir.isLoading=!0,K(ee(e.datas.fiche.demandeur),e.datas.fiche.agent,function(i){i.isCloture=!e.datas.fiche.isCloture,P.upd(i).success(function(n){if(e.ficheagadir.isLoading=!1,1===n.exit_code){if(!e.datas.fiche.isCloture==!0){var r=0===i.numero?i.numeroMongo:i.numero,o=new Date;z.add({CpAgent:i.cpAgent,CpDemandeur:i.cpDemandeur,NumeroFiche:r,AnneeFiche:i.annee,Projet:i.projet,DateReponse:i.dateDebut,DateCloture:o,_id:i._id,IsPrioritaire:i.isPrioritaire})}t.reload()}else g.Gerer("Erreur lors de la clôture de la fiche."+n.err_msg)}).error(function(){e.ficheagadir.isLoading=!1,console.warn(arguments),g.Gerer("ERREUR le serveur n'a pas pu traiter votre demande de clôture de fiche.")})})}})},e.ficheagadir.AddPointage=function(){if(0===re()){var n=oe();e.ficheagadir.isLoading=!0,i(function(){N.add(n).success(function(i){1===i.exit_code?(_.reload++,H.CheckGetModal(n),t.reload()):(e.ficheagadir.isLoading=!1,g.Gerer("Erreur lors de la création du pointage. "+i.err_msg))}).error(function(){e.ficheagadir.isLoading=!1,console.warn(arguments),g.Gerer("ERREUR le serveur n'a pas pu traiter votre demande de création de pointage.")})},500)}},e.ficheagadir.AddPointageAndCloture=function(){0===re()&&0===ne()&&(g.Infos={title:"Confirmation",msg:["Êtes-vous sûr de vouloir pointer puis clôturer cette fiche ?"],Confirm:function(){var i=oe();e.ficheagadir.isLoading=!0,N.add(i).success(function(n){1===n.exit_code?(_.reload++,H.CheckGetModal(i),K(ee(e.datas.fiche.demandeur),e.datas.fiche.agent,function(i){i.isCloture=!e.datas.fiche.isCloture,P.upd(i).success(function(i){e.ficheagadir.isLoading=!1,1===i.exit_code?t.reload():(e.ficheagadir.isLoading=!1,g.Gerer("Erreur lors de la clôture de la fiche. "+i.err_msg))}).error(function(){e.ficheagadir.isLoading=!1,console.warn(arguments),g.Gerer("ERREUR le serveur n'a pas pu traiter votre de demande de clôture de fiche.")})})):(e.ficheagadir.isLoading=!1,g.Gerer("Erreur lors de la création du pointage. "+n.err_msg))}).error(function(){e.ficheagadir.isLoading=!1,console.warn(arguments),g.Gerer("ERREUR le serveur n'a pas pu traiter votre demande de création de pointage.")})}})},e.ficheagadir.UpdPointage=function(){0===ae()&&(e.ficheagadir.isLoading=!0,q(se()))},e.ficheagadir.showModPtg=function(t){e.ficheagadir.marqueurProjet="modif",e.modal={isModal:!0,nature:t.nature,date:t.date.getDateFR(),dureeMinute:t.dureeMinute,projet:t.projet,fiche:!0,_id:t._id}},e.ficheagadir.DelPointage=function(n){g.Infos={title:"Confirmation",msg:["Êtes-vous sûr de vouloir supprimer ce pointage ?"],Confirm:function(){e.ficheagadir.isLoading=!0,i(function(){N.del({_id:n._id,cp:a.get("agent")}).success(function(i){e.ficheagadir.isLoading=!1,1===i.exit_code?(_.reload++,t.reload()):g.Gerer("Erreur lors de la suppression du pointage. "+i.err_msg)}).error(function(){e.ficheagadir.isLoading=!1,console.warn(arguments),g.Gerer("ERREUR le serveur n'a pas pu traiter la suppression du pointage.")})},500)}}},e.ficheagadir.Transferer=function(){return void 0===e.datas.fiche.region||e.datas.fiche.region===b.toString()?void g.Gerer("Veuillez choisir une région de destination"):(e.modalTransfert.isTransfert=!0,$("#modalTransfert").modal("hide"),e.ficheagadir.isLoading=!0,void i(function(){K(e.datas.fiche.demandeur.description,a.get("agent"),function(i){return 0!==ne()?void(e.ficheagadir.isLoading=!1):void P.upd(i).success(function(i){1===i.exit_code?(G.isWorking.push("R"+e.datas.fiche.numeroMongo.toString()+e.datas.fiche.numeroAutreRegion.toString()),t.reload()):(e.ficheagadir.isLoading=!1,g.Gerer("Erreur lors du transfert de la fiche. "+i.err_msg))}).error(function(){e.ficheagadir.isLoading=!1,g.Gerer("ERREUR le serveur n'a pas pu traiter votre de transfert de fiche")})})},200))},e.ficheagadir.Cloner=function(){ne()>0||(R.fiche=angular.copy(s.fiche),r.path("/fiche"))},e.ficheagadir.ForcerCreation=function(){0===ne()&&(e.ficheagadir.isLoading=!0,i(function(){K(e.datas.fiche.demandeur.description,e.datas.fiche.agent,function(t){S.CreateFiche(t).success(function(t){e.ficheagadir.isLoading=!1,1===t.exit_code?r.path("/fiche/"+n.annee+"/"+t.nagadir):g.Gerer("Erreur lors de la création de la fiche dans AGADIR. "+t.err_msg)}).error(function(){e.ficheagadir.isLoading=!1,console.warn(arguments),g.Gerer("ERREUR le serveur n'a pas pu traiter votre demande de création de la fiche dans AGADIR.")})})},200))},e.$watch("datas.fiche.materiel",function(t,i){var r=Q(t);e.santeParc.datas={liste:[],listeAgent:[]},void 0===r||angular.equals(t,i)||(Z(),X("fiche"),void 0!==n.annee&&X("pointage"),V(r),Y(J),void 0===e.datas.fiche.demandeur&&M.getUserByPoste(r).success(function(t){"null"!==t&&f.getAgent(t).success(function(t){1===t.exit_code&&t.L_Resultats.length>0&&(e.datas.fiche.demandeur=t.L_Resultats[0])})}))}),e.$watch("datas.fiche.demandeur",function(t,i){var r=ee(t);return void 0===r||angular.equals(t,i)?void(void 0===r&&(e.datas.fiche.isPrioritaire=null)):(r===e.oldFiche.cpDemandeur&&void 0!==e.datas.fiche.demandeur.originalObject&&(null!==e.oldFiche.telDemandeur&&void 0!==e.oldFiche.telDemandeur&&(e.datas.fiche.demandeur.originalObject.tel=e.oldFiche.telDemandeur),null!==e.oldFiche.mobileDemandeur&&void 0!==e.oldFiche.mobileDemandeur&&(e.datas.fiche.demandeur.originalObject.mobile=e.oldFiche.mobileDemandeur)),void 0!==e.datas.fiche.materiel&&null!==e.datas.fiche.materiel||M.getPosteByUser(r).success(function(t){"null"!==t&&m.getPoste(t).success(function(t){1===t.exit_code&&t.L_Resultats.length>0&&(e.datas.fiche.materiel=t.L_Resultats[0])})}),t.originalObject&&t.originalObject.isPrioritaire===!0?(e.datas.fiche.isUrgent=!1,e.datas.fiche.isPrioritaire=!0):e.datas.fiche.isPrioritaire=null,Z(),X("fiche"),void(void 0!==n.annee&&X("pointage")))}),e.$watch("santeParc.model",function(e,t){angular.equals(e,t)||i(function(){J()},100)}),e.$watch("datas.fiche.etat",function(e,t){void 0===e||angular.equals(e,t)||Z()}),e.$watch("ficheagadir.DatasProjets.liste",function(t,i){e.ficheagadir.Projects.liste=t.filter(function(e){return"fiche"===e.type||""===e.type}),L.list=e.ficheagadir.Projects.liste}),e.$watchCollection("ProjetModalService.model",function(t,i){if(void 0!==t)switch(e.ficheagadir.marqueurProjet){case"fiche":e.datas.fiche.projet=t;break;case"modif":e.modal.projet=t}}),e.$watchCollection("RetNumService.list",function(t,i){void 0!==t&&t.forEach(function(t){t.num_ariane==e.datas.fiche.numeroMongo&&t.annee.toString()==n.annee&&null===t.num_autre_region?null!==t.num_agadir?(e.datas.fiche.numero=t.num_agadir,e.datas.fiche.numFiche=t.num_agadir):e.datas.fiche.errAgadir=t.err_msg:t.num_agadir!=n.numFiche&&t.num_ariane!=n.numFiche||t.annee.toString()!=n.annee||null===t.num_autre_region||(null!==t.num_autre_region?e.datas.fiche.numeroAutreRegion=t.num_autre_region:e.datas.fiche.errAgadir=t.err_msg)})}),e.$watchCollection("RegionServiceTemp.List",function(t){void 0!==t&&(e.RegionService.List=D.List.filter(function(e){return e.value!==b.toString()}))}),e.$watch("modalTransfert.isReady",function(t){t===!0&&$("#modalTransfert").on("hide.bs.modal",function(t){e.modalTransfert.isTransfert===!1&&(e.datas.fiche.region=b.toString()),e.modalTransfert.isTransfert=!1})}),e.$watchCollection("ModalAffaire.selectedAffaire",function(t,i){void 0!==t&&"{}"!==JSON.stringify(t)&&(e.datas.fiche.numAffaire=t.numero,O.selectedAffaire={},e.ficheagadir.Update())});var W=function(){K(e.datas.fiche.demandeur.description,e.datas.fiche.agent,function(t){P.upd(t).success(function(i){e.ficheagadir.isLoading=!1,1===i.exit_code?(t.cpAgent!==e.oldFiche.cpAgent&&I.AffectationFiche(t.cpAgent,n.numFiche,n.annee),e.ficheagadir.isLoading=!1):g.Gerer("Erreur lors de la mise à jour de la fiche."+i.err_msg)}).error(function(){e.ficheagadir.isLoading=!1,console.warn(arguments),g.Gerer("ERREUR le serveur n'a pas pu traiter votre demande de modification de fiche.")})})},q=function(n){e.modal.isModal=!1,$("#modal-pointage").modal("hide"),e.ficheagadir.isLoading=!0,i(function(){N.upd(n).success(function(i){1===i.exit_code?(e.ficheagadir.isLoading=!1,_.reload++,t.reload()):(e.ficheagadir.isLoading=!1,g.Gerer("Erreur lors de la mise à jour du pointage. "+i.err_msg))}).error(function(){console.warn(arguments),e.ficheagadir.isLoading=!1,g.Gerer("ERREUR le serveur n'a pas pu traiter votre demande de mise à jour de pointage.")})},500)},V=function(t){void 0!==t&&""!==t&&(e.histoPoste.datas.liste=[],e.histoPoste.isLoading=!0,E.Liste(t).success(function(t){e.histoPoste.isLoading=!1,1===t.exit_code?e.histoPoste.datas.liste=t.lesFiches.map(function(e){return e.dateAppel=new Date(e.dateDebut),e.link="#/fiche/"+e.dateAppel.getFullYear()+"/"+e.numero||e.numeroMongo,e}):g.Gerer("Erreur lors de la lecture de l'historique du poste. "+t.err_msg)}).error(function(){e.histoPoste.isLoading=!1,console.warn(arguments),g.Gerer("ERREUR le serveur n'a pas pu traiter la demande de lecture d'historique du poste.")}))},Y=function(t){var i=Q(e.datas.fiche.materiel);""!==i&&(e.santeParc.isLoading=!0,A.getSanteParcHisto(i).success(function(i){e.santeParc.isLoading=!1,null!==i&&(i.forEach(function(t,i){t=JSON.parse(t),e.santeParc.datas.listeAgent.push({index:i,display:(t.ConfigOrdinateur.UserNP||t.ConfigOrdinateur.UserCp)+" "+t.ConfigOrdinateur.DateConfig}),e.santeParc.datas.liste.push(t)}),t&&t())}).error(function(){e.histoPoste.isLoading=!1,console.warn(arguments),g.Gerer("ERREUR le serveur n'a pas pu traiter la demande de lecture de santé du parc.")}),A.getSanteParcLivePoste(i).success(function(t){e.santeParc.isLoading=!1,e.santeParc.datas.livePoste=t}).error(function(){e.histoPoste.isLoading=!1,console.warn(arguments),g.Gerer("ERREUR le serveur n'a pas pu traiter la demande de lecture de santé du parc.")}))},J=function(){e.santeParc.isLoading=!0,e.santeParc.datas.liste.length>0&&A.getSanteParcLiveCompte(e.santeParc.datas.liste[e.santeParc.model].ConfigOrdinateur.UserCp).success(function(t){e.santeParc.isLoading=!1,e.santeParc.datas.liveCompte=t}).error(function(){e.histoPoste.isLoading=!1,console.warn(arguments),g.Gerer("ERREUR le serveur n'a pas pu traiter la demande de lecture de santé du parc.")})},Z=function(){var t=Q(e.datas.fiche.materiel),i="",n="",r=new RegExp(/^PCI/g),o=new RegExp(/^PIV/g),a=new RegExp(/^EIC/g);void 0!==e.datas.fiche.demandeur&&null!==e.datas.fiche.demandeur&&angular.isObject(e.datas.fiche.demandeur.originalObject)&&(i=e.datas.fiche.demandeur.originalObject.etablissement),r.test(t)===!0&&(n="Centre d'Appel"===e.datas.fiche.etat?"CANAIHL":"CATI"),o.test(t)===!0&&a.test(i)===!0&&(n="Centre d'Appel"===e.datas.fiche.etat?"CANAIHL":"SINAI"),e.ficheagadir.Projects.liste=l.liste.filter(function(e){return""===n?"fiche"===e.type||""===e.type:"fiche"===e.type&&e.filtre_projet===n}),L.list=e.ficheagadir.Projects.liste,L.model=e.datas.fiche.projet,"CANAIHL"===n&&(e.datas.fiche.projet=L.list[0])},X=function(){if(void 0!==e.datas.fiche&&void 0!==e.datas.fiche.projet){var t=angular.isString(e.datas.fiche.projet);if(void 0!==e.datas.fiche.projet.description||t===!0){var i=!1;e.ficheagadir.Projects.liste.forEach(function(n){t===!0?n.intitule===e.datas.fiche.projet.trim()&&(i=!0):n.guid===e.datas.fiche.projet.description.guid&&(i=!0)}),i===!1&&0!==e.ficheagadir.Projects.liste.length&&(e.datas.fiche.projet=void 0)}}},K=function(t,i,r){var o={};o.cpDemandeur=e.datas.fiche.demandeur.description,o.nomPrenomDemandeur=e.datas.fiche.demandeur.title.split(" (")[0];var s=e.ficheagadir.AgentsList.liste.filter(function(e){return e.cp===i})[0];o.cpAgent=s&&s.cp||"0",o.annee=n.annee,o.materiel=Q(e.datas.fiche.materiel),o.description=ie(e.datas.fiche.description),o.isUrgent=e.datas.fiche.isUrgent,o.isCloture=e.datas.fiche.isCloture,o.etat=e.datas.fiche.etat,o.region=e.datas.fiche.region,o.numeroAutreRegion=e.datas.fiche.numeroAutreRegion,o.numeroMongo=e.datas.fiche.numeroMongo,o.numero=e.datas.fiche.numero||0,o._id=e.datas.fiche._id,o.dateDebut=e.datas.fiche.dateDebut,o.canal=e.datas.fiche.nomCanal,o.projet=e.datas.fiche.projet.title,o.val_projet=e.datas.fiche.projet.description.guid,o.affaire=e.datas.fiche.numAffaire,o.pointagesSysteme=e.datas.fiche.pointagesSysteme,o.pointagesTransfert=e.datas.fiche.pointagesTransfert,o.cpActeur=a.get("agent"),o.nomPrenomActeur=a.get("nomAgent"),o.telDemandeur=e.datas.fiche.demandeur.originalObject.tel,o.mobileDemandeur=e.datas.fiche.demandeur.originalObject.mobile,o.isPrioritaire=e.datas.fiche.isPrioritaire,r(o)},Q=function(e){if(void 0!==e&&null!==e)return void 0!==e.calife?e.calife.split(" ")[0]:void 0!==e.title?e.title.split(" ")[0]:void 0},ee=function(e){if(void 0!==e&&null!==e)return void 0!==e.title?e.description:void 0!==e.cp?e.cp:void 0},te=function(){var t=e.datas.fiche.projet;if(void 0!==t)return void 0!==t.title?t.title:void 0!==t.intitule?t.intitule:void 0},ie=function(e){var t="";return void 0!==e&&""!==e.trim()&&(t=e.trim()),t},ne=function(){var t=0;return void 0===Q(e.datas.fiche.materiel)&&(g.Gerer("Veuillez saisir un poste existant."),t++),void 0===ee(e.datas.fiche.demandeur)&&(g.Gerer("Veuillez saisir un agent existant."),t++),""===ie(e.datas.fiche.description)&&(g.Gerer("Veuillez saisir une description."),t++),void 0===te()&&(g.Gerer("Veuillez saisir un projet."),t++),t},re=function(){var t=0;return void 0===e.datas.Pointage.TravailRealise||""===e.datas.Pointage.TravailRealise.trim()?(e.datas.Pointage.errDesc=!0,t++):e.datas.Pointage.errDesc=!1,void 0===e.datas.Pointage.DureeMinutes||e.datas.Pointage.DureeMinutes%3!==0?(e.datas.Pointage.errDuree=!0,t++):e.datas.Pointage.errDuree=!1,void 0===e.datas.Pointage.DatePointage||""===e.datas.Pointage.DatePointage.trim()?(e.datas.Pointage.errDate=!0,t++):e.datas.Pointage.errDate=!1,t},oe=function(){var t=Date.setDateFR(e.datas.Pointage.DatePointage);return t.setHours(12,0,0,0),[{idFiche:e.datas.fiche._id,numero:e.datas.fiche.numero,numeroMongo:e.datas.fiche.numeroMongo,anneeFiche:parseInt(n.annee,10),nomPrenom:e.lesAgents.filter(function(t){return t.cp===e.datas.Pointage.cp})[0].nomPrenom,cp:e.datas.Pointage.cp,commentaire:e.datas.Pointage.TravailRealise.trim(),projet:e.oldFiche.projet,val_projet:e.datas.fiche.projet.description.guid,duree:parseInt(e.datas.Pointage.DureeMinutes,10),date:t,cpActeur:a.get("agent")}]},ae=function(){var t=0;return void 0===e.modal.nature||""===e.modal.nature.trim()?(e.modal.errDesc=!0,t++):e.modal.errDesc=!1,void 0===e.modal.dureeMinute||e.modal.dureeMinute%3!==0?(e.modal.errDuree=!0,t++):e.modal.errDuree=!1,void 0===e.modal.date||""===e.modal.date.trim()?(e.modal.errDate=!0,t++):e.modal.errDate=!1,t},se=function(){var t=Date.setDateFR(e.modal.date);return t.setHours(12,0,0,0),{idFiche:e.datas.fiche._id,numero:e.datas.fiche.numero,numeroMongo:e.datas.fiche.numeroMongo,anneeFiche:parseInt(n.annee,10),nomPrenom:a.get("nomAgent"),cp:a.get("agent"),commentaire:e.modal.nature.trim(),projet:e.modal.projet.title||e.modal.projet,val_projet:e.datas.fiche.projet.description.guid,duree:parseInt(e.modal.dureeMinute,10),date:t,_id:e.modal._id}};void 0!==n.numFiche&&void 0!==n.annee?(e.ficheagadir.anneeInt=parseInt(n.annee,10),e.ficheagadir.RecupFicheByNumber(n.annee,n.numFiche,n.region)):(e.ficheagadir.razFiche(),Z(),void 0!==R.fiche._id&&(s.fiche=R.fiche,V(R.fiche.materiel.title.split(" (")[0]),Y(),i(function(){document.getElementById("posteAutocompleteInput").value=R.fiche.materiel.title,document.getElementById("agentAutocompleteInput").value=R.fiche.demandeur.title,R.fiche={}},1e3)))}]),ngAriane.controller("pointagesJournee",["$scope","DatasPtgJour","CPtoNAME","$route","$routeParams","AjaxErrorManager","$cookieStore","DAL_POINTAGE","AgentsADFactory","DatasDJS","DatasProjets","$timeout","VerifDatasNuitAstreinte","ModalPointageNuitAstreinte","ProjetModalService","PointageFactoryCSharp","DAL_DJS","JoursName","FctValidationDpx","SignalrRequest","AgadirDominator","dateFilter",function(e,t,i,n,r,o,a,s,l,c,u,d,h,p,f,m,g,v,y,b,_,w){e.datas={fiche:{}},e.cookieStore=a,e.projets=f,e.ProjetModalService=f,e.habilitation=a.get("status"),e.pointagesjournee={},e.URLButton="views/nuitAstreinte/buttonModifier.html",e.routeParams=r,e.djs={},e.jourSemaine=[],e.JoursName=v,e.ptgjour={datas:t,agentName:"",isLoading:!0},e.ptgjour.datePointage=Date.setDateFR(r.datePointage);var x=function(e){var t=Date.setDateFR(r.datePointage);return t.setDate(t.getDate()+e),t=t.getDateFR().replace(new RegExp("/","g"),"-")};e.jourSuivant=x(1),e.jourPrecedent=x(-1),e.filtreProjetAstreinte=function(){f.list=u.liste,f.model="",document.querySelector("#projectAutocompleteInput4>div>input").value=""},e.filtreProjetGeneral=function(){f.list=u.liste.filter(function(e){return"projet"===e.type||""===e.type}),f.model="",document.querySelector("#projectAutocompleteInput>div>input").value=""},e.filtreProjetNuit=function(){f.list=f.list.filter(function(e){return"Temps d'insuffisance de service (TI)"===e.intitule}),f.model="",document.querySelector("#projectAutocompleteInput5>div>input").value=""};var E=function(){var t=angular.copy(e.ptgjour.datePointage),i=t.getDay(),n=t.getDate()-i+(0==i?-6:1);t.setDate(n);for(var r=0;r<7;r++)e.jourSemaine[r]={date:"",dateFr:""},e.jourSemaine[r].date=angular.copy(t),e.jourSemaine[r].dateFr=angular.copy(t).getDateFR().replace(new RegExp("/","g"),"-"),t.setDate(t.getDate()+1)};E(),i.GetFullName(r.idUser,function(t){e.ptgjour.agentName=t});var A=Date.setDateFR(r.datePointage);A.setHours(12,0,0,0),e.verrouillerJournee=function(){g.LireDJS({cp:r.idUser,annee:A.getFullYear(),semaine:A.getWeekNumber()}).success(function(t){1===t.exit_code?(t.djs.cpActeur=a.get("agent"),delete t.djs.verrouiller,delete t.djs.cloturer,delete t.djs.valider,e.djs=t.djs,e.isVerrouiller=e.djs.lesJours[v.joursName[A.getDay()]].verrouiller,t.djs.lesJours[v.joursName[A.getDay()]].verrouiller=!0,g.ModificationDJS([t.djs]).success(function(t){1!==t.exit_code?o.Gerer("Erreur lors du verrouillage de la journée."+t.err_msg):(c.reload++,e.isVerrouiller=!e.isVerrouiller,y.NotifierDpx(r.idUser,A))}).error(function(){console.warn(arguments),o.Gerer("ERREUR le serveur n'a pas pu traiter votre demande de verrouillage de la journée.")})):console.log("N'a pas pu checker la djs")})},e.cloturerJournee=function(){e.ptgjour.isLoading=!0,g.LireDJS({cp:r.idUser,annee:A.getFullYear(),semaine:A.getWeekNumber()}).success(function(t){1===t.exit_code?(t.djs.cpActeur=a.get("agent"),delete t.djs.verrouiller,delete t.djs.cloturer,delete t.djs.valider,e.djs=t.djs,t.djs.lesJours[v.joursName[A.getDay()]].cloturer=!e.isCloturer,g.ModificationDJS([t.djs]).success(function(e){1!==e.exit_code?o.Gerer("Erreur lors du cloture de la journée."+e.err_msg):c.reload++}).error(function(){console.warn(arguments),o.Gerer("ERREUR le serveur n'a pas pu traiter votre demande de cloture de la journée.")}).then(function(){e.ptgjour.isLoading=!0,n.reload()})):console.log("N'a pas pu checker la djs")}).error(function(){console.warn(arguments),o.Gerer("ERREUR le serveur n'a pas pu traiter votre demande de cloture de la journée.")})},e.deVerrouillerJournee=function(t){g.LireDJS({cp:r.idUser,annee:A.getFullYear(),semaine:A.getWeekNumber()}).success(function(i){1===i.exit_code?(i.djs.cpActeur=a.get("agent"),delete i.djs.verrouiller,delete i.djs.cloturer,delete i.djs.valider,e.djs=i.djs,e.isVerrouiller=e.djs.lesJours[v.joursName[A.getDay()]].verrouiller,i.djs.lesJours[v.joursName[A.getDay()]].verrouiller=!1,g.ModificationDJS([i.djs]).success(function(i){1!==i.exit_code?o.Gerer("Erreur lors du verrouillage de la journée."+i.err_msg):(c.reload++,e.isVerrouiller=!e.isVerrouiller,t&&t())}).error(function(){console.warn(arguments),o.Gerer("ERREUR le serveur n'a pas pu traiter votre demande de verrouillage de la journée.")})):console.log("N'a pas pu checker la djs")})},e.showModSignalPtg=function(t){e.modalSignalPtg=t,e.modalSignalPtg.commentaire="",$("#modal-signal-pointage").modal()},e.signalPtg=function(){e.ptgjour.isLoading=!0,e.deVerrouillerJournee(function(){$("#modal-signal-pointage").modal("hide"),m.upd({_id:e.modalSignalPtg._id,idFiche:e.modalSignalPtg.idFiche,nomPrenom:a.get("nomAgent"),cp:a.get("agent"),commentaire:e.modalSignalPtg.nature,projet:e.modalSignalPtg.projet,val_projet:e.modalSignalPtg.val_projet,duree:parseInt(e.modalSignalPtg.dureeMinute,10),date:A,numero:e.modalSignalPtg.nFiche,anneeFiche:e.modalSignalPtg.annee,commentaireSignalement:e.modalSignalPtg.commentaire,signaler:!0}).success(function(t){e.ptgjour.isLoading=!1,1===t.exit_code?(c.reload++,n.reload(),b.SignalementPtg(e.modalSignalPtg.cp,e.modalSignalPtg.date)):o.Gerer("Erreur lors de la modification du pointage. "+t.err_msg)}).error(function(){e.ptgjour.isLoading=!1,$("#modal-pointage").modal("hide"),console.warn(arguments),o.Gerer("ERREUR le serveur n'a pas pu traiter votre demande de modification de pointage.")})})},e.cloturerPtg=function(t){m.cloture([{_id:t._id,cpActeur:a.get("agent"),cloturer:t.cloturer,cp:t.cp,date:t.date}]).success(function(i){if(e.ptgjour.isLoading=!1,1===i.exit_code){c.reload++;var n=!0;e.datas.pointages.forEach(function(e){0==e.cloturer&&(n=!1)}),g.LireDJS({cp:r.idUser,annee:A.getFullYear(),semaine:A.getWeekNumber()}).success(function(t){1===t.exit_code?(t.djs.cpActeur=a.get("agent"),
delete t.djs.verrouiller,delete t.djs.cloturer,delete t.djs.valider,e.djs=t.djs,t.djs.lesJours[v.joursName[A.getDay()]].cloturer!==n&&(t.djs.lesJours[v.joursName[A.getDay()]].cloturer=n,g.ModificationDJS([t.djs]).success(function(t){1!==t.exit_code?o.Gerer("Erreur lors du verrouillage de la journée."+t.err_msg):(c.reload++,e.isCloturer=!e.isCloturer)}).error(function(){console.warn(arguments),o.Gerer("ERREUR le serveur n'a pas pu traiter votre demande de verrouillage de la journée.")}))):console.log("N'a pas pu checker la djs")})}else t.cloturer=!t.cloturer,o.Gerer("Erreur lors de la modification du pointage. "+i.err_msg)}).error(function(){e.ptgjour.isLoading=!1,console.warn(arguments),o.Gerer("ERREUR le serveur n'a pas pu traiter votre demande de modification de pointage.")})},e.AddPtgAgadir=function(t){e.ptgjour.isLoading=!0,_.CPtg({duree:60*t.duree.getHours()+t.duree.getMinutes(),cpAgent:t.cp,datePointage:t.date,numFiche:t.nFiche,val_projet:t.val_projet,libProjet:t.projet,description:t.nature,anneeFiche:t.annee,before:!0,guid:t._id,idFiche:t.idFiche}).success(function(t){1===t.exit_code?n.reload():(e.ptgjour.isLoading=!1,o.Gerer("Erreur lors de la creation du pointage."+t.message))}).error(function(){e.ptgjour.isLoading=!1,console.warn(arguments),o.Gerer("ERREUR le serveur n'a pas pu traiter votre demande de creation de pointage.")})},g.LireDJS({cp:r.idUser,annee:A.getFullYear(),semaine:A.getWeekNumber()}).success(function(t){1===t.exit_code?(e.djs=t.djs,console.log(e.djs),e.isVerrouiller=e.djs.lesJours[v.joursName[A.getDay()]].verrouiller,e.isCloturer=e.djs.lesJours[v.joursName[A.getDay()]].cloturer,console.log(e.djs.lesJours[v.joursName[A.getDay()]].cloturer),e.isJourneeCompleted=e.djs.lesJours[v.joursName[A.getDay()]].minutesRestantes<=0):console.log("N'a pas pu checker la djs")}),m.read({cp:r.idUser,date:A}).success(function(t){1===t.exit_code?(e.datas.pointages=[],e.totalPtg=0,t.lesPointages.filter(function(e){return e.isAstreinte===!1}).forEach(function(t){e.datas.pointages.push({agent:t.nomPrenom,cp:t.cp,projet:t.projet,val_projet:t.val_projet,nFiche:t.isNuit===!1?t.numero||void 0:void 0,nMongo:t.numeroMongo,idFiche:t.idFiche||void 0,nature:t.commentaire,date:t.date,dureeMinute:t.duree,duree:new Date(0,0,0,0,t.duree,0,0),annee:t.isNuit===!1?t.anneeFiche||void 0:void 0,dateDebut:t.dateDebut,dateFin:t.dateFin,_id:t._id,isNuit:t.isNuit,signaler:t.signaler,cloturer:t.cloturer}),void 0!==e.datas.pointages[e.datas.pointages.length-1].nFiche&&(e.datas.fiche[t.idFiche]={},e.datas.fiche[t.idFiche].isCloture=t.isCloture||!1),e.totalPtg+=t.duree}),e.totalPtg=new Date(0,0,0,0,e.totalPtg,0,0),n.current.$$route.originalPath.indexOf("check")!==-1?_.LirePtg(r.idUser,r.datePointage).success(function(t){e.ptgjour.isLoading=!1,1===t.exit_code?(e.datas.pointagesAgadir=t.lesPointages,e.datas.pointagesAll=[],e.datas.pointagesAgadir.length>=e.datas.pointages.length?e.datas.pointagesAgadir.forEach(function(t){var i={ptgAga:t,ptgAri:null};e.datas.pointages.forEach(function(e){void 0!==t._id&&e._id.trim()===t._id.trim()&&(t.projet.trim().indexOf(e.projet.trim())!==-1&&w(e.duree,"HH'h'mm")===t.temps.trim()&&IgnoreAccents(e.nature.trim())===IgnoreAccents(t.nature.trim())?(i.isSame=!0,i.ptgAri=e):i.ptgAri=e)}),e.datas.pointagesAll.push(i)}):e.datas.pointages.forEach(function(t){var i={ptgAga:null,ptgAri:t};e.datas.pointagesAgadir.forEach(function(e){void 0!==e._id&&t._id.trim()===e._id.trim()&&(e.projet.trim().indexOf(t.projet.trim())!==-1&&w(t.duree,"HH'h'mm")===e.temps.trim()&&IgnoreAccents(t.nature.trim())===IgnoreAccents(e.nature.trim())?(i.isSame=!0,i.ptgAga=e):i.ptgAga=e)}),e.datas.pointagesAll.push(i)})):o.Gerer("Erreur lors de la lecture des pointages agadir. "+t.err_msg)}).error(function(){e.ptgjour.isLoading=!1,console.warn(arguments),o.Gerer("ERREUR le serveur n'a pas pu traiter votre demande de lecture des pointages.")}):e.ptgjour.isLoading=!1):(e.ptgjour.isLoading=!1,o.Gerer("Erreur lors de la lecture des pointages. "+t.err_msg))}).error(function(){e.ptgjour.isLoading=!1,console.warn(arguments),o.Gerer("ERREUR le serveur n'a pas pu traiter votre demande de lecture des pointages.")}),e.ficheagadir={Projects:f,DelPointage:function(t){o.Infos={title:"Confirmation",msg:["Êtes-vous sûr de vouloir supprimer ce pointage ?"],Confirm:function(){e.ptgjour.isLoading=!0,m.del({_id:t._id,cp:a.get("agent")}).success(function(t){e.ptgjour.isLoading=!1,1===t.exit_code?(c.reload++,n.reload()):(e.ptgjour.isLoading=!1,o.Gerer("Erreur lors de la suppression du pointage. "+t.err_msg))}).error(function(){e.ptgjour.isLoading=!1,console.warn(arguments),o.Gerer("ERREUR le serveur n'a pas pu traiter la suppression du pointage.")})}}},showModPtg:function(t){void 0===t.nFiche?f.list=u.liste.filter(function(e){return"projet"===e.type||""===e.type}):f.list=u.liste.filter(function(e){return"fiche"===e.type||""===e.type}),e.modal={nature:t.nature,date:new Date(t.date).getDateFR(),selectedProject:u.liste.filter(function(e){return e.intitule===t.projet})[0],dureeMinute:t.dureeMinute,projet:t.projet,nFiche:t.nFiche,annee:t.annee,idFiche:t.idFiche,fiche:void 0!==t.nFiche,_id:t._id}},UpdPointage:function(){var t=0;void 0===e.modal.nature||""===e.modal.nature.trim()?(e.modal.errDesc=!0,t++):e.modal.errDesc=!1,void 0===e.modal.dureeMinute||e.modal.dureeMinute%3!==0?(e.modal.errDuree=!0,t++):e.modal.errDuree=!1,void 0===e.modal.date||""===e.modal.date.trim()?(e.modal.errDate=!0,t++):e.modal.errDate=!1,void 0===e.modal.selectedProject?(e.modal.errProj=!0,t++):e.modal.errProj=!1,0===t&&($("#modal-pointage").modal("hide"),e.ptgjour.isLoading=!0,void 0===e.modal.nFiche?d(function(){var t=Date.setDateFR(e.modal.date);t.setHours(12,0,0,0),m.upd({_id:e.modal._id,nomPrenom:a.get("nomAgent"),cp:a.get("agent"),commentaire:e.modal.nature,projet:e.modal.selectedProject.title,val_projet:u.liste.filter(function(t){return t.intitule===e.modal.selectedProject.title})[0].guid,duree:parseInt(e.modal.dureeMinute,10),date:t}).success(function(t){e.ptgjour.isLoading=!1,1===t.exit_code?(c.reload++,n.reload()):o.Gerer("Erreur lors de la modification du pointage. "+t.err_msg)}).error(function(){e.ptgjour.isLoading=!1,$("#modal-pointage").modal("hide"),console.warn(arguments),o.Gerer("ERREUR le serveur n'a pas pu traiter votre demande de modification de pointage.")})},200):d(function(){var t=Date.setDateFR(e.modal.date);t.setHours(12,0,0,0),m.upd({_id:e.modal._id,idFiche:e.modal.idFiche,nomPrenom:a.get("nomAgent"),cp:a.get("agent"),commentaire:e.modal.nature,projet:e.modal.selectedProject.intitule,val_projet:e.modal.selectedProject.guid,duree:parseInt(e.modal.dureeMinute,10),date:t,numero:e.modal.nFiche,anneeFiche:e.modal.annee}).success(function(t){1===t.exit_code?(e.ptgjour.isLoading=!1,c.reload++,n.reload()):(e.ptgjour.isLoading=!1,o.Gerer("Erreur lors de la mise à jour du pointage. "+t.err_msg))}).error(function(){console.warn(arguments),e.ptgjour.isLoading=!1,o.Gerer("ERREUR le serveur n'a pas pu traiter votre demande de mise à jour de pointage.")})},200))}},e.blurInput=function(){this.$node.blur()},e.pointagesjournee.showModPtg=function(t){f.list=u.liste.filter(function(e){return"Temps d'insuffisance de service (TI)"===e.intitule});var i=new Date(t.dateDebut),r=new Date(t.dateDebut),s=new Date(t.dateFin),l=new Date(t.dateFin);i.setHours(0,0,0,0),s.setHours(0,0,0,0),r.setFullYear(1970,0,1),l.setFullYear(1970,0,1),e.pointage={projet:t.projet,selectedProject:u.liste.filter(function(e){return e.intitule===t.projet})[0],TravailRealise:t.nature,dateDebut:i.getDateFR(),dateFin:s.getDateFR(),heureDebut:r,heureFin:l,_id:t._id},p.pointage=e.pointage,p.UpdPointage=function(){if(h.FromForm(e.pointage)===!0&&h.DateTime(e.pointage)===!0){var t=Date.setDateFR(e.pointage.dateDebut),i=Date.setDateFR(e.pointage.dateFin),r=new Date(e.pointage.heureDebut),s=new Date(e.pointage.heureFin);t.setHours(r.getHours(),r.getMinutes(),0,0),i.setHours(s.getHours(),s.getMinutes(),0,0),$("#modal-pointage-nuit-astreinte").modal("hide"),e.ptgjour.isLoading=!0,d(function(){var r=new Date(t);r.setHours(12,0,0,0),m.upd({_id:e.pointage._id,nomPrenom:a.get("nomAgent"),cp:a.get("agent"),commentaire:e.pointage.TravailRealise.trim(),projet:e.pointage.selectedProject.title,val_projet:u.liste.filter(function(t){return t.intitule===e.pointage.selectedProject.title})[0].guid,duree:parseInt((i.getTime()-t.getTime())/6e4,10),date:r,dateDebut:t,dateFin:i,isAstreinte:!1,isNuit:!0}).success(function(t){e.ptgjour.isLoading=!1,1===t.exit_code?(c.reload++,n.reload()):o.Gerer("Erreur lors de la modification de votre pointage de nuit. "+t.err_msg)}).error(function(){e.ptgjour.isLoading=!1,console.warn(arguments),o.Gerer("ERREUR le serveur n'a pas pu traiter votre demande de modification d'un pointage de nuit.")})},500)}},d(function(){document.getElementById("timepicker2").value=document.getElementById("timepicker2").value.split(":00.000")[0],document.getElementById("timepicker1").value=document.getElementById("timepicker1").value.split(":00.000")[0]},100)},e.$watch("ProjetModalService.model",function(t,i){void 0!==t&&e.modal&&(e.modal.selectedProject=t)})}]),ngAriane.controller("DjsManager",["$scope","$route","$routeParams","$cookieStore","CPtoNAME","DAL_DJS","AjaxErrorManager","DatasDJS",function(e,t,i,n,r,o,a,s){var l=new Date;l.setHours(0,0,0,0),e.djsmanager={isLoading:!0,user:{cp:"",nomAgent:""},numSemaine:i.numSemaine||l.getWeekNumber(),annee:i.annee||l.getFullYear(),lesJours:{Lundi:{minutesRestantes:void 0,minutesTotal:void 0,err:!1},Mardi:{minutesRestantes:void 0,minutesTotal:void 0,err:!1},Mercredi:{minutesRestantes:void 0,minutesTotal:void 0,err:!1},Jeudi:{minutesRestantes:void 0,minutesTotal:void 0,err:!1},Vendredi:{minutesRestantes:void 0,minutesTotal:void 0,err:!1},Samedi:{minutesRestantes:void 0,minutesTotal:void 0,err:!1},Dimanche:{minutesRestantes:void 0,minutesTotal:void 0,err:!1}},completed:!1,processing:!1,void:!1};var c=function(){o.LireDJS({cp:e.djsmanager.user.cp,annee:(new Date).getFullYear(),semaine:e.djsmanager.numSemaine}).success(function(t){e.djsmanager.isLoading=!1;var i=0;if(1===t.exit_code){e.djsmanager._id=t.djs._id,e.djsmanager.valider=t.djs.valider,e.djsmanager.lesJours=t.djs.lesJours;for(var n in t.djs.lesJours)e.djsmanager.lesJours[n].minutesTotalH=e.djsmanager.lesJours[n].minutesTotal/60,i+=t.djs.lesJours[n].minutesRestantes;0===i?e.djsmanager.completed=!0:e.djsmanager.processing=!0}else a.Gerer("Erreur lors de la lecture de la djs. "+t.err_msg)}).error(function(){e.djsmanager.isLoading=!1,console.warn(arguments),a.Gerer("ERREUR le serveur n'a pas pu traiter votre demande de lecture de DJS.")})};if(e.djsmanager.enreg=function(){e.djsmanager.isLoading=!0,o.LireDJS({cp:e.djsmanager.user.cp,annee:e.djsmanager.annee,semaine:e.djsmanager.numSemaine}).success(function(t){if(1===t.exit_code){t.djs.cpActeur=n.get("agent"),delete t.djs.verrouiller,delete t.djs.cloturer,delete t.djs.valider;for(var i in t.djs.lesJours)t.djs.lesJours[i].minutesTotal=60*e.djsmanager.lesJours[i].minutesTotalH;o.ModificationDJS([t.djs]).success(function(e){1!==e.exit_code?a.Gerer("Erreur lors de la modification de la djs."+e.err_msg):s.reload++}).error(function(){console.warn(arguments),a.Gerer("ERREUR le serveur n'a pas pu traiter votre demande de modification de la djs.")}).then(function(){e.djsmanager.isLoading=!1})}else console.log("N'a pas pu checker la djs")}).error(function(){console.warn(arguments),a.Gerer("ERREUR le serveur n'a pas pu traiter votre demande de modification de la djs.")})},void 0===i.idUser){if(void 0===n.get("agent")||void 0===n.get("nomAgent"))return;e.djsmanager.user.cp=n.get("agent"),e.djsmanager.user.nomAgent=n.get("nomAgent"),c()}else{if(e.djsmanager.user.cp=i.idUser,void 0===e.djsmanager.user.cp)return;r.GetFullName(e.djsmanager.user.cp,function(t){e.djsmanager.user.nomAgent=t,c()})}}]),ngAriane.controller("Djs3S",["$scope","DAL_DJS","AjaxErrorManager","$routeParams","djsCounter","$location","WorkersDJSs","DIURLAPI","$timeout","DatasAgents","$cookieStore","$route","DatasDJS","AgadirDominator",function(e,t,i,n,r,o,a,s,l,c,u,d,h,p){e.djs3s={DatasAgents:c,isLoading:!0,djsTotal:{secteurs:{}},djsCounter:r,datesListe:[],agentsSecteur:{},agentsByName:{},lesDjsEnCour:{list:[],isLoading:!0}},e.infoAgent={cp:u.get("agent"),status:u.get("status"),secteur:u.get("secteur")},e.djs3s.getValidationSecteur=function(e){return e[Object.keys(e)[0]]},e.djs3s.isSecteurCloture=function(e){var t=!0;for(var i in e)if(null===e[i]||e[i].cloturer!==!0){t=!1;break}return t},e.djs3s.verrouillerCloturerDjs=function(n,r){e.djs3s.lesDjsEnCour.isLoading=!0,t.LireDJS({cp:r.cp,annee:r.annee,semaine:r.semaine}).success(function(o){if(1===o.exit_code){if(o.djs.cpActeur=u.get("agent"),"verrouiller"===n){o.djs.verrouiller=r.verrouiller,delete o.djs.cloturer,delete o.djs.valider;for(var a in o.djs.lesJours)o.djs.lesJours[a].verrouiller=r.verrouiller}else{o.djs.cloturer=r.cloturer,delete o.djs.verrouiller,delete o.djs.valider;for(var a in o.djs.lesJours)o.djs.lesJours[a].cloturer=r.cloturer}t.ModificationDJS([o.djs]).success(function(e){1!==e.exit_code&&i.Gerer("Erreur lors de la mise a jour de la DJS."+e.err_msg)}).error(function(){console.warn(arguments),i.Gerer("ERREUR le serveur n'a pas pu traiter votre demande de mise a jour de la DJS.")}).then(function(){e.djs3s.lesDjsEnCour.isLoading=!1,d.reload(),h.reload++})}else console.log("N'a pas pu checker la djs")}).error(function(){console.warn(arguments),i.Gerer("ERREUR le serveur n'a pas pu traiter votre demande de cloture de la journée.")})},e.djs3s.validerSecteur=function(n){var r=[];for(var o in n){var a=JSON.parse(JSON.stringify(n[o]));null!==a&&r.push(a)}r.forEach(function(t){delete t.verrouiller,delete t.cloturer,delete t.lesJours,t.valider=!t.valider,t.cpActeur=e.infoAgent.cp}),e.djs3s.isLoading=!0,t.ModificationDJS(r).success(function(t){if(e.djs3s.isLoading=!1,1===t.exit_code)for(var r in n)n[r].valider=!n[r].valider;else i.Gerer("Erreur lors de la mise à jour de la DJS. "+t.err_msg)}).error(function(){e.djs3s.isLoading=!1,console.warn(arguments),i.Gerer("ERREUR le serveur n'a pas pu traiter votre demande de mise à jour de DJS.")})},r.setDate(Date.setWeekNumber(n.annee,n.numSemaine));var f=new Date(r.dateDeb);e.djs3s.datesListe.push(f);for(var m=1;m<7;m++){var g=new Date(f);g.setDate(f.getDate()+m),g.setHours(0,0,0,0),6!==g.getDay()&&0!==g.getDay()&&e.djs3s.datesListe.push(g)}e.$watchCollection("djs3s.DatasAgents.liste",function(t,i){if(void 0!==c.liste&&0!==c.liste.length){for(var r=0;r<c.liste.length;r++)e.djs3s.agentsSecteur[c.liste[r].cp]={secteur:c.liste[r].secteur,nomPrenom:c.liste[r].nomPrenom},e.djs3s.agentsByName[c.liste[r].nomPrenom]={cp:c.liste[r].cp},("Encadrement"===e.infoAgent.status&&c.liste[r].secteur===e.infoAgent.secteur||"DU"===e.infoAgent.status)&&(void 0===e.djs3s.djsTotal.secteurs[c.liste[r].secteur]&&null!==c.liste[r].secteur&&(e.djs3s.djsTotal.secteurs[c.liste[r].secteur]={}),null!==c.liste[r].secteur&&(e.djs3s.djsTotal.secteurs[c.liste[r].secteur][c.liste[r].nomPrenom]=null));b(n.numSemaine,n.annee)}});var v=function(t,i,n,r){void 0!==e.djs3s.agentsSecteur[t.cp]&&null!==e.djs3s.agentsSecteur[t.cp].secteur&&(e.djs3s.agentsSecteur[t.cp].secteur===e.infoAgent.secteur&&"Encadrement"===e.infoAgent.status||"DU"===e.infoAgent.status)&&(e.djs3s.djsTotal.secteurs[e.djs3s.agentsSecteur[t.cp].secteur][e.djs3s.agentsSecteur[t.cp].nomPrenom]={lesJours:y(t.lesJours),cp:t.cp,annee:t.annee,semaine:t.semaine,verrouiller:t.verrouiller,cloturer:t.cloturer,valider:t.valider,_id:t._id})},y=function(e){var t={};for(var i in e)"Samedi"!==i&&"Dimanche"!==i&&(t[i]=e[i]);for(var n in t){var r=(t[n].minutesRestantes/60).toString(),o=r.split(".");2===o.length?(o[1].length<2?o[1]+="0":o[1]=o[1].substring(0,2),r=o[0].toString()+"h"+_AffZero(Math.ceil(60*parseInt(o[1],10)/100))):r+="h00",t[n].heuresRestantes=r}return[t.Lundi,t.Mardi,t.Mercredi,t.Jeudi,t.Vendredi]},b=function(n,r){t.LireLesDJS(n,r).success(function(t){e.djs3s.lesDjsEnCour.isLoading=!1,1===t.exit_code?(e.djs3s.lesDjsEnCour.list=t.lesDjs,e.djs3s.lesDjsEnCour.list.forEach(function(e,t,i){v(e,t,i,1)})):i.Gerer("Erreur lors de la lecture des DJS. "+t.err_msg)}).error(function(){console.warn(arguments),i.Gerer("ERREUR le serveur n'a pas pu traiter votre demande de mise à jour de DJS.")}),d.current.$$route.originalPath.indexOf("check")!==-1&&p.LireLesDJS(n,r).success(function(t){if(e.djs3s.lesDjsEnCour.isLoading=!1,1===t.exit_code)for(var n in t.lesDjs)for(var r in e.djs3s.djsTotal.secteurs)for(var o in e.djs3s.djsTotal.secteurs[r])e.djs3s.djsTotal.secteurs[r][o].cp===n&&e.djs3s.djsTotal.secteurs[r][o].lesJours.forEach(function(e,i){e.minutesRestantes===t.lesDjs[n][i]&&(e.sameAgadir=!0)});else i.Gerer("Erreur lors de la lecture des DJS. "+t.err_msg)}).error(function(){console.warn(arguments),i.Gerer("ERREUR le serveur n'a pas pu traiter votre demande de mise à jour de DJS.")})}}]),ngAriane.controller("Projets",["$scope","DatasProjets","$cookieStore","PointageFactoryCSharp","AjaxErrorManager","DatasDJS","$route","$routeParams","ProjetModalService","DAL_DJS","CheckModalDjs","DatasAgents","DAL_AGENT","FichesFactory","$timeout",function(e,t,i,n,r,o,a,s,l,c,u,d,h,p,f){e.blurInput=function(){this.$node.blur()},e.DatasProjets=t,e.habilitation=i.get("status"),e.ProjetModalService=l,e.lesAgents=d.liste,e.agentsDpx=[],e.projets={datas:{liste:[]},DatePointage:Date.setDateFR(s.datePointage).getDateFR(),DatePointage2:"",isLoading:!1},e.fiche={};var m=function(){l.list=t.liste.filter(function(e){return"projet"===e.type||""===e.type})};m(),e.lesFiches=[],p.GetAll().success(function(t){1===t.exit_code?(e.lesFiches=t.lesFiches,e.lesFiches.forEach(function(e){e.numero=e.numero.toString()})):r.Gerer("Erreur lors de la lecture des fiches. "+t.err_msg)}).error(function(){console.warn(arguments),r.Gerer("ERREUR le serveur n'a pas pu traiter votre demande de lecture des fiches.")}),h.ListeAgentsOrdered(function(t){e.lesAgents=t,e.projets.cp=i.get("agent"),"Agent"!==i.get("status")&&(e.lesAgents.forEach(function(t){("Agent"===t.habilitation&&t.secteur===i.get("secteur")||t.cp===i.get("agent"))&&e.agentsDpx.push(t)}),e.projets.cp=s.idUser)}),e.projets.AddPointage=function(){if(0===g()){e.projets.isLoading=!0;var t=v();n.add(t).success(function(i){e.projets.isLoading=!1,1===i.exit_code?(o.reload++,void 0===e.fiche.selected&&(document.querySelector("#projectAutocompleteInput>div>input").value=""),document.querySelector("#ficheAutocompleteInput>div>input").value="",u.CheckGetModal(t),a.reload()):r.Gerer("Erreur lors de la création du pointage. "+i.err_msg)}).error(function(){e.projets.isLoading=!1,console.warn(arguments),r.Gerer("ERREUR le serveur n'a pas pu traiter votre demande de création de pointage.")})}},e.projets.getTempsRestant=function(){if(void 0!==e.projets.DatePointage&&""!==e.projets.DatePointage){var t=Date.setDateFR(e.projets.DatePointage),i=t.getWeekNumber();c.LireDJS({cp:e.projets.cp,annee:t.getFullYear(),semaine:i}).success(function(i){if(1===i.exit_code){for(var n in i.djs.lesJours)if(0===t.toLocaleFormat().indexOf(n.toLowerCase())){e.projets.DureeMinutes=i.djs.lesJours[n].minutesRestantes;break}}else"La DJS n'existe pas."===i.err_msg&&r.Gerer("Votre DJS n'est pas créée pour cette date.")})}},e.$watchCollection("ProjetModalService.model",function(t,i){void 0!==t&&(e.projets.selectedProject=t)}),e.$watch("fiche.selected",function(t,i){void 0!==t&&(e.projets.selectedProject={title:t.description.projet})});var g=function(){var t=0;if(""===e.projets.selectedProject||void 0===e.projets.selectedProject?(e.projets.errProj=!0,r.Gerer("Veuillez saisir un projet."),t++):e.projets.errProj=!1,void 0===e.projets.TravailRealise||""===e.projets.TravailRealise.trim()?(e.projets.errDesc=!0,r.Gerer("Veuillez saisir une description."),t++):e.projets.errDesc=!1,void 0===e.projets.DureeMinutes||e.projets.DureeMinutes%3!==0?(e.projets.errDuree=!0,r.Gerer("Veuillez saisir un temps en minute qui est un multiple de 3."),t++):e.projets.errDuree=!1,""===e.projets.DatePointage.trim()?(e.projets.errDate=!0,r.Gerer("Veuillez saisir une date."),t++):e.projets.errDate=!1,""!==e.projets.DatePointage2.trim()&&""!==e.projets.DatePointage.trim()){var i=Date.setDateFR(e.projets.DatePointage),n=Date.setDateFR(e.projets.DatePointage2);i.setHours(0,0,0,0),n.setHours(0,0,0,0);var o=angular.copy(i);o.setDate(o.getDate()+(5-o.getDay())),i.getTime()>n.getTime()?(e.projets.errDate2=!0,r.Gerer("La date de fin est antérieure à la date début"),t++):n.getTime()>o.getTime()?(e.projets.errDate2=!0,r.Gerer("La date de fin doit etre dans la meme semaine que la date de début"),t++):e.projets.errDate2=!1}else e.projets.errDate2=!1;return t},v=function(){var n=[],r=Date.setDateFR(e.projets.DatePointage),o=Date.setDateFR(e.projets.DatePointage2);if(r.setHours(12,0,0,0),o.setHours(12,0,0,0),"Invalid Date"===o.toString()||r.getTime()===o.getTime()){var a={nomPrenom:e.lesAgents.filter(function(t){return t.cp===e.projets.cp})[0].nomPrenom,cp:e.projets.cp,commentaire:e.projets.TravailRealise.trim(),projet:e.projets.selectedProject.title,val_projet:t.liste.filter(function(t){return t.intitule===e.projets.selectedProject.title})[0].guid,duree:parseInt(e.projets.DureeMinutes,10),date:r,cpActeur:i.get("agent")};void 0!==e.fiche.selected&&(a.idFiche=e.fiche.selected.description._id,a.numero=e.fiche.selected.description.numero,a.anneeFiche=e.fiche.selected.description.annee),n.push(a)}else for(var s=new Date(r),l=(o.getTime()-r.getTime())/1e3/60/60/24,c=0;c<=l;c++){if(6!==s.getDay()&&0!==s.getDay()){var a={nomPrenom:e.lesAgents.filter(function(t){return t.cp===e.projets.cp})[0].nomPrenom,cp:e.projets.cp,commentaire:e.projets.TravailRealise.trim(),projet:e.projets.selectedProject.title,val_projet:t.liste.filter(function(t){return t.intitule===e.projets.selectedProject.title})[0].guid,duree:parseInt(e.projets.DureeMinutes,10),date:new Date(s),cpActeur:i.get("agent")};void 0!==e.fiche.selected&&(a.idFiche=e.fiche.selected.description._id,a.numero=e.fiche.selected.description.numero,a.anneeFiche=e.fiche.selected.description.annee),n.push(a)}s.setDate(s.getDate()+1)}return n}}]),ngAriane.controller("ModalProjets",["$scope","ProjetModalService",function(e,t){e.modalprojets={modal:t},e.clickProj=function(t){e.modalprojets.modal.model=t,$("#ProjetsModal").modal("hide")}}]),ngAriane.controller("Graph",["$scope","$timeout","AjaxErrorManager","$routeParams","graphService","DIURLAPI","NOMSPARTIS","NOMSPRESTATAIRES",function(e,t,i,n,r,o,a,s){e.graph={noData:!1,Graph:void 0,isLoaded:!1},e.graphService=r,e.routeParams=n;var l=new Worker("scripts/workers/AJAXgetWorkerPoids.js");l.onmessage=function(n){t(function(){1===n.data.exit_code?(e.graph.datas=n.data.datas,0===n.data.datas.length||n.data.datas.every(function(e){return 0===e["Back Office"]&&0===e["En Attente"]})===!0?(e.graph.noData=!0,document.querySelector("#graph").innerHTML=""):(n.data.datas=n.data.datas.filter(function(e){return 0!==location.host.indexOf("arianeinformatique.st.sncf.fr")||s.every(function(t){return e.nomPrenom.indexOf(t)===-1})&&e.nomPrenom.indexOf("FISCHER")===-1&&a.every(function(t){return e.nomPrenom.indexOf(t)===-1})}),void 0===e.graph.Graph?e.graph.Graph=new Highcharts.Chart({chart:{type:"bar",height:25*n.data.datas.length,renderTo:"graph"},title:{text:void 0},xAxis:{title:{text:"AGENTS",style:{color:"#4d759e"}},categories:n.data.datas.map(function(e){return e.nomPrenom})},yAxis:{min:0,title:{text:"CHARGE DE TRAVAIL",style:{color:"#4d759e"}}},legend:{reversed:!0},plotOptions:{series:{stacking:"normal"}},series:[{name:"Charge Effectuée",data:n.data.datas.map(function(e){return e["Charge Effectué"]}),stack:"Fait",color:"#1CB6E9"},{name:"En Attente",data:n.data.datas.map(function(e){return e["En Attente"]}),stack:"A faire",color:"#04B404"},{name:"Back Office",data:n.data.datas.map(function(e){return e["Back Office"]}),stack:"A faire",color:"#993366"}]}):(e.graph.Graph.series[0].setData(n.data.datas.map(function(e){return e["En Attente"]})),e.graph.Graph.series[1].setData(n.data.datas.map(function(e){return e["Back Office"]}))))):200===n.data.err_code?i.Gerer("Erreur lors de la récupération de la répartition des charges. "+n.data.err_msg):i.Gerer("ERREUR le serveur n'a pas pu traiter la demande de récupération de la répartition des charges.")},0)},e.$watch("graphService.reload",function(e,t){e!==t&&void 0!==e&&l.postMessage({url:o.URLapiNancy})}),e.graph.draw=function(){e.graph.isLoaded!==!0&&(e.graph.isLoaded=!0,l.postMessage({url:o.URLapiNancy}))}}]),ngAriane.controller("Affaires",["$scope","AffairesFactory","AjaxErrorManager","FichesAffaire","ModalAffaire",function(e,t,i,n,r){e.affaires={liste:[],isLoading:!0},e.ModalAffaire=r;var o=function(r){t.getAll().success(function(t){e.affaires.isLoading=!1,1===t.exit_code?(r?e.affaires.liste=t.lesAffaires.filter(function(e){return e.percentTime=Arrondi(100*e.minutesConsomme/e.minutesTotal,2),e.isCloture===!1}):e.affaires.liste=t.lesAffaires.map(function(e){return e.percentTime=Arrondi(100*e.minutesConsomme/e.minutesTotal,2),e}),n.Nb=t.nbAffaires):i.Gerer("Erreur lors de la lecture de la liste des affaires. "+t.err_msg)}).error(function(){e.affaires.isLoading=!1,console.log(arguments),i.Gerer("ERREUR le serveur n'a pas pu traiter votre demande de lecture de la liste des affaires.")})};o(!1),e.affaires.selectAffaire=function(e){r.selectedAffaire=e,r.isModal=!1,$("#AffairesModal").modal("hide")},$("#AffairesModal").on("hide.bs.modal",function(e){r.isModal=!1}),e.$watch("ModalAffaire.reload",function(e,t){void 0!==e&&0!==e&&o(!0)})}]),ngAriane.controller("AffaireNum",["$scope","$routeParams","AffairesFactory","AjaxErrorManager","ProjectAffaire","CPtoNAME","DAL_AGENT","$route",function(e,t,i,n,r,o,a,s){e.affairenum={quotaOverflow:!1,nbFicheTot:0,nbFicheCloturee:0,nbFicheClotureePercent:0,isLoading:!0},e.affairenum.Update=function(t){var r=0;""===e.affairenum.datas.titre.trim()&&(n.Gerer("Veuillez saisir un titre pour l'affaire."),r++),null!==e.affairenum.datas.heuresTotal&&isNaN(e.affairenum.datas.heuresTotal)!==!0&&parseInt(e.affairenum.datas.heuresTotal,10).toString()===e.affairenum.datas.heuresTotal.toString()||(n.Gerer("Veuillez saisir un nombre entier positif d'heure."),r++),null===e.affairenum.datas.suiviPar&&(n.Gerer("Veuillez saisir un agent."),r++),r>0||(void 0===t&&(t=e.affairenum.datas.isCloture),e.affairenum.isLoading=!0,i.update({_id:e.affairenum.datas._id,titre:e.affairenum.datas.titre.trim(),minutesTotal:60*parseInt(e.affairenum.datas.heuresTotal,10),cpAgentSuiveur:e.affairenum.datas.suiviPar,isCloture:t}).success(function(t){e.affairenum.isLoading=!1,1===t.exit_code?s.reload():(n.Gerer("Erreur lors de la modification de l'affaire. "+t.err_msg),l())}).error(function(){e.affairenum.isLoading=!1,console.warn(arguments),n.Gerer("ERREUR le serveur n'a pas pu traiter votre demande de modification de l'affaire.")}))};var l=function(){i.get({numAffaire:t.numAffaire,annee:t.annee}).success(function(i){if(e.affairenum.isLoading=!1,1===i.exit_code){r.projet=i.affaire.projet;var a=[],s=0,l={},c=[],u=0;i.lesFiches.forEach(function(e){var t=e.fiche,i=new Date(t.dateDebut);i.setDate(i.getDate()+1),t.isCloture===!0&&u++,e.pointages.forEach(function(e){e.numFiche=e.numero||e.numeroMongo,e.annee=new Date(t.dateDebut).getFullYear(),e.dateFin=i,e.dureeMinute=e.duree,e.duree=new Date(0,0,0,0,e.duree,0,0),a.push(e),l[e.cp+"|"+e.nomPrenom]||(l[e.cp+"|"+e.nomPrenom]=0),l[e.cp+"|"+e.nomPrenom]+=e.dureeMinute/60})});for(var d in l)c.push({name:d.split("|")[1],y:l[d]});e.affairenum.nbFicheTot=i.lesFiches.length,e.affairenum.nbFicheCloturee=u,e.affairenum.nbFicheClotureePercent=Arrondi(100*e.affairenum.nbFicheCloturee/e.affairenum.nbFicheTot,2),i.affaire.minutesTotal>i.affaire.minutesConsomme&&(s=(i.affaire.minutesTotal-i.affaire.minutesConsomme)/60),e.affairenum.datas={_id:i.affaire._id,titre:i.affaire.titre,heuresTotal:parseInt(i.affaire.minutesTotal/60,10),minutesTotalRestante:_AffZero(i.affaire.minutesTotal%60),minutesTotal:i.affaire.minutesTotal,minutesConsomme:i.affaire.minutesConsomme,description:i.affaire.description,projet:i.affaire.projet,demandeur:i.affaire.nomPrenomDemandeur,agent:i.affaire.nomPrenomAgent,suiviPar:i.affaire.cpAgentSuiveur,postes:i.lesFiches,pointages:a,isCloture:i.affaire.isCloture},o.GetFullName(i.affaire.cpAgent,function(t){e.affairenum.datas.agent=t}),$("#graphConso").highcharts({chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie"},title:{text:"Répartition"},tooltip:{enabled:!1},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!0,format:"<b>{point.name}</b>: {point.y}h"}}},series:[{name:"Durée",colorByPoint:!0,data:c.concat({name:"Temps restant",y:s})}]})}else n.Gerer("Erreur lors de la lecture de l'affaire "+t.numAffaire+". "+i.err_msg)}).error(function(){e.affairenum.isLoading=!1,console.warn(arguments),n.Gerer("ERREUR le serveur n'a pas pu traiter votre demande de lecture de l'affaire "+t.numAffaire)})};a.ListeAgentsOrdered(function(t){e.affairenum.AgentsListSuivi=t.filter(function(e){return"0"!==e.cp}),l()})}]),ngAriane.controller("AffaireCreation",["$scope","AffairesFactory","AjaxErrorManager","$location","DAL_AGENT","DIURLAPI","DatasProjets","Region","PosteGeminiFactory","$interval","$timeout","ProjetModalService",function(e,t,i,n,r,o,a,s,l,c,u,d){e.DIURLAPI=o,e.ProjetModalService=d,e.affairecreation={isLoading:!1,AgentsList:[],Projects:a,regexpPostes:/^\w{1,11}(\W{1,})?/gm,regexpPostesSeparator:/\W{1,}/gm,form:{titre:"",heure:null,postes:"",projet:"",demandeur:"",agent:"",suiviPar:"",description:""},error:{titre:!1,heure:!1,postes:!1,projet:!1,demandeur:!1,agent:!1,description:!1}},r.ListeAgentsOrderedAndFiltered(function(t){e.affairecreation.AgentsList=t,e.affairecreation.AgentsListSuivi=t.filter(function(e){return"0"!==e.cp})}),e.affairecreation.Create=function(){h()&&(e.affairecreation.isLoading=!0,u(function(){p(function(r){if(r===!0){var o={titre:e.affairecreation.form.titre.trim(),minutesTotal:60*parseInt(e.affairecreation.form.heure,10),dateDebut:new Date,projet:e.affairecreation.form.projet.title,val_projet:e.affairecreation.form.projet.description.guid,description:e.affairecreation.form.description.trim(),isCloture:!1,isUrgent:!1,cpDemandeur:e.affairecreation.form.demandeur.originalObject.cp,nomPrenomDemandeur:e.affairecreation.form.demandeur.originalObject.display.split(" (")[0],cpAgent:e.affairecreation.form.agent,nomPrenomAgent:e.affairecreation.AgentsList.filter(function(t){return t.cp===e.affairecreation.form.agent})[0].nomPrenom,cpAgentSuiveur:e.affairecreation.form.suiviPar,materiel:e.affairecreation.form.postes.trim().toUpperCase().split(e.affairecreation.regexpPostesSeparator).filter(function(e){return""!==e}),region:s,canal:"ariane"};t.create(o).success(function(t){if(e.datas=t,1===t.exit_code){var r=0;t.infoCreationFiches.forEach(function(e){1!==e.exit_code&&r++}),r>0?i.Gerer("Erreur lors de la création des fiches, "+r+" fiche"+(r>1?"s sur "+postDatas.materiel+" n'ont pas pu être créées.":" sur "+postDatas.materiel+" n'a pas pu être créée.")):n.url("/affaire/lire/"+(new Date).getFullYear()+"/"+t.numero)}else i.Gerer("Erreur lors de la création de l'affaire."+t.err_msg)}).error(function(){console.log(arguments),i.Gerer("ERREUR le serveur n'a pas pu traiter votre demande de création d'affaire.")}).then(function(){e.affairecreation.isLoading=!1})}else e.affairecreation.isLoading=!1})},50))};var h=function(){var t=0;return""===e.affairecreation.form.titre.trim()?(e.affairecreation.error.titre=!0,t++):e.affairecreation.error.titre=!1,void 0===e.affairecreation.form.heure||null===e.affairecreation.form.heure||parseInt(e.affairecreation.form.heure,10)!==e.affairecreation.form.heure?(e.affairecreation.error.heure=!0,t++):e.affairecreation.error.heure=!1,void 0===e.affairecreation.form.projet||""===e.affairecreation.form.projet?(e.affairecreation.error.projet=!0,t++):e.affairecreation.error.projet=!1,void 0===e.affairecreation.form.demandeur||""===e.affairecreation.form.demandeur?(e.affairecreation.error.demandeur=!0,
t++):e.affairecreation.error.demandeur=!1,""===e.affairecreation.form.agent||"0"===e.affairecreation.form.agent?(e.affairecreation.error.agent=!0,t++):e.affairecreation.error.agent=!1,""===e.affairecreation.form.suiviPar?(e.affairecreation.error.suiviPar=!0,t++):e.affairecreation.error.suiviPar=!1,""===e.affairecreation.form.postes.trim()||e.affairecreation.regexpPostes.test(e.affairecreation.form.postes.trim())===!1?(e.affairecreation.error.postes=!0,t++):e.affairecreation.error.postes=!1,""===e.affairecreation.form.description.trim()?(e.affairecreation.error.description=!0,t++):e.affairecreation.error.description=!1,0===t},p=function(t){var n,r=e.affairecreation.form.postes.trim().toUpperCase().split(e.affairecreation.regexpPostesSeparator),o={},a=0,s=0,u=!0;if(0===r.length||1===r.length&&""===r[0])return void i.Gerer("Erreur la liste des postes est vide.");n=r.filter(function(e){return""!==e}),n.forEach(function(e){e in o||(o[e]=0),o[e]++});for(var d in o)a++,function(e){l.getPoste(e).success(function(t){if(s++,1===t.exit_code)if(t.L_Resultats.length>0){var n=t.L_Resultats.filter(function(t){return t.calife.split(" ")[0].trim()===e});1===n.length?"SUPPRIME"===n[0].description&&(u=!1,i.Gerer("Erreur le poste '"+e+"' n'est plus disponible.")):(u=!1,i.Gerer("Erreur le nom de poste '"+e+"' semble imcomplet, veuillez le completer."))}else u=!1,i.Gerer("Erreur le poste '"+e+"' est introuvable.");else u=!1,i.Gerer("Erreur lors de la vérification du poste '"+e+"'. "+t.err_msg)}).error(function(){s++,u=!1,i.Gerer("ERREUR le serveur n'a pas pu traiter la demande de vérification du poste '"+e+"'.")})}(d);var h=c(function(){s===a&&(c.cancel(h),t&&t(u))},30)};e.$watchCollection("affairecreation.Projects.liste",function(e,t){void 0!==e&&(d.list=e)}),e.$watchCollection("ProjetModalService.model",function(t,i){void 0!==t&&(e.affairecreation.form.projet=t)})}]),ngAriane.controller("AffairePointage",["$scope","AffairesFactory","DatasDJS","$route","$routeParams","AjaxErrorManager","ProjectAffaire","$cookieStore","DatasProjets",function(e,t,i,n,r,o,a,s,l){e.affairepointage={isLoading:!1,Pointage:{errDesc:!1,errDuree:!1,errDate:!1}},e.affairepointage.AddPointage=function(){var c={},u=0;if(void 0===e.affairepointage.Pointage.TravailRealise||""===e.affairepointage.Pointage.TravailRealise.trim()?(e.affairepointage.Pointage.errDesc=!0,u++):e.affairepointage.Pointage.errDesc=!1,void 0===e.affairepointage.Pointage.DureeMinutes||e.affairepointage.Pointage.DureeMinutes%3!==0?(e.affairepointage.Pointage.errDuree=!0,u++):e.affairepointage.Pointage.errDuree=!1,void 0===e.affairepointage.Pointage.DatePointage||""===e.affairepointage.Pointage.DatePointage.trim()?(e.affairepointage.Pointage.errDate=!0,u++):e.affairepointage.Pointage.errDate=!1,0===u){e.affairepointage.isLoading=!0;var d=Date.setDateFR(e.affairepointage.Pointage.DatePointage);d.setHours(12,0,0,0),c=[{numAffaire:r.numAffaire,anneeFiche:r.annee,nomPrenom:s.get("nomAgent"),cp:s.get("agent"),commentaire:e.affairepointage.Pointage.TravailRealise.trim(),duree:e.affairepointage.Pointage.DureeMinutes,date:d,projet:a.projet,val_projet:l.liste.filter(function(e){return a.projet===e.intitule})[0].guid}],t.addPointage(c).success(function(t){1===t.exit_code?(i.reload++,n.reload()):(e.affairepointage.isLoading=!1,o.Gerer("Erreur lors de la création du pointage sur l'affaire "+r.numAffaire+".  Une ou plusieurs fiche n'a/ont pas pu être imputée(s). "+t.err_msg))}).error(function(){e.affairepointage.isLoading=!1,console.warn(arguments),o.Gerer("ERREUR le serveur n'a pas pu traiter votre demande de création de pointage.")})}}}]),ngAriane.controller("Nuit",["$scope","DatasProjets","DAL_POINTAGE","$cookieStore","AjaxErrorManager","$timeout","VerifDatasNuitAstreinte","DatasDJS","ProjetModalService","PointageFactoryCSharp","CheckModalDjs","DatasAgents","DAL_AGENT","$routeParams","$route",function(e,t,i,n,r,o,a,s,l,c,u,d,h,p,f){e.isLoading=!1,e.DatasProjets=t,e.projets={liste:[]},e.lesAgents=d.liste,e.agentsDpx=[],e.habilitation=n.get("status"),e.ProjetModalService=l,e.URLButton="views/nuitAstreinte/buttonValider.html",e.blurInput=function(){this.$node.blur()},e.pointage={dateDebut:Date.setDateFR(p.datePointage).getDateFR()},h.ListeAgentsOrdered(function(t){e.lesAgents=t,e.pointage.cp=n.get("agent"),"Encadrement"===n.get("status")&&(e.lesAgents.forEach(function(t){("Agent"===t.habilitation&&t.secteur===n.get("secteur")||t.cp===n.get("agent"))&&e.agentsDpx.push(t)}),e.pointage.cp=p.idUser)}),e.AddPointage=function(){if(a.FromForm(e.pointage)===!0&&a.DateTime(e.pointage)===!0){var t=Date.setDateFR(e.pointage.dateDebut),i=Date.setDateFR(e.pointage.dateFin),l=e.pointage.heureDebut,d=e.pointage.heureFin,h=l.split(":"),p=d.split(":");t.setHours(h[0],h[1],0,0),i.setHours(p[0],p[1],0,0);var m=new Date(t);m.setHours(12,0,0,0),e.isLoading=!0,o(function(){var o=[{nomPrenom:e.lesAgents.filter(function(t){return t.cp===e.pointage.cp})[0].nomPrenom,cp:e.pointage.cp,commentaire:e.pointage.TravailRealise.trim(),projet:e.pointage.selectedProject.title,val_projet:e.pointage.selectedProject.description.guid,duree:parseInt((i.getTime()-t.getTime())/6e4,10),date:m,dateDebut:t,dateFin:i,isAstreinte:!1,isNuit:!0,cpActeur:n.get("agent")}];c.add(o).success(function(t){e.isLoading=!1,1===t.exit_code?(s.reload++,e.pointage={},document.querySelector("#projectAutocompleteInput5>div>input").value="",u.CheckGetModal(o),f.reload()):r.Gerer("Erreur lors de la création de votre pointage de nuit. "+t.err_msg)}).error(function(){e.isLoading=!1,console.warn(arguments),r.Gerer("ERREUR le serveur n'a pas pu traiter votre demande de création d'un pointage de nuit.")})},500)}},e.$watchCollection("ProjetModalService.model",function(t,i){void 0!==t&&(e.pointage.selectedProject=t)})}]),ngAriane.controller("Astreinte",["$scope","DatasProjets","DAL_POINTAGE","$cookieStore","AjaxErrorManager","$timeout","VerifDatasNuitAstreinte","ProjetModalService","PointageFactoryCSharp","DAL_AGENT","$routeParams","$route",function(e,t,i,n,r,o,a,s,l,c,u,d){e.isLoading=!1,e.ProjetModalService=s,e.projets=t,e.URLButton="views/nuitAstreinte/buttonValider.html",e.blurInput=function(){this.$node.blur()},e.pointage={dateDebut:Date.setDateFR(u.datePointage).getDateFR()},e.lesAgents=[],e.agentsDpx=[],e.habilitation=n.get("status"),c.ListeAgentsOrdered(function(t){e.lesAgents=t,e.pointage.cp=n.get("agent"),"Encadrement"===n.get("status")&&(e.lesAgents.forEach(function(t){("Agent"===t.habilitation&&t.secteur===n.get("secteur")||t.cp===n.get("agent"))&&e.agentsDpx.push(t)}),e.pointage.cp=u.idUser)}),e.AddPointage=function(){if(a.FromForm(e.pointage)===!0&&a.DateTime(e.pointage)===!0){var t=Date.setDateFR(e.pointage.dateDebut),i=Date.setDateFR(e.pointage.dateFin),s=e.pointage.heureDebut,c=e.pointage.heureFin,u=s.split(":"),h=c.split(":");t.setHours(u[0],u[1],0,0),i.setHours(h[0],h[1],0,0);var p=new Date(t);p.setHours(12,0,0,0),e.isLoading=!0,o(function(){l.add([{nomPrenom:e.lesAgents.filter(function(t){return t.cp===e.pointage.cp})[0].nomPrenom,cp:e.pointage.cp,commentaire:e.pointage.TravailRealise.trim(),projet:e.pointage.selectedProject.title,val_projet:e.pointage.selectedProject.description.guid,duree:parseInt((i.getTime()-t.getTime())/6e4),date:p,dateDebut:t,dateFin:i,isAstreinte:!0,isNuit:!1,cpActeur:n.get("agent")}]).success(function(t){e.isLoading=!1,1===t.exit_code?(e.pointage={},document.querySelector("#projectAutocompleteInput4>div>input").value="",d.reload()):r.Gerer("Erreur lors de la création de votre pointage d'astreinte. "+t.err_msg)}).error(function(){e.isLoading=!1,console.warn(arguments),r.Gerer("ERREUR le serveur n'a pas pu traiter votre demande de création d'un pointage d'astreinte.")})},500)}},e.$watchCollection("ProjetModalService.model",function(t,i){void 0!==t&&(e.pointage.selectedProject=t)})}]),ngAriane.controller("AstreinteListe",["$scope","DatasProjets","$cookieStore","$routeParams","AjaxErrorManager","$timeout","DAL_POINTAGE","CPtoNAME","ModalPointageNuitAstreinte","VerifDatasNuitAstreinte","$route","ProjetModalService","PointageFactoryCSharp",function(e,t,i,n,r,o,a,s,l,c,u,d,h){e.astreinteliste={isLoading:!0,datas:[]},e.ProjetModalService=d;var p=Date.setDateFR(n.datePointage);p.setHours(12,0,0,0),h.read({cp:n.idUser,date:p}).success(function(t){1===t.exit_code?t.lesPointages.filter(function(e){return e.isAstreinte===!0}).forEach(function(t){e.astreinteliste.datas.push({_id:t._id,projet:t.projet,commentaire:t.commentaire,duree:new Date(0,0,0,0,t.duree,0,0),dateDebut:t.dateDebut,dateFin:t.dateFin,cp:t.cp,nomPrenom:t.nomPrenom,dureeMinute:t.duree})}):r.Gerer("Erreur lors de la lecture des pointages d'astreinte. "+t.err_msg),e.astreinteliste.isLoading=!1}).error(function(){e.astreinteliste.isLoading=!1,console.warn(arguments),r.Gerer("ERREUR le serveur n'a pas pu traiter votre demande de lecture des pointages d'astreinte.")}),e.astreinteliste.showModPtg=function(n){d.list=t.liste;var a=new Date(n.dateDebut),s=new Date(n.dateDebut),p=new Date(n.dateFin),f=new Date(n.dateFin);a.setHours(0,0,0,0),p.setHours(0,0,0,0),s.setFullYear(1970,0,1),f.setFullYear(1970,0,1),e.pointage={projet:n.projet,selectedProject:t.liste.filter(function(e){return e.intitule===n.projet})[0],TravailRealise:n.commentaire,dateDebut:a.getDateFR(),dateFin:p.getDateFR(),heureDebut:s,heureFin:f,_id:n._id},l.pointage=e.pointage,o(function(){document.getElementById("timepicker2").value=document.getElementById("timepicker2").value.split(":00.000")[0],document.getElementById("timepicker1").value=document.getElementById("timepicker1").value.split(":00.000")[0]},100),l.UpdPointage=function(){if(c.FromForm(e.pointage)===!0&&c.DateTime(e.pointage)===!0){var t=Date.setDateFR(e.pointage.dateDebut),n=Date.setDateFR(e.pointage.dateFin),a=new Date(e.pointage.heureDebut),s=new Date(e.pointage.heureFin);t.setHours(a.getHours(),a.getMinutes(),0,0),n.setHours(s.getHours(),s.getMinutes(),0,0),$("#modal-pointage-nuit-astreinte").modal("hide"),e.astreinteliste.isLoading=!0,o(function(){var o=new Date(t);o.setHours(12,0,0,0),h.upd({_id:e.pointage._id,nomPrenom:i.get("nomAgent"),cp:i.get("agent"),commentaire:e.pointage.TravailRealise.trim(),projet:e.pointage.selectedProject.title,val_projet:e.pointage.selectedProject.description.guid,duree:parseInt((n.getTime()-t.getTime())/6e4,10),date:o,dateDebut:t,dateFin:n,isAstreinte:!0,isNuit:!1}).success(function(t){e.astreinteliste.isLoading=!1,1===t.exit_code?u.reload():r.Gerer("Erreur lors de la modification de votre pointage d'astreinte. "+t.err_msg)}).error(function(){e.astreinteliste.isLoading=!1,console.warn(arguments),r.Gerer("ERREUR le serveur n'a pas pu traiter votre demande de modification d'un pointage d'astreinte.")})},500)}}},e.astreinteliste.DelAstreinte=function(t){r.Infos={title:"Confirmation",msg:["Êtes-vous sûr de vouloir supprimer ce pointage ?"],Confirm:function(){e.astreinteliste.isLoading=!0,o(function(){h.del({_id:t._id,cp:i.get("agent")}).success(function(t){e.astreinteliste.isLoading=!1,1===t.exit_code?u.reload():r.Gerer("Erreur lors de la suppression du pointage. "+t.err_msg)}).error(function(){e.astreinteliste.isLoading=!1,console.warn(arguments),r.Gerer("ERREUR le serveur n'a pas pu traiter votre demande de suppression de pointage.")})},500)}}},e.$watch("ProjetModalService.model",function(t,i){void 0!==t&&e.pointage&&(e.pointage.selectedProject=t)})}]),ngAriane.controller("pointageNuitAstreinteModal",["$scope","ModalPointageNuitAstreinte",function(e,t){e.pointagenuitastreintemodal={DI:t},e.pointage={},$("#modal-pointage-nuit-astreinte").on("hide.bs.modal",function(e){t.RAZ()}),e.$watchCollection("pointagenuitastreintemodal.DI.pointage",function(i,n){angular.equals(n,i)||null===i||(e.pointage=t.pointage,e.UpdPointage=function(){t.UpdPointage&&t.UpdPointage()})})}]),ngAriane.controller("Notifications",["$scope","NotifierService","$timeout","AjaxErrorManager","$cookieStore","DateService",function(e,t,i,n,r,o){e.NotifierService=t,e.cookieStore=r,e.DateService=o,e.notifications={cp:r.get("agent"),annee:(new Date).getFullYear()},"Notification"in window?"granted"===Notification.permission?t.isOk=!0:"denied"!==Notification.permission?Notification.requestPermission(function(e){"granted"===e&&(t.isOk=!0)}):t.isOk=!1:(n.Gerer("Votre navigateur ne gère pas les notifications."),t.isOk=!1)}]),ngAriane.controller("listeNotifs",["$scope","$timeout","NotifierService","NotificationFactory","AjaxErrorManager","$cookieStore","$routeParams","CPtoNAME","DatasAgents",function(e,t,i,n,r,o,a,s,l){e.NotifListe=[],e.NotifierService=i,e.routeParams=a,e.dicoAgents={};var c=function(){e.isLoading=!0,t(function(){a.cp!==o.get("agent")?s.GetFullName(a.cp,function(t){e.nomAgent=t}):e.nomAgent=void 0,n.List(a.cp).success(function(t){e.isLoading=!1,1===t.exit_code?(i.list=[],void 0!==t.agent.notification&&(l.liste.forEach(function(t){e.dicoAgents[t.cp]=t}),e.NotifListe=t.agent.notification.reverse().map(function(t){var i={};switch(t.Event){case"creation":i.header="Création de fiche",i.body="La fiche N°"+t.numFiche+" a été créée.",i.link="#/fiche/"+t.annee+"/"+t.numFiche;break;case"affectation":i.header="Affectation de fiche",i.body="La fiche N°"+t.numFiche+" vous a été affectée le ",i.link="#/fiche/"+t.annee+"/"+t.numFiche,i.date=t.dateAffectation;break;case"verrouillage":i.header="Verrouillage de journée",i.body="La journée du "+new Date(t.dateJourneeVerrouiller).getDateFR()+" de l'agent "+e.dicoAgents[t.cpAgentVerrouiller].nomPrenom+" a été verrouillé le ",i.link="#/pointages/"+t.cpAgentVerrouiller+"/"+new Date(t.dateJourneeVerrouiller).getDateFR().replace(new RegExp("/","g"),"-"),i.date=t.dateAffectation;break;case"signalagePtg":i.header="Pointage invalide",i.body="Un pointage du "+new Date(t.dateJourneeVerrouiller).getDateFR()+" a été signalé comme invalide le ",i.link="#/pointages/"+t.cpAgentVerrouiller+"/"+new Date(t.dateJourneeVerrouiller).getDateFR().replace(new RegExp("/","g"),"-"),i.date=t.dateAffectation;break;case"cloture":i.header="Cloture de fiche",i.body="La fiche N°"+t.numFiche+" a été clôturée.",i.link="#/fiche/"+t.annee+"/"+t.numFiche;break;case"enquete":i.header="Enquête satisfaction",i.body="La fiche N°"+t.numFiche+" a reçu une note de "+t.moyenne+"/5.",i.link="#/fiche/"+t.annee+"/"+t.numFiche}return i}).slice(0,20))):r.Gerer("Erreur lors de la lecture d'historique de notification. "+t.err_msg)}).error(function(){e.isLoading=!1,console.warn(arguments),r.Gerer("ERREUR le serveur n'a pas pu traiter la demande d'historique de notification.")})},200)};c(),e.$watchCollection("NotifierService.list",function(e,t){void 0!==e&&0!==e.length&&e[e.length-1].header.indexOf("Affectation")!==-1&&c()})}]),ngAriane.controller("EnqueteCtrl",["$scope","$routeParams","enqueteService","EnqueteFactory",function(e,t,i,n){e.routeParams=t,e.enquetectrl={table:i},i.datas={},n.getEnqueteByYear(t.annee),n.getCommentaireEnquete(t.annee),n.getQuestionEnquete()}]),ngAriane.controller("NoteFiche",["$scope","$routeParams","EnqueteFactory","enqueteService",function(e,t,i,n){e.notefiche={datas:n}}]),ngAriane.controller("EnqueteCommentaire",["$scope","$routeParams","EnqueteFactory","enqueteService",function(e,t,i,n){e.enquetecommentaire={datas:n}}]),ngAriane.controller("EnqueteQuestions",["$scope","$routeParams","EnqueteFactory","enqueteService",function(e,t,i,n){e.questionenquete={datas:n}}]),ngAriane.controller("EnqueteForm",["$scope","$routeParams","enqueteFormService","EnqueteFactory","AjaxErrorManager",function(e,t,i,n,r){e.routeParams=t,e.enqueteform={form:i,addQuestion:function(){i.datas.questionnaires[i.datas.questionnaires.length-1].Questions.push({Titre:"",Note:0})},removeQuestion:function(e){r.Infos={title:"Confirmation",msg:["Êtes-vous sûr de vouloir supprimer cette question ?"],Confirm:function(){i.datas.questionnaires[i.datas.questionnaires.length-1].Questions.splice(e,1)}}},createQuestionnaire:function(){i.check(i.datas.questionnaires[i.datas.questionnaires.length-1].Questions)?n.createQuestionnaire(i.getDatas(i.datas.questionnaires[i.datas.questionnaires.length-1].Questions)):r.Gerer("Veuillez saisir correctement les questions.")}},i.datas={},n.getFormByYear(t.annee)}]),ngAriane.controller("FormsCtrl",["$scope","$routeParams","enqueteService","enqueteFormService","EnqueteFactory","AjaxErrorManager","$cookieStore",function(e,t,i,n,r,o,a){"DU"===a.get("status")&&(e.enqueteService=i,e.routeParams=t,e.formsctrl={Year:(new Date).getFullYear().toString()},i.forms=[],r.getForms(t.annee),e.formsctrl.AddForm=function(){i.forms.forEach(function(e){e.show=!1}),i.forms.push({Questions:[{Libelle:""}],actif:!1,show:!0,check:!1,dateCreate:new Date,dateUpdate:null,isNewForm:!0})},e.formsctrl.AddQuestion=function(){e.enqueteService.forms[e.enqueteService.forms.length-1].Questions.push({Libelle:""})},e.formsctrl.RemoveQuestion=function(t){e.enqueteService.forms[e.enqueteService.forms.length-1].Questions.splice(t,1)},e.formsctrl.CreateForm=function(t){n.checkDatas(e.enqueteService.forms[t])===!0&&r.createQuestionnaire(n.getDatas(e.enqueteService.forms[t]),t)},e.formsctrl.UpdateForm=function(t){n.checkDatas(e.enqueteService.forms[t])===!0&&r.updateQuestionnaire(n.getDatas(e.enqueteService.forms[t]))})}]),ngAriane.controller("FileUploader",["$scope","FileUploadService","AjaxErrorManager","$routeParams","UploadFatcory","$timeout","FileListFiche",function(e,t,i,n,r,o,a){e.fileuploader={isLoading:!1,fileList:[]},e.fileuploader.upload=function(){e.fileuploader.isLoading=!0;var t=document.querySelector("#inputFile1").files;return 0===t.length?(i.Gerer("Aucun fichier séléctionné."),void(e.fileuploader.isLoading=!1)):void o(function(){for(var i=[],n=0;n<t.length;n++)i.push(t[n]);e.fileuploader.UploadFiles(i,function(){document.querySelector("#inputFile1").value="",e.fileuploader.isLoading=!1,a.Request++})},500)},e.fileuploader.UploadFiles=function(t,a){if(t.length>0){var s=t.shift();r.UploadFileInfos({FileName:s.name,nFiche:n.numFiche,annee:parseInt(n.annee,10)}).success(function(n){1===n.exit_code?r.UploadFileDatas(n.idFile,s).success(function(e){1===e.exit_code||i.Gerer("Erreur lors de l'envoie du fichier '"+s.name+"'. "+e.err_msg)}).error(function(){console.warn(arguments),i.Gerer("ERREUR le serveur n'a pas pu traiter votre demande de téléversement de fichier.")}):i.Gerer("Erreur lors de l'envoi des informations relative au fichier '"+s.name+"'. "+n.err_msg),o(function(){e.fileuploader.UploadFiles(t,a)},1e3)}).error(function(){e.fileuploader.isLoading=!1,console.warn(arguments),i.Gerer("ERREUR le serveur n'a pas pu traiter votre demande de téléversement de fichier."),o(function(){e.fileuploader.UploadFiles(t,a)},1e3)})}else a&&a()}}]),ngAriane.controller("FileLister",["$scope","FileUploadService","AjaxErrorManager","$routeParams","UploadFatcory","$timeout","FileListFiche",function(e,t,i,n,r,o,a){e.filelister={isLoading:!0,FileListFiche:a}}]),ngAriane.constant("headerMONGODB",{"Content-Type":"application/json"}),ngAriane.service("URLMONGODB",function(){return{Local:"http://localhost:3000/",Prod:"http://x18srhrgcb7:8069/"}}),ngAriane.factory("DAL_FICHE",["$http","DIURLAPI",function(e,t){return{LireUneFiche:function(i){return e({url:t.URLMongo+"fiche",method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},responseType:"json",data:"datas="+JSON.stringify(i)})},LireFicheAll:function(i){return e({url:t.URLMongo+"fiches",method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},responseType:"json",data:"datas="+JSON.stringify(i)})},LireFichesPosteMulti:function(){return e({url:t.URLapiNancy+"fiches/poste",method:"GET",responseType:"JSON",params:{format:"json"}})},LireFichesAgent:function(i){return e({url:t.URLMongo+"fichesAgent",method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},responseType:"json",data:"datas="+JSON.stringify(i)})},CreationFiche:function(i){return e({url:t.URLMongo+"ficheAdd",method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},responseType:"json",data:"datas="+JSON.stringify(i).replace(/&/g,"%26")})},ModificationFiche:function(i){return e({url:t.URLMongo+"ficheUpdate",method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},responseType:"json",data:"datas="+JSON.stringify(i).replace(/&/g,"%26")})},ClotureFiche:function(i){return e({url:t.URLMongo+"ficheCloture",method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},responseType:"json",data:"datas="+JSON.stringify(i).replace(/&/g,"%26")})},Affectefiche:function(i){return e({url:t.URLMongo+"ficheAffecte",method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},responseType:"json",data:"datas="+JSON.stringify(i)})},Transfertfiche:function(i){return e({url:t.URLMongo+"ficheTransferer",method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},responseType:"json",data:"datas="+JSON.stringify(i)})}}}]),ngAriane.factory("DAL_POINTAGE",["$http","DIURLAPI",function(e,t){return{LirePointage:function(i){return e({url:t.URLMongo+"pointagesAgent",method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},responseType:"json",data:"datas="+JSON.stringify(i)})},LirePointageAstreinte:function(i){return e({url:t.URLMongo+"pointagesAgentAstreinte",method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},responseType:"json",data:"datas="+JSON.stringify(i)})},CreationPointage:function(i){return e({url:t.URLMongo+"pointagesAdd",method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},responseType:"json",data:"datas="+JSON.stringify(i)})},CreationPointageProjet:function(i){return e({url:t.URLMongo+"pointagesAddProjet",method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},responseType:"json",data:"datas="+JSON.stringify(i)})},ModificationPointage:function(i){return e({url:t.URLMongo+"pointagesUpdate",method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},responseType:"json",data:"datas="+JSON.stringify(i)})},ModificationPointageProjet:function(i){return e({url:t.URLMongo+"pointagesUpdateProjet",method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},responseType:"json",data:"datas="+JSON.stringify(i)})},SuppressionPointage:function(i){return e({url:t.URLMongo+"pointagesDelete",method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},responseType:"json",data:"datas="+JSON.stringify(i)})},SuppressionPointageProjet:function(i){return e({url:t.URLMongo+"pointagesDeleteProjet",method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},responseType:"json",data:"datas="+JSON.stringify(i)})},CreationPointageNuit:function(i){return e({url:t.URLMongo+"pointagesAddMonteNuit/",method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},responseType:"json",data:"datas="+JSON.stringify([i])})},ModificationPointageNuit:function(i){return e({url:t.URLMongo+"pointagesUpdateMonteNuit/",method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},responseType:"json",data:"datas="+JSON.stringify([i])})},CreationPointageAstreinte:function(i){return e({url:t.URLMongo+"pointagesAddAstreinte",method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},responseType:"json",data:"datas="+JSON.stringify([i])})},ModificationPointageAstreinte:function(i){return e({url:t.URLMongo+"pointagesUpdateAstreinte",method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},responseType:"json",data:"datas="+JSON.stringify([i])})},SuppressionPointageAstreinte:function(i){return e({url:t.URLMongo+"pointagesDeleteAstreinte",method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},responseType:"json",data:"datas="+JSON.stringify([i])})}}}]),ngAriane.factory("DAL_DJS",["$http","DIURLAPI",function(e,t){return{LireDJS:function(i){return e({url:t.URLapiNancy+"djs/"+i.cp+"/"+i.semaine+"/"+i.annee,method:"GET",responseType:"json"})},LireLesDJS:function(i,n){return e({url:t.URLapiNancy+"djs/"+i+"/"+n,method:"GET",responseType:"json"})},CreationDJS:function(i){return e({url:t.URLapiNancy+"djs/add",method:"POST",headers:{"Content-Type":"application/json"},responseType:"json",data:i})},ModificationDJS:function(i){return e({url:t.URLapiNancy+"djs/update",method:"POST",headers:{"Content-Type":"application/json"},responseType:"json",data:i})}}}]),ngAriane.factory("DAL_PROJET",["$http","DIURLAPI",function(e,t){return{Liste:function(){return e({url:t.URLapiNancy+"projets",method:"GET",responseType:"JSON",params:{format:"JSON"}})}}}]),ngAriane.factory("DAL_POSTE",["$http","DIURLAPI",function(e,t){return{Liste:function(i){return e({url:t.URLapiNancy+"fiches/poste/"+i,method:"GET",responseType:"JSON"})}}}]),ngAriane.factory("DAL_AGENT",["$http","DIURLAPI","AjaxErrorManager","NOMSPARTIS",function(e,t,i,n){var r={},o=function(){return e({url:t.URLapiNancy+"agents",method:"GET",responseType:"JSON",params:{format:"json"}})};return r.ListeAgentsOrdered=function(e){o().success(function(t){if(1===t.exit_code){var n=t.LAgents,r={};n=n.filter(function(e){return"0"===e.cp&&(r=e),"0"!==e.cp}),n.unshift(r),e(n)}else i.Gerer("Erreur lors de la récupération des agents. "+t.err_msg)}).error(function(){console.warn(arguments),i.Gerer("ERREUR le serveur n'a pas pu traiter la demande de lecture des agents.")})},r.ListeAgentsOrderedAndFiltered=function(e){r.ListeAgentsOrdered(function(t){e(t.filter(function(e){return n.every(function(t){return e.nomPrenom.indexOf(t)===-1})}))})},r}]),jQuery.extend(jQuery.fn.pickadate.defaults,{monthsFull:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],monthsShort:["Jan","Fev","Mar","Avr","Mai","Juin","Juil","Aou","Sep","Oct","Nov","Dec"],weekdaysFull:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],weekdaysShort:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],today:"Aujourd'hui",clear:"Effacer",close:"Fermer",firstDay:1,format:"dd mmmm yyyy",formatSubmit:"yyyy/mm/dd",labelMonthNext:"Mois suivant",labelMonthPrev:"Mois précédent",labelMonthSelect:"Sélectionner un mois",labelYearSelect:"Sélectionner une année"}),jQuery.extend(jQuery.fn.pickatime.defaults,{clear:"Effacer"});